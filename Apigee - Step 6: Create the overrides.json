{"title": "Apigee - Step 6: Create the overrides", "url": "https://cloud.google.com/apigee/docs/api-platform/get-started/what-apigee", "abstract": "# Apigee - Step 6: Create the overrides\n", "content": "## \n Specify configuration overrides\nThe Apigee hybrid installer uses defaults for many settings. However, there are a few settings that do not have defaults. You must provide values for these settings, as explained next.\n**Important:** Apigee hybrid v1.11.1 has been updated with a critical hotfix release. If you wish, you can apply the required configuration settings for the hotfix directly in the configuration overrides file described in this step. If you add the upgrade configurations now, you do not have to perform any further hotfix upgrades later. The configuration settings for the hotfix (v1.11.1-hotfix.1) are listed in the [upgrade guide](https://cloud.google.com/apigee/docs/hybrid/v1.11/upgrade#install-hotfix-1) . See also the release note for the hotfix release:- [hybrid v1.11.1-hotfix.1](/apigee/docs/hybrid/release-notes#hybrid_v1111-hotfix1) \n### Before you begin\nWe recommend you review the following scenarios to determine if you want to configure your cluster for them. These configurations are optional.\n- If you are planning on installing hybrid in multiple regions, read [Multi-region deployment](/apigee/docs/hybrid/v1.11/multi-region) before continuing.\n- Apigee hybrid provides default passwords for the Cassandra users. We recommend that you change the default user passwords. See [Configuring TLS for Cassandra](/apigee/docs/hybrid/v1.11/cassandra-tls) for details.\n- If you want to configure the storage and heap settings for Cassandra, see [ Configure storage and heap settings](/apigee/docs/hybrid/v1.11/cassandra-production) .\n- As described in [Part 1: Project and Org setup--Step 1: Enable APIs](/apigee/docs/hybrid/v1.11/precog-enableapi) ,  For production installation scenarios, configure [persistent solid state disk (SSD)](/compute/docs/disks#pdspecs) storage for Cassandra. Apigee does not support using [local SSDs](/compute/docs/disks#localssds) for Apigee hybrid. For  details, see [Add SSD  storage for production deployments](/apigee/docs/hybrid/v1.11/cassandra-production#add-ssd-storage-for-production-deployments) .\n### Configure the cluster\nBy convention, configuration overrides are written in a file named `overrides.yaml` typically stored in your `$APIGEE_HELM_CHARTS_HOME` directory.\n- Create a new file named **overrides.yaml** in your`$APIGEE_HELM_CHARTS_HOME`directory.The `overrides.yaml` provides the configuration for  your unique Apigee hybrid installation. The overrides file in this step  provides a basic configuration for a small-footprint hybrid  runtime installation, suitable for your first installation.\n- In`overrides.yaml`, add the required property  values, shown below. A detailed description of each property is provided below.Select the tab for your installation, production, **Production** or non-production  (demo, evaluation, or proof-of-concept installations), **Non-prod** depending on your choice  in [Step 4: Create service accounts](/apigee/docs/hybrid/v1.11/helm-install-service-accounts) .For installations in production environments, look at the storage requirements for the  Cassandra database in [Configure Cassandra for  production](/apigee/docs/hybrid/v1.11/cassandra-production) .If you are installing Apigee hybrid on GKE and you plan to use Workload Identity to  authenticate hybrid components, select either the **Prod: Workload Identity** or **Non-prod: Workload Identity** tab to configure your `overrides.yaml` file.\nMake sure the `` `.yaml` file has the   following structure and syntax. Values in are property values that you must provide. You can edit their values on this page.   They are described in the [table below](#tablebelow) .\nThere are differences between the different platforms for the   Google Cloud project region and Kubernetes cluster region. Choose the   platform where you are installing Apigee hybrid.\n```\ninstanceID: \"UNIQUE_INSTANCE_IDENTIFIER\"\nnamespace: APIGEE_NAMESPACE # Usually \"apigee\"\ngcp:\n projectID: PROJECT_ID\n region: ANALYTICS_REGION\nk8sCluster:\n name: CLUSTER_NAME\n region: CLUSTER_LOCATION # Must be the closest Google Cloud region to your cluster.\norg: ORG_NAME\nenvs:\n- name: ENVIRONMENT_NAME\n serviceAccountPaths:\n # Provide the path relative to the chart directory.\n synchronizer: SYNCHRONIZER_SERVICE_ACCOUNT_FILEPATH\n  # For example: \"PROJECT_ID-apigee-synchronizer.json\"\n runtime: RUNTIME_SERVICE_ACCOUNT_FILEPATH\n  # For example: \"PROJECT_ID-apigee-runtime.json\"\n udca: UDCA_SERVICE_ACCOUNT_FILEPATH\n  # For example: \"PROJECT_ID-apigee-udca.json\"\ncassandra:\n hostNetwork: false\n # Set to false for single region installations and multi-region installations\n # with connectivity between pods in different clusters, for example GKE installations.\n # Set to true for multi-region installations with no communication between\n # pods in different clusters, for example GKE On-prem, GKE on AWS, Anthos on bare metal,\n # AKS, EKS, and OpenShift installations.\n # See Multi-region deployment: Prerequisites\n replicaCount: 3\n # Use multiples of 3 for production.\n # See Configure Cassandra for production for guidelines.\n storage:\n capacity: 500Gi\n resources:\n requests:\n  cpu: 7\n  memory: 15Gi\n maxHeapSize: 8192M\n heapNewSize: 1200M\n # Minimum storage requirements for a production environment.\n # See Configure Cassandra for production.\ningressGateways:\n- name: INGRESS_NAME # maximum 17 characters. See Known issue 243167389.\n replicaCountMin: 2\n replicaCountMax: 10\n svcAnnotations: # optional. If you are on AKS, see Known issue #260772383\n SVC_ANNOTATIONS_KEY: SVC_ANNOTATIONS_VALUE\nvirtualhosts:\n- name: ENVIRONMENT_GROUP_NAME\n selector:\n app: apigee-ingressgateway\n ingress_name: INGRESS_NAME\n sslCertPath: PATH_TO_CERT_FILE\n sslKeyPath: PATH_TO_KEY_FILE\nmart:\n serviceAccountPath: MART_SERVICE_ACCOUNT_FILEPATH\n # For example: \"apigee-org/PROJECT_ID-apigee-mart.json\"\nconnectAgent:\n serviceAccountPath: MART_SERVICE_ACCOUNT_FILEPATH\n # Use the same service account for mart and connectAgent\n # Provide the path relative to the chart directory.\n # For example: \"PROJECT_ID-apigee-mart.json\"\nlogger:\n enabled: true\n # enabled by default\n # See apigee-logger in Service accounts and roles used by hybrid components.\n serviceAccountPath: LOGGER_SERVICE_ACCOUNT_FILEPATH\n # Provide the path relative to the chart directory.\n # For example: \"PROJECT_ID-apigee-logger.json\"\nmetrics:\n serviceAccountPath: METRICS_SERVICE_ACCOUNT_FILEPATH\n # Provide the path relative to the chart directory.\n # For example: \"PROJECT_ID-apigee-metrics.json\"\nudca:\n serviceAccountPath: UDCA_SERVICE_ACCOUNT_FILEPATH\n # Provide the path relative to the chart directory.\n # For example: \"PROJECT_ID-apigee-udca.json\"\nwatcher:\n serviceAccountPath: WATCHER_SERVICE_ACCOUNT_FILEPATH\n # Provide the path relative to the chart directory.\n # For example: \"PROJECT_ID-apigee-watcher.json\"\n```Make sure the `` `.yaml` file has the   following structure and syntax. Values in are property values that you must provide. You can edit their values on this page.   They are described in the [table below](#tablebelow) .\nThere are differences between the different platforms for the   Google Cloud project region and Kubernetes cluster region. Choose the   platform where you are installing Apigee hybrid.\n```\ninstanceID: \"UNIQUE_INSTANCE_IDENTIFIER\"\nnamespace: APIGEE_NAMESPACE # Usually \"apigee\"\ngcp:\n projectID: PROJECT_ID\n region: ANALYTICS_REGION\nk8sCluster:\n name: CLUSTER_NAME\n region: CLUSTER_LOCATION # Must be the closest Google Cloud region to your cluster.\norg: ORG_NAME\nenvs:\n- name: ENVIRONMENT_NAME\n serviceAccountPaths:\n # Provide the path relative to the chart directory.\n synchronizer: NON_PROD_SERVICE_ACCOUNT_FILEPATH\n  # For example: \"PROJECT_ID-apigee-non-prod.json\"\n runtime: NON_PROD_SERVICE_ACCOUNT_FILEPATH\n  # For example: \"PROJECT_ID-apigee-non-prod.json\"\n udca: NON_PROD_SERVICE_ACCOUNT_FILEPATH\n  # For example: \"PROJECT_ID-apigee-non-prod.json\"\ncassandra:\n hostNetwork: false\n # Set to false for single region installations and multi-region installations\n # with connectivity between pods in different clusters, for example GKE installations.\n # Set to true for multi-region installations with no communication between\n # pods in different clusters, for example GKE On-prem, GKE on AWS, Anthos on bare metal,\n # AKS, EKS, and OpenShift installations.\n # See Multi-region deployment: Prerequisites\n replicaCount: 1\n # Use 1 for non-prod or \"demo\" installations and multiples of 3 for production.\n # See Configure Cassandra for production for guidelines.\ningressGateways:\n- name: INGRESS_NAME # maximum 17 characters. See Known issue 243167389.\n replicaCountMin: 2\n replicaCountMax: 10\n svcAnnotations: # optional. If you are on AKS, see Known issue #260772383\n SVC_ANNOTATIONS_KEY: SVC_ANNOTATIONS_VALUE\nvirtualhosts:\n- name: ENVIRONMENT_GROUP_NAME\n selector:\n app: apigee-ingressgateway\n ingress_name: INGRESS_NAME\n sslCertPath: PATH_TO_CERT_FILE\n sslKeyPath: PATH_TO_KEY_FILE\nmart:\n serviceAccountPath: NON_PROD_SERVICE_ACCOUNT_FILEPATH\n # Provide the path relative to the chart directory.\n # For example: \"PROJECT_ID-apigee-non-prod.json\"\nconnectAgent:\n serviceAccountPath: NON_PROD_SERVICE_ACCOUNT_FILEPATH\n # Provide the path relative to the chart directory.\n # Use the same service account for mart and connectAgent\n # For example: \"PROJECT_ID-apigee-non-prod.json\"\nlogger:\n enabled: true\n  # enabled by default\n  # See apigee-logger in Service accounts and roles used by hybrid components.\n serviceAccountPath: NON_PROD_SERVICE_ACCOUNT_FILEPATH\n # Provide the path relative to the chart directory.\n # For example: \"PROJECT_ID-apigee-non-prod.json\"\nmetrics:\n serviceAccountPath: NON_PROD_SERVICE_ACCOUNT_FILEPATH\n # Provide the path relative to the chart directory.\n # For example: \"PROJECT_ID-apigee-non-prod.json\"\nudca:\n serviceAccountPath: NON_PROD_SERVICE_ACCOUNT_FILEPATH\n # Provide the path relative to the chart directory.\n # For example: \"PROJECT_ID-apigee-non-prod.json\"\nwatcher:\n serviceAccountPath: NON_PROD_SERVICE_ACCOUNT_FILEPATH\n # Provide the path relative to the chart directory.\n # For example: \"PROJECT_ID-apigee-non-prod.json\"\n```This template is for Production installations on GKE using Workload Identity.   Make sure the `overrides.yaml` file has the   following structure and syntax. Values in are property values that you must provide. You can edit their values on this page.   They are described in the [table below](#tablebelow) .\nIf you are installing Apigee hybrid on **GKE** , you have an alternative to authenticate   and make requests to Google APIs, **Workload Identity** . For overviews of Workload   Identity, see:- [   Introducing Workload Identity: Better authentication for your GKE applications](https://cloud.google.com/blog/products/containers-kubernetes/introducing-workload-identity-better-authentication-for-your-gke-applications) \n- [Using Workload Identity](/kubernetes-engine/docs/how-to/workload-identity) \nTo use Workload Identity with Apigee hybrid on GKE, use this template and then follow   the steps in [Step 11: Install Apigee hybrid using Helm charts](/apigee/docs/hybrid/v1.11/helm-install-helm-charts) to create   the Kubernetes service accounts and associate them with the Google service accounts you   created in [Step 4: Create service accounts](/apigee/docs/hybrid/v1.11/helm-install-service-accounts) .\n **Tip:** You can find the email address of your service accounts   with the following command:```\ngcloud iam service-accounts list --project ${PROJECT_ID} --filter \"apigee\"\n```\n```\ninstanceID: \"UNIQUE_INSTANCE_IDENTIFIER\"\nnamespace: APIGEE_NAMESPACE # Usually \"apigee\"\ngcp:\n projectID: PROJECT_ID\n region: ANALYTICS_REGION\n workloadIdentity:\n enabled: true\nk8sCluster:\n name: CLUSTER_NAME\n region: CLUSTER_LOCATION # Must be the closest Google Cloud region to your cluster.\norg: ORG_NAME\nenvs:\n- name: ENVIRONMENT_NAME\n gsa:\n synchronizer: \"SYNCHRONIZER_SERVICE_ACCOUNT_EMAIL\"\n  # For example: \"apigee-synchronizer@PROJECT_ID.iam.gserviceaccount.com\"\n runtime: \"RUNTIME_SERVICE_ACCOUNT_EMAIL\"\n  # For example: \"apigee-runtime@PROJECT_ID.iam.gserviceaccount.com\"\n udca: \"UDCA_SERVICE_ACCOUNT_EMAIL\"\n  # For example: \"apigee-udca@PROJECT_ID.iam.gserviceaccount.com\"\ncassandra:\n hostNetwork: false\n # Set to false for single region installations and multi-region installations\n # with connectivity between pods in different clusters, for example GKE installations.\n # Set to true for multi-region installations with no communication between\n # pods in different clusters, for example GKE On-prem, GKE on AWS, Anthos on bare metal,\n # AKS, EKS, and OpenShift installations.\n # See Multi-region deployment: Prerequisites\n replicaCount: 3\n # Use multiples of 3 for production.\n # See Configure Cassandra for production for guidelines.\n storage:\n capacity: 500Gi\n resources:\n requests:\n  cpu: 7\n  memory: 15Gi\n maxHeapSize: 8192M\n heapNewSize: 1200M\n # Minimum storage requirements for a production environment.\n # See Configure Cassandra for production.\n backup:\n enabled: true\n # Set to true for initial installation.\n # This triggers the chart to create the apigee-cassandra-backup Kubernetes service account when you install it.\n # See Cassandra backup overview for instructions on using cassandra.backup.\ningressGateways:\n- name: INGRESS_NAME # maximum 17 characters. See Known issue 243167389.\n replicaCountMin: 2\n replicaCountMax: 10\n svcAnnotations: # optional. If you are on AKS, see Known issue #260772383\n SVC_ANNOTATIONS_KEY: SVC_ANNOTATIONS_VALUE\nvirtualhosts:\n- name: ENVIRONMENT_GROUP_NAME\n selector:\n app: apigee-ingressgateway\n ingress_name: INGRESS_NAME\n sslCertPath: PATH_TO_CERT_FILE\n sslKeyPath: PATH_TO_KEY_FILE\nmart:\n gsa: \"MART_SERVICE_ACCOUNT_EMAIL\"\n # For example: \"apigee-mart@PROJECT_ID.iam.gserviceaccount.com\"\nconnectAgent:\n gsa: \"MART_SERVICE_ACCOUNT_EMAIL\"\n # Use the same service account for mart and connectAgent\n # For example: \"apigee-mart@PROJECT_ID.iam.gserviceaccount.com\"\nlogger:\n enabled: true\n # enabled by default\n # See apigee-logger in Service accounts and roles used by hybrid components.\n gsa: \"LOGGER_SERVICE_ACCOUNT_EMAIL\"\n # For example: \"apigee-logger@PROJECT_ID.iam.gserviceaccount.com\"\nmetrics:\n gsa: \"METRICS_SERVICE_ACCOUNT_EMAIL\"\n # For example: \"apigee-metrics@PROJECT_ID.iam.gserviceaccount.com\"\nudca:\n gsa: \"UDCA_SERVICE_ACCOUNT_EMAIL\"\n # For example: \"apigee-udca@PROJECT_ID.iam.gserviceaccount.com\"\nwatcher:\n gsa: \"WATCHER_SERVICE_ACCOUNT_EMAIL\"\n # For example: \"apigee-watcher@PROJECT_ID.iam.gserviceaccount.com\"\n```This template is for Non-Production installations on GKE using Workload Identity.   Make sure the `overrides.yaml` file has the   following structure and syntax. Values in are property values that you must provide. You can edit their values on this page.   They are described in the [table below](#tablebelow) .\nIf you are installing Apigee hybrid on **GKE** , you have an alternative to authenticate   and make requests to Google APIs, **Workload Identity** . For overviews of Workload   Identity, see:- [   Introducing Workload Identity: Better authentication for your GKE applications](https://cloud.google.com/blog/products/containers-kubernetes/introducing-workload-identity-better-authentication-for-your-gke-applications) \n- [Using Workload Identity](/kubernetes-engine/docs/how-to/workload-identity) \nTo use Workload Identity with Apigee hybrid on GKE, use this template and then follow   the steps in [Step 11: Install Apigee hybrid using Helm   charts](/apigee/docs/hybrid/v1.11/helm-install-helm-charts) to create the Kubernetes service accounts and associate them with the Google   service accounts you created in [Step 4: Create   service accounts](/apigee/docs/hybrid/v1.11/helm-install-service-accounts) .\n **Tip:** You can find the email address of your`apigee-non-prod`service account with the following command:```\ngcloud iam service-accounts list --project ${PROJECT_ID} --filter \"apigee-non-prod\"\n```\n```\ninstanceID: \"UNIQUE_INSTANCE_IDENTIFIER\"\nnamespace: APIGEE_NAMESPACE # Usually \"apigee\"\ngcp:\n projectID: PROJECT_ID\n region: ANALYTICS_REGION\n workloadIdentity:\n enabled: true\n gsa: \"NON_PROD_SERVICE_ACCOUNT_EMAIL\"\n # For example: \"apigee-non-prod@PROJECT_ID.iam.gserviceaccount.com\"\nk8sCluster:\n name: CLUSTER_NAME\n region: CLUSTER_LOCATION # Must be the closest Google Cloud region to your cluster.\norg: ORG_NAME\ninstanceID: \"UNIQUE_INSTANCE_IDENTIFIER\"\ncassandra:\n hostNetwork: false\n # false for all GKE installations.\n # See Multi-region deployment: Prerequisites\n replicaCount: 1\n # Use 1 for non-prod or \"demo\" installations and multiples of 3 for production.\n # See Configure Cassandra for production for guidelines.\n backup:\n enabled: true\n # Set to true for initial installation.\n # This triggers the chart to create the apigee-cassandra-backup Kubernetes service account when you install it.\n # See Cassandra backup overview for instructions on using cassandra.backup.\nvirtualhosts:\n- name: ENVIRONMENT_GROUP_NAME\n selector:\n app: apigee-ingressgateway\n ingress_name: INGRESS_NAME\n sslCertPath: PATH_TO_CERT_FILE\n sslKeyPath: PATH_TO_KEY_FILE\ningressGateways:\n- name: INGRESS_NAME # maximum 17 characters.\n replicaCountMin: 2\n replicaCountMax: 10\n svcAnnotations: # optional. If you are on AKS, see Known issue #260772383\n SVC_ANNOTATIONS_KEY: SVC_ANNOTATIONS_VALUE\n svcLoadBalancerIP: SVC_LOAD_BALANCER_IP # optional\nenvs:\n- name: ENVIRONMENT_NAME\nlogger:\n enabled: false # Set to false for all GKE installations.\n```The following example shows a completed overrides file with example   property values added:\n```\ninstanceID: \"my_hybrid_example\"\nnamespace: apigee\ngcp:\n projectID: hybrid-example\n region: us-central1\nk8sCluster:\n name: apigee-hybrid\n region: us-central1\norg: hybrid-example\nenvs:\n- name: test\n serviceAccountPaths:\n synchronizer:my-hybrid-project-apigee-synchronizer.json\n runtime: my-hybrid-project-apigee-runtime.json\n udca: my-hybrid-project-apigee-udca.json\ncassandra:\n hostNetwork: false\n replicaCount: 3\ningressGateways:\n- name: my-ingress-1\n replicaCountMin: 2\n replicaCountMax: 10\nvirtualhosts:\n- name: example-env-group\n selector:\n app: apigee-ingressgateway\n ingress_name: my-ingress-1\n sslCertPath: certs/keystore.pem\n sslKeyPath: certs/keystore.key\nlogger:\n enabled: true # Set to \"false\" for GKE. Set to \"true\" for all other Kubernetes platforms.\n serviceAccountPath: apigee-telemetry/my-hybrid-project-apigee-logger.json\nmart:\n serviceAccountPath: my-hybrid-project-apigee-mart.json\nconnectAgent:\n serviceAccountPath: my-hybrid-project-apigee-mart.json\nmetrics:\n serviceAccountPath: my-hybrid-project-apigee-metrics.json\nudca:\n serviceAccountPath: my-hybrid-project-apigee-udca.json\nwatcher:\n serviceAccountPath: my-hybrid-project-apigee-watcher.json\n```\n- When you are finished, save the file.\nThe following table describes each of the property values that you must provide in the overrides file. For more information, see [Configuration property reference](/apigee/docs/hybrid/v1.11/config-prop-ref) .\n| ('Variable', 'Service account')   | ('Description', 'file name')                                                                                                                                                                                                                                                                                                                                                                                                                         | ('Unnamed: 2_level_0', 'Chart directory') |\n|:-------------------------------------------|:-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|:--------------------------------------------|\n| UNIQUE_INSTANCE_IDENTIFIER     | A unique string to identify this instance. This can be any combination of letters and numbers up to 63 characters. Note: You can create multiple organizations in the same cluster, but the instanceID must be the same for all orgs in the same Kubernetes cluster. For multi-region installations, each region requires its own cluster (individual clusters do not span regions). You can create multiple organizations in the same cluster, but the instanceID must be the same for all orgs in the same Kubernetes cluster.                                                                                                                                                                                                                                                                                              | nan           |\n| APIGEE_NAMESPACE       | The Kubernetes namespace for your Apigee hybrid components. The default value is apigee.                                                                                                                                                                                                                                                                                                                                                                                                          | nan           |\n| ANALYTICS_REGION       | In GKE, You must set this value to the same region where the cluster is running. In all other platforms, select the closest analytics region to your cluster that has Analytics support (see the table in Part 1, Step 2: Create an organization. This is the value you assigned to the environment variable ANALYTICS_REGION previously.                                                                                                                                                                                                                                                                                                                                            | nan           |\n| PROJECT_ID         | Identifies the Google Cloud project where the apigee-logger and the apigee-metrics push their data. This is the value assigned to the environment variable PROJECT_ID.                                                                                                                                                                                                                                                                                                                                                                                     | nan           |\n| CLUSTER_NAME        | Your Kubernetes cluster name. This is the value assigned to the environment variable CLUSTER_NAME.                                                                                                                                                                                                                                                                                                                                                                                                       | nan           |\n| CLUSTER_LOCATION       | The region where the cluster is running. This is the region where you created the cluster in Step 1: Create a cluster. This is the value you assigned to the environment variable CLUSTER_LOCATION previously. If you are working with zonal clusters, you must specify the region in which your cluster was created. For example, if you created your cluster in the us-central1-a zone, specify us-central1 for the CLUSTER_LOCATION.                                                                                                                                                                                                                                                                                                                    | nan           |\n| ORG_NAME         | The ID of your Apigee hybrid organization. This is the value assigned to the environment variable ORG_NAME.                                                                                                                                                                                                                                                                                                                                                                                                     | nan           |\n| ENVIRONMENT_GROUP_NAME      | The name of the environment group your environments are assigned to. This is the group you created in Project and org setup - Step 3: Create an environment group. This is the value assigned to the environment variable ENV_GROUP. Note: If you wish to place cluster instances in multiple regions, you must be careful about how you define your environments and virtual hosts. If you have one or more environments attached to an environment group, you must include that same environment group configuration in each cluster instance's overrides file.                                                                                                                                                                                                                                                                                     | nan           |\n| PATH_TO_CERT_FILE PATH_TO_KEY_FILE   | Enter the path and filename of the self-signed TLS key and certificate files that you generated previously in Step 5: Create TLS certificates. These files must be located in the APIGEE_HELM_CHARTS_HOME/apigee-virtualhosts/certs directory. For example: sslCertPath: certs/keystore.crt sslKeyPath: certs/keystore.key                                                                                                                                                                                                                                                                                                                                                | nan           |\n| INGRESS_NAME        | The name of the Apigee ingress gateway for your deployment. This can be any name that meets the following requirements: Have a maximum length of 17 characters Contain only lowercase alphanumeric characters, '-' or '.' Start with an alphanumeric character End with an alphanumeric character See ingressGateways[].name in the Configuration property reference                                                                                                                                                                                                                                                                                                                                      | nan           |\n| SVC_ANNOTATIONS_KEY: SVC_ANNOTATIONS_VALUE | (Optional). This is a key-value pair that provides annotations for your default ingress service. Your cloud platform uses annotations to help configure your hybrid installation, for example setting the loadbalancer type to either internal or external. Annotations vary from platform to platform. Refer to your platform documentation for required and suggested annotations. Note: You do not need to set svcAnnotations if you are creating your own Kubernetes service for ingress deployment as documented in Expose Apigee ingress gateway. Comment out or delete this section if you are not using it.                                                                                                                                                                                                                                                                        | nan           |\n| SVC_LOAD_BALANCER_IP      | (Optional). An IP address you have reserved for your load balancer. On platforms that support specifying the load balancer IP address, the load balancer will be created with this IP address. On platforms that do not allow you to specify the load balancer IP, this property is ignored. Note: You do not need to set LoadBalancerIP if you are creating your own Kubernetes service for ingress deployment as documented in Expose Apigee ingress gateway. In production installations, it is recommended to create your own Kubernetes service. Comment out or delete this section if you are not using it.                                                                                                                                                                                                                                                                         | nan           |\n| ENVIRONMENT_NAME       | Use the same name that you used when you created an environment in the UI, as explained in Project and org setup - Step 3: Create an environment group.                                                                                                                                                                                                                                                                                                                                                                                          | nan           |\n| *_SERVICE_ACCOUNT_FILEPATH     | The path and filename account of the service account JSON files in your corresponding chart directory. Provide the names with the path relative to the chart directory. For example: If the my-hybrid-project-apigee-synchronizer.json file resides in the apigee-env/ chart directory, you only need to provide the file name, such as: synchronizer: \"my-hybrid-project-apigee-synchronizer.json\" If the file resides in a apigee-env/service-accounts/ directory, you would specify a relative path: synchronizer: \"service-accounts/my-hybrid-project-apigee-synchronizer.json\" For non-production environments, the name of the single service account is PROJECT_ID-non-prod.json by default. For production environments, the name of the service account key file that you generated with the create-service-account tool in Step 4: Create service accounts. You can see the service account files in each corresponding chart directory. The default names of the and corresponding chart directories for the service accounts are: Service account file name Chart directory Storage Object Admin PROJECT_ID-apigee-cassandra.json apigee-datastore/ Logs Writer PROJECT_ID-apigee-logger.json apigee-telemetry/ Apigee Connect Agent PROJECT_ID-apigee-mart.json apigee-org/ Monitoring Metric Writer PROJECT_ID-apigee-metrics.json apigee-telemetry/ No role required PROJECT_ID-apigee-runtime.json apigee-env/ Apigee Synchronizer Manager PROJECT_ID-apigee-synchronizer.json apigee-env/ Apigee Analytics Agent PROJECT_ID-apigee-udca.json apigee-org/ Apigee Runtime Agent PROJECT_ID-apigee-watcher.json apigee-org/ Note: Both mart and connectAgent use the apigee-mart service account. | nan           |\n| Service account       | file name                                                                                                                                                                                                                                                                                                                                                                                                                             | Chart directory        |\n| Storage Object Admin      | PROJECT_ID-apigee-cassandra.json                                                                                                                                                                                                                                                                                                                                                                                                                        | apigee-datastore/       |\n| Logs Writer        | PROJECT_ID-apigee-logger.json                                                                                                                                                                                                                                                                                                                                                                                                                        | apigee-telemetry/       |\n| Apigee Connect Agent      | PROJECT_ID-apigee-mart.json                                                                                                                                                                                                                                                                                                                                                                                                                         | apigee-org/         |\n| Monitoring Metric Writer     | PROJECT_ID-apigee-metrics.json                                                                                                                                                                                                                                                                                                                                                                                                                        | apigee-telemetry/       |\n| No role required       | PROJECT_ID-apigee-runtime.json                                                                                                                                                                                                                                                                                                                                                                                                                        | apigee-env/         |\n| Apigee Synchronizer Manager    | PROJECT_ID-apigee-synchronizer.json                                                                                                                                                                                                                                                                                                                                                                                                                       | apigee-env/         |\n| Apigee Analytics Agent      | PROJECT_ID-apigee-udca.json                                                                                                                                                                                                                                                                                                                                                                                                                         | apigee-org/         |\n| Apigee Runtime Agent      | PROJECT_ID-apigee-watcher.json                                                                                                                                                                                                                                                                                                                                                                                                                        | apigee-org/         |\n| *_SERVICE_ACCOUNT_EMAIL     | The service account email addresses for the Google service accounts (GSA) you need to supply if you are using Workload Identity on GKE. These are the service accounts you created in Step 4: Create service accounts. You can find the email addresses for the service accounts with the following command: gcloud iam service-accounts list --project ${PROJECT_ID} --filter \"apigee\"                                                                                                                                                                                                                                                                                                                                 | nan           |\n**Note:** If you want to create a security perimeter around your cluster and related Cloud services, you can configure one using Google Cloud [ Virtual Private Cloud (VPC) Service Controls](https://cloud.google.com/vpc-service-controls) with Apigee hybrid.  See [ Using VPC Service Controls with Apigee and Apigee hybrid](/apigee/docs/api-platform/security/vpc-sc) for  instructions.\n## \n Summary\nThe configuration file tells Kubernetes how to deploy the hybrid components to a cluster. Next, you will enable synchronizer access so the Apigee runtime and management planes will be able to communicate.\n## Next step\nstepper_buttons is defined in localvars Iterate over all the buttons in the data dictionary If the button's step matches the current step in the process, make the button disabled [1](/apigee/docs/hybrid/v1.11/helm-install-create-cluster) If the button's step matches the current step in the process, make the button disabled [2](/apigee/docs/hybrid/v1.11/helm-install-download-charts) If the button's step matches the current step in the process, make the button disabled [3](/apigee/docs/hybrid/v1.11/helm-install-create-namespace) If the button's step matches the current step in the process, make the button disabled [4](/apigee/docs/hybrid/v1.11/helm-install-service-accounts) If the button's step matches the current step in the process, make the button disabled [5](/apigee/docs/hybrid/v1.11/helm-install-create-tls-certificates) If the button's step matches the current step in the process, make the button disabled If the button's step matches the next step [6](/apigee/docs/hybrid/v1.11/helm-install-create-overrides) If the button's step matches the current step in the process, make the button disabled In all other cases (previous buttons or future buttons (after the next one), make them links [(NEXT) Step 7: Enable Synchronizer access](/apigee/docs/hybrid/v1.11/helm-install-enable-synchronizer-access) If the button's step matches the current step in the process, make the button disabled [8](/apigee/docs/hybrid/v1.11/helm-install-cert-manager) If the button's step matches the current step in the process, make the button disabled [9](/apigee/docs/hybrid/v1.11/helm-install-crds) If the button's step matches the current step in the process, make the button disabled [10](/apigee/docs/hybrid/v1.11/helm-install-check-cluster) If the button's step matches the current step in the process, make the button disabled [11](/apigee/docs/hybrid/v1.11/helm-install-helm-charts) If the button's step matches the current step in the process, make the button disabled [12](/apigee/docs/hybrid/v1.11/helm-install-workload-identity)", "guide": "Apigee"}