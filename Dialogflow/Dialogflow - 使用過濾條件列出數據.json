{"title": "Dialogflow - \u4f7f\u7528\u904e\u6ffe\u689d\u4ef6\u5217\u51fa\u6578\u64da", "url": "https://cloud.google.com/dialogflow/cx/docs/how/filter?hl=zh-cn", "abstract": "# Dialogflow - \u4f7f\u7528\u904e\u6ffe\u689d\u4ef6\u5217\u51fa\u6578\u64da\n\u4f7f\u7528 API \u5217\u51fa\u6578\u64da\u6642\uff0c\u67d0\u4e9b\u5217\u8868\u65b9\u6cd5\u8acb\u6c42\u6703\u63d0\u4f9b `filter` \u5b57\u6bb5\u3002\u60a8\u53ef\u4ee5\u4f7f\u7528\u9019\u4e9b\u904e\u6ffe\u689d\u4ef6\u50c5\u8fd4\u56de\u60a8\u611f\u8208\u8da3\u7684\u7d50\u679c\u3002\u6b64 [\u904e\u6ffe\u529f\u80fd](https://google.aip.dev/160) \u5728\u8a31\u591a Google Cloud API \u4e2d\u90fd\u662f\u901a\u7528\u7684\u3002\n\u4ee5\u4e0b\u793a\u4f8b\u5c55\u793a\u77ad\u5982\u4f55\u5728\u5217\u51fa\u6e2c\u8a66\u7528\u4f8b\u7d50\u679c\u6642\u904e\u6ffe\u97ff\u61c9\u3002\n\u8981\u5411 Dialogflow \u9032\u884c\u8eab\u4efd\u9a57\u8b49\uff0c\u8acb\u8a2d\u7f6e\u61c9\u7528\u9ed8\u8a8d\u6191\u64da\u3002\u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1 [\u7232\u672c\u5730\u958b\u767c\u74b0\u5883\u8a2d\u7f6e\u8eab\u4efd\u9a57\u8b49](https://cloud.google.com/docs/authentication/provide-credentials-adc?hl=zh-cn#local-dev) \u3002\n [\u5728 GitHub \u4e0a\u67e5\u770b](https://github.com/GoogleCloudPlatform/java-docs-samples/blob/HEAD/dialogflow-cx/src/main/java/dialogflow/cx/ListTestCaseResults.java) \n```\nimport com.google.cloud.dialogflow.cx.v3.ListTestCaseResultsRequest;import com.google.cloud.dialogflow.cx.v3.ListTestCaseResultsRequest.Builder;import com.google.cloud.dialogflow.cx.v3.TestCaseResult;import com.google.cloud.dialogflow.cx.v3.TestCasesClient;import com.google.cloud.dialogflow.cx.v3.TestCasesSettings;import java.io.IOException;public class ListTestCaseResults {\u00a0 public static void main(String[] args) throws IOException {\u00a0 \u00a0 // TODO(developer): Replace these variables before running the sample.\u00a0 \u00a0 String projectId = \"my-project-id\";\u00a0 \u00a0 String agentId = \"my-agent-id\";\u00a0 \u00a0 String testId = \"my-test-id\";\u00a0 \u00a0 String location = \"my-location\";\u00a0 \u00a0 listTestCaseResults(projectId, agentId, testId, location);\u00a0 }\u00a0 public static void listTestCaseResults(\u00a0 \u00a0 \u00a0 String projectId, String agentId, String testId, String location) throws IOException {\u00a0 \u00a0 String parent =\u00a0 \u00a0 \u00a0 \u00a0 \"projects/\"\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 + projectId\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 + \"/locations/\"\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 + location\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 + \"/agents/\"\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 + agentId\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 + \"/testCases/\"\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 + testId;\u00a0 \u00a0 Builder req = ListTestCaseResultsRequest.newBuilder();\u00a0 \u00a0 req.setParent(parent);\u00a0 \u00a0 req.setFilter(\"environment=draft\");\u00a0 \u00a0 TestCasesSettings testCasesSettings =\u00a0 \u00a0 \u00a0 \u00a0 TestCasesSettings.newBuilder()\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .setEndpoint(location + \"-dialogflow.googleapis.com:443\")\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .build();\u00a0 \u00a0 // Note: close() needs to be called on the TestCasesClient object to clean up resources\u00a0 \u00a0 // such as threads. In the example below, try-with-resources is used,\u00a0 \u00a0 // which automatically calls close().\u00a0 \u00a0 try (TestCasesClient client = TestCasesClient.create(testCasesSettings)) {\u00a0 \u00a0 \u00a0 for (TestCaseResult element : client.listTestCaseResults(req.build()).iterateAll()) {\u00a0 \u00a0 \u00a0 \u00a0 System.out.println(element);\u00a0 \u00a0 \u00a0 }\u00a0 \u00a0 }\u00a0 }}\n```\u8981\u5411 Dialogflow \u9032\u884c\u8eab\u4efd\u9a57\u8b49\uff0c\u8acb\u8a2d\u7f6e\u61c9\u7528\u9ed8\u8a8d\u6191\u64da\u3002\u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1 [\u7232\u672c\u5730\u958b\u767c\u74b0\u5883\u8a2d\u7f6e\u8eab\u4efd\u9a57\u8b49](https://cloud.google.com/docs/authentication/provide-credentials-adc?hl=zh-cn#local-dev) \u3002\n [\u5728 GitHub \u4e0a\u67e5\u770b](https://github.com/GoogleCloudPlatform/nodejs-docs-samples/blob/HEAD/dialogflow-cx/list-testcase-results.js) \n```\nconst parent = `projects/${projectId}/locations/${location}/agents/${agentId}/testCases/${testId}`;const {TestCasesClient} = require('@google-cloud/dialogflow-cx');const client = new TestCasesClient({\u00a0 apiEndpoint: 'global-dialogflow.googleapis.com',});const req = {\u00a0 parent,\u00a0 filter: 'environment=draft',};const res = await client.listTestCaseResults(req);console.log(res);\n```\u8981\u5411 Dialogflow \u9032\u884c\u8eab\u4efd\u9a57\u8b49\uff0c\u8acb\u8a2d\u7f6e\u61c9\u7528\u9ed8\u8a8d\u6191\u64da\u3002\u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1 [\u7232\u672c\u5730\u958b\u767c\u74b0\u5883\u8a2d\u7f6e\u8eab\u4efd\u9a57\u8b49](https://cloud.google.com/docs/authentication/provide-credentials-adc?hl=zh-cn#local-dev) \u3002\n [\u5728 GitHub \u4e0a\u67e5\u770b](https://github.com/GoogleCloudPlatform/python-docs-samples/blob/HEAD/dialogflow-cx/list_testcase_results.py) \n```\nfrom google.cloud.dialogflowcx_v3.services.test_cases.client import TestCasesClientfrom google.cloud.dialogflowcx_v3.types.test_case import ListTestCaseResultsRequestdef list_test_case(project_id, agent_id, test_id, location):\u00a0 \u00a0 req = ListTestCaseResultsRequest()\u00a0 \u00a0 req.parent = f\"projects/{project_id}/locations/{location}/agents/{agent_id}/testCases/{test_id}\"\u00a0 \u00a0 req.filter = \"environment=draft\"\u00a0 \u00a0 client = TestCasesClient(\u00a0 \u00a0 \u00a0 \u00a0 client_options={\"api_endpoint\": f\"{location}-dialogflow.googleapis.com\"}\u00a0 \u00a0 )\u00a0 \u00a0 # Makes a call to list all test case results that match filter\u00a0 \u00a0 result = client.list_test_case_results(request=req)\u00a0 \u00a0 print(result)\u00a0 \u00a0 return result\n``", "content": "`", "guide": "Dialogflow"}