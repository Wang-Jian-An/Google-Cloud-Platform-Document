{"title": "Dialogflow - Flows", "url": "https://cloud.google.com/dialogflow/cx/docs/concept/flow", "abstract": "# Dialogflow - Flows\nComplex dialogs often involve multiple conversation topics. For example, a pizza delivery agent may have , , and as distinct topics. Each topic requires multiple conversational turns for an agent to acquire the relevant information from the end-user.\n[Default Start Flow](/dialogflow/cx/docs/concept/flow#start)\nDialogflow CX flows serve a similar purpose as sub-agents for [Dialogflow ES mega agents](/dialogflow/docs/agents-mega) . Flows provide better conversation control, and they do not incur additional cost.\n", "content": "## Default start flow\nWhen you create an agent, the **Default Start Flow** is created automatically. For a simple agent, you can use this flow as your only flow. For more complex agents, you can add more flows, and the default start flow can be used as a simple entry point to the conversation.\n**Note:** The **Default Start Flow** cannot be deleted.\nWhen using the API, you can reference the default start flow with the following flow ID:\n```\n00000000-0000-0000-0000-000000000000\n```\n## Flow start page\nEvery flow has a special page named **Start** in the console. When a flow is selected in the console, the start page is shown as a node on the graph. When a flow initially becomes active, this page becomes the current, active page.\nA start page does not have parameters or responses messages like normal pages. However, you can send a message by using one of the following approaches:\n- [Intent propagation](/dialogflow/cx/docs/concept/handler#intent-prop) \n- Use a simple`true` [condition](/dialogflow/cx/docs/reference/condition) in a [route](/dialogflow/cx/docs/concept/handler#route) that has a fulfillment response or a transition target to a normal page with entry fulfillment.\n- [Custom events](/dialogflow/cx/docs/concept/handler#event-custom) \n### Reference start page in API requests\nTo reference a flow's start page in runtime API requests, use `START_PAGE` as a page ID.\nTo make design-time changes to a start page through the API, use the `get` and `patch/update` API methods for the `Flow` type.\n## Create a flow\nTo create a flow:\n- Open the [Dialogflow CX Console](https://dialogflow.cloud.google.com/cx/projects) .\n- Choose your Google Cloud project.\n- Select your agent.\n- Click the addbutton in the **Flows** section.\n- Select **Create flow** .\n- Enter a display name for your flow.\n- Click the flow you just created.\nSee the `create` method for the `Flow` type.\n## Flow data\nTo access a flow's data:\n- Open the [Dialogflow CX Console](https://dialogflow.cloud.google.com/cx/projects) .\n- Choose the Google Cloud project for the agent.\n- Find the agent in the list.\n- Click the agent display name.\n- Click the flow in the **Flows** section.\n- The flow's pages are populated in the **Pages** section. See the [pages guide](/dialogflow/cx/docs/concept/page) for information on editing pages.\n- Click the flow in the graph.\n- A flow edit panel appears. Use this panel to browse and edit additional flow data.\n- Click **Save** to save any changes.\nFor flows, see the `get` and `patch/update` for the `Flow` type. \nFor pages, see the\n`get`\nand\n`patch/update`\nmethods for the\n`Page`\ntype.\nThe following data is associated with flows:\n- [Pages](/dialogflow/cx/docs/concept/page) : The list of pages that make up the flow.\n- [Routes](/dialogflow/cx/docs/concept/handler#route) : All of these routes may be called when the [start page](#start-page) for the flow is active. Routes with an intent requirement may be followed when other pages of the flow are active. For details, see [State handler scope](/dialogflow/cx/docs/concept/handler#scope) and [Flow-level routes](/dialogflow/cx/docs/concept/handler#route-flow) .\n- [Event handlers](/dialogflow/cx/docs/concept/handler#event) : These handlers may be called when the flow is active. For details, see [Flow-level event handlers](/dialogflow/cx/docs/concept/handler#event-flow) \nFor more information about how data is applied at varying levels, see the [data application levels](/dialogflow/cx/docs/concept/data-level) .\n## Flow settings\nThe following settings are available for flows:\n- **Display name** : A human-readable name for the flow.\n- **Description** : A description for the flow.\n- **ML settings** Flow ML settings are also accessed and described in [agent ML settings](/dialogflow/cx/docs/concept/agent#settings-ml) .\n- **Advanced speech settings** : These speech settings can optionally override the same [agent speech settings](/dialogflow/cx/docs/concept/agent#settings-speech) .\n- **Speech adaptation settings** : Flow level speech adaptation settings with more detailed instructions in [manual speech adaptation](/dialogflow/cx/docs/concept/speech-adaptation#manual-adaptation) .\nFor more information about how data is applied at varying levels, see the [data application levels](/dialogflow/cx/docs/concept/data-level) .\nTo access flow settings:\n- Open the [Dialogflow CX Console](https://dialogflow.cloud.google.com/cx/projects) .\n- Choose your Google Cloud project.\n- Select your agent.\n- Hover your mouse over the flow in the **Flows** section.\n- Click the optionsbutton.\n- Select **Flow settings** .\n- Browse or edit settings.\n- Click **Save** to save any changes.\nSee the `get` and `patch/update` methods for the `Flow` type.\n## Delete a flow\nTo delete a flow:\n- Open the [Dialogflow CX Console](https://dialogflow.cloud.google.com/cx/projects) .\n- Choose your Google Cloud project.\n- Select your agent.\n- Hover your mouse over the flow in the **Flows** section.\n- Click the settingsbutton.\n- Select **Delete** .\nSee the `delete` method for the `Flow` type.\n## Train a flow\nTo train a flow:\n- Open the [Dialogflow CX Console](https://dialogflow.cloud.google.com/cx/projects) .\n- Choose your Google Cloud project.\n- Select your agent.\n- Click **Agent Settings** .\n- Open the **ML** tab.\n- To train a single flow, click **Train** in the corresponding row.\n- To train multiple flows, select them with checkboxs, then click **Train selected flow NLU model** .\nSee the `train` method for the `Flow` type.\n## Export a flow\nYou can export a flow in two ways:\n- **Data export** : This exports your flow as raw data, so it can be imported to any agent. When you export a flow, the resources referenced by the flow (intents, entities, webhooks) are also exported. When following steps below, choose the **raw data** data format.\n- **Diagram export** ( [Preview](/products#product-launch-stages) ): This exports your flow as a visual diagram. The export format is draw.io XML, so you can import the diagram in [Lucidchart](https://www.lucidchart.com/pages/draw.io-import) , [diagrams.net](https://www.diagrams.net/doc/faq/import-diagram) , or any other diagram tool that can import the draw.io format. When following steps below, choose the **XML** data format. **Note:** **Diagram export** is not available for agents using [CMEK](/dialogflow/cx/docs/concept/cmek) .\nYou can export a flow with the following options:\n- **Include referenced flows** : Exports the target flow and all levels of referenced flows. Referenced flows include the flows that the target flow is referencing in addition to flows referenced by subsequent referenced flows, with no maximum depth. During import, all of the exported flows will be imported and the transitions between these flows will be preserved.\nTo export a flow:\n- Open the [Dialogflow CX Console](https://dialogflow.cloud.google.com/cx/projects) .\n- Choose your Google Cloud project.\n- Select your agent.\n- Hover your mouse over the flow in the **Flows** section.\n- Click the optionsbutton.\n- Select **Export flow** .\n- Follow instructions to complete.\nSee the `export` method for the `Flow` type.\n## Import a flow\nWhen you import a flow from a source agent to a target agent, the global resources referenced by the flow (intents, entities, webhooks) are imported along with the flow-specific data. If the target agent has any global resources with the same display names found in the source agent, Dialogflow provides a summary of these resources, along with three options to resolve the conflicts for these resources:\n- **Replace existing resources** : Source agent resources will overwrite target agent resources.\n- **Import as new resources** : Source agent resources will be added with a distinctive suffix in the name.\n- **Keep original resources** : Target agent resources will be unchanged.\nTo import a flow:\n- Open the [Dialogflow CX Console](https://dialogflow.cloud.google.com/cx/projects) .\n- Choose your Google Cloud project.\n- Select your agent.\n- Click the addbutton in the **Flows** section.\n- Select **Import flow** .\n- Follow instructions to complete.\nSee the `import` method for the `Flow` type.", "guide": "Dialogflow"}