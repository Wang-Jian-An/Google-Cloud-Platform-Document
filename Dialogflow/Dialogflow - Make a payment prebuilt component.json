{"title": "Dialogflow - Make a payment prebuilt component", "url": "https://cloud.google.com/dialogflow/cx/docs/concept/prebuilt-component/make-a-payment", "abstract": "# Dialogflow - Make a payment prebuilt component\nThe make a payment [prebuilt component](/dialogflow/cx/docs/concept/prebuilt-component) authenticates the user and allows them to make a payment. This component uses a customized version of the [Authentication](/dialogflow/cx/docs/concept/prebuilt-component/authentication) prebuilt component to authenticate account holders and cardholders. The component also uses the [Name collection](/dialogflow/cx/docs/concept/prebuilt-component/name-collection) , [Credit card expiration date collection](/dialogflow/cx/docs/concept/prebuilt-component/credit-card-expiration-date-collection) , and [Credit card CVV collection](/dialogflow/cx/docs/concept/prebuilt-component/credit-card-cvv-collection) prebuilt components to collect information required to make payments.\n", "content": "## Payment types\nThis component supports payments for credit card bills and beneficiary accounts. For credit card bills, users can choose to pay the minimum, total, or a custom amount towards their bill. The user may make payments from their bank account, debit or credit card, or mobile payment.\n| Payment type  | Available payment methods        | Available payment amounts  |\n|:--------------------|:------------------------------------------------------|:------------------------------|\n| Credit card bill | Bank account, debit card, mobile payment    | Minimum, total, custom amount |\n| Beneficiary account | Bank account, credit card, debit card, mobile payment | Custom amount     |\n## Limitations\nIn addition to the [common prebuilt component limitations](/dialogflow/cx/docs/concept/prebuilt-component#limits) , this prebuilt component has the following limitations:\n- This component does not encrypt any data.## Sample dialogs\nThe following sample dialogs demonstrate common scenarios handled by this prebuilt component. The sample dialogs demonstrate behavior when the component is called via telephony, which triggers the Default Welcome Intent and the first agent response at the start of the conversation.\n### Beneficiary account payment\nThe agent identifies that the user has not been previously authenticated and collects information to verify that the user is a registered user. The user indicates that they would like to make a payment to a beneficiary account, and the agent collects required information including beneficiary name and confirms the account number. Finally, the user selects to make a payment using their debit card, so the agent collects the debit card number, expiration date, CVV, and confirms the payment.\n| User input  | Agent response                                       |\n|:-----------------|:-------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| nan    | Agent authenticates user using Authentication prebuilt component                           |\n| nan    | Thank you, you have been successfully authenticated.                              |\n| nan    | Would you like to pay your registered credit card bill or make a payment to an existing beneficiary account?                |\n| Beneficiary  | nan                                          |\n| nan    | Agent collects beneficiary name using Name collection prebuilt component                         |\n| nan    | Thank you, we have collected the beneficiary name. Okay, based on our records, we have the account number ending in 7821. Please say yes, to confirm the account number. |\n| Yes    | nan                                          |\n| nan    | Please confirm the amount you want to pay. For example, if you want to pay $100.30, say 100 point 30.                 |\n| 50 dollars  | nan                                          |\n| nan    | Do you want to pay by your bank account, debit card, credit card or mobile payment?                      |\n| Debit   | nan                                          |\n| nan    | Can you please help us with the last 4 digits of the debit card number you are referring to?                    |\n| 1234    | nan                                          |\n| nan    | The last four digits of the debit card number that we got are 1234, is that correct?                      |\n| Yes that's right | nan                                          |\n| nan    | Agent collects debit card expiration date using Credit card expiration date collection prebuilt component                |\n| nan    | Great, we are done with collecting the debit card's expiration date.                          |\n| nan    | Agent collects debit card CVV using Credit card CVV collection prebuilt component                      |\n| nan    | Great, we are done with collecting the CVV.                                |\n| nan    | Okay, we are going to make a payment of $50 to Jane with the debit card number ending in 1234. Do you confirm this action?            |\n| Yes    | nan                                          |\n| nan    | To proceed we will send you a code. Do you prefer to receive the code by phone or email?                     |\n| Email please  | nan                                          |\n| nan    | We have sent a code to your registered email john.doe@google.com. This may take a few seconds. Can you please confirm the code?           |\n| 123456   | nan                                          |\n| nan    | Okay, please wait for a few seconds while we are making the payment. Your beneficiary account payment was successful.             |\n### Credit card bill payment\nThe agent identifies that the user has not been previously authenticated and collects information to verify that the user is a registered user. The user indicates that they would like to make a payment towards their credit card bill using their bank account. The agent confirms the payment amount and payment method details and completes the payment.\n| User input   | Agent response                                   |\n|:--------------------|:----------------------------------------------------------------------------------------------------------------------------------------------------------|\n| nan     | Agent authenticates user using Authentication prebuilt component                       |\n| nan     | Thank you, you have been successfully authenticated.                          |\n| nan     | Would you like to pay your registered credit card bill or make a payment to an existing beneficiary account?            |\n| Credit card bill | nan                                      |\n| nan     | Can you please help us with the last 4 digits of the credit card number you are referring to?                |\n| 4321    | nan                                      |\n| nan     | The last four digits of the credit card number that we got are 4321, is that correct?                  |\n| Yes     | nan                                      |\n| nan     | Your total due amount is $300 and your minimum payment is $20. Do you wish to pay the total amount, the minimum amount, or any other amount?    |\n| Total amount  | nan                                      |\n| nan     | Do you want to pay by your bank account, debit card or mobile payment?                     |\n| Savings account  | nan                                      |\n| nan     | We have found that there are 2 accounts associated with your number. Can you please help us with the last 4 digits of the account you are referring to? |\n| 1001    | nan                                      |\n| nan     | The last four digits of the account number that we got are 1001, is that correct?                   |\n| Yes     | nan                                      |\n| nan     | Okay, we are going to make a payment of $300 for your credit card bill ending in 4321 with the account number ending in 1001. Do you confirm this action? |\n| Yes     | nan                                      |\n| nan     | To proceed we will send you a code. Do you prefer to receive the code by phone or email?                 |\n| Send it to my email | nan                                      |\n| nan     | We have sent a code to your registered email john.doe@google.com. This may take a few seconds. Can you please confirm the code?       |\n| 123456    | nan                                      |\n| nan     | Okay, please wait for a few seconds while we are making the payment. Your credit card payment was successful.            |\n### Insufficient funds or limits\nThe agent identifies that the user has not been previously authenticated and collects information to verify that the user is a registered user. The user attempts to make payments to their credit card bill using their bank account and their debit card, but both payments are declined due to insufficient funds or limits. Finally, the user opts to make a mobile payment and the agent sends them a link to complete the payment by mobile.\n| User input | Agent response                                               |\n|:-------------|:-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| nan   | Agent authenticates user using Authentication prebuilt component                                  |\n| nan   | Thank you, you have been successfully authenticated.                                     |\n| nan   | Would you like to pay your registered credit card bill or make a payment to an existing beneficiary account?                       |\n| Credit card | nan                                                 |\n| nan   | Can you please help us with the last 4 digits of the credit card number you are referring to?                           |\n| 4321   | nan                                                 |\n| nan   | The last four digits of the credit card number that we got are 4321, is that correct?                             |\n| Yes   | nan                                                 |\n| nan   | Your total due amount is $300 and your minimum payment is $20. Do you wish to pay the total amount, the minimum amount, or any other amount?               |\n| Total amount | nan                                                 |\n| nan   | Do you want to pay by your bank account, debit card or mobile payment?                                 |\n| Savings  | nan                                                 |\n| nan   | We have found that there are 2 accounts associated with your number. Can you please help us with the last 4 digits of the account you are referring to?            |\n| 1002   | nan                                                 |\n| nan   | The last four digits of the account number that we got are 1002, is that correct?                              |\n| Yes   | nan                                                 |\n| nan   | Okay, we are going to make a payment of $300 for your credit card bill ending in 4321 with the account number ending in 1002. Do you confirm this action?            |\n| Yes   | nan                                                 |\n| nan   | To proceed we will send you a code. Do you prefer to receive the code by phone or email?                            |\n| Email  | nan                                                 |\n| nan   | We have sent a code to your registered email john.doe@google.com. This may take a few seconds. Can you please confirm the code?                  |\n| 123456  | nan                                                 |\n| nan   | Okay, please wait for a few seconds while we are making the payment. Your payment failed due to insufficient funds in the account. Do you want to retry the payment with another payment method?  |\n| Yes   | nan                                                 |\n| nan   | Do you want to pay by your bank account, debit card or mobile payment?                                 |\n| Debit card | nan                                                 |\n| nan   | Can you please help us with the last 4 digits of the debit card number you are referring to?                           |\n| 2345   | nan                                                 |\n| nan   | The last four digits of the debit card number that we got are 2345, is that correct?                             |\n| Yes   | nan                                                 |\n| nan   | Agent collects debit card expiration date using Credit card expiration date collection prebuilt component                        |\n| nan   | Great, we are done with collecting the debit card's expiration date.                                 |\n| nan   | Agent collects debit card CVV using Credit card CVV collection prebuilt component                              |\n| nan   | Great, we are done with collecting the CVV.                                       |\n| nan   | Okay, we are going to make a payment of $300 for your credit card bill ending in 4321 with the debit card number ending in 2345. Do you confirm this action?           |\n| Yes   | nan                                                 |\n| nan   | To proceed we will send you a code. Do you prefer to receive the code by phone or email?                            |\n| Email  | nan                                                 |\n| nan   | We have sent a code to your registered email john.doe@google.com. This may take a few seconds. Can you please confirm the code?                  |\n| 123456  | nan                                                 |\n| nan   | Okay, please wait for a few seconds while we are making the payment. Your payment failed since the limit was exceeded in the debit card. Do you want to retry the payment with another payment method? |\n| Yes   | nan                                                 |\n| nan   | Do you want to pay by your bank account, debit card or mobile payment?                                 |\n| Mobile  | nan                                                 |\n| nan   | Okay, we are sending the payment link to your registered mobile number. This action can take a few seconds. Please confirm by saying yes if you have received it.          |\n| Yes   | nan                                                 |\n| nan   | Great, now you can open the link and continue your payment.                                   |\n## Naming conventions\nThis prebuilt component uses the following naming conventions:\n| Feature     | Format            | Example              |\n|:--------------------------|:------------------------------------------------------|:---------------------------------------------------------------|\n| Flow      | [Component Name]          | Make A Payment             |\n| Component Specific Intent | prebuilt_components_[component_name]_[intent_name] | prebuilt_components_make_a_payment_payment_type    |\n| Entity Type    | prebuilt_components_[component_name]_[entity_type] | prebuilt_components_make_a_payment_payment_mode    |\n| Webhook     | prebuilt_components_[component_name]:[webhook_action] | prebuilt_components_make_a_payment:process_payment_credit_card |\n## Input parameters\nInput parameters are parameters that are used to configure certain behaviors of the component. The parameters will be used by one or more conditions within the flow to determine how the component should behave. Flow-scoped parameters must be set on the start page of the component as described below. Session-scoped parameters may be set either by a calling flow, or on the start page of this component.\nThis prebuilt component accepts the following input parameters:\n| Parameter Name       | Description                                                            | Input Format |\n|:---------------------------------------|:-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|:---------------|\n| $session.params.auth_level    | (optional) Indicates the authentication level of the caller.                                                | integer  |\n| $session.params.auth_level_req   | Indicates the level of authentication needed before a user can access their transaction history. This value is configured in the parameter presets of the page entry fulfillment in the check auth level page. By default this value is 1.     | integer  |\n| $session.params.account_auth_enabled | Indicates whether the user should be authenticated as an account holder as described in Authentication types. This value is configured in the parameter presets of the page entry fulfillment in the check auth level page. By default this value is true. | boolean  |\n| $session.params.card_auth_enabled  | Indicates whether the user should be authenticated as a card holder as described in Authentication types. This value is configured in the parameter presets of the page entry fulfillment in the check auth level page. By default this value is false. | boolean  |\n| $session.params.phone_number   | (optional) Customer's registered phone number used for authentication.                                              | string   |\n| $flow.payment_success_code    | Specifies the value of the payment_status_code field returned by the process_payment webhooks indicating that the payment was successful. By default this value is \"200\".                     | string   |\n| $flow.insufficient_fund_code   | Specifies the value of the payment_status_code field returned by the process_payment webhooks indicating that the payment could not be completed due to insufficient funds. By default this value is \"400\".            | string   |\n| $flow.limit_exceed_code    | Specifies the value of the payment_status_code field returned by the process_payment webhooks indicating that the payment could not be completed due to the daily limit being exceeded. By default this value is \"401\".         | string   |\n| $flow.max_retry_mop_counter   | Specifies the number of times a user is allowed to change their method of payment. The default value is 2.                                     | integer  |\n| $flow.max_retry_credit_card_payment | Specifies the number of retries allowed when attempting to make a payment using a credit card as the method of payment. The default value is 3.                           | integer  |\n| $flow.max_retry_mobile_payment_counter | Specifies the number of retries allowed when attempting to make a payment using mobile payment as the method of payment. The default value is 2.                           | integer  |\n| $flow.max_retry_creditcard_count  | Specifies the number of retries allowed when collecting a valid credit card number to make a payment. The default value is 3.                                | integer  |\n| $flow.max_retry_acc_number    | Specifies the number of retries allowed when collecting valid account details to make a payment. The default value is 3.                                 | integer  |\n| $flow.max_retry_debit_card_details  | Specifies the number of retries allowed when collecting valid debit card details to make a payment. The default value is 3.                                | integer  |\n| $flow.max_retry_credit_card_details | Specifies the number of retries allowed when collecting valid credit card details to make a payment. The default value is 3.                                | integer  |\n| $flow.otp_length      | Specifies the expected length of the one-time password sent to the user. The default value is 6.                                       | integer  |\n| $flow.max_retry_otp_count    | Specifies the number of retries allowed when collecting a valid one-time password (OTP) from the user. The default value is 3.                                | integer  |\n| $flow.max_waiting_room_counter   | Specifies the number of times the user can ask the agent to wait as they receive the link for mobile payment. The default value is 2.                              | integer  |\n## Output parameters\nOutput parameters are session parameters that will remain active after exiting the component. These parameters contain important information collected by the component. This prebuilt component provides values for the following output parameters:\n| Parameter Name | Description                                                                                                                                                                           | Output Format |\n|:-----------------|:-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|:----------------|\n| auth_level  | Indicates the authentication level of the caller.                                                                                                                                                                  | integer   |\n| phone_number  | User's local phone number, without the country code, used to identify the user.                                                                                                                                                          | string   |\n| transfer_reason | This parameter indicates the reason the flow exited, if it was not successful. The returned value is one of: agent: the end-user requested a human agent at some point during the conversation. denial_of_information: the end-user declined to share information requested by the component. max_no_input: the conversation reached the maximum number of retries for no-input events. See no-input built-in events. max_no_match: the conversation reached the maximum number of retries for no-match events. See no-match built-in events. webhook_error: a webhook error occurred. See webhook.error built-in event. webhook_not_found: a webhook URL was unreachable. See webhook.error.not-found built-in event. | string   |\n## Basic setup\nTo set up this prebuilt component:\n- [Import the prebuilt component](/dialogflow/cx/docs/concept/prebuilt-component#import) .\n- Configure the provided [flexible webhooks](/dialogflow/cx/docs/concept/webhook#flexible) with configuration describing your Dialogflow-external services, see Webhook setup below.## Webhook setup\nIn order to use this component, you will need to configure the included [flexible webhooks](/dialogflow/cx/docs/concept/webhook#flexible) to retrieve needed information from your external services.\n### Authentication\nIf you have not previously configured external services required for authentication, you will need to configure them to enable authentication of users for this component. See [Authentication webhook setup](/dialogflow/cx/docs/concept/prebuilt-component/authentication#webhook-setup) for detailed instructions.\n### Validate account\nThe `prebuilt_components_account_services:validate_account` webhook is used by the component to verify that an account exists based on the user's registered phone number and the last four digits of the account number provided. The webhook also returns the account balance, if an account exists.\nThe following parameters are provided by the component as inputs to the API request.\n| Parameter Name         | Description                      | Input Format |\n|:--------------------------------------------------|:-------------------------------------------------------------------------------------------------|:---------------|\n| $session.params.phone_number      | User's local phone number, without the country code, used to identify the user.     | string   |\n| $session.params.last_four_digit_of_account_number | The last four digits of the account number the user selected and confirmed to make a payment on. | string   |\nThe following parameters are pulled from the API response to be used by the component.\n| Parameter Name | Description                        | Output Format |\n|:-----------------|:----------------------------------------------------------------------------------------------------------|:----------------|\n| account_found | Indicates whether an account with the provided last four digits exists for the user's registered account. | boolean   |\n| balance   | The amount of the current balance on the account, if it exists.           | number   |### User card details\nThe `prebuilt_components_make_a_payment:user_card_details` webhook is used by the component to get details for a registered user's debit and credit cards.\nThe following parameters are provided by the component as inputs to the API request.\n| Parameter Name    | Description                  | Input Format |\n|:-----------------------------|:--------------------------------------------------------------------------------|:---------------|\n| $session.params.phone_number | User's local phone number, without the country code, used to identify the user. | string   |\nThe following parameters are pulled from the API response to be used by the component.\n| Parameter Name      | Description                        | Output Format |\n|:--------------------------------------|:-----------------------------------------------------------------------------------------------------------|:----------------|\n| credit_card_count      | Number of credit cards associated with the registered telephone number.         | integer   |\n| last_four_digit_of_credit_card_number | Last four digits of the user's credit card. If the customer has multiple credit cards, this value is null. | string   |\n| debit_card_count      | Number of debit cards associated with the registered telephone number.          | integer   |\n| last_four_digit_of_debit_card_number | Last four digits of the user's debit card. If the customer has multiple debit cards, this value is null. | string   |### Verify beneficiary name\nThe `prebuilt_components_make_a_payment:verify_beneficiary_name` webhook is used by the component to verify that a beneficiary account exists for the name provided by the user.\nThe following parameters are provided by the component as inputs to the API request.\n| Parameter Name        | Description                  | Input Format |\n|:--------------------------------------------|:--------------------------------------------------------------------------------|:---------------|\n| $session.params.phone_number    | User's local phone number, without the country code, used to identify the user. | string   |\n| $session.params.name_collection_first_name | First name of the beneficiary.             | string   |\n| $session.params.name_collection_last_name | Last name of the beneficiary.             | string   |\n| $session.params.name_collection_middle_name | Middle name of the beneficiary.             | string   |\nThe following parameters are pulled from the API response to be used by the component.\n| Parameter Name    | Description                                       | Output Format |\n|:---------------------------|:----------------------------------------------------------------------------------------------------------------------------------------------------------------------|:----------------|\n| beneficiary_account_number | Last four digits of the beneficiary account number for the beneficiary name provided. If a beneficiary account for the provided name is not found, the value is null. | string   |### Get due amount\nThe `prebuilt_components_make_a_payment:get_due_amount` webhook is used by the component to get information about the minimum and total amount due for the user's credit card bill.\nThe following parameters are provided by the component as inputs to the API request.\n| Parameter Name    | Description                  | Input Format |\n|:------------------------------|:--------------------------------------------------------------------------------|:---------------|\n| $session.params.phone_number | User's local phone number, without the country code, used to identify the user. | string   |\n| $flow.user_credit_card_number | Last four digits of the user's credit card.          | string   |\nThe following parameters are pulled from the API response to be used by the component.\n| Parameter Name | Description           | Output Format |\n|:-----------------|:-------------------------------------------------------|:----------------|\n| minimum_amount | Minimum amount due for the specified credit card bill. | number   |\n| total_amount  | Total amount due for the specified credit card bill. | number   |### Verify credit card number\nThe `prebuilt_components_make_a_payment:verify_credit_card_number` webhook is used by the component to verify that the provided credit card number is registered to the user's account.\nThe following parameters are provided by the component as inputs to the API request.\n| Parameter Name    | Description                  | Input Format |\n|:------------------------------|:--------------------------------------------------------------------------------|:---------------|\n| $session.params.phone_number | User's local phone number, without the country code, used to identify the user. | string   |\n| $flow.user_credit_card_number | Last four digits of the user's credit card.          | string   |\nThe following parameters are pulled from the API response to be used by the component.\n| Parameter Name | Description           | Output Format |\n|:-----------------|:------------------------------------------------------|:----------------|\n| card_found  | Indicates whether the provided credit card was found. | boolean   |### Verify credit card details\nThe `prebuilt_components_make_a_payment:verify_credit_card_details` webhook is used by the component to verify that the provided details including expiration date and CVV are valid for the user's provided credit card.\nThe following parameters are provided by the component as inputs to the API request.\n| Parameter Name    | Description                  | Input Format       |\n|:-----------------------------|:--------------------------------------------------------------------------------|:----------------------------------------|\n| $session.params.phone_number | User's local phone number, without the country code, used to identify the user. | string         |\n| $flow.credit_card_number  | Last four digits of the user's credit card.          | string         |\n| $flow.credit_card_exp_date | User's provided credit card expiration date for the specific credit card.  | { \"year\": integer, \"month\": integer } |\n| $flow.credit_card_cvv_code | User's provided CVV code for the specified credit card.       | string         |\nThe following parameters are pulled from the API response to be used by the component.\n| Parameter Name     | Description              | Output Format |\n|:-------------------------------|:-------------------------------------------------------------------|:----------------|\n| creditcard_verification_status | Indicates whether the provided credit card details were validated. | boolean   |### Verify debit card details\nThe `prebuilt_components_make_a_payment:verify_debit_card_details` webhook is used by the component to verify that the provided details including expiration date and CVV are valid for the user's provided debit card.\nThe following parameters are provided by the component as inputs to the API request.\n| Parameter Name    | Description                  | Input Format       |\n|:-----------------------------|:--------------------------------------------------------------------------------|:----------------------------------------|\n| $session.params.phone_number | User's local phone number, without the country code, used to identify the user. | string         |\n| $flow.debit_card_number  | Last four digits of the user's debit card.          | string         |\n| $flow.debit_card_exp_date | User's provided debit card expiration date for the specified debit card.  | { \"year\": integer, \"month\": integer } |\n| $flow.debit_card_cvv_code | User's provided CVV code for the specified debit card.       | string         |\nThe following parameters are pulled from the API response to be used by the component.\n| Parameter Name    | Description              | Output Format |\n|:------------------------------|:------------------------------------------------------------------|:----------------|\n| debitcard_verification_status | Indicates whether the provided debit card details were validated. | boolean   |### Process credit card payment\nThe `prebuilt_components_make_a_payment:process_payment_credit_card` webhook is used by the component to process a payment using the provided credit card details.\nThe following parameters are provided by the component as inputs to the API request.\n| Parameter Name    | Description                                                | Input Format       |\n|:-----------------------------|:----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|:----------------------------------------|\n| $session.params.phone_number | User's local phone number, without the country code, used to identify the user.                               | string         |\n| $flow.payee_number   | Last four digits of the payee's account number for the payment.                                   | string         |\n| $flow.payment_type   | Payment type for the payment. Valid values are defined by the prebuilt_components_make_a_payment_payment_type custom entity. By default, this component supports \"beneficiary_pay\" and \"credit_card_pay\". | string         |\n| $flow.credit_card_number  | Last four digits of the user's credit card.                                        | string         |\n| $flow.credit_card_exp_date | User's provided credit card expiration date for the specified credit card.                                | { \"year\": integer, \"month\": integer } |\n| $flow.credit_card_cvv_code | User's provided CVV code for the specified credit card.                                     | string         |\n| $flow.payment_amount   | The amount the user has opted to pay.                                          | number         |\nThe following parameters are pulled from the API response to be used by the component.\n| Parameter Name  | Description                                              | Output Format |\n|:--------------------|:---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|:----------------|\n| payment_status_code | Indicates whether the payment was successful. Valid values are defined by the $flow.payment_success_code, $flow.insufficient_fund_code, and $flow.limit_exceed_code configurable input parameters. | string   |### Process debit card payment\nThe `prebuilt_components_make_a_payment:process_payment_debit_card` webhook is used by the component to process a payment using the provided debit card details.\nThe following parameters are provided by the component as inputs to the API request.\n| Parameter Name    | Description                                                | Input Format       |\n|:-----------------------------|:----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|:----------------------------------------|\n| $session.params.phone_number | User's local phone number, without the country code, used to identify the user.                               | string         |\n| $flow.payee_number   | Last four digits of the payee's account number for the payment.                                   | string         |\n| $flow.payment_type   | Payment type for the payment. Valid values are defined by the prebuilt_components_make_a_payment_payment_type custom entity. By default, this component supports \"beneficiary_pay\" and \"credit_card_pay\". | string         |\n| $flow.debit_card_number  | Last four digits of the user's debit card.                                        | string         |\n| $flow.debit_card_exp_date | User's provided debit card expiration date for the specified debit card.                                 | { \"year\": integer, \"month\": integer } |\n| $flow.debit_card_cvv_code | User's provided CVV code for the specified debit card.                                     | string         |\n| $flow.payment_amount   | The amount the user has opted to pay.                                          | number         |\nThe following parameters are pulled from the API response to be used by the component.\n| Parameter Name  | Description                                              | Output Format |\n|:--------------------|:---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|:----------------|\n| payment_status_code | Indicates whether the payment was successful. Valid values are defined by the $flow.payment_success_code, $flow.insufficient_fund_code, and $flow.limit_exceed_code configurable input parameters. | string   |### Process account payment\nThe `prebuilt_components_make_a_payment:process_payment_account` webhook is used by the component to process a payment using the provided account details.\nThe following parameters are provided by the component as inputs to the API request.\n| Parameter Name         | Description                                                | Input Format |\n|:--------------------------------------------------|:----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|:---------------|\n| $session.params.phone_number      | User's local phone number, without the country code, used to identify the user.                               | string   |\n| $flow.payee_number        | Last four digits of the payee's account number for the payment.                                   | string   |\n| $flow.payment_type        | Payment type for the payment. Valid values are defined by the prebuilt_components_make_a_payment_payment_type custom entity. By default, this component supports \"beneficiary_pay\" and \"credit_card_pay\". | string   |\n| $session.params.last_four_digit_of_account_number | Last four digits of the user's account.                                         | string   |\n| $flow.payment_amount        | The amount the user has opted to pay.                                          | number   |\nThe following parameters are pulled from the API response to be used by the component.\n| Parameter Name  | Description                                              | Output Format |\n|:--------------------|:---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|:----------------|\n| payment_status_code | Indicates whether the payment was successful. Valid values are defined by the $flow.payment_success_code, $flow.insufficient_fund_code, and $flow.limit_exceed_code configurable input parameters. | string   |### Process mobile payment\nThe `prebuilt_components_make_a_payment:process_payment_mobile` webhook is used by the component to generate and send a mobile payment link for the user's selected payment details.\nThe following parameters are provided by the component as inputs to the API request.\n| Parameter Name    | Description                                                | Input Format |\n|:-----------------------------|:----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|:---------------|\n| $session.params.phone_number | User's local phone number, without the country code, used to identify the user.                               | string   |\n| $flow.payee_number   | Last four digits of the payee's account number for the payment.                                   | string   |\n| $flow.payment_type   | Payment type for the payment. Valid values are defined by the prebuilt_components_make_a_payment_payment_type custom entity. By default, this component supports \"beneficiary_pay\" and \"credit_card_pay\". | string   |\n| $flow.payment_amount   | The amount the user has opted to pay.                                          | number   |\nThe following parameters are pulled from the API response to be used by the component.\n| Parameter Name   | Description                    | Output Format |\n|:-----------------------|:-------------------------------------------------------------------------------------------|:----------------|\n| payment_link_generated | Indicates whether the mobile payment link was successfully generated and sent to the user. | boolean   |### Complete\nYour agent and its webhooks should now be set up and ready to test.", "guide": "Dialogflow"}