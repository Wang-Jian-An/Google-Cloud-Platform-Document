{"title": "Dialogflow - Credit card number collection prebuilt component", "url": "https://cloud.google.com/dialogflow/cx/docs/concept/prebuilt-component/credit-card-number-collection", "abstract": "# Dialogflow - Credit card number collection prebuilt component\nThis [prebuilt component](/dialogflow/cx/docs/concept/prebuilt-component) captures an 8 to 19 digit credit card number. Captured credit card numbers are validated using the [Luhn algorithm](https://en.wikipedia.org/wiki/Luhn_algorithm) .\n", "content": "## Limitations\nIn addition to the [common prebuilt component limitations](/dialogflow/cx/docs/concept/prebuilt-component#limits) , this prebuilt component has the following limitations:\n- Payment gateway integration is not included in the component.\n- Credit card numbers shorter than 8 or longer than 19 digits are not supported.## Recommended agent settings\n[Enable DTMF](/dialogflow/cx/docs/concept/parameter#dtmf) to allow users to input numeric values using the telephone keypad.\n## Additional features\nThe following additional functionalities are provided by this prebuilt component:\n- [Repeat](/dialogflow/cx/docs/concept/prebuilt-component#repeat-functionality) \n- [Waiting room](/dialogflow/cx/docs/concept/prebuilt-component#waiting-room-functionality) \n- [Playback](/dialogflow/cx/docs/concept/prebuilt-component#playback-functionality) ## Sample dialogs\nThe following sample dialogs demonstrate common scenarios handled by this prebuilt component. The sample dialogs demonstrate behavior when the component is called via telephony, which triggers the Default Welcome Intent and the first agent response at the start of the conversation.\n### Single chunk\nEnd-user provides the entire credit card number in the first turn; agent successfully validates and accepts it.\n| User input   | Agent response                               |\n|:--------------------|:------------------------------------------------------------------------------------------------------------------------------------------|\n| nan     | Please say or enter the first part of your credit card number. You can say \"play back\" at any time to hear the current collected numbers. |\n| 4242 4242 4242 4242 | nan                                  |\n| nan     | I got 4242424242424242, is that correct?                         |\n| yes     | nan                                  |\n| nan     | Please say or enter the next part of your credit card number, or say \"that's all\" if you are done.          |\n| That's all   | nan                                  |\n| nan     | To do a final confirmation with you, the credit card number I have got is 4242424242424242, is that correct?        |\n| yes     | nan                                  |\n| nan     | Thank you, your credit card number has been successfully verified.                  |\n### Multiple chunks\nEnd-user provides credit card number in three chunks; agent validates and accepts it.\n| User input | Agent response                               |\n|:-------------|:------------------------------------------------------------------------------------------------------------------------------------------|\n| nan   | Please say or enter the first part of your credit card number. You can say \"play back\" at any time to hear the current collected numbers. |\n| 4242   | nan                                  |\n| nan   | I got 4242, is that correct?                            |\n| yes   | nan                                  |\n| nan   | Please say or enter the next part of your credit card number, or say \"that's all\" if you are done.          |\n| 424242  | nan                                  |\n| nan   | I got 424242, is that correct?                           |\n| yes   | nan                                  |\n| nan   | Please say or enter the next part of your credit card number, or say \"that's all\" if you are done.          |\n| 424242  | nan                                  |\n| nan   | I got 424242, is that correct?                           |\n| yes   | nan                                  |\n| nan   | Please say or enter the next part of your credit card number, or say \"that's all\" if you are done.          |\n| done   | nan                                  |\n| nan   | To do a final confirmation with you, the credit card number I have got is 4242424242424242, is that correct?        |\n| yes   | nan                                  |\n| nan   | Thank you, your credit card number has been successfully verified.                  |\n### Successful retry\nEnd-user provides the entire credit card number in the first turn; agent re-confirms it but end-user says \"no\". Agent asks end-user to provide the input again. End-user provides and confirms the number and agent successfully validates and accepts it.\n| User input  | Agent response                               |\n|:-----------------|:------------------------------------------------------------------------------------------------------------------------------------------|\n| nan    | Please say or enter the first part of your credit card number. You can say \"play back\" at any time to hear the current collected numbers. |\n| 5105105105105100 | nan                                  |\n| nan    | I got 5105105105105101, is that correct?                         |\n| no    | nan                                  |\n| nan    | No problem, please repeat the credit card number or try saying four digits at a time              |\n| 5105105105105100 | nan                                  |\n| nan    | I got 5105105105105100, is that correct?                         |\n| yes    | nan                                  |\n| nan    | Please say or enter the next part of your credit card number, or say \"that's all\" if you are done.          |\n| That's all  | nan                                  |\n| nan    | To do a final confirmation with you, the credit card number I have got is 5105105105105100, is that correct?        |\n| yes    | nan                                  |\n| nan    | Thank you, your credit card number has been successfully verified.                  |\n### Unrecognized input\nComponent exits the flow after the end-user provides unrecognized input three times.\n| User input | Agent response                                   |\n|:-------------|:----------------------------------------------------------------------------------------------------------------------------------------------------------|\n| nan   | Please say or enter the first part of your credit card number. You can say \"play back\" at any time to hear the current collected numbers.     |\n| It's fine | nan                                      |\n| nan   | Sorry, I didn't get that. Can you please say or enter the credit card number again?                  |\n| It's fine | nan                                      |\n| nan   | Hmm, I still wasn't able to get that. Please make sure you're saying the credit card number. You can also use the keypad to enter the credit card number. |\n| It's fine | nan                                      |\n| nan   | Sorry, I'm having difficulty understanding your response.                         |\n## Credit card number validation\nValid credit card numbers must be between 8 and 19 digits long. This component also validates credit card numbers using the Luhn algorithm using the [IS_CREDIT_CARD_NUMBER system function](/dialogflow/cx/docs/reference/system-functions#func-iscreditcardnumber) .\n## Naming conventions\nThis prebuilt component uses the following naming conventions:\n| Feature     | Format            | Example                |\n|:--------------------------|:---------------------------------------------------|:-----------------------------------------------------------------------|\n| Flow      | [Component Name]         | Credit Card Number Collection           |\n| Component Specific Intent | prebuilt_components_[component_name]_[intent_name] | prebuilt_components_credit_card_number_collection_credit_card_sequence |\n| Parameter     | [param_name]          | user_provided_new_seq             |\n## Output parameters\nOutput parameters are session parameters that will remain active after exiting the component. These parameters contain important information collected by the component. This prebuilt component provides values for the following output parameters:\n| Parameter Name         | Description                                                                                  | Output Format |\n|:-------------------------------------------------|:--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|:----------------|\n| credit_card_status        | This parameter indicates the collected credit card number's validity using Luhn algorithm: \"valid\" indicates that the collected credit card number has been successfully validated and it is between 8 and 19 digits in length \"invalid\" indicates that the collected credit card number is invalid or it is not between 8 to 19 digits in length | string   |\n| credit_card_number_collection_credit_card_number | This parameter returns the credit card number captured by the component                                                                   | string   |\n## Basic setup\nTo set up this prebuilt component:\n- [Import the prebuilt component](/dialogflow/cx/docs/concept/prebuilt-component#import) .\n### Complete\nYour agent should now be set up and ready to test.", "guide": "Dialogflow"}