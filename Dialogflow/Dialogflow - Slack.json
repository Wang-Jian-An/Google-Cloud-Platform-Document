{"title": "Dialogflow - Slack", "url": "https://cloud.google.com/dialogflow/es/docs/integrations/slack?hl=zh-cn", "abstract": "# Dialogflow - Slack\n\u5229\u7528 Dialogflow \u7684 Slack \u96c6\u6210\uff0c\u60a8\u53ef\u4ee5\u8f15\u9b06\u5275\u5efa\u81ea\u5df1\u7684 Slack \u61c9\u7528\u548c\u804a\u5929\u6a5f\u5668\u4eba\uff0c\u4e26\u8a13\u7df4\u5b83\u5011\u7406\u89e3\u81ea\u7136\u8a9e\u8a00\u3002\n**\u6ce8\u610f** \uff1a\u4f7f\u7528\u7b2c\u4e09\u65b9\u96c6\u6210\u6642\uff0c\u8acb\u6c42\u548c\u6700\u7d42\u7528\u6236\u6578\u64da\u6703\u540c\u6642\u767c\u9001\u7d66 Google \u548c\u7b2c\u4e09\u65b9\u3002 [\u60a8\u7684\u4ee3\u7406\u7248\u672c](https://cloud.google.com/dialogflow/docs/editions?hl=zh-cn) \u7684\u670d\u52d9\u689d\u6b3e\u3001\u670d\u52d9\u7b49\u7d1a\u5354\u8b70 (SLA)\u3001\u50f9\u683c\u548c\u914d\u984d\u9069\u7528\u65bc Google \u5c0d\u9019\u4e9b\u8acb\u6c42\u7684\u8655\u7406\u904e\u7a0b\u3002\u7b2c\u4e09\u65b9\u7684\u670d\u52d9\u689d\u6b3e\u3001\u670d\u52d9\u7b49\u7d1a\u5354\u8b70 (SLA)\u3001\u50f9\u683c\u548c\u914d\u984d\u9069\u7528\u65bc\u7b2c\u4e09\u65b9\u5c0d\u9019\u4e9b\u8acb\u6c42\u7684\u8655\u7406\u904e\u7a0b\u3002\n", "content": "## \u9650\u5236\n\u6b64\u96c6\u6210\u50c5\u652f\u6301 [\u9ed8\u8a8d\u4ee3\u7406\u8a9e\u8a00](https://cloud.google.com/dialogflow/es/docs/agents-settings?hl=zh-cn#lang) \u3002\n## \u8a2d\u7f6e Slack\n\u8981\u7232\u4ee3\u7406\u8a2d\u7f6e Slack \u96c6\u6210\u670d\u52d9\uff0c\u60a8\u9700\u8981\u7b26\u5408\u4ee5\u4e0b\u689d\u4ef6\uff1a\n- Slack \u8cec\u865f\n- [Slack \u5718\u968a](https://slack.com/create#email) \n### \u5275\u5efa Slack \u61c9\u7528\n- \u5c0e\u822a\u5230 [Slack \u958b\u767c\u8005\u63a7\u5236\u6aaf](https://api.slack.com/apps/new) \n- \u8f38\u5165\u61c9\u7528\u7684\u540d\u7a31\n- \u9078\u64c7\u60a8\u5e0c\u671b\u8207\u8a72\u61c9\u7528\u95dc\u806f\u7684\u5718\u968a\n- \u9ede\u64ca **Create App** \u6309\u9215\n### \u6dfb\u52a0\u804a\u5929\u6a5f\u5668\u4eba\u7528\u6236\n- \u9ede\u64ca\u5de6\u5074\u83dc\u55ae\u4e2d\u7684 **OAuth & Permissions** \n- \u8f49\u5230 **Scopes** \u90e8\u5206\uff0c\u4e26\u78ba\u4fdd\u4ee5\u4e0b OAuth \u7bc4\u570d\u5728\u201c\u804a\u5929\u6a5f\u5668\u4eba\u4ee4\u724c\u7bc4\u570d\u201d\u90e8\u5206\u4e2d\n- \u9ede\u64ca\u5de6\u5074\u83dc\u55ae\u4e2d\u7684 **App Home** \n- \u5553\u7528 **Always Show My Bot as Online** \uff0c\u4e26\u6839\u64da\u9700\u8981\u4fee\u6539 **App Dislay Name** \uff08\u9019\u662f\u7528\u6236\u5c07\u770b\u5230\u7684\u60a8\u7684\u804a\u5929\u6a5f\u5668\u4eba\uff09## \u5728 Dialogflow \u4e2d\u5553\u7528\u96c6\u6210\u670d\u52d9\n\u5728 Slack \u958b\u767c\u8005\u63a7\u5236\u6aaf\u4e2d\uff0c\u9ede\u64ca\u5de6\u5074\u83dc\u55ae\u4e2d\u7684 **Basic Information** \uff0c\u7136\u5f8c\u5411\u4e0b\u6efe\u52d5\u5230 **App Credentials** \u90e8\u5206\u3002\u8a18\u4e0b **Client ID** \u3001 **Client Secret** \u548c **Verification Token** \u3002### \u5c07 Slack \u8207 Dialogflow \u95dc\u806f\n- \u5728 Dialogflow \u4e2d\uff0c\u8f49\u5230\u5de6\u5074\u83dc\u55ae\u4e2d\u7684 **\u96c6\u6210** (Integrations)\n- \u9ede\u64ca **Slack** \u5716\u584a\n- \u5728\u4ee5\u4e0b\u5b57\u6bb5\u4e2d\u8f38\u5165\u76f8\u95dc\u503c\uff1a- **\u5ba2\u6236\u7aef ID** (Client ID)\n- **\u5ba2\u6236\u7aef\u5bc6\u9470** (Client Secret)\n- **\u9a57\u8b49\u4ee4\u724c** (Verification Token)\n- \u9ede\u64ca **\u958b\u59cb** (Start)## \u7e7c\u7e8c\u8a2d\u7f6e Slack\n\u73fe\u5728\u60a8\u5df2\u7d93\u8a2d\u7f6e\u4e86 Slack \u548c Dialogflow\uff0c\u63a5\u4e0b\u4f86\uff0c\u60a8\u5c07\u5553\u7528 OAuth\u3001\u4e8b\u4ef6\u8acb\u6c42\u7db2\u5740\uff08\u7531 Dialogflow \u63d0\u4f9b\uff09\u548c\u4e8b\u4ef6\u8a02\u95b1\u3002\n### \u6dfb\u52a0 OAuth \u7db2\u5740\n- \u5f9e Dialogflow \u7684 Slack \u8a2d\u7f6e\u9801\u9762\u8907\u88fd **OAuth \u7db2\u5740** \n**\u6ce8\u610f** \uff1a\u5982\u679c\u60a8\u7684 Slack \u61c9\u7528\u662f\u50b3\u7d71\u7248 Slack \u61c9\u7528\u4e14\u60a8\u5c1a\u672a\u5347\u7d1a\uff0c\u5247\u9700\u8981\u5728 Dialogflow \u7684 Slack \u8a2d\u7f6e\u9801\u9762\u4e0a\u9ede\u64ca **Show URLs for legacy Slack workflow** \uff0c\u7136\u5f8c\u8907\u88fd **OAuth \u7db2\u5740** \u3002\u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1 [\u5feb\u901f\u5165\u9580\uff1a\u65b0\u820a Slack \u61c9\u7528\u4e4b\u9593\u7684\u5dee\u7570](https://api.slack.com/authentication/quickstart) \u3002\n- \u8f49\u5230 Slack \u958b\u767c\u8005\u63a7\u5236\u6aaf\uff0c\u9ede\u64ca\u5de6\u5074\u83dc\u55ae\u4e2d\u7684 **OAuth & Permissions** \n- \u9ede\u64ca **Add a new Redirect URL** \u6309\u9215\u4e26\u7c98\u8cbc OAuth \u7db2\u5740\n- \u9ede\u64ca **Add** \n- \u9ede\u64ca **Save URLs** \u6309\u9215\n### \u6dfb\u52a0\u4e8b\u4ef6\u8acb\u6c42\u7db2\u5740\u4e26\u5553\u7528\u4e8b\u4ef6\u8a02\u95b1\n- \u5f9e Dialogflow \u7684 Slack \u8a2d\u7f6e\u9801\u9762\u8907\u88fd **\u4e8b\u4ef6\u8acb\u6c42\u7db2\u5740** \n- \u8f49\u5230 Slack \u958b\u767c\u8005\u63a7\u5236\u6aaf\uff0c\u9ede\u64ca\u5de6\u5074\u83dc\u55ae\u4e2d\u7684 **Event Subscriptions** \n- \u9ede\u64ca\u958b\u95dc\u4ee5\u5553\u7528\u4e8b\u4ef6\uff0c\u4e26\u5c07\u4e8b\u4ef6\u8a02\u95b1\u7db2\u5740\u7c98\u8cbc\u5230 **Request URL** \u5b57\u6bb5\u4e2d\u7247\u523b\u4e4b\u5f8c\uff0c\u60a8\u6703\u5728\u201cRequest URL\u201d\u5b57\u6bb5\u4e0a\u65b9\u770b\u5230\u7da0\u8272\u7684\u201cVerified\u201d\u5b57\u6a23\u3002\n- \u5728 **Subscribe to Bot Events** \u4e0b\u65b9\uff0c\u9ede\u64ca **Add Bot User Event** \u6309\u9215 \u96a8\u5373\u5c07\u986f\u793a\u6587\u672c\u5b57\u6bb5\u548c\u4e8b\u4ef6\u5217\u8868\u3002\u60a8\u53ef\u4ee5\u5728\u6b64\u5b57\u6bb5\u4e2d\u8f38\u5165\u5b57\u8a5e\uff0c\u4ee5\u641c\u7d22\u60a8\u5e0c\u671b\u804a\u5929\u6a5f\u5668\u4eba\u97ff\u61c9\u7684\u4e8b\u4ef6\u3002\u4ee5\u4e0b\u662f\u6211\u5011\u5efa\u8b70\u6dfb\u52a0\u7684\u4e8b\u4ef6\u5217\u8868\uff1a | 0    | 1                           |\n|:-----------------|:----------------------------------------------------------------------------------------------------------|\n| \u4e8b\u4ef6\u540d\u7a31   | \u4e8b\u4ef6\u8aaa\u660e                         |\n| message.im  | \u6d88\u606f\u5df2\u5728\u79c1\u4fe1\u983b\u9053\u4e2d\u767c\u4f48                     |\n| message.groups | \u6d88\u606f\u5df2\u767c\u4f48\u5230\u5c08\u7528\u983b\u9053                      |\n| message.channels | \u6d88\u606f\u5df2\u767c\u4f48\u5230\u983b\u9053                       |\n| im_created  | \u5275\u5efa\u4e86\u76f4\u63a5\u6d88\u606f\u3002\u5728\u4ee3\u8868\u7528\u6236\u8a02\u95b1\u4e8b\u4ef6\u90e8\u5206\u4e0b\uff0c\u9ede\u64ca\u6dfb\u52a0\u5de5\u4f5c\u5340\u4e8b\u4ef6\u6309\u9215\u4ee5\u6dfb\u52a0 im_ created \u4e8b\u4ef6\uff0c\u7136\u5f8c\u6309\u4fdd\u5b58\u66f4\u6539\u3002 |\n- \u66f4\u65b0\u5b8c\u9019\u4e9b\u8a2d\u7f6e\u5f8c\uff0c\u9ede\u64ca\u9801\u9762\u5e95\u90e8\u7684 **Save Changes** \u6309\u9215\u3002\n### \u5c07 Slack \u804a\u5929\u6a5f\u5668\u4eba\u6dfb\u52a0\u5230\u5718\u968a\u4e2d\n- \u5728 Slack \u958b\u767c\u8005\u63a7\u5236\u6aaf\u4e2d\uff0c\u9ede\u64ca\u5de6\u5074\u83dc\u55ae\u4e2d\u7684 **Manage Distribution** \n- \u5728 **Share Your App with Your Workplace** \u90e8\u5206\u4e0b\u65b9\uff0c\u9ede\u64ca **Add to Slack** \u6309\u9215\n- \u5728\u4e0b\u4e00\u9801\u4e0a\uff0c\u9ede\u64ca **Authorize** \u6309\u9215\u4ee5\u6dfb\u52a0\u4ee3\u7406## \u6e2c\u8a66\n\u60a8\u53ef\u4ee5\u6e2c\u8a66\u4ee3\u7406\u800c\u4e0d\u5275\u5efa\u516c\u5171 Slack \u804a\u5929\u6a5f\u5668\u4eba\u3002\u7232\u6b64\uff0c\u8acb\u8f49\u5230\u4ee3\u7406\u7684 **\u96c6\u6210** (Integrations) \u9801\u9762\uff0c\u7136\u5f8c\u9ede\u64ca **Slack** \u5716\u584a\u4e0a\u7684\u958b\u95dc\u3002 \u5728\u5f48\u51fa\u7a97\u53e3\u4e2d\uff0c\u9ede\u64ca **\u5728 Slack \u4e2d\u6e2c\u8a66** (Test In Slack) \u6309\u9215\u3002\n\u7cfb\u7d71\u5c07\u63d0\u793a\u60a8\u767b\u9304 Slack\u3002\u767b\u9304\u5f8c\uff0c\u5c0e\u822a\u5230\u5be6\u4f8b\u4e26\u627e\u5230\u540d\u7232 **@dialogflow-bot** \u7684\u804a\u5929\u6a5f\u5668\u4eba\u7528\u6236\u3002\u60a8\u53ef\u4ee5\u76f4\u63a5\u5411\u4ee3\u7406\u767c\u9001\u6d88\u606f\u4f86\u5c0d\u5176\u9032\u884c\u6e2c\u8a66\uff0c\u6216\u5c07\u5176\u6dfb\u52a0\u5230\u5be6\u4f8b\u4e2d\u7684\u983b\u9053\u3002\n**\u6ce8\u610f** \uff1a\u8981\u66f4\u6539\u4ee3\u7406\u7684\u540d\u7a31\u6216\u6dfb\u52a0\u5fbd\u6a19\uff0c\u60a8\u9700\u8981\u516c\u958b\u804a\u5929\u6a5f\u5668\u4eba\u3002\n## \u4e8b\u4ef6\n\u6b64\u96c6\u6210\u670d\u52d9\u8abf\u7528\u4ee5\u4e0b [\u4e8b\u4ef6](https://cloud.google.com/dialogflow/docs/events-overview?hl=zh-cn) \uff1a\n| \u4e8b\u4ef6   | \u8aaa\u660e             |\n|:--------------|:------------------------------------------------------|\n| SLACK_WELCOME | \u7576\u7528\u6236\u958b\u59cb\u8207 Slack \u804a\u5929\u6a5f\u5668\u4eba\u5c0d\u8a71\u6642\uff0c\u5373\u6703\u89f8\u767c\u8a72\u4e8b\u4ef6\u3002 |\n## \u5bcc\u97ff\u61c9\u6d88\u606f\n\u7cfb\u7d71\u652f\u6301\u4e0b\u5217 [\u5bcc\u97ff\u61c9\u6d88\u606f](https://cloud.google.com/dialogflow/docs/intents-rich-messages?hl=zh-cn) \u3002\n### \u5716\u7247\u97ff\u61c9\n\u652f\u6301\u7684\u683c\u5f0f\u548c\u5927\u5c0f\uff1a\n- gif\n- jpeg\n- png\n- bmp\n### \u5361\u7247\u97ff\u61c9\nSlack \u4e2d\u7684\u5361\u7247\u6c92\u6709\u5fc5\u586b\u5b57\u6bb5\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528\u4efb\u4f55\u5143\u7d20\u7d44\u5408\u3002\n\u652f\u6301\u5e36\u6709\u7db2\u5740\u548c\u6587\u672c\u56de\u50b3\u7684\u6309\u9215\u3002\u5e36\u6709\u7db2\u5740\u7684\u6309\u9215\u6703\u986f\u793a\u7232\u8d85\u93c8\u63a5\u3002\n### \u5feb\u901f\u56de\u5fa9\u97ff\u61c9\n\u4e00\u9375\u5f0f Slack \u96c6\u6210\u652f\u6301\u5feb\u901f\u56de\u5fa9\uff0c\u76f8\u7576\u65bc [Slack \u4ea4\u4e92\u5f0f\u6309\u9215](https://api.slack.com/docs/message-buttons) \u7684\u6587\u672c\u7248\u672c\u3002\n### \u81ea\u5b9a\u7fa9\u8f09\u8377\u97ff\u61c9\n**\u4e00\u9375\u5f0f Slack \u96c6\u6210\u4e2d\u7684\u683c\u5f0f\u5316\u6587\u672c**\n\u60a8\u7684 Slack \u804a\u5929\u6a5f\u5668\u4eba\u53ef\u4ee5\u767c\u9001 [\u5e36\u683c\u5f0f\u7684\u6587\u672c](https://api.slack.com/docs/message-formatting#message_formatting) \uff0c\u5982\u4ee5\u4e0b\u793a\u4f8b\u6240\u793a\uff1a\n```\n{\u00a0 \"slack\": {\u00a0 \u00a0 \"text\": \"This is an example of *bold*, _italic_, and `code`.\"\u00a0 }}\n```", "guide": "Dialogflow"}