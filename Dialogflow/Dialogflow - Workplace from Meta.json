{"title": "Dialogflow - Workplace from Meta", "url": "https://cloud.google.com/dialogflow/cx/docs/concept/integration/meta-workplace", "abstract": "# Dialogflow - Workplace from Meta\n**    Preview     ** This product or feature is subject to the \"Pre-GA Offerings Terms\" in the General Service Terms section   of the [Service Specific Terms](/terms/service-terms#1) .     Pre-GA products and features are available \"as is\" and might have limited support.    For more information, see the [launch stage descriptions](/products#product-launch-stages) .\nUsing the Dialogflow Meta Workplace integration, you can create a Meta Workplace bot to interact with your end-users.\n**Note:** When using a third party integration, requests and end-user data are sent to both Google and the third party. The terms of service, SLA, pricing, and quotas [for your agent edition](/dialogflow/docs/editions) are applicable for Google's handling of these requests. The third party's terms of service, SLA, pricing, and quotas are applicable for the third party's handling of these requests.\n", "content": "## How it works\nThis is how the integration works:\n- You create a Customer Integration that uses the [Meta Workplace](https://developers.facebook.com/docs/workplace/) .\n- You configure the Dialogflow integration and Workplace instance, so that they communicate with each other.\n- The Dialogflow integration sends messages to the end-user by using the [Send API from Meta](https://developers.facebook.com/docs/messenger-platform/reference/send-api/) .\n- The Dialogflow integration receives messages from the end-user by acting as the [ Workplace Webhook from Meta](https://developers.facebook.com/docs/workplace/reference/webhooks/) .## Setup\n**Note:** Make sure [billing is enabled](/dialogflow/cx/docs/quick/setup#billing) on your project before testing the integration.\nTo set up the integration:\n- Follow the steps to create a Meta Workplace Custom Integration : [Creating an Meta Workplace custom integration](https://www.workplace.com/resources/tech/integrations/chat-bot) .- Create a Meta Workplace Custom Integration.\n- You are provided with an App Secret at this step. Copy this value. This token will be used to configure the integration from the Dialogflow Console.\n- Create or reset the Access token of your integration. Copy this value. This token will be used to configure the integration from the Dialogflow Console.\n- Set up the Custom Integration Permissions. Make sure`Message any member`is enabled in Permissions.\n- Configure the integration from the Dialogflow Console:- Go to the [Dialogflow CX Console](https://dialogflow.cloud.google.com/cx/projects) .\n- Click the **Manage** tab on the left panel.\n- Click **Integrations** in the left sidebar menu.\n- Click the **Connect** button on the **Meta Workplace** tile.\n- A configuration dialog opens:- **App secret** : Enter the app secret from [App Dashboard Basic Settings](https://developers.facebook.com/docs/development/create-an-app/app-dashboard/basic-settings/) .\n- **Access token** : Enter the access token you copied during the Meta app setup above.\n- **Verify token** : You can enter any private token you desire. Copy this value. This will be used to configure the Meta Workplace Webhook.\n- **Webhook URL** : Copy this value. This will be used to configure the Meta Workplace Webhook.\n- **Start** : Click to start this integration service for your agent.\n- Finish setup of the Meta Workplace Custom Integration and test it. Follow steps in the [Webhook for Meta Workplace](https://developers.facebook.com/docs/workplace/integrations/custom-integrations/webhooks/) documentation to accomplish the following:- Configure the Meta webhook for your app. Use the **Webhook URL** and **Verify token** values you copied above.\n- Subscribe your Integration to Webhook Topics. Be sure to enable`messages`and`messaging_postbacks`in the page subscription.\n- Test your app.\n## Rich response messages\nThe rich response messages are supported using **Custom Payload** in [Fulfillment](/dialogflow/cx/docs/concept/fulfillment) . See [Send API Parameters Message Object](https://developers.facebook.com/docs/messenger-platform/reference/send-api#parameters) for the message format.\nFor example, the following custom payload provides a simple text message:\n```\n{\n \"text\": \"Hello, world\"\n}\n```\nThe following custom payload provides an image message:\n```\n{\n \"attachment\": {\n \"type\": \"image\",\n \"payload\": {\n  \"url\": \"https://example.com/test.jpg\"\n }\n }\n}\n```\n## Channel specific responses\nWhen configured, [channel specific responses](/dialogflow/cx/docs/concept/fulfillment#channel-specific) with channel `DF_META_WORKPLACE` will be automatically used when the agent responds to Meta Workplace messages.", "guide": "Dialogflow"}