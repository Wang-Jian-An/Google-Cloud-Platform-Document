{"title": "Dialogflow - Workplace from Facebook", "url": "https://cloud.google.com/dialogflow/es/docs/integrations/workplace", "abstract": "# Dialogflow - Workplace from Facebook\n**    Beta     ** This product or feature is subject to the \"Pre-GA Offerings Terms\" in the General Service Terms section   of the [Service Specific Terms](/terms/service-terms#1) .     Pre-GA products and features are available \"as is\" and might have limited support.    For more information, see the [launch stage descriptions](/products#product-launch-stages) .\nUsing the Dialogflow Facebook Workplace integration, you can create a Workplace from Facebook bot to interact with your end-users.\n**Note:** When using a third party integration, requests and end-user data are sent to both Google and the third party. The terms of service, SLA, pricing, and quotas [for your agent edition](/dialogflow/docs/editions) are applicable for Google's handling of these requests. The third party's terms of service, SLA, pricing, and quotas are applicable for the third party's handling of these requests.\n", "content": "## Limitations\nOnly the [default agent language](/dialogflow/es/docs/agents-settings#lang) is supported by this integration.\n## How it works\nThis is how the integration works:\n- You configure the Dialogflow integration and Workplace instance, so that they communicate with each other.\n- The Dialogflow integration sends messages to the end-user by using the [Messenger API from Facebook](https://developers.facebook.com/docs/messenger-platform/reference/send-api/) .\n- The Dialogflow integration receives messages from the end-user by acting as the [Workplace Webhook from Facebook](https://developers.facebook.com/docs/workplace/reference/webhooks) .## Start\nTo start the integration:\n- Register a [Workplace](https://www.workplace.com/) instance if you don't have one, and make sure you are the **System Admin** of the group.\n- Enable the integration from the Dialogflow Console:- Go to the [Dialogflow ES Console](https://dialogflow.cloud.google.com) .\n- Click **Integrations** in the left sidebar menu.\n- Click **Workplace from Facebook** .\n- Click **START** and you will be redirected to Workplace to finish the installation:- Log into your Workplace account. The account needs to be a **System Admin** on Workplace to install integrations.\n- Click **Add to Workplace** in the pop-up window that asks you to install Dialogflow integration. You also have the option to customize the name for the bot.\n- Test your app:- Go to [Workplace](https://www.workplace.com/) and log into the account.\n- Find **Dialogflow** (or the customized name of your bot) in **Bots** from the **Home** section of the sidebar and start chatting with the bot.\n## Cancel\nIf you clicked the **START** button but do not want to finish the installation on Workplace:\n- Go to the [Dialogflow ES Console](https://dialogflow.cloud.google.com) .\n- Click **Integrations** in the left sidebar menu.\n- Click **Facebook Workplace** :- If you see a **CANCEL** button: Click **CANCEL** to cancel the installation.\n- If you see a **STOP** button: Follow instructions below to uninstall the integration.\n## Stop\nTo stop a successfully installed integration:\n- Go to the [Dialogflow ES Console](https://dialogflow.cloud.google.com) .\n- Click **Integrations** in the left sidebar menu.\n- Click **Facebook Workplace** .\n- Click **STOP** and you will be redirected to Workplace to finish the installation:- Log into your Workplace account. The account needs to be a **System Admin** on [Workplace](https://www.workplace.com/) to uninstall integrations.\n- Find and select the Dialogflow integration from the installed integrations on Workplace, click **Uninstall** to finish the uninstallation.\n- Dialogflow integration will be uninstalled.## Rich response messages\nThis integration translates some [rich response messages](/dialogflow/docs/intents-rich-messages) messages to [Facebook Messenger Platform message types](https://developers.facebook.com/docs/messenger-platform/send-messages) .\n### Image responses\n[Image responses](/dialogflow/docs/intents-rich-messages#image) are sent to Facebook Messenger as [Facebook Messenger file attachment messages](https://developers.facebook.com/docs/messenger-platform/reference/attachment-upload-api#attachment) . The `message.attachment.type` value is set to `image` . The following formats are supported:\n- jpg\n- png\n- static gif\n- animated gif\n### Card responses\n[Card responses](https://cloud.google.com/dialogflow/docs/intents-rich-messages#card) are sent to Facebook Messenger as [Facebook Messenger generic templates](https://developers.facebook.com/docs/messenger-platform/reference/templates/generic) .\n### Quick reply responses\n[Quick reply responses](https://cloud.google.com/dialogflow/docs/intents-rich-messages#quick) are sent to Facebook Messenger as [Facebook Messenger quick replies](https://developers.facebook.com/docs/messenger-platform/reference/buttons/quick-replies) .\n### Custom payload responses\nTo send other types of Facebook Messenger messages, you can use a [custom payload](https://cloud.google.com/dialogflow/docs/intents-rich-messages#custom) .\nThe general format of the custom payload looks like:\n```\n{\n \"facebook\": {\n message\n }\n}\n```\nIn place of `message` , provide the Facebook Messenger `message` object. For details of the `message` object, see the [Facebook Messenger API reference](https://developers.facebook.com/docs/messenger-platform/reference/send-api/) .\nFor example:\n- Send an audio link:```\n{\n \"facebook\": {\n \"attachment\": {\n  \"type\": \"audio\",\n  \"payload\": {\n  \"url\": \"https://example.com/audio/test.mp3\"\n  }\n }\n }\n}\n \n```\n- Send a playable video:```\n{\n \"facebook\": {\n \"attachment\": {\n  \"type\": \"video\",\n  \"payload\": {\n  \"url\": \"https://example.com/video.mp4\"\n  }\n }\n }\n}\n \n```\n- Send a file:```\n{\n \"facebook\": {\n \"attachment\": {\n  \"type\": \"file\",\n  \"payload\": {\n  \"url\": \"https://example.com/file.pdf\"\n  }\n }\n }\n}\n \n```## Limitations\n- A Dialogflow agent can only be installed on one Workplace instance, but you can install multiple Dialogflow agents on one Workplace instance.\n- To remove a failed installation, you need to both cancel the installation on Dialogflow and remove the installation on Workplace.## Migration\nIf you are using Messenger integration and you are going to migrate it to Workplace integration, you'll need to:\n- Stop the Messenger integration.\n- Remove the callback_url on the Facebook app by reversing steps in [Setting Up Your Facebook App](https://developers.facebook.com/docs/messenger-platform/getting-started/app-setup) .\n- Start the Workplace integration following steps above.", "guide": "Dialogflow"}