{"title": "Dialogflow - Date of birth collection prebuilt component", "url": "https://cloud.google.com/dialogflow/cx/docs/concept/prebuilt-component/date-of-birth-collection", "abstract": "# Dialogflow - Date of birth collection prebuilt component\nThis [prebuilt component](/dialogflow/cx/docs/concept/prebuilt-component) captures and validates a date of birth by collecting month, date, and year.\n", "content": "## Limitations\nIn addition to the [common prebuilt component limitations](/dialogflow/cx/docs/concept/prebuilt-component#limits) , this prebuilt component has the following limitations:\n- This component does not support verification of end-user's date of birth via ID verification.## Recommended agent settings\n[Enable DTMF](/dialogflow/cx/docs/concept/parameter#dtmf) to allow users to input numeric values using the telephone keypad.\n## Additional functionalities\nThe following additional functionalities are provided by this prebuilt component:\n- [Repeat](/dialogflow/cx/docs/concept/prebuilt-component#repeat-functionality) \n- [Waiting room](/dialogflow/cx/docs/concept/prebuilt-component#waiting-room-functionality) \n- [Playback](/dialogflow/cx/docs/concept/prebuilt-component#playback-functionality) ## Sample dialogs\nThe following sample dialogs demonstrate common scenarios handled by this prebuilt component. The sample dialogs demonstrate behavior when the component is called via telephony, which triggers the Default Welcome Intent and the first agent response at the start of the conversation.\n### Full date of birth\nEnd-user provides complete date of birth in one turn; agent successfully accepts it.\n| User input   | Agent response                          |\n|:-------------------|:----------------------------------------------------------------------------------------------------------------------|\n| nan    | Please provide your date of birth. Please say your birth month, followed by your birth day, and then your birth year. |\n| September 9th 1995 | nan                             |\n| nan    | Okay, your birthdate is September 9, 1995. Is that correct?               |\n| yes    | nan                             |\n| nan    | Great, I've collected your birthdate.                     |\n### Partial date of birth\nEnd-user provides date of birth by saying month first followed by date and year; agent successfully accepts it.\n| User input | Agent response                          |\n|:-------------|:----------------------------------------------------------------------------------------------------------------------|\n| nan   | Please provide your date of birth. Please say your birth month, followed by your birth day, and then your birth year. |\n| March  | nan                             |\n| nan   | What day were you born on?                       |\n| 12   | nan                             |\n| nan   | What year were you born in?                       |\n| 1999   | nan                             |\n| nan   | Okay, your birthdate is March 12, 1999. Is that correct?                |\n| yes   | nan                             |\n| nan   | Great, I've collected your birthdate.                     |\n### Future date validation\nThis scenario assumes the current date is March 22, 2023. End-user provides a future date of birth; agent validates it and re-prompts end-user to provide the correct date of birth.\n| User input   | Agent response                          |\n|:-------------------|:----------------------------------------------------------------------------------------------------------------------|\n| nan    | Please provide your date of birth. Please say your birth month, followed by your birth day, and then your birth year. |\n| September 9th 2023 | nan                             |\n| nan    | What year were you born in?                       |\n| 2023    | nan                             |\n| nan    | Okay, your birthdate is September 9, 2023. Is that correct?               |\n| yes    | nan                             |\n| nan    | Sorry, you have provided a future date. Let's start again. Which month were you born in?        |\n| March    | nan                             |\n| nan    | What day were you born on?                       |\n| 12     | nan                             |\n| nan    | What year were you born in?                       |\n| 1999    | nan                             |\n| nan    | Okay, your birthdate is March 12, 1999. Is that correct?                |\n| yes    | nan                             |\n| nan    | Great, I've collected your birthdate.                     |\n### Invalid date\nEnd-user provides an invalid date of birth such as February 30th 1999 or April 31st 1999; agent validates it and re-prompts end-user to provide the correct date of birth.\n| User input   | Agent response                          |\n|:-------------------|:----------------------------------------------------------------------------------------------------------------------|\n| nan    | Please provide your date of birth. Please say your birth month, followed by your birth day, and then your birth year. |\n| February 30th 1999 | nan                             |\n| nan    | Okay, your birthdate is February 30, 1999. Is that correct?               |\n| yes    | nan                             |\n| nan    | The date you have provided is invalid. Let's start again. Which month were you born in?        |\n| March    | nan                             |\n| nan    | What day were you born on?                       |\n| 12     | nan                             |\n| nan    | What year were you born in?                       |\n| 1999    | nan                             |\n| nan    | Okay, your birthdate is March 12,1999. Is that correct?                |\n| yes    | nan                             |\n| nan    | Great, I've collected your birthdate.                     |\n### Unrecognized input\nComponent exits the flow after the end-user provides unrecognized input three times.\n| User input | Agent response                                        |\n|:-------------|:---------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| nan   | Please provide your date of birth. Please say your birth month, followed by your birth day, and then your birth year.              |\n| It's fine | nan                                          |\n| nan   | Sorry, I didn't get that. Can you please say or enter your date of birth again?                       |\n| nice   | nan                                          |\n| nan   | Sorry I did not get your date of birth. Let's start with month. Please say which month were you born in?                 |\n| good   | nan                                          |\n| nan   | Sorry, I didn't get that. Can you please say or enter the month number again?                        |\n| nice   | nan                                          |\n| nan   | Hmm, I still wasn't able to get that. Please make sure you're saying the month. If I am having trouble hearing you, you can also use the keypad to enter the month number. |\n| nice   | nan                                          |\n| nan   | Sorry, I'm having difficulty understanding your response.                             |\n## Date of birth validation\nThis prebuilt component uses the [IS_DATE](/dialogflow/cx/docs/reference/system-functions#func-isdate) and [IS_FUTURE_DATE](/dialogflow/cx/docs/reference/system-functions#func-isfuturedate) system functions to check whether a collected date is valid and in the past. In addition:\n- Inputs such as \"this month\", \"next month\" or \"last month\" are converted into the appropriate months. For example, if the end-user is interacting with the agent in March, then \"this month\", \"next month\" and \"last month\" are converted into \"March\", \"April\" and \"February\" respectively.\n- Validates that the year should be four digits. If the year input contains only two digits, the component converts it into a four-digit year. For example, \"98\" is converted to \"1998\".\n- Input such as \"this Thursday\", \"last Thursday\", and \"next Thursday\" are captured as the appropriate month and day and the agent prompts to provide the year. For example, if end-user is interacting with the agent on March 22, 2023, which is a Wednesday, then \"this Thursday\", \"last Thursday\", and \"next Thursday\" are converted into \"March 23\", \"March 16\", and \"March 30\" respectively.## Naming conventions\nThis prebuilt component uses the following naming conventions:\n| Feature     | Format            | Example           |\n|:--------------------------|:---------------------------------------------------|:-------------------------------------------------|\n| Flow      | [Component Name]         | DOB Collection         |\n| Component Specific Intent | prebuilt_components_[component_name]_[intent_name] | prebuilt_components_dob_collection_collect_month |\n| Parameter     | [param_name]          | dob            |\n| Entity Type    | prebuilt_components_[component_name]_[entity_type] | prebuilt_components_dob_collection_dob_day  |\n## Output parameters\nOutput parameters are session parameters that will remain active after exiting the component. These parameters contain important information collected by the component. This prebuilt component provides values for the following output parameters:\n| Parameter Name  | Description                    | Output Format           |\n|:-------------------|:----------------------------------------------------------------------------------------|:---------------------------------------------------------|\n| dob_collection_dob | This parameter returns an object containing date of birth elements: day, month and year | { \"year\": integer, \"month\": integer, \"day\": integer } |\n## Basic setup\nTo set up this prebuilt component:\n- [Import the prebuilt component](/dialogflow/cx/docs/concept/prebuilt-component#import) .\n### Complete\nYour agent and should now be set up and ready to test.", "guide": "Dialogflow"}