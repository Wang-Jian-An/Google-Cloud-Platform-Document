{"title": "Dialogflow - \u4f7f\u7528 API \u7ba1\u7406\u9801\u9762", "url": "https://cloud.google.com/dialogflow/cx/docs/how/page-manage?hl=zh-cn", "abstract": "# Dialogflow - \u4f7f\u7528 API \u7ba1\u7406\u9801\u9762\n\u5728\u5927\u591a\u6578\u60c5\u6cc1\u4e0b\uff0c\u60a8\u5c07\u4f7f\u7528\u63a7\u5236\u6aaf\u4f86\u7ba1\u7406\u9801\u9762\u3002\u5728\u9ad8\u7d1a\u5834\u666f\u4e2d\uff0c\u60a8\u53ef\u80fd\u5e0c\u671b\u4f7f\u7528 API \u4f86\u7ba1\u7406\u9801\u9762\u3002\u672c\u6307\u5357\u4ecb\u7d39\u5982\u4f55\u4f7f\u7528 API \u5275\u5efa\u3001\u5217\u51fa\u548c\u522a\u9664\u9801\u9762\u3002\n", "content": "## \u5275\u5efa\u9801\u9762\n\u5982\u9700\u7232\u4ee3\u7406\u5275\u5efa\u9801\u9762\uff0c\u8acb\u5c0d `Page` \u985e\u578b\u8abf\u7528 `create` \u65b9\u6cd5\u3002\n\u8981\u5411 Dialogflow \u9032\u884c\u8eab\u4efd\u9a57\u8b49\uff0c\u8acb\u8a2d\u7f6e\u61c9\u7528\u9ed8\u8a8d\u6191\u64da\u3002  \u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1 [\u7232\u672c\u5730\u958b\u767c\u74b0\u5883\u8a2d\u7f6e\u8eab\u4efd\u9a57\u8b49](https://cloud.google.com/docs/authentication/provide-credentials-adc?hl=zh-cn#local-dev) \u3002\n [\u5728 GitHub \u4e0a\u67e5\u770b](https://github.com/GoogleCloudPlatform/java-docs-samples/blob/HEAD/dialogflow-cx/src/main/java/dialogflow/cx/CreateSimplePage.java) \n```\nimport com.google.cloud.dialogflow.cx.v3.CreatePageRequest;import com.google.cloud.dialogflow.cx.v3.Page;import com.google.cloud.dialogflow.cx.v3.PagesClient;import java.io.IOException;public class CreateSimplePage {\u00a0 public static void main(String[] args) throws IOException {\u00a0 \u00a0 // TODO(developer): Replace these variables before running the sample.\u00a0 \u00a0 String projectId = \"my-project-id\";\u00a0 \u00a0 String agentId = \"my-agent-id\";\u00a0 \u00a0 String flowId = \"my-flow-id\";\u00a0 \u00a0 String location = \"my-location\";\u00a0 \u00a0 String displayName = \"my-display-name\";\u00a0 \u00a0 createPage(projectId, agentId, flowId, location, displayName);\u00a0 }\u00a0 // DialogFlow API Create Page Sample.\u00a0 // Creates a page from the provided parameters\u00a0 public static Page createPage(\u00a0 \u00a0 \u00a0 String projectId, String agentId, String flowId, String location, String displayName)\u00a0 \u00a0 \u00a0 throws IOException {\u00a0 \u00a0 Page response;\u00a0 \u00a0 CreatePageRequest.Builder createRequestBuilder = CreatePageRequest.newBuilder();\u00a0 \u00a0 Page.Builder pageBuilder = Page.newBuilder();\u00a0 \u00a0 pageBuilder.setDisplayName(displayName);\u00a0 \u00a0 createRequestBuilder\u00a0 \u00a0 \u00a0 \u00a0 .setParent(\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \"projects/\"\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 + projectId\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 + \"/locations/\"\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 + location\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 + \"/agents/\"\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 + agentId\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 + \"/flows/\"\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 + flowId)\u00a0 \u00a0 \u00a0 \u00a0 .setPage(pageBuilder);\u00a0 \u00a0 // Make API request to create page\u00a0 \u00a0 // Note: close() needs to be called on the PagesClient object to clean up resources\u00a0 \u00a0 // such as threads. In the example below, try-with-resources is used,\u00a0 \u00a0 // which automatically calls close().\u00a0 \u00a0 try (PagesClient client = PagesClient.create()) {\u00a0 \u00a0 \u00a0 response = client.createPage(createRequestBuilder.build());\u00a0 \u00a0 \u00a0 System.out.println(\"Successfully created page!\");\u00a0 \u00a0 \u00a0 return response;\u00a0 \u00a0 }\u00a0 }\n```\u8981\u5411 Dialogflow \u9032\u884c\u8eab\u4efd\u9a57\u8b49\uff0c\u8acb\u8a2d\u7f6e\u61c9\u7528\u9ed8\u8a8d\u6191\u64da\u3002  \u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1 [\u7232\u672c\u5730\u958b\u767c\u74b0\u5883\u8a2d\u7f6e\u8eab\u4efd\u9a57\u8b49](https://cloud.google.com/docs/authentication/provide-credentials-adc?hl=zh-cn#local-dev) \u3002\n [\u5728 GitHub \u4e0a\u67e5\u770b](https://github.com/GoogleCloudPlatform/nodejs-docs-samples/blob/HEAD/dialogflow-cx/create-page.js) \n```\nasync function createPage(projectId, agentId, flowId, location, displayName) {\u00a0 const pagesClient = new PagesClient();\u00a0 const createPageRequest = {\u00a0 \u00a0 parent: `projects/${projectId}/locations/${location}/agents/${agentId}/flows/${flowId}`,\u00a0 \u00a0 page: {\u00a0 \u00a0 \u00a0 displayName: displayName,\u00a0 \u00a0 },\u00a0 };\u00a0 const response = await pagesClient.createPage(createPageRequest);\u00a0 console.log(response);}\n```\u8981\u5411 Dialogflow \u9032\u884c\u8eab\u4efd\u9a57\u8b49\uff0c\u8acb\u8a2d\u7f6e\u61c9\u7528\u9ed8\u8a8d\u6191\u64da\u3002  \u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1 [\u7232\u672c\u5730\u958b\u767c\u74b0\u5883\u8a2d\u7f6e\u8eab\u4efd\u9a57\u8b49](https://cloud.google.com/docs/authentication/provide-credentials-adc?hl=zh-cn#local-dev) \u3002\n [\u5728 GitHub \u4e0a\u67e5\u770b](https://github.com/GoogleCloudPlatform/python-docs-samples/blob/HEAD/dialogflow-cx/page_management.py) \n```\nasync def create_page(project_id, agent_id, flow_id, location, displayName):\u00a0 \u00a0 pages_client = PagesAsyncClient()\u00a0 \u00a0 page = Page()\u00a0 \u00a0 page.display_name = displayName\u00a0 \u00a0 request = CreatePageRequest()\u00a0 \u00a0 request.parent = (\u00a0 \u00a0 \u00a0 \u00a0 \"projects/\"\u00a0 \u00a0 \u00a0 \u00a0 + project_id\u00a0 \u00a0 \u00a0 \u00a0 + \"/locations/\"\u00a0 \u00a0 \u00a0 \u00a0 + location\u00a0 \u00a0 \u00a0 \u00a0 + \"/agents/\"\u00a0 \u00a0 \u00a0 \u00a0 + agent_id\u00a0 \u00a0 \u00a0 \u00a0 + \"/flows/\"\u00a0 \u00a0 \u00a0 \u00a0 + flow_id\u00a0 \u00a0 )\u00a0 \u00a0 request.page = page\u00a0 \u00a0 response = await pages_client.create_page(request=request)\u00a0 \u00a0 return response\n```\n## \u5217\u51fa\u9801\u9762\n\u5982\u9700\u5217\u51fa\u4ee3\u7406\u7684\u9801\u9762\uff0c\u8acb\u5c0d `Page` \u985e\u578b\u8abf\u7528 `list` \u65b9\u6cd5\u3002\n\u8981\u5411 Dialogflow \u9032\u884c\u8eab\u4efd\u9a57\u8b49\uff0c\u8acb\u8a2d\u7f6e\u61c9\u7528\u9ed8\u8a8d\u6191\u64da\u3002  \u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1 [\u7232\u672c\u5730\u958b\u767c\u74b0\u5883\u8a2d\u7f6e\u8eab\u4efd\u9a57\u8b49](https://cloud.google.com/docs/authentication/provide-credentials-adc?hl=zh-cn#local-dev) \u3002\n [\u5728 GitHub \u4e0a\u67e5\u770b](https://github.com/GoogleCloudPlatform/java-docs-samples/blob/HEAD/dialogflow-cx/src/main/java/dialogflow/cx/ListPages.java) \n```\nimport com.google.cloud.dialogflow.cx.v3.ListPagesRequest;import com.google.cloud.dialogflow.cx.v3.ListPagesRequest.Builder;import com.google.cloud.dialogflow.cx.v3.Page;import com.google.cloud.dialogflow.cx.v3.PagesClient;import java.io.IOException;public class ListPages {\u00a0 public static void main(String[] args) throws IOException {\u00a0 \u00a0 // TODO(developer): Replace these variables before running the sample.\u00a0 \u00a0 String projectId = \"my-project-id\";\u00a0 \u00a0 String agentId = \"my-agent-id\";\u00a0 \u00a0 String flowId = \"my-flow-id\";\u00a0 \u00a0 String location = \"my-location\";\u00a0 \u00a0 listPages(projectId, agentId, flowId, location);\u00a0 }\u00a0 // DialogFlow API List Pages Sample.\u00a0 // Lists all pages from the provided parameters\u00a0 public static void listPages(String projectId, String agentId, String flowId, String location)\u00a0 \u00a0 \u00a0 throws IOException {\u00a0 \u00a0 // Note: close() needs to be called on the PagesClient object to clean up resources\u00a0 \u00a0 // such as threads. In the example below, try-with-resources is used,\u00a0 \u00a0 // which automatically calls close().\u00a0 \u00a0 try (PagesClient client = PagesClient.create()) {\u00a0 \u00a0 \u00a0 Builder listRequestBuilder = ListPagesRequest.newBuilder();\u00a0 \u00a0 \u00a0 String parentPath =\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 String.format(\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \"projects/%s/locations/%s/agents/%s/flows/%s\", projectId, location, agentId, flowId);\u00a0 \u00a0 \u00a0 listRequestBuilder.setParent(parentPath);\u00a0 \u00a0 \u00a0 listRequestBuilder.setLanguageCode(\"en\");\u00a0 \u00a0 \u00a0 // Make API request to list all pages in the project\u00a0 \u00a0 \u00a0 for (Page element : client.listPages(listRequestBuilder.build()).iterateAll()) {\u00a0 \u00a0 \u00a0 \u00a0 System.out.println(element);\u00a0 \u00a0 \u00a0 }\u00a0 \u00a0 }\u00a0 }\n```\u8981\u5411 Dialogflow \u9032\u884c\u8eab\u4efd\u9a57\u8b49\uff0c\u8acb\u8a2d\u7f6e\u61c9\u7528\u9ed8\u8a8d\u6191\u64da\u3002  \u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1 [\u7232\u672c\u5730\u958b\u767c\u74b0\u5883\u8a2d\u7f6e\u8eab\u4efd\u9a57\u8b49](https://cloud.google.com/docs/authentication/provide-credentials-adc?hl=zh-cn#local-dev) \u3002\n [\u5728 GitHub \u4e0a\u67e5\u770b](https://github.com/GoogleCloudPlatform/nodejs-docs-samples/blob/HEAD/dialogflow-cx/list-page.js) \n```\nasync function listPages(projectId, agentId, flowId, location) {\u00a0 const pagesClient = new PagesClient();\u00a0 const listPageRequest = {\u00a0 \u00a0 parent: `projects/${projectId}/locations/${location}/agents/${agentId}/flows/${flowId}`,\u00a0 \u00a0 languageCode: 'en',\u00a0 };\u00a0 const response = await pagesClient.listPages(listPageRequest);\u00a0 console.log(response);}\n```\u8981\u5411 Dialogflow \u9032\u884c\u8eab\u4efd\u9a57\u8b49\uff0c\u8acb\u8a2d\u7f6e\u61c9\u7528\u9ed8\u8a8d\u6191\u64da\u3002  \u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1 [\u7232\u672c\u5730\u958b\u767c\u74b0\u5883\u8a2d\u7f6e\u8eab\u4efd\u9a57\u8b49](https://cloud.google.com/docs/authentication/provide-credentials-adc?hl=zh-cn#local-dev) \u3002\n [\u5728 GitHub \u4e0a\u67e5\u770b](https://github.com/GoogleCloudPlatform/python-docs-samples/blob/HEAD/dialogflow-cx/page_management.py) \n```\nasync def list_page(project_id, agent_id, flow_id, location):\u00a0 \u00a0 pages_client = PagesAsyncClient()\u00a0 \u00a0 request = ListPagesRequest()\u00a0 \u00a0 request.parent = (\u00a0 \u00a0 \u00a0 \u00a0 f\"projects/{project_id}/locations/{location}/agents/{agent_id}/flows/{flow_id}\"\u00a0 \u00a0 )\u00a0 \u00a0 request.language_code = \"en\"\u00a0 \u00a0 response = await pages_client.list_pages(request=request)\u00a0 \u00a0 return response\n```\n## \u522a\u9664\u9801\u9762\n\u5982\u9700\u522a\u9664\u4ee3\u7406\u7684\u9801\u9762\uff0c\u8acb\u5c0d `Page` \u985e\u578b\u8abf\u7528 `delete` \u65b9\u6cd5\u3002\n\u8981\u5411 Dialogflow \u9032\u884c\u8eab\u4efd\u9a57\u8b49\uff0c\u8acb\u8a2d\u7f6e\u61c9\u7528\u9ed8\u8a8d\u6191\u64da\u3002  \u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1 [\u7232\u672c\u5730\u958b\u767c\u74b0\u5883\u8a2d\u7f6e\u8eab\u4efd\u9a57\u8b49](https://cloud.google.com/docs/authentication/provide-credentials-adc?hl=zh-cn#local-dev) \u3002\n [\u5728 GitHub \u4e0a\u67e5\u770b](https://github.com/GoogleCloudPlatform/java-docs-samples/blob/HEAD/dialogflow-cx/src/main/java/dialogflow/cx/DeletePage.java) \n```\nimport com.google.cloud.dialogflow.cx.v3.DeletePageRequest;import com.google.cloud.dialogflow.cx.v3.DeletePageRequest.Builder;import com.google.cloud.dialogflow.cx.v3.PagesClient;import java.io.IOException;public class DeletePage {\u00a0 public static void main(String[] args) throws IOException {\u00a0 \u00a0 // TODO(developer): Replace these variables before running the sample.\u00a0 \u00a0 String projectId = \"my-project-id\";\u00a0 \u00a0 String agentId = \"my-agent-id\";\u00a0 \u00a0 String flowId = \"my-flow-id\";\u00a0 \u00a0 String pageId = \"my-page-id\";\u00a0 \u00a0 String location = \"my-location\";\u00a0 \u00a0 deletePage(projectId, agentId, flowId, pageId, location);\u00a0 }\u00a0 // DialogFlow API Delete Page Sample.\u00a0 // Deletes a page from the provided parameters\u00a0 public static void deletePage(\u00a0 \u00a0 \u00a0 String projectId, String agentId, String flowId, String pageId, String location)\u00a0 \u00a0 \u00a0 throws IOException {\u00a0 \u00a0 // Note: close() needs to be called on the PagesClient object to clean up resources\u00a0 \u00a0 // such as threads. In the example below, try-with-resources is used,\u00a0 \u00a0 // which automatically calls close().\u00a0 \u00a0 try (PagesClient client = PagesClient.create()) {\u00a0 \u00a0 \u00a0 Builder deleteRequestBuilder = DeletePageRequest.newBuilder();\u00a0 \u00a0 \u00a0 deleteRequestBuilder.setName(\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \"projects/\"\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 + projectId\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 + \"/locations/\"\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 + location\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 + \"/agents/\"\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 + agentId\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 + \"/flows/\"\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 + flowId\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 + \"/pages/\"\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 + pageId);\u00a0 \u00a0 \u00a0 // Make API request to delete page\u00a0 \u00a0 \u00a0 client.deletePage(deleteRequestBuilder.build());\u00a0 \u00a0 \u00a0 System.out.println(\"Successfully deleted page!\");\u00a0 \u00a0 }\u00a0 }\n```\u8981\u5411 Dialogflow \u9032\u884c\u8eab\u4efd\u9a57\u8b49\uff0c\u8acb\u8a2d\u7f6e\u61c9\u7528\u9ed8\u8a8d\u6191\u64da\u3002  \u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1 [\u7232\u672c\u5730\u958b\u767c\u74b0\u5883\u8a2d\u7f6e\u8eab\u4efd\u9a57\u8b49](https://cloud.google.com/docs/authentication/provide-credentials-adc?hl=zh-cn#local-dev) \u3002\n [\u5728 GitHub \u4e0a\u67e5\u770b](https://github.com/GoogleCloudPlatform/nodejs-docs-samples/blob/HEAD/dialogflow-cx/delete-page.js) \n```\nasync function deletePage(projectId, agentId, flowId, pageId, location) {\u00a0 const pagesClient = new PagesClient();\u00a0 const req = {\u00a0 \u00a0 name: `projects/${projectId}/locations/${location}/agents/${agentId}/flows/${flowId}/pages/${pageId}`,\u00a0 };\u00a0 const response = await pagesClient.deletePage(req);\u00a0 console.log(response);}\n```\u8981\u5411 Dialogflow \u9032\u884c\u8eab\u4efd\u9a57\u8b49\uff0c\u8acb\u8a2d\u7f6e\u61c9\u7528\u9ed8\u8a8d\u6191\u64da\u3002  \u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1 [\u7232\u672c\u5730\u958b\u767c\u74b0\u5883\u8a2d\u7f6e\u8eab\u4efd\u9a57\u8b49](https://cloud.google.com/docs/authentication/provide-credentials-adc?hl=zh-cn#local-dev) \u3002\n [\u5728 GitHub \u4e0a\u67e5\u770b](https://github.com/GoogleCloudPlatform/python-docs-samples/blob/HEAD/dialogflow-cx/page_management.py) \n```\nasync def delete_page(project_id, agent_id, flow_id, page_id, location):\u00a0 \u00a0 pages_client = PagesAsyncClient()\u00a0 \u00a0 request = DeletePageRequest()\u00a0 \u00a0 request.name = f\"projects/{project_id}/locations/{location}/agents/{agent_id}/flows/{flow_id}/pages/{page_id}\"\u00a0 \u00a0 response = await pages_client.delete_page(request=request)\u00a0 \u00a0 return response\n```", "guide": "Dialogflow"}