{"title": "Dialogflow - List data with a filter", "url": "https://cloud.google.com/dialogflow/cx/docs/how/filter", "abstract": "# Dialogflow - List data with a filter\nWhen listing data with the API, some list method requests provide a `filter` field. You can use these filters to only return results you are interested in. This [filtering feature](https://google.aip.dev/160) is common across many Google Cloud APIs.\nThe following examples show how to filter the response when listing test case results.\nTo authenticate to Dialogflow, set up Application Default Credentials.  For more information, see [Set up authentication for a local development environment](/docs/authentication/provide-credentials-adc#local-dev) .\n [View on GitHub](https://github.com/GoogleCloudPlatform/java-docs-samples/blob/HEAD/dialogflow-cx/src/main/java/dialogflow/cx/ListTestCaseResults.java) \n```\nimport com.google.cloud.dialogflow.cx.v3.ListTestCaseResultsRequest;import com.google.cloud.dialogflow.cx.v3.ListTestCaseResultsRequest.Builder;import com.google.cloud.dialogflow.cx.v3.TestCaseResult;import com.google.cloud.dialogflow.cx.v3.TestCasesClient;import com.google.cloud.dialogflow.cx.v3.TestCasesSettings;import java.io.IOException;public class ListTestCaseResults {\u00a0 public static void main(String[] args) throws IOException {\u00a0 \u00a0 // TODO(developer): Replace these variables before running the sample.\u00a0 \u00a0 String projectId = \"my-project-id\";\u00a0 \u00a0 String agentId = \"my-agent-id\";\u00a0 \u00a0 String testId = \"my-test-id\";\u00a0 \u00a0 String location = \"my-location\";\u00a0 \u00a0 listTestCaseResults(projectId, agentId, testId, location);\u00a0 }\u00a0 public static void listTestCaseResults(\u00a0 \u00a0 \u00a0 String projectId, String agentId, String testId, String location) throws IOException {\u00a0 \u00a0 String parent =\u00a0 \u00a0 \u00a0 \u00a0 \"projects/\"\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 + projectId\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 + \"/locations/\"\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 + location\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 + \"/agents/\"\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 + agentId\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 + \"/testCases/\"\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 + testId;\u00a0 \u00a0 Builder req = ListTestCaseResultsRequest.newBuilder();\u00a0 \u00a0 req.setParent(parent);\u00a0 \u00a0 req.setFilter(\"environment=draft\");\u00a0 \u00a0 TestCasesSettings testCasesSettings =\u00a0 \u00a0 \u00a0 \u00a0 TestCasesSettings.newBuilder()\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .setEndpoint(location + \"-dialogflow.googleapis.com:443\")\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .build();\u00a0 \u00a0 // Note: close() needs to be called on the TestCasesClient object to clean up resources\u00a0 \u00a0 // such as threads. In the example below, try-with-resources is used,\u00a0 \u00a0 // which automatically calls close().\u00a0 \u00a0 try (TestCasesClient client = TestCasesClient.create(testCasesSettings)) {\u00a0 \u00a0 \u00a0 for (TestCaseResult element : client.listTestCaseResults(req.build()).iterateAll()) {\u00a0 \u00a0 \u00a0 \u00a0 System.out.println(element);\u00a0 \u00a0 \u00a0 }\u00a0 \u00a0 }\u00a0 }}\n```To authenticate to Dialogflow, set up Application Default Credentials.  For more information, see [Set up authentication for a local development environment](/docs/authentication/provide-credentials-adc#local-dev) .\n [View on GitHub](https://github.com/GoogleCloudPlatform/nodejs-docs-samples/blob/HEAD/dialogflow-cx/list-testcase-results.js) \n```\nconst parent = `projects/${projectId}/locations/${location}/agents/${agentId}/testCases/${testId}`;const {TestCasesClient} = require('@google-cloud/dialogflow-cx');const client = new TestCasesClient({\u00a0 apiEndpoint: 'global-dialogflow.googleapis.com',});const req = {\u00a0 parent,\u00a0 filter: 'environment=draft',};const res = await client.listTestCaseResults(req);console.log(res);\n```To authenticate to Dialogflow, set up Application Default Credentials.  For more information, see [Set up authentication for a local development environment](/docs/authentication/provide-credentials-adc#local-dev) .\n [View on GitHub](https://github.com/GoogleCloudPlatform/python-docs-samples/blob/HEAD/dialogflow-cx/list_testcase_results.py) \n```\nfrom google.cloud.dialogflowcx_v3.services.test_cases.client import TestCasesClientfrom google.cloud.dialogflowcx_v3.types.test_case import ListTestCaseResultsRequestdef list_test_case(project_id, agent_id, test_id, location):\u00a0 \u00a0 req = ListTestCaseResultsRequest()\u00a0 \u00a0 req.parent = f\"projects/{project_id}/locations/{location}/agents/{agent_id}/testCases/{test_id}\"\u00a0 \u00a0 req.filter = \"environment=draft\"\u00a0 \u00a0 client = TestCasesClient(\u00a0 \u00a0 \u00a0 \u00a0 client_options={\"api_endpoint\": f\"{location}-dialogflow.googleapis.com\"}\u00a0 \u00a0 )\u00a0 \u00a0 # Makes a call to list all test case results that match filter\u00a0 \u00a0 result = client.list_test_case_results(request=req)\u00a0 \u00a0 print(result)\u00a0 \u00a0 return result\n``", "content": "`", "guide": "Dialogflow"}