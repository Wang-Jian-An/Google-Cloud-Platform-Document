{"title": "Dialogflow - \u751f\u6210\u5668", "url": "https://cloud.google.com/dialogflow/cx/docs/concept/generative/generators?hl=zh-cn", "abstract": "# Dialogflow - \u751f\u6210\u5668\n**\u6ce8\u610f** \uff1a \u529f\u80fd\u5df2\u5f9e [Dialogflow \u670d\u52d9\u7b49\u7d1a\u5354\u8b70 (SLA)](https://cloud.google.com/dialogflow/sla?hl=zh-cn) \u4e2d\u6392\u9664\u3002\n\u751f\u6210\u5668\u4f7f\u7528 Google \u6700\u65b0\u7684\u751f\u6210\u5f0f\u5927\u8a9e\u8a00\u6a21\u578b (LLM) \u548c\u60a8\u63d0\u4f9b\u7684\u63d0\u793a\uff0c\u5728\u904b\u884c\u6642\u751f\u6210\u4ee3\u7406\u884c\u7232\u548c\u97ff\u61c9\u3002\u53ef\u7528\u6a21\u578b\u7531 [Vertex AI](https://cloud.google.com/vertex-ai/docs/generative-ai/learn/overview?hl=zh-cn) \u63d0\u4f9b\u3002\n\u85c9\u52a9\u751f\u6210\u5668\uff0c\u60a8\u53ef\u4ee5\u5f9e Dialogflow CX \u4ee5\u539f\u751f\u65b9\u5f0f\u8abf\u7528 LLM\uff0c\u800c\u7121\u9700\u5275\u5efa\u81ea\u5df1\u7684\u5916\u90e8\u7db2\u7d61\u9264\u5b50\u3002\u60a8\u53ef\u4ee5\u5c0d\u751f\u6210\u5668\u9032\u884c\u914d\u7f6e\uff0c\u4f7f\u5176\u57f7\u884c\u60a8\u901a\u5e38\u8981\u6c42 LLM \u57f7\u884c\u7684\u4efb\u4f55\u64cd\u4f5c\u3002\n\u751f\u6210\u5668\u975e\u5e38\u9069\u5408\u6458\u8981\u3001\u53c3\u6578\u63d0\u53d6\u548c\u6578\u64da\u8f49\u63db\u7b49\u4efb\u52d9\uff0c\u8acb\u53c3\u95b1 [\u4e0b\u9762\u7684\u793a\u4f8b](#examples) \u3002\n", "content": "## \u9650\u5236\n\u6b64\u529f\u80fd\u76ee\u524d\u53ef\u4f9b\u4f7f\u7528\u4efb\u4f55 Dialogflow \u8a9e\u8a00\u7684\u4ee3\u7406\u3002\u8acb\u6ce8\u610f\uff0c\u53ef\u7528\u6a21\u578b\u53ef\u80fd\u5177\u6709\u66f4\u56b4\u683c\u7684\u8a9e\u8a00\u9650\u5236\uff0c\u8acb\u53c3\u95b1 [Vertex AI](https://cloud.google.com/vertex-ai/docs/generative-ai/learn/overview?hl=zh-cn) \u77ad\u89e3\u8a73\u60c5\u3002\n## \u77ad\u89e3\u751f\u6210\u5668\u6982\u5ff5\n[Vertex AI](https://cloud.google.com/vertex-ai/docs/generative-ai/learn/overview?hl=zh-cn) \u6587\u6a94\u5305\u542b\u5728\u7232 Dialogflow \u5275\u5efa\u751f\u6210\u5668\u6642\u9700\u8981\u4e86\u89e3\u7684\u91cd\u8981\u4fe1\u606f\uff1a\n- [\u6a21\u578b](https://cloud.google.com/vertex-ai/docs/generative-ai/learn/models?hl=zh-cn) \n- [\u63d0\u793a](https://cloud.google.com/vertex-ai/docs/generative-ai/learn/introduction-prompt-design?hl=zh-cn) \n- [\u63a7\u4ef6\uff08\u5728 Vertex AI \u4e2d\u7a31\u7232\u201c\u53c3\u6578\u503c\u201d\uff09](https://cloud.google.com/vertex-ai/docs/generative-ai/learn/introduction-prompt-design?hl=zh-cn#experiment-with-different-parameter-values) ## \u5b9a\u7fa9\u751f\u6210\u5668\n\u5982\u9700\u5275\u5efa\u751f\u6210\u5668\uff0c\u8acb\u57f7\u884c\u4ee5\u4e0b\u64cd\u4f5c\uff1a\n- \u8f49\u5230 [Dialogflow CX \u63a7\u5236\u6aaf](https://dialogflow.cloud.google.com/cx/projects?hl=zh-cn) \u3002\n- \u9078\u64c7\u60a8\u7684 Google Cloud \u9805\u76ee\u3002\n- \u9078\u64c7\u4ee3\u7406\u3002\n- \u9ede\u64ca **\u7ba1\u7406** \u6a19\u7c64\u9801\u3002\n- \u9ede\u64ca **Generators** \uff08\u751f\u6210\u5668\uff09\u3002\n- \u9ede\u64ca **\u65b0\u5efa** (Create new)\u3002\n- \u7232\u751f\u6210\u5668\u8f38\u5165\u4e00\u500b\u63cf\u8ff0\u6027\u7684\u986f\u793a\u540d\u3002\n- \u6309\u7167 [\u6982\u5ff5](#concepts) \u4e2d\u7684\u8aaa\u660e\u8f38\u5165\u6587\u672c\u63d0\u793a\u3001\u6a21\u578b\u548c\u63a7\u4ef6\u3002\n- \u9ede\u64ca **\u4fdd\u5b58** \u3002\n\u6587\u672c\u63d0\u793a\u5728\u904b\u884c\u6642\u57f7\u884c\u671f\u9593\u767c\u9001\u5230\u751f\u6210\u6a21\u578b\u3002\u5b83\u61c9\u8a72\u662f\u660e\u78ba\u7684\u554f\u984c\u6216\u8acb\u6c42\uff0c\u4ee5\u4fbf\u6a21\u578b\u751f\u6210\u4ee4\u4eba\u6eff\u610f\u7684\u56de\u7b54\u3002\n\u60a8\u53ef\u4ee5\u901a\u904e\u5728\u5b57\u8a5e\u524d\u6dfb\u52a0 `$` \u5c07\u5b57\u8a5e\u6a19\u8a18\u7232\u4f54\u4f4d\u7b26\uff0c\u4f7f\u63d0\u793a\u8207\u4e0a\u4e0b\u6587\u76f8\u95dc\u3002\u7a0d\u5f8c\u60a8\u53ef\u4ee5\u5c07\u9019\u4e9b \u8207\u57f7\u884c\u65b9\u5f0f\u4e2d\u7684\u6703\u8a71\u53c3\u6578\u76f8\u95dc\u806f\uff0c\u4e26\u5728\u57f7\u884c\u671f\u9593\u5c07\u5176\u66ff\u63db\u7232\u6703\u8a71\u53c3\u6578\u503c\u3002\n\u6709\u4e00\u4e9b\u7279\u6b8a\u7684 \u4e0d\u9700\u8981\u8207\u6703\u8a71\u53c3\u6578\u76f8\u95dc\u806f\u3002\u9019\u4e9b\n| \u671f\u9650     | \u5b9a\u7fa9           |\n|:---------------------|:---------------------------------------------|\n| $conversation  | \u4ee3\u7406\u8207\u7528\u6236\u4e4b\u9593\u7684\u5c0d\u8a71\uff0c\u4e0d\u5305\u62ec\u7528\u6236\u6700\u5f8c\u7684\u8a71\u8a9e\u3002 |\n| $last-user-utterance | \u4e0a\u4e00\u689d\u7528\u6236\u8a71\u8a9e\u3002        |\n## \u5728 fulfillment \u4e2d\u4f7f\u7528\u751f\u6210\u5668\n\u60a8\u53ef\u4ee5\u5728\u57f7\u884c\u65b9\u5f0f\u671f\u9593\u4f7f\u7528\u751f\u6210\u5668\uff08\u5728 **\u8def\u7531** \u3001 **\u4e8b\u4ef6\u8655\u7406\u7a0b\u5e8f** \u3001 **\u53c3\u6578** \u7b49\u4e2d\uff09\u3002\n\u8f49\u5230 **Fulfillment** \u7a97\u683c\u7684 **Generators** \u90e8\u5206\uff0c\u4e26\u5c07\u5176\u5c55\u958b\u3002 \u7136\u5f8c\uff0c\u9ede\u64ca **\u6dfb\u52a0\u751f\u6210\u5668** \u3002\u73fe\u5728\uff0c\u60a8\u53ef\u4ee5\u9078\u64c7\u9810\u5b9a\u7fa9\u7684\u751f\u6210\u5668\uff0c\u4e5f\u53ef\u4ee5\u5728\u9069\u7576\u4f4d\u7f6e\u5b9a\u7fa9\u65b0\u7684\u751f\u6210\u5668\u3002\n\u9078\u64c7\u751f\u6210\u5668\u5f8c\uff0c\u60a8\u9700\u8981\u5c07\u63d0\u793a\u7684 \u8207\u6703\u8a71\u53c3\u6578\u76f8\u95dc\u806f\u3002\u6b64\u5916\uff0c\u60a8\u9700\u8981\u5b9a\u7fa9\u5305\u542b\u57f7\u884c\u5f8c\u751f\u6210\u5668\u7d50\u679c\u7684\u8f38\u51fa\u53c3\u6578\u3002\n\u8acb\u6ce8\u610f\uff0c\u60a8\u53ef\u4ee5\u5728\u4e00\u500b\u57f7\u884c\u65b9\u5f0f\u4e2d\u6dfb\u52a0\u591a\u500b\u4e26\u884c\u57f7\u884c\u7684\u751f\u6210\u5668\u3002\n\u6b64\u8f38\u51fa\u53c3\u6578\u53ef\u4ee5\u7a0d\u5f8c\u4f7f\u7528\uff0c\u4f8b\u5982\u5728\u4ee3\u7406\u97ff\u61c9\u4e2d\u3002\n## \u6e2c\u8a66\u751f\u6210\u5668\n\u60a8\u53ef\u4ee5\u76f4\u63a5\u5728\u6a21\u64ec\u5668\u4e2d\u6e2c\u8a66 \u529f\u80fd\u3002\n## \u793a\u4f8b\n\u672c\u90e8\u5206\u63d0\u4f9b\u4e86\u751f\u6210\u5668\u7684\u793a\u4f8b\u7528\u4f8b\u3002\n### \u5167\u5bb9\u6458\u8981\n\u6b64\u793a\u4f8b\u5c55\u793a\u77ad\u5982\u4f55\u7e3d\u7d50\u5167\u5bb9\u3002\n**\u63d0\u793a** \uff1a\n```\nYour goal is to summarize a given text.\nText:\n$text\nA concise summary of the text in 1 or 2 sentences is:\n```\n### \u5c0d\u8a71\u6458\u8981\n\u6b64\u793a\u4f8b\u5c55\u793a\u77ad\u5982\u4f55\u63d0\u4f9b\u5c0d\u8a71\u6458\u8981\u3002\u8acb\u6ce8\u610f\u6211\u5011\u5982\u4f55\u5728\u5c0d\u8a71\u6b77\u53f2\u8a18\u9304\u4e2d\u660e\u78ba\u6307\u5b9a\u958b\u5553\u7684\u5c0d\u8a71\u7684\u524d\u7db4\uff0c\u4e26\u6dfb\u52a0 $last-user-utterance\uff0c\u56e0\u7232\u5b83\u672a\u5305\u542b\u5728 $conversation \u4e2d\u3002\n**\u63d0\u793a** \uff1a\n```\nYour goal is to summarize a given conversation between a Human and an AI.\nConversation:\n${conversation USER:\"Human:\" AGENT:\"AI:\"}Human: $last-user-utterance\nA concise summary of the conversation in 1 or 2 sentences is:\n```\n**\u5df2\u89e3\u6c7a\u7684\u63d0\u793a** \uff1a\n\u5c0d\u65bc\u793a\u4f8b\u5c0d\u8a71\uff0c\u767c\u9001\u5230\u751f\u6210\u6a21\u578b\u7684\u5df2\u89e3\u6c7a\u7684\u63d0\u793a\u53ef\u4ee5\u662f\uff1a\n```\nYour goal is to summarize a given conversation between a Human and an AI.\nConversation:\nAI: Good day! What can I do for you today?\nHuman: Hi, which models can I use in Dialogflow's generators?\nAI: You can use all models that Vertex AI provides!\nHuman: Thanks, thats amazing!\nA concise summary of the conversation in 1 or 2 sentences is:\n```\n### Markdown \u683c\u5f0f\n\u6b64\u793a\u4f8b\u5c55\u793a\u77ad\u5982\u4f55\u5728 Markdown \u4e2d\u8a2d\u7f6e\u6587\u672c\u683c\u5f0f\u3002\n```\n# Instructions\nYou are presented with a text and your goal is to apply markdown formatting to text.\n**NOTE:** Do not change the meaning of the text, only the formatting.\n# Example\n## Text\nGenerators allow you to use Googles latest generative models to format text,\nor to create a summaries, or even to write code. What an amazing feature.\n## Text in Markdown\n*Generators* allow you to use Google's latest generative models to\n* format text\n* create a summaries\n* write code\nWhat an amazing feature.\n# Your current task\n## Text\n$text\n## Text in Markdown\n```\n### \u554f\u984c\u56de\u7b54\n\u9019\u4e00\u7cfb\u5217\u793a\u4f8b\u5c55\u793a\u77ad\u5982\u4f55\u4f7f\u7528\u751f\u6210\u5668\u56de\u7b54\u554f\u984c\u3002\n\u9996\u5148\uff0c\u60a8\u53ef\u4ee5\u53ea\u4f9d\u9760\u751f\u6210\u6a21\u578b\u7684\u5167\u90e8\u77e5\u8b58\u4f86\u56de\u7b54\u9019\u500b\u554f\u984c\u3002\u4f46\u8acb\u6ce8\u610f\uff0c\u6a21\u578b\u5c07\u50c5\u6839\u64da\u8a13\u7df4\u6578\u64da\u4e2d\u5305\u542b\u7684\u4fe1\u606f\u63d0\u4f9b\u7b54\u6848\u3002\u6211\u5011\u7121\u6cd5\u4fdd\u8b49\u7b54\u6848\u662f\u771f\u5be6\u7684\u6216\u6700\u65b0\u7684\u3002\n**\u901a\u904e\u81ea\u6211\u8a8d\u8b58\u63d0\u793a\u56de\u7b54\u554f\u984c**\n```\nYour goal is to politely reply to a human with an answer to their question.\nThe human asked:\n$last-user-utterance\nYou answer:\n```\n**\u63d0\u793a\u7528\u6240\u63d0\u4f9b\u7684\u4fe1\u606f\u56de\u7b54\u554f\u984c**\n\u4f46\u662f\uff0c\u5982\u679c\u60a8\u5e0c\u671b\u6a21\u578b\u6839\u64da\u60a8\u63d0\u4f9b\u7684\u4fe1\u606f\u7d66\u51fa\u56de\u7b54\uff0c\u53ea\u9700\u5c07\u5176\u6dfb\u52a0\u5230\u63d0\u793a\u4e2d\u5373\u53ef\u3002\u6b64\u65b9\u6cd5\u9069\u5408\u60a8\u5e0c\u671b\u63d0\u4f9b\u7684\u4fe1\u606f\uff08\u4f8b\u5982\u5c0f\u9910\u9928\u83dc\u55ae\u6216\u8cb4\u516c\u53f8\u7684\u806f\u7e6b\u4fe1\u606f\uff09\u4e0d\u591a\u3002\n```\n# Instructions\nYour goal is to politely answer questions about the restaurant menu.\nIf you cannot answer the question because it is not related to the restaurant\nmenu or because relevant information is missing from the menu, you politely\ndecline to answer.\n# Restaurant menu:\n## Starters\nSalat 5$\n## Main dishes\nPizza 10$\n## Deserts\nIce cream 2$\n# Examples\nQuestion: How much is the pizza?\nAnswer: The pizza is 10$.\nQuestion: I want to order the ice cream.\nAnswer: We do have ice cream! However, I can only answer questions about the menu.\nQuestion: Do you have spaghetti?\nAnswer: I'm sorry, we do not have spaghetti on the menu.\n# Your current task\nQuestion: $last-user-utterance\nAnswer:\n```\n**\u4f7f\u7528\u52d5\u614b\u63d0\u4f9b\u7684\u4fe1\u606f\u63d0\u793a\u56de\u7b54\u554f\u984c**\n\u901a\u5e38\u60c5\u6cc1\u4e0b\uff0c\u60a8\u5e0c\u671b\u6a21\u578b\u6839\u64da\u5176\u7b54\u6848\u63d0\u4f9b\u7684\u4fe1\u606f\u904e\u591a\uff0c\u7121\u6cd5\u76f4\u63a5\u7c98\u8cbc\u5230\u63d0\u793a\u4e2d\u3002\u5728\u9019\u7a2e\u60c5\u6cc1\u4e0b\uff0c\u60a8\u53ef\u4ee5\u5c07\u751f\u6210\u5668\u9023\u63a5\u5230\u4fe1\u606f\u6aa2\u7d22\u7cfb\u7d71\uff08\u5982\u6578\u64da\u5eab\u6216\u641c\u7d22\u5f15\u64ce\uff09\uff0c\u4ee5\u6839\u64da\u67e5\u8a62\u52d5\u614b\u6aa2\u7d22\u4fe1\u606f\u3002\u60a8\u53ea\u9700\u5c07\u8a72\u7cfb\u7d71\u7684\u8f38\u51fa\u4fdd\u5b58\u5230\u53c3\u6578\u4e2d\uff0c\u4e26\u5c07\u5176\u9023\u63a5\u5230\u63d0\u793a\u4e2d\u7684\u4f54\u4f4d\u7b26\u5373\u53ef\u3002\n```\n# Instructions\nYour goal is to politely answer questions based on the provided information.\nIf you cannot answer the question given the provided information, you plitely\ndecline to answer.\n# Provided information:\n$information\nQuestion: $last-user-utterance\nAnswer:\n```\n### \u4ee3\u78bc\u751f\u6210\n\u6b64\u793a\u4f8b\u5c55\u793a\u77ad\u5982\u4f55\u4f7f\u7528\u751f\u6210\u5668\u4f86\u7de8\u5beb\u4ee3\u78bc\uff01\u8acb\u6ce8\u610f\uff0c\u5728\u9019\u7a2e\u60c5\u6cc1\u4e0b\uff0c\u4f7f\u7528\u7d93\u904e\u5c08\u9580\u8a13\u7df4\u7684\u751f\u6210\u6a21\u578b\u4f86\u751f\u6210\u4ee3\u78bc\u5f88\u5408\u7406\u3002\n**\u63d0\u793a**\n```\n# Instructions:\nYour goal is to write code in a given programming language solving a given problem.\nProblem to solve:\n$problem\nProgramming language:\n$programming-language\n# Solution:\n```\n### \u4e0a\u5831\u7d66\u4eba\u5de5\u5ba2\u670d\n\u6b64\u793a\u4f8b\u5c55\u793a\u77ad\u5982\u4f55\u8655\u7406\u4e0a\u5831\u7d66\u4eba\u5de5\u5ba2\u670d\u4eba\u54e1\u7684\u64cd\u4f5c\u3002\u63d0\u793a\u4e2d\u7684\u6700\u5f8c\u5169\u689d\u6307\u4ee4\u53ef\u4ee5\u9632\u6b62\u6a21\u578b\u904e\u65bc\u5197\u9577\u3002\n**\u63d0\u793a** \uff1a\n```\n# Instructions:\nYou are a polite customer service agent that handles requests\nfrom users to speak with an operator.\nBased on the $last-user-utterance,\nrespond to the user appropriately about their request to speak with an operator.\nAlways be polite and assure the user that you\nwill do your best to help their situation.\nDo not ask the user any questions.\nDo not ask the user if there is anything you can do to help them.\n# Answer:\n```\n### \u751f\u6210\u641c\u7d22\u67e5\u8a62\n\u6b64\u793a\u4f8b\u5c55\u793a\u77ad\u5982\u4f55\u512a\u5316\u7528\u6236\u63d0\u4f9b\u7684 Google \u641c\u7d22\u67e5\u8a62\u3002\n**\u63d0\u793a** \uff1a\n```\n# Instructions:\nYou are an expert at Google Search and using \"Google Fu\"\nto build concise search terms that provide the highest quality results.\nA user will provide an example query,\nand you will attempt to optimize this to be the best Google Search query possible.\n# Example:\nUser: when was covid-19 first started and where did it originated from?\nAgent: covid-19 start origin\n# Your task:\nUser: $text\nAgent:\n```\n### \u5ba2\u6236\u4fe1\u606f\u6aa2\u7d22\n\u4ee5\u4e0b\u793a\u4f8b\u5c55\u793a\u77ad\u5982\u4f55\u57f7\u884c\u4fe1\u606f\u6aa2\u7d22\u548c\u641c\u7d22\u5b57\u7b26\u4e32\u6216 JSON \u683c\u5f0f\u63d0\u4f9b\u7684\u4fe1\u606f\u3002Dialogflow \u6703\u8a71\u53c3\u6578\u901a\u5e38\u4f7f\u7528\u9019\u4e9b\u683c\u5f0f\u3002\n**\u63d0\u793a** \uff1a\n```\nYou are a database engineer and specialize in extracting information\nfrom both structured and unstructured data formats like CSV, SQL, JSON,\nand also plain text.\nGiven a $user_db, extract the information requested\nby the user from the $last-user-utterance\nEXAMPLE:\nuser_db: {'customer_name': 'Patrick', 'balance': '100'}\nUser: What is my current account balance?\nAgent: Your current balance is 100.\nBegin!\nuser_db: $user_db\nUser: $last-user-utterance\nAgent:\n```\n### \u66f4\u65b0 JSON \u5c0d\u8c61\n\u6b64\u793a\u4f8b\u5c55\u793a\u77ad\u5982\u4f55\u63a5\u53d7\u4f86\u81ea\u7528\u6236\uff08\u6216 webhook\uff09\u7684\u8f38\u5165 JSON \u5c0d\u8c61\uff0c\u7136\u5f8c\u6839\u64da\u7528\u6236\u7684\u8acb\u6c42\u64cd\u63a7\u8a72\u5c0d\u8c61\u3002\n**\u63d0\u793a** \uff1a\n```\nYou are an expert Software Engineer\nthat specializes in the JSON object data structure.\nGiven some user $update_request and existing $json_object,\nyou will modify the $json_object based on the user's $update_request.\nEXAMPLE:\njson_object = { \"a\": 1, \"b\": 123 }\nUser: Add a new key/value pair to my JSON\nAgent: What do you want to add?\nUser: c: cat\nAgent: { \"a\": 1, \"b\": 123, \"c\": \"cat\"}\njson_object = {\"accounts\": [{\"username\": \"user1\", \"account_number\": 12345}, {\"username\": \"user2\", \"account_number\": 98765}], \"timestamp\": \"2023-05-25\", \"version\":\"1.0\"}\nUser: Add a new value for user1\nAgent: What do you want to add?\nUser: birthday, 12/05/1982\nAgent: {\"accounts\": [{\"username\": \"user1\", \"account_number\": 12345, \"birthday\": \"12/05/1982\"}, {\"username\": \"user2\", \"account_number\": 98765}], \"timestamp\": \"2023-05-25\", \"version\":\"1.0\"}\njson_object = $json_object\nUser: Add a new key value to my db\nAgent: What do you want to add?\nUser: $last-user-utterance\nAgent:\n```\n## Codelab\n\u53e6\u8acb\u53c3\u95b1 [\u751f\u6210\u5668 Codelab](https://codelabs.developers.google.com/codelabs/dialogflow-generator?hl=zh-cn) \u3002", "guide": "Dialogflow"}