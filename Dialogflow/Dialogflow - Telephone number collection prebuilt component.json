{"title": "Dialogflow - Telephone number collection prebuilt component", "url": "https://cloud.google.com/dialogflow/cx/docs/concept/prebuilt-component/telephone-number-collection", "abstract": "# Dialogflow - Telephone number collection prebuilt component\nThis [prebuilt component](/dialogflow/cx/docs/concept/prebuilt-component) captures and validates country code and telephone number.\n", "content": "## Limitations\nIn addition to the [common prebuilt component limitations](/dialogflow/cx/docs/concept/prebuilt-component#limits) , this prebuilt component has the following limitations:\n- Telephone numbers more than 16 digits long are not accepted.## Recommended agent settings\n[Enable DTMF](/dialogflow/cx/docs/concept/parameter#dtmf) to allow users to input numeric values using the telephone keypad.\n## Additional features\nThe following additional functionalities are provided by this prebuilt component:\n- [Repeat](/dialogflow/cx/docs/concept/prebuilt-component#repeat-functionality) \n- [Waiting room](/dialogflow/cx/docs/concept/prebuilt-component#waiting-room-functionality) \n- [Playback](/dialogflow/cx/docs/concept/prebuilt-component#playback-functionality) ## Sample dialogs\nThe following sample dialogs demonstrate common scenarios handled by this prebuilt component. The sample dialogs demonstrate behavior when the component is called via telephony, which triggers the Default Welcome Intent and the first agent response at the start of the conversation.\n### Valid telephone number in two turns\nEnd-user provides country code first followed by telephone number; agent successfully validates and accepts it.\n| User input  | Agent response               |\n|:------------------|:------------------------------------------------------------------------|\n| nan    | What is your country name or code?          |\n| +1    | nan                  |\n| nan    | Got it, your country code is plus 1. Please say your telephone number. |\n| 6502530000  | nan                  |\n| nan    | Got it. The number you mentioned is plus 1 6502530000, is that correct? |\n| Yes, it's correct | nan                  |\n| nan    | Great, I'm done collecting the telephone number.      |\n### Valid telephone number in single turn\nEnd-user provides country code and telephone number at the same time, agent successfully validates and accepts it.\n| User input  | Agent response               |\n|:------------------|:------------------------------------------------------------------------|\n| nan    | What is your country name or code?          |\n| +1 6502530000  | nan                  |\n| nan    | Got it. The number you mentioned is plus 1 6502530000, is that correct? |\n| Yes, it's correct | nan                  |\n| nan    | Great, I'm done collecting the telephone number.      |\n### Invalid phone number\nEnd-user provides a country code and telephone number in one turn; agent checks and finds the provided telephone number is of valid length (within 16 digits) but not a valid telephone number. Then agent re-prompts the end-user to provide telephone number.\n| User input  | Agent response                                |\n|:------------------|:---------------------------------------------------------------------------------------------------------------------------------------------|\n| nan    | What is your country name or code?                           |\n| +1 6502530001  | nan                                   |\n| nan    | Sorry, but this telephone number cannot be recognized. I have collected the country code as plus 1. Please provide a valid telephone number. |\n| 6502530000  | nan                                   |\n| nan    | Got it. The number you mentioned is plus 1 6502530000, is that correct?                  |\n| Yes, it's correct | nan                                   |\n| nan    | Great, I'm done collecting the telephone number.                        |\n### Invalid country code and telephone number\nEnd-user provides a country code and telephone number in one turn; agent checks and finds the provided country code and telephone number is invalid. The agent then re-prompts the end-user to provide country code and telephone number.\n| User input  | Agent response                              |\n|:------------------|:-----------------------------------------------------------------------------------------------------------------------------------|\n| nan    | What is your country name or code?                         |\n| +0080000000000 | nan                                |\n| nan    | Sorry, it seems the provided country code or telephone number is invalid. Let's start again. Please say your country name or code. |\n| 1     | nan                                |\n| nan    | Got it, your country code is plus 1 . What is your telephone number?                |\n| 6502530000  | nan                                |\n| nan    | Got it. The number you mentioned is plus 1 6502530000, is that correct?               |\n| Yes, it's correct | nan                                |\n| nan    | Great, I'm done collecting the telephone number.                     |\n### Unrecognized input\nComponent exits the flow after the end-user provides unrecognized input three times.\n| User input | Agent response                                         |\n|:-------------|:----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| nan   | What is your country name or code?                                    |\n| It's fine | nan                                            |\n| nan   | Sorry, I didn't get that. Can you please say or enter the country code again?                          |\n| nice   | nan                                            |\n| nan   | Hmm, I still wasn't able to get that. Please make sure you're saying the country code. If I am having trouble hearing you, you can also use the keypad to enter the country code. |\n| good   | nan                                            |\n| nan   | Sorry, I'm having difficulty understanding your response.                               |\n## Telephone number validation\nThe telephone number prebuilt component uses the [IS_PHONE_NUMBER system function](/dialogflow/cx/docs/reference/system-functions#func-isphonenumber) to validate that the phone number matches a valid pattern.\n## Naming conventions\nThis prebuilt component uses the following naming conventions:\n| Feature     | Format            | Example                |\n|:--------------------------|:---------------------------------------------------|:-----------------------------------------------------------------------|\n| Flow      | [Component Name]         | Telephone Number Collection           |\n| Component Specific Intent | prebuilt_components_[component_name]_[intent_name] | prebuilt_components_telephone_number_collection_incorrect_country_code |\n| Parameter     | [param_name]          | telephone_number              |\n| Entity Type    | prebuilt_components_[component_name]_[intent_name] | prebuilt_components_telephone_no_country_code       |\n## Output parameters\nOutput parameters are session parameters that will remain active after exiting the component. These parameters contain important information collected by the component. This prebuilt component provides values for the following output parameters:\n| Parameter Name        | Description               | Output Format |\n|:---------------------------------------------|:----------------------------------------------------------------------|:----------------|\n| telephone_number_collection_telephone_number | This parameter returns the telephone number captured by the component | string   |\n| telephone_number_collection_country_code  | This parameter returns the country code captured by the component  | string   |\n## Basic setup\nTo set up this prebuilt component:\n- [Import the prebuilt component](/dialogflow/cx/docs/concept/prebuilt-component#import) .\n### Complete\nYour agent should now be set up and ready to test.", "guide": "Dialogflow"}