{"title": "Dialogflow - \u7ba1\u7406\u77e5\u8b58\u5eab", "url": "https://cloud.google.com/dialogflow/es/docs/how/knowledge-bases?hl=zh-cn", "abstract": "# Dialogflow - \u7ba1\u7406\u77e5\u8b58\u5eab\n**    Beta \u7248     ** \u672c\u7522\u54c1\u6216\u529f\u80fd\u9808\u9075\u5b88 [\u670d\u52d9\u5c08\u7528\u689d\u6b3e](https://cloud.google.com/terms/service-terms?hl=zh-cn#1) \u7684\u201c\u901a\u7528\u670d\u52d9\u689d\u6b3e\u201d\u90e8\u5206\u4e2d\u7684\u201c\u975e\u6b63\u5f0f\u7248\u7522\u54c1\u689d\u6b3e\u201d\u3002 \u6b63\u5f0f\u767c\u4f48\u524d\u7522\u54c1\u548c\u529f\u80fd\u201c\u6309\u539f\u6a23\u201d\u63d0\u4f9b\uff0c\u53ef\u80fd\u50c5\u63d0\u4f9b\u6709\u9650\u652f\u6301\u3002 \u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1 [\u767c\u4f48\u968e\u6bb5\u8aaa\u660e](https://cloud.google.com/products?hl=zh-cn#product-launch-stages) \u3002\n\u77e5\u8b58\u5eab\u662f\u60a8\u63d0\u4f9b\u7d66 Dialogflow \u7684 \u77e5\u8b58\u6587\u6a94\u7684\u96c6\u5408\u3002\u60a8\u7684\u77e5\u8b58\u6587\u6a94\u4e2d\u5305\u542b\u7684\u4fe1\u606f\u53ef\u80fd\u6709\u52a9\u65bc\u8207\u6700\u7d42\u7528\u6236\u7684\u5c0d\u8a71\u3002\u5728\u5c0b\u627e\u5c0d\u6700\u7d42\u7528\u6236\u8868\u9054\u7684\u97ff\u61c9\u6642\uff0c\u67d0\u4e9b Dialogflow \u529f\u80fd\u6703\u4f7f\u7528\u77e5\u8b58\u5eab\u3002\u672c\u6307\u5357\u4ecb\u7d39\u5982\u4f55\u5275\u5efa\u548c\u7ba1\u7406\u77e5\u8b58\u5eab\u3002\n\u77e5\u8b58\u5eab [\u5728\u4ee3\u7406\u7d1a\u5225\u61c9\u7528](https://cloud.google.com/dialogflow/es/docs/data-level?hl=zh-cn) \u3002\n", "content": "## \u6e96\u5099\u5de5\u4f5c\n\u5728\u95b1\u8b80\u672c\u6307\u5357\u4e4b\u524d\uff0c\u8acb\u5148\u5b8c\u6210\u4ee5\u4e0b\u4e8b\u9805\uff1a\n- \u95b1\u8b80 [Dialogflow \u57fa\u790e\u77e5\u8b58](https://cloud.google.com/dialogflow/docs/basics?hl=zh-cn) \u3002\n- \u57f7\u884c [\u8a2d\u7f6e\u6b65\u9a5f](https://cloud.google.com/dialogflow/docs/quick/setup?hl=zh-cn) \u3002## \u5275\u5efa\u77e5\u8b58\u5eab\n\u4e0b\u9762\u7684\u793a\u4f8b\u5c55\u793a\u60a8\u5982\u4f55\u4f7f\u7528 Dialogflow \u63a7\u5236\u6aaf\u3001REST API\uff08\u5305\u62ec\u547d\u4ee4\u884c\uff09\u6216\u5ba2\u6236\u7aef\u5eab\u4f86\u5275\u5efa\u77e5\u8b58\u5eab\u3002\u5982\u9700\u4f7f\u7528 API\uff0c\u8acb\u8abf\u7528 [KnowledgeBase](https://cloud.google.com/dialogflow/docs/reference/common-types?hl=zh-cn#knowledgebases) \u985e\u578b\u7684 `create` \u65b9\u6cd5\u3002\n\u4f7f\u7528 Dialogflow \u63a7\u5236\u6aaf\u5275\u5efa\u77e5\u8b58\u5eab\uff1a\n- \u8f49\u5230 [Dialogflow ES \u63a7\u5236\u6aaf](https://dialogflow.cloud.google.com?hl=zh-cn) \n- \u9078\u64c7\u4e00\u500b\u4ee3\u7406\n- \u9ede\u64ca\u5de6\u5074\u908a\u6b04\u83dc\u55ae\u4e0a\u7684 **\u77e5\u8b58** (Knowledge)\n- \u9ede\u64ca **\u5275\u5efa\u77e5\u8b58\u5eab** (Create Knowledge Base)\n- \u8f38\u5165\u77e5\u8b58\u5eab\u540d\u7a31\n- \u9ede\u64ca **\u4fdd\u5b58** \u5728\u4f7f\u7528\u4efb\u4f55\u8acb\u6c42\u6578\u64da\u4e4b\u524d\uff0c\u8acb\u5148\u9032\u884c\u4ee5\u4e0b\u66ff\u63db\uff1a- \uff1a\u60a8\u7684 GCP \u9805\u76ee ID\n- \uff1a\u6240\u9700\u7684\u77e5\u8b58\u5eab\u540d\u7a31\nHTTP \u65b9\u6cd5\u548c\u7db2\u5740\uff1a\n```\nPOST https://dialogflow.googleapis.com/v2beta1/projects/PROJECT_ID/knowledgeBases\n```\n\u8acb\u6c42 JSON \u6b63\u6587\uff1a\n```\n{\n \"displayName\": \"KNOWLEDGE_BASE_DISPLAY_NAME\"\n}\n```\n\u5982\u9700\u767c\u9001\u60a8\u7684\u8acb\u6c42\uff0c\u8acb\u5c55\u958b\u4ee5\u4e0b\u9078\u9805\u4e4b\u4e00\uff1a\u60a8\u61c9\u8a72\u6536\u5230\u985e\u4f3c\u4ee5\u4e0b\u5167\u5bb9\u7684 JSON \u97ff\u61c9\uff1a\n```\n{\n \"name\": \"projects/PROJECT_ID/knowledgeBases/NDA4MTM4NzE2MjMwNDUxMjAwMA\",\n \"displayName\": \"KNOWLEDGE_BASE_DISPLAY_NAME\"\n}\n```\n\u8a18\u4e0b `name` \u5b57\u6bb5\u7684\u503c\u3002\u9019\u662f\u60a8\u7684\u65b0\u77e5\u8b58\u5eab\u7684\u540d\u7a31\u3002 `knowledgeBases` \u5f8c\u9762\u7684\u8def\u5f91\u6bb5\u662f\u60a8\u7684\u65b0\u77e5\u8b58\u5eab ID\u3002 \u8acb\u4fdd\u5b58\u597d\u6b64 ID\uff0c\u4ee5\u4f9b\u5f8c\u7e8c\u8acb\u6c42\u4f7f\u7528\u3002\n\u8981\u5411 Dialogflow \u9032\u884c\u8eab\u4efd\u9a57\u8b49\uff0c\u8acb\u8a2d\u7f6e\u61c9\u7528\u9ed8\u8a8d\u6191\u64da\u3002\u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1 [\u7232\u672c\u5730\u958b\u767c\u74b0\u5883\u8a2d\u7f6e\u8eab\u4efd\u9a57\u8b49](https://cloud.google.com/docs/authentication/provide-credentials-adc?hl=zh-cn#local-dev) \u3002\n [\u5728 GitHub \u4e0a\u67e5\u770b](https://github.com/GoogleCloudPlatform/java-docs-samples/blob/HEAD/dialogflow/snippets/src/main/java/com/example/dialogflow/KnowledgeBaseManagement.java) \n```\nimport com.google.api.gax.rpc.ApiException;import com.google.cloud.dialogflow.v2.KnowledgeBase;import com.google.cloud.dialogflow.v2.KnowledgeBasesClient;import com.google.cloud.dialogflow.v2.LocationName;import java.io.IOException;public class KnowledgeBaseManagement {\u00a0 public static void main(String[] args) throws ApiException, IOException {\u00a0 \u00a0 // TODO(developer): Replace these variables before running the sample.\u00a0 \u00a0 String projectId = \"my-project-id\";\u00a0 \u00a0 String location = \"my-location\";\u00a0 \u00a0 // Set display name of the new knowledge base\u00a0 \u00a0 String knowledgeBaseDisplayName = \"my-knowledge-base-display-name\";\u00a0 \u00a0 // Create a knowledge base\u00a0 \u00a0 createKnowledgeBase(projectId, location, knowledgeBaseDisplayName);\u00a0 }\u00a0 // Create a Knowledge base\u00a0 public static void createKnowledgeBase(String projectId, String location, String displayName)\u00a0 \u00a0 \u00a0 throws ApiException, IOException {\u00a0 \u00a0 // Instantiates a client\u00a0 \u00a0 try (KnowledgeBasesClient knowledgeBasesClient = KnowledgeBasesClient.create()) {\u00a0 \u00a0 \u00a0 KnowledgeBase targetKnowledgeBase =\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 KnowledgeBase.newBuilder().setDisplayName(displayName).build();\u00a0 \u00a0 \u00a0 LocationName parent = LocationName.of(projectId, location);\u00a0 \u00a0 \u00a0 KnowledgeBase createdKnowledgeBase =\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 knowledgeBasesClient.createKnowledgeBase(parent, targetKnowledgeBase);\u00a0 \u00a0 \u00a0 System.out.println(\"====================\");\u00a0 \u00a0 \u00a0 System.out.format(\"Knowledgebase created:\\n\");\u00a0 \u00a0 \u00a0 System.out.format(\"Display Name: %s\\n\", createdKnowledgeBase.getDisplayName());\u00a0 \u00a0 \u00a0 System.out.format(\"Name: %s\\n\", createdKnowledgeBase.getName());\u00a0 \u00a0 }\u00a0 }}\n```\u8981\u5411 Dialogflow \u9032\u884c\u8eab\u4efd\u9a57\u8b49\uff0c\u8acb\u8a2d\u7f6e\u61c9\u7528\u9ed8\u8a8d\u6191\u64da\u3002\u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1 [\u7232\u672c\u5730\u958b\u767c\u74b0\u5883\u8a2d\u7f6e\u8eab\u4efd\u9a57\u8b49](https://cloud.google.com/docs/authentication/provide-credentials-adc?hl=zh-cn#local-dev) \u3002\n [\u5728 GitHub \u4e0a\u67e5\u770b](https://github.com/GoogleCloudPlatform/nodejs-docs-samples/blob/HEAD/dialogflow/detect.v2beta1.js) \n```\n// Imports the Dialogflow client libraryconst dialogflow = require('@google-cloud/dialogflow').v2beta1;// Instantiate a DialogFlow client.const client = new dialogflow.KnowledgeBasesClient();/**\u00a0* TODO(developer): Uncomment the following lines before running the sample.\u00a0*/// const projectId = 'ID of GCP project associated with your Dialogflow agent';// const displayName = `your knowledge base display name, e.g. myKnowledgeBase`;const formattedParent = 'projects/' + projectId;const knowledgeBase = {\u00a0 displayName: displayName,};const request = {\u00a0 parent: formattedParent,\u00a0 knowledgeBase: knowledgeBase,};const [result] = await client.createKnowledgeBase(request);console.log(`Name: ${result.name}`);console.log(`displayName: ${result.displayName}`);\n```\u8981\u5411 Dialogflow \u9032\u884c\u8eab\u4efd\u9a57\u8b49\uff0c\u8acb\u8a2d\u7f6e\u61c9\u7528\u9ed8\u8a8d\u6191\u64da\u3002\u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1 [\u7232\u672c\u5730\u958b\u767c\u74b0\u5883\u8a2d\u7f6e\u8eab\u4efd\u9a57\u8b49](https://cloud.google.com/docs/authentication/provide-credentials-adc?hl=zh-cn#local-dev) \u3002\n [\u5728 GitHub \u4e0a\u67e5\u770b](https://github.com/GoogleCloudPlatform/python-docs-samples/blob/HEAD/dialogflow/knowledge_base_management.py) \n```\ndef create_knowledge_base(project_id, display_name):\u00a0 \u00a0 \"\"\"Creates a Knowledge base.\u00a0 \u00a0 Args:\u00a0 \u00a0 \u00a0 \u00a0 project_id: The GCP project linked with the agent.\u00a0 \u00a0 \u00a0 \u00a0 display_name: The display name of the Knowledge base.\"\"\"\u00a0 \u00a0 from google.cloud import dialogflow_v2beta1 as dialogflow\u00a0 \u00a0 client = dialogflow.KnowledgeBasesClient()\u00a0 \u00a0 project_path = client.common_project_path(project_id)\u00a0 \u00a0 knowledge_base = dialogflow.KnowledgeBase(display_name=display_name)\u00a0 \u00a0 response = client.create_knowledge_base(\u00a0 \u00a0 \u00a0 \u00a0 parent=project_path, knowledge_base=knowledge_base\u00a0 \u00a0 )\u00a0 \u00a0 print(\"Knowledge Base created:\\n\")\u00a0 \u00a0 print(\"Display Name: {}\\n\".format(response.display_name))\u00a0 \u00a0 print(\"Name: {}\\n\".format(response.name))\n```\n## \u7232\u77e5\u8b58\u5eab\u6dfb\u52a0\u6587\u6a94\n\u60a8\u7684\u65b0\u77e5\u8b58\u5eab\u76ee\u524d\u6c92\u6709\u6587\u6a94\uff0c\u56e0\u6b64\u60a8\u61c9\u8a72\u5411\u5176\u4e2d\u6dfb\u52a0\u6587\u6a94\u3002\u5982\u9700\u77ad\u89e3\u6240\u6709\u53d7\u652f\u6301\u5167\u5bb9\u9078\u9805\u7684\u8aaa\u660e\uff0c\u8acb\u53c3\u95b1\u4e0b\u6587 [\u652f\u6301\u7684\u5167\u5bb9](#supported-content) \u90e8\u5206\u3002\u60a8\u53ef\u5728\u6b64\u793a\u4f8b\u4e2d\u4f7f\u7528 [Cloud Storage \u5e38\u898b\u554f\u984c\u89e3\u7b54](https://cloud.google.com/storage/docs/faq?hl=zh-cn) \u6587\u6a94\u3002\n**\u6ce8\u610f** \uff1a\u77e5\u8b58\u6587\u6a94\u53ea\u6709\u5728\u660e\u78ba\u5275\u5efa\u6216\u66f4\u65b0\u6642\u7e94\u6703\u88ab\u89e3\u6790\u3002\u5982\u679c\u60a8\u7684\u4f86\u6e90\u5167\u5bb9\u5728\u5275\u5efa\u77e5\u8b58\u6587\u6a94\u5f8c\u767c\u751f\u4e86\u8b8a\u5316\uff0c\u60a8\u9700\u8981 [\u66f4\u65b0\u77e5\u8b58\u6587\u6a94](#update) \u3002\n\u4e0b\u9762\u7684\u793a\u4f8b\u5c55\u793a\u60a8\u5982\u4f55\u4f7f\u7528 Dialogflow \u63a7\u5236\u6aaf\u3001REST API\uff08\u5305\u62ec\u547d\u4ee4\u884c\uff09\u6216\u5ba2\u6236\u7aef\u5eab\u4f86\u5275\u5efa\u77e5\u8b58\u6587\u6a94\u3002\u5982\u9700\u4f7f\u7528 API\uff0c\u8acb\u8abf\u7528 [Document](https://cloud.google.com/dialogflow/docs/reference/common-types?hl=zh-cn#documents) \u985e\u578b\u7684 `create` \u65b9\u6cd5\u3002\n\u4f7f\u7528 Dialogflow \u63a7\u5236\u6aaf\u5275\u5efa\u77e5\u8b58\u6587\u6a94\uff1a\n- \u5982\u679c\u60a8\u4e26\u975e\u6309\u7167\u4e0a\u6587\u6240\u8ff0\u6b65\u9a5f\u7e7c\u7e8c\u57f7\u884c\u64cd\u4f5c\uff0c\u8acb\u524d\u5f80\u60a8\u7684\u77e5\u8b58\u5eab\u8a2d\u7f6e\uff1a\n- \u8f49\u5230 [Dialogflow ES \u63a7\u5236\u6aaf](https://dialogflow.cloud.google.com?hl=zh-cn) \n- \u9078\u64c7\u4e00\u500b\u4ee3\u7406\n- \u9ede\u64ca\u5de6\u5074\u908a\u6b04\u83dc\u55ae\u4e0a\u7684 **\u77e5\u8b58** (Knowledge)\n- \u9ede\u64ca\u60a8\u7684\u77e5\u8b58\u5eab\u540d\u7a31\n- \u9ede\u64ca **\u65b0\u5efa\u6587\u6a94** (New Document) \u6216 **\u5275\u5efa\u7b2c\u4e00\u500b\u6587\u6a94** (Create the first one)\n- \u8f38\u5165\u6587\u6a94\u540d\u7a31\n- \u5c0d\u65bc **Mime \u985e\u578b** (Mime Type)\uff0c\u9078\u64c7 **text/html** \n- \u5c0d\u65bc **\u77e5\u8b58\u5eab\u985e\u578b** (Knowledge Type)\uff0c\u9078\u64c7 **\u5e38\u898b\u554f\u984c\u89e3\u7b54** (FAQ)\n- \u5c0d\u65bc **\u6578\u64da\u6e90** (Data Source)\uff0c\u9078\u64c7 **\u7db2\u5740** (URL)\n- \u5728 **\u7db2\u5740** (URL) \u5b57\u6bb5\u4e2d\u8f38\u5165 **https://cloud.google.com/storage/docs/faq** \n- \u9ede\u64ca **\u5275\u5efa** (CREATE)\n\u5728\u4f7f\u7528\u4efb\u4f55\u8acb\u6c42\u6578\u64da\u4e4b\u524d\uff0c\u8acb\u5148\u9032\u884c\u4ee5\u4e0b\u66ff\u63db\uff1a- \uff1a\u60a8\u7684 GCP \u9805\u76ee ID\n- \uff1a\u4e0a\u4e00\u9805\u8acb\u6c42\u8fd4\u56de\u7684\u60a8\u7684\u77e5\u8b58\u5eab ID\n- \uff1a\u6240\u9700\u7684\u77e5\u8b58\u6587\u6a94\u540d\u7a31\nHTTP \u65b9\u6cd5\u548c\u7db2\u5740\uff1a\n```\nPOST https://dialogflow.googleapis.com/v2beta1/projects/PROJECT_ID/knowledgeBases/KNOWLEDGE_BASE_ID/documents\n```\n\u8acb\u6c42 JSON \u6b63\u6587\uff1a\n```\n{\n \"displayName\": \"DOCUMENT_DISPLAY_NAME\",\n \"mimeType\": \"text/html\",\n \"knowledgeTypes\": \"FAQ\",\n \"contentUri\": \"https://cloud.google.com/storage/docs/faq\"\n}\n```\n\u5982\u9700\u767c\u9001\u60a8\u7684\u8acb\u6c42\uff0c\u8acb\u5c55\u958b\u4ee5\u4e0b\u9078\u9805\u4e4b\u4e00\uff1a\u60a8\u61c9\u8a72\u6536\u5230\u985e\u4f3c\u4ee5\u4e0b\u5167\u5bb9\u7684 JSON \u97ff\u61c9\uff1a\n```\n{\n \"name\": \"projects/PROJECT_ID/operations/ks-add_document-MzA5NTY2MTc5Mzg2Mzc5NDY4OA\"\n}\n```\n`operations` \u5f8c\u9762\u7684\u8def\u5f91\u6bb5\u662f\u60a8\u7684\u64cd\u4f5c ID\u3002\n\u8981\u5411 Dialogflow \u9032\u884c\u8eab\u4efd\u9a57\u8b49\uff0c\u8acb\u8a2d\u7f6e\u61c9\u7528\u9ed8\u8a8d\u6191\u64da\u3002\u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1 [\u7232\u672c\u5730\u958b\u767c\u74b0\u5883\u8a2d\u7f6e\u8eab\u4efd\u9a57\u8b49](https://cloud.google.com/docs/authentication/provide-credentials-adc?hl=zh-cn#local-dev) \u3002\n [\u5728 GitHub \u4e0a\u67e5\u770b](https://github.com/GoogleCloudPlatform/java-docs-samples/blob/HEAD/dialogflow/snippets/src/main/java/com/example/dialogflow/DocumentManagement.java) \n```\nimport com.google.api.gax.longrunning.OperationFuture;import com.google.api.gax.rpc.ApiException;import com.google.cloud.dialogflow.v2.CreateDocumentRequest;import com.google.cloud.dialogflow.v2.Document;import com.google.cloud.dialogflow.v2.Document.KnowledgeType;import com.google.cloud.dialogflow.v2.DocumentsClient;import com.google.cloud.dialogflow.v2.KnowledgeOperationMetadata;import java.io.IOException;import java.util.concurrent.ExecutionException;import java.util.concurrent.TimeUnit;import java.util.concurrent.TimeoutException;public class DocumentManagement {\u00a0 public static void createDocument(\u00a0 \u00a0 \u00a0 String knowledgeBaseName,\u00a0 \u00a0 \u00a0 String displayName,\u00a0 \u00a0 \u00a0 String mimeType,\u00a0 \u00a0 \u00a0 String knowledgeType,\u00a0 \u00a0 \u00a0 String contentUri)\u00a0 \u00a0 \u00a0 throws IOException, ApiException, InterruptedException, ExecutionException, TimeoutException {\u00a0 \u00a0 // Instantiates a client\u00a0 \u00a0 try (DocumentsClient documentsClient = DocumentsClient.create()) {\u00a0 \u00a0 \u00a0 Document document =\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 Document.newBuilder()\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .setDisplayName(displayName)\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .setContentUri(contentUri)\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .setMimeType(mimeType)\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .addKnowledgeTypes(KnowledgeType.valueOf(knowledgeType))\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .build();\u00a0 \u00a0 \u00a0 CreateDocumentRequest createDocumentRequest =\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 CreateDocumentRequest.newBuilder()\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .setDocument(document)\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .setParent(knowledgeBaseName)\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .build();\u00a0 \u00a0 \u00a0 OperationFuture<Document, KnowledgeOperationMetadata> response =\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 documentsClient.createDocumentAsync(createDocumentRequest);\u00a0 \u00a0 \u00a0 Document createdDocument = response.get(300, TimeUnit.SECONDS);\u00a0 \u00a0 \u00a0 System.out.format(\"Created Document:\\n\");\u00a0 \u00a0 \u00a0 System.out.format(\" - Display Name: %s\\n\", createdDocument.getDisplayName());\u00a0 \u00a0 \u00a0 System.out.format(\" - Document Name: %s\\n\", createdDocument.getName());\u00a0 \u00a0 \u00a0 System.out.format(\" - MIME Type: %s\\n\", createdDocument.getMimeType());\u00a0 \u00a0 \u00a0 System.out.format(\" - Knowledge Types:\\n\");\u00a0 \u00a0 \u00a0 for (KnowledgeType knowledgeTypeId : document.getKnowledgeTypesList()) {\u00a0 \u00a0 \u00a0 \u00a0 System.out.format(\" \u00a0- %s \\n\", knowledgeTypeId.getValueDescriptor());\u00a0 \u00a0 \u00a0 }\u00a0 \u00a0 \u00a0 System.out.format(\" - Source: %s \\n\", document.getContentUri());\u00a0 \u00a0 }\u00a0 }}\n```\u8981\u5411 Dialogflow \u9032\u884c\u8eab\u4efd\u9a57\u8b49\uff0c\u8acb\u8a2d\u7f6e\u61c9\u7528\u9ed8\u8a8d\u6191\u64da\u3002\u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1 [\u7232\u672c\u5730\u958b\u767c\u74b0\u5883\u8a2d\u7f6e\u8eab\u4efd\u9a57\u8b49](https://cloud.google.com/docs/authentication/provide-credentials-adc?hl=zh-cn#local-dev) \u3002\n [\u5728 GitHub \u4e0a\u67e5\u770b](https://github.com/GoogleCloudPlatform/nodejs-docs-samples/blob/HEAD/dialogflow/detect.v2beta1.js) \n```\n// \u00a0 // Imports the Dialogflow client library// \u00a0 const dialogflow = require('@google-cloud/dialogflow').v2beta1;// \u00a0 // Instantiate a DialogFlow Documents client.// \u00a0 const client = new dialogflow.DocumentsClient({// \u00a0 \u00a0 projectId: projectId,// \u00a0 });// \u00a0 /**// \u00a0 \u00a0* TODO(developer): Uncomment the following lines before running the sample.// \u00a0 \u00a0*/// \u00a0 // const projectId = 'ID of GCP project associated with your Dialogflow agent';// \u00a0 // const knowledgeBaseFullName = `the full path of your knowledge base, e.g my-Gcloud-project/myKnowledgeBase`;// \u00a0 // const documentPath = `path of the document you'd like to add, e.g. https://dialogflow.com/docs/knowledge-connectors`;// \u00a0 // const documentName = `displayed name of your document in knowledge base, e.g. myDoc`;// \u00a0 // const knowledgeTypes = `The Knowledge type of the Document. e.g. FAQ`;// \u00a0 // const mimeType = `The mime_type of the Document. e.g. text/csv, text/html,text/plain, text/pdf etc.`;// \u00a0 const request = {// \u00a0 \u00a0 parent: knowledgeBaseFullName,// \u00a0 \u00a0 document: {// \u00a0 \u00a0 \u00a0 knowledgeTypes: [knowledgeTypes],// \u00a0 \u00a0 \u00a0 displayName: documentName,// \u00a0 \u00a0 \u00a0 contentUri: documentPath,// \u00a0 \u00a0 \u00a0 source: 'contentUri',// \u00a0 \u00a0 \u00a0 mimeType: mimeType,// \u00a0 \u00a0 },// \u00a0 };// \u00a0 const [operation] = await client.createDocument(request);// \u00a0 const [response] = await operation.promise();// \u00a0 console.log('Document created');// \u00a0 console.log(`Content URI...${response.contentUri}`);// \u00a0 console.log(`displayName...${response.displayName}`);// \u00a0 console.log(`mimeType...${response.mimeType}`);// \u00a0 console.log(`name...${response.name}`);// \u00a0 console.log(`source...${response.source}`);\n```\u8981\u5411 Dialogflow \u9032\u884c\u8eab\u4efd\u9a57\u8b49\uff0c\u8acb\u8a2d\u7f6e\u61c9\u7528\u9ed8\u8a8d\u6191\u64da\u3002\u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1 [\u7232\u672c\u5730\u958b\u767c\u74b0\u5883\u8a2d\u7f6e\u8eab\u4efd\u9a57\u8b49](https://cloud.google.com/docs/authentication/provide-credentials-adc?hl=zh-cn#local-dev) \u3002\n [\u5728 GitHub \u4e0a\u67e5\u770b](https://github.com/GoogleCloudPlatform/python-docs-samples/blob/HEAD/dialogflow/document_management.py) \n```\ndef create_document(\u00a0 \u00a0 project_id, knowledge_base_id, display_name, mime_type, knowledge_type, content_uri):\u00a0 \u00a0 \"\"\"Creates a Document.\u00a0 \u00a0 Args:\u00a0 \u00a0 \u00a0 \u00a0 project_id: The GCP project linked with the agent.\u00a0 \u00a0 \u00a0 \u00a0 knowledge_base_id: Id of the Knowledge base.\u00a0 \u00a0 \u00a0 \u00a0 display_name: The display name of the Document.\u00a0 \u00a0 \u00a0 \u00a0 mime_type: The mime_type of the Document. e.g. text/csv, text/html,\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 text/plain, text/pdf etc.\u00a0 \u00a0 \u00a0 \u00a0 knowledge_type: The Knowledge type of the Document. e.g. FAQ,\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 EXTRACTIVE_QA.\u00a0 \u00a0 \u00a0 \u00a0 content_uri: Uri of the document, e.g. gs://path/mydoc.csv,\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 http://mypage.com/faq.html.\"\"\"\u00a0 \u00a0 from google.cloud import dialogflow_v2beta1 as dialogflow\u00a0 \u00a0 client = dialogflow.DocumentsClient()\u00a0 \u00a0 knowledge_base_path = dialogflow.KnowledgeBasesClient.knowledge_base_path(\u00a0 \u00a0 \u00a0 \u00a0 project_id, knowledge_base_id\u00a0 \u00a0 )\u00a0 \u00a0 document = dialogflow.Document(\u00a0 \u00a0 \u00a0 \u00a0 display_name=display_name, mime_type=mime_type, content_uri=content_uri\u00a0 \u00a0 )\u00a0 \u00a0 document.knowledge_types.append(\u00a0 \u00a0 \u00a0 \u00a0 getattr(dialogflow.Document.KnowledgeType, knowledge_type)\u00a0 \u00a0 )\u00a0 \u00a0 response = client.create_document(parent=knowledge_base_path, document=document)\u00a0 \u00a0 print(\"Waiting for results...\")\u00a0 \u00a0 document = response.result(timeout=120)\u00a0 \u00a0 print(\"Created Document:\")\u00a0 \u00a0 print(\" - Display Name: {}\".format(document.display_name))\u00a0 \u00a0 print(\" - Knowledge ID: {}\".format(document.name))\u00a0 \u00a0 print(\" - MIME Type: {}\".format(document.mime_type))\u00a0 \u00a0 print(\" - Knowledge Types:\")\u00a0 \u00a0 for knowledge_type in document.knowledge_types:\u00a0 \u00a0 \u00a0 \u00a0 print(\" \u00a0 \u00a0- {}\".format(KNOWLEDGE_TYPES[knowledge_type]))\u00a0 \u00a0 print(\" - Source: {}\\n\".format(document.content_uri))\n```\n\u6587\u6a94\u5275\u5efa\u5c6c\u65bc\u4e00\u9805\u9577\u6642\u9593\u904b\u884c\u7684\u64cd\u4f5c\uff0c\u53ef\u80fd\u9700\u8981\u5927\u91cf\u6642\u9593\u624d\u80fd\u5b8c\u6210\u3002 \u60a8\u53ef\u4ee5\u8f2a\u8a62\u6b64\u64cd\u4f5c\u7684\u72c0\u614b\u4ee5\u67e5\u770b\u5b83\u662f\u5426\u5df2\u5b8c\u6210\u3002 \u5b8c\u6210\u5f8c\uff0c\u8a72\u64cd\u4f5c\u5c07\u5305\u542b\u65b0\u5275\u5efa\u7684\u6587\u6a94 ID\u3002 \u4fdd\u5b58\u6b64 ID \u4f9b\u65e5\u5f8c\u8655\u7406\u3002 \u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1 [\u9577\u6642\u9593\u904b\u884c\u7684\u64cd\u4f5c](https://cloud.google.com/dialogflow/docs/how/long-running-operations?hl=zh-cn) \u3002\n## \u7ba1\u7406\u77e5\u8b58\u6587\u6a94\n### \u66f4\u65b0\u77e5\u8b58\u6587\u6a94\u5167\u5bb9\n\u5982\u679c\u60a8\u66f4\u65b0\u4e86\u7531\u77e5\u8b58\u6587\u6a94\u5f15\u7528\u7684\u5167\u5bb9\uff0c\u77e5\u8b58\u6587\u6a94\u53ef\u80fd\u4e0d\u6703\u81ea\u52d5\u5237\u65b0\u3002\u53ea\u6709\u5728\u60a8\u4ee5\u516c\u958b\u7db2\u5740\u5f62\u5f0f\u63d0\u4f9b\u5167\u5bb9\u4e26\u4e14\u7232\u6587\u6a94\u52fe\u9078\u4e86 **\u5553\u7528\u81ea\u52d5\u91cd\u65b0\u52a0\u8f09** \u9078\u9805\u6642\uff0c\u8a72\u5167\u5bb9\u7e94\u6703\u81ea\u52d5\u5237\u65b0\u3002\n\u5982\u9700\u624b\u52d5\u5237\u65b0 Cloud Storage \u6216\u516c\u958b\u7db2\u5740\u6587\u6a94\u5167\u5bb9\uff0c\u8acb\u5c0d [Document](https://cloud.google.com/dialogflow/docs/reference/common-types?hl=zh-cn#documents) \u985e\u578b\u8abf\u7528 `reload` \u65b9\u6cd5\u3002\n\u5982\u9700\u624b\u52d5\u5237\u65b0\u4e0a\u50b3\u7684\u539f\u59cb\u5167\u5bb9\uff0c\u8acb\u5728 [Document](https://cloud.google.com/dialogflow/docs/reference/common-types?hl=zh-cn#documents) \u985e\u578b\u4e0a\u4f7f\u7528 `delete` \u548c `create` \u65b9\u6cd5\u91cd\u65b0\u5275\u5efa\u6587\u6a94\u3002\n### \u5217\u51fa\u77e5\u8b58\u6587\u6a94\n\u60a8\u53ef\u4ee5\u5217\u51fa\u77e5\u8b58\u5eab\u4e2d\u7684\u6240\u6709\u77e5\u8b58\u6587\u6a94\u3002 \u5982\u9700\u4f7f\u7528 API\uff0c\u8acb\u8abf\u7528 [Document](https://cloud.google.com/dialogflow/docs/reference/common-types?hl=zh-cn#documents) \u985e\u578b\u7684 `list` \u65b9\u6cd5\u3002\n### \u522a\u9664\u77e5\u8b58\u6587\u6a94\n\u60a8\u53ef\u4ee5\u522a\u9664\u77e5\u8b58\u5eab\u4e2d\u7684\u77e5\u8b58\u6587\u6a94\u3002 \u5982\u9700\u4f7f\u7528 API\uff0c\u8acb\u8abf\u7528 [Document](https://cloud.google.com/dialogflow/docs/reference/common-types?hl=zh-cn#documents) \u985e\u578b\u7684 `delete` \u65b9\u6cd5\u3002 \u5982\u679c\u60a8\u6c92\u6709\u6587\u6a94 ID\uff0c\u5247\u53ef\u4ee5\u6309\u7167\u4e0a\u8ff0\u8aaa\u660e\u5217\u51fa\u6587\u6a94\u3002\n## \u652f\u6301\u7684\u5167\u5bb9\n\u652f\u6301\u4ee5\u4e0b\u77e5\u8b58\u6587\u6a94\u985e\u578b\uff1a\n- **\u5e38\u898b\u554f\u984c\u89e3\u7b54** \uff1a\u6587\u6a94\u5167\u5bb9\u5305\u542b\u554f\u984c\u548c\u7b54\u6848\u5c0d\uff0c\u53ef\u4ee5\u63a1\u7528 HTML \u6216 CSV \u683c\u5f0f\u3002\u7cfb\u7d71\u53ef\u4ee5\u5c0d\u5178\u578b\u7684\u5e38\u898b\u554f\u984c\u89e3\u7b54 HTML \u683c\u5f0f\u9032\u884c\u6e96\u78ba\u89e3\u6790\uff0c\u4f46\u53ef\u80fd\u7121\u6cd5\u89e3\u6790\u67d0\u4e9b\u4e0d\u5e38\u898b\u7684\u683c\u5f0f\u3002CSV \u7684\u7b2c\u4e00\u5217\u5fc5\u9808\u662f\u554f\u984c\uff0c\u7b2c\u4e8c\u5217\u5fc5\u9808\u662f\u7b54\u6848\uff0c\u4e26\u4e14\u6c92\u6709\u6a19\u984c\u884c\u3002\u7531\u65bc\u9019\u7a2e\u683c\u5f0f\u5341\u5206\u660e\u78ba\uff0c\u56e0\u6b64\u7e3d\u80fd\u5f97\u5230\u6e96\u78ba\u89e3\u6790\u3002\n- **\u62bd\u6a23\u8cea\u91cf\u6aa2\u67e5** \uff1a\u63d0\u53d6\u975e\u7d50\u69cb\u5316\u6587\u672c\u4e26\u7528\u65bc\u554f\u984c\u89e3\u7b54\u7684\u6587\u6a94\u3002\n\u4e0b\u8868\u6309\u77e5\u8b58\u985e\u578b\u548c\u4f86\u6e90\u5c55\u793a\u4e86\u652f\u6301\u7684 MIME \u985e\u578b \u3002\n| \u77e5\u8b58\u985e\u578b\\\u4f86\u6e90 | \u4e0a\u50b3\u7684\u6587\u4ef6 (Document.content)\uff08\u4e0d\u63a8\u85a6\u4f7f\u7528\uff09 | \u4e0a\u50b3\u7684\u6587\u4ef6 (Document.raw_content)\uff08\u63a8\u85a6\u4f7f\u7528\uff09 | \u4f86\u81ea Cloud Storage \u7684\u6587\u4ef6 (Document.contentUri) | \u4f86\u81ea\u516c\u958b\u7db2\u5740\u7684\u6587\u4ef6 (Document.contentUri) |\n|:----------------|:----------------------------------------------|:------------------------------------------------|:--------------------------------------------------|:-------------------------------------------|\n| \u5e38\u898b\u554f\u984c\u89e3\u7b54 | \u6587\u672c/csv          | \u6587\u672c/csv          | \u6587\u672c/csv           | text/html         |\n| \u62bd\u6a23\u8cea\u91cf\u6aa2\u67e5 | \u6587\u672c/\u7d14\u6587\u672c\u3001\u6587\u672c/html      | \u6587\u672c/\u7d14\u6587\u672c\u3001\u6587\u672c/html\u3001\u61c9\u7528/pdf    | \u6587\u672c/\u7d14\u6587\u672c\u3001\u6587\u672c/html\u3001\u61c9\u7528/pdf     | \u4e0d\u9069\u7528          |\n\u5c0d\u65bc\u6587\u6a94\u5167\u5bb9\uff0c\u5b58\u5728\u4ee5\u4e0b\u5df2\u77e5\u554f\u984c\u3001\u9650\u5236\u548c\u6700\u4f73\u505a\u6cd5\uff1a\n\u666e\u904d\uff1a\n- \u4f86\u81ea\u516c\u5171\u7db2\u5740\u7684\u6587\u4ef6\u5fc5\u9808\u5df2\u88ab Google \u641c\u7d22\u7d22\u5f15\u5668\u6293\u53d6\uff0c\u56e0\u6b64\u5b58\u5728\u65bc\u641c\u7d22\u7d22\u5f15\u4e2d\u3002\u60a8\u53ef\u4ee5\u4f7f\u7528 [Google Search Console](https://search.google.com/search-console?hl=zh-cn) \u6aa2\u67e5\u662f\u5426\u6eff\u8db3\u6b64\u9805\u8981\u6c42\u3002\u8acb\u6ce8\u610f\uff0c\u7d22\u5f15\u5668\u4e0d\u6703\u53ca\u6642\u66f4\u65b0\u60a8\u7684\u5167\u5bb9\u3002 \u7576\u6e90\u5167\u5bb9\u767c\u751f\u8b8a\u5316\u6642\uff0c\u60a8\u5fc5\u9808\u660e\u78ba\u66f4\u65b0\u60a8\u7684\u77e5\u8b58\u6587\u6a94\u3002\n- CSV \u6587\u4ef6\u5fc5\u9808\u4f7f\u7528\u9017\u865f\u4f5c\u7232\u5206\u9694\u7b26\u3002\n- \u5e38\u898b\u554f\u984c\u89e3\u7b54\u548c\u77e5\u8b58\u5eab\u6587\u7ae0\u7684\u7f6e\u4fe1\u5ea6\u5206\u6578\u5c1a\u672a\u63a1\u7528\u7d71\u4e00\u6a19\u6e96\uff0c\u56e0\u6b64\u5982\u679c\u540c\u6642\u4f7f\u7528\u5e38\u898b\u554f\u984c\u89e3\u7b54\u548c\u77e5\u8b58\u5eab\u6587\u7ae0\uff0c\u6700\u4f73\u7d50\u679c\u4e26\u4e0d\u4e00\u5b9a\u662f\u5f97\u5206\u6700\u9ad8\u7684\u7b54\u6848\u3002\n- Dialogflow \u5728\u5275\u5efa\u97ff\u61c9\u6642\u5f9e\u5167\u5bb9\u4e2d\u522a\u9664 HTML \u6a19\u8a18\u3002 \u56e0\u6b64\uff0c\u6700\u597d\u907f\u514d\u4f7f\u7528 HTML \u6a19\u8a18\u4e26\u5118\u53ef\u80fd\u4f7f\u7528\u7d14\u6587\u672c\u3002\n- Google \u52a9\u7406\u97ff\u61c9\u7684\u6bcf\u500b\u804a\u5929\u6c23\u6ce1\u5167\u5bb9\u9577\u5ea6\u9650\u5236\u7232 640 \u500b\u5b57\u7b26\uff0c\u56e0\u6b64\u5728\u96c6\u6210 Google \u52a9\u7406\u6642\uff0c\u7cfb\u7d71\u6703\u622a\u77ed\u8d85\u904e\u6b64\u9650\u5236\u7684\u7b54\u6848\u3002\n- \u6700\u5927\u6587\u6a94\u5927\u5c0f\u7232 50 MB\u3002\n- \u4f7f\u7528 Cloud Storage \u6587\u4ef6\u6642\uff0c\u60a8\u61c9\u8a72\u4f7f\u7528\u7528\u6236\u8cec\u865f\u6216\u670d\u52d9\u8cec\u865f\u53ef\u4ee5\u8a2a\u554f\u7684\u516c\u958b URI \u6216\u79c1\u6709 URI\u3002\n\u5e38\u898b\u554f\u984c\u89e3\u7b54\u7279\u5b9a\u6ce8\u610f\u4e8b\u9805\uff1a\n- CSV \u7684\u7b2c\u4e00\u5217\u5fc5\u9808\u662f\u554f\u984c\uff0c\u7b2c\u4e8c\u5217\u5fc5\u9808\u662f\u7b54\u6848\uff0c\u4e26\u4e14\u6c92\u6709\u6a19\u984c\u884c\u3002\n- \u5118\u53ef\u80fd\u4f7f\u7528 CSV\uff0c\u56e0\u7232 CSV \u89e3\u6790\u6700\u6e96\u78ba\u3002\n- \u4e0d\u652f\u6301\u5177\u6709\u55ae\u500b QA \u5c0d\u7684\u516c\u958b HTML \u5167\u5bb9\u3002\n- \u4e00\u500b\u6587\u6a94\u4e2d\u7684 QA \u5c0d\u6578\u91cf\u4e0d\u61c9\u8d85\u904e 2000\u3002\n- \u4e0d\u652f\u6301\u5177\u6709\u4e0d\u540c\u7b54\u6848\u7684\u91cd\u8907\u554f\u984c\u3002\n- \u60a8\u53ef\u4ee5\u4f7f\u7528\u4efb\u4f55\u5e38\u898b\u554f\u984c\u89e3\u7b54\u6587\u6a94\uff0c\u77e5\u8b58\u5eab\u7684 FAQ \u89e3\u6790\u5668\u53ef\u4ee5\u8655\u7406\u5927\u591a\u6578\u5e38\u898b\u554f\u984c\u89e3\u7b54\u683c\u5f0f\u3002\n\u62bd\u6a23\u8cea\u91cf\u6aa2\u67e5\u7279\u5b9a\u6ce8\u610f\u4e8b\u9805\uff1a\n- \u62bd\u6a23\u8cea\u91cf\u6aa2\u67e5\u76ee\u524d\u8655\u65bc\u5be6\u9a57\u968e\u6bb5\u3002 \u5b83\u57fa\u65bc\u5728 Google \u7684\u641c\u7d22\u548c\u667a\u80fd\u52a9\u7406\u7b49\u7522\u54c1\u4e2d\u8a66\u7528\u4e26\u6e2c\u8a66\u7684\u985e\u4f3c\u6280\u8853\u3002\u8acb [\u5411\u6211\u5011\u767c\u9001\u53cd\u994b](https://cloud.google.com/dialogflow/docs/support?hl=zh-cn) \uff0c\u53cd\u6620 Dialogflow \u7684\u5de5\u4f5c\u8868\u73fe\u3002\n- \u5177\u6709\u5bc6\u96c6\u6587\u5b57\u7684\u5167\u5bb9\u6548\u679c\u6700\u4f73\u3002 \u907f\u514d\u4f7f\u7528\u5305\u542b\u591a\u500b\u55ae\u53e5\u6bb5\u843d\u7684\u5167\u5bb9\u3002\n- \u4e0d\u652f\u6301\u8868\u683c\u548c\u5217\u8868\u3002\n- \u4e00\u500b\u6587\u6a94\u4e2d\u7684\u6bb5\u843d\u6578\u4e0d\u61c9\u8d85\u904e 2000\u3002\n- \u5982\u679c\u6587\u7ae0\u5f88\u9577\uff08\u5927\u65bc 1000 \u500b\u5b57\u8a5e\uff09\uff0c\u8acb\u5617\u8a66\u5c07\u5176\u5206\u7232\u591a\u7bc7\u5c0f\u6587\u7ae0\u3002 \u5982\u679c\u6587\u7ae0\u6db5\u84cb\u4e86\u591a\u500b\u554f\u984c\uff0c\u53ef\u4ee5\u5c07\u5176\u5206\u7232\u6db5\u84cb\u5404\u500b\u554f\u984c\u7684\u7c21\u77ed\u6587\u7ae0\u3002 \u5982\u679c\u6587\u7ae0\u53ea\u6db5\u84cb\u4e00\u500b\u554f\u984c\uff0c\u8acb\u5c07\u6587\u7ae0\u7684\u91cd\u9ede\u653e\u5728\u554f\u984c\u8aaa\u660e\u4e0a\uff0c\u4e26\u5118\u91cf\u8b93\u554f\u984c\u7684\u89e3\u6c7a\u65b9\u6cd5\u4fdd\u6301\u7c21\u77ed\u3002\n- \u7406\u60f3\u60c5\u6cc1\u4e0b\uff0c\u61c9\u53ea\u63d0\u4f9b\u6587\u7ae0\u7684\u6838\u5fc3\u5167\u5bb9\uff08\u554f\u984c\u8aaa\u660e\u548c\u89e3\u6c7a\u65b9\u6cd5\uff09\u3002 \u4f5c\u8005\u59d3\u540d\u3001\u4fee\u6539\u6b77\u53f2\u8a18\u9304\u3001\u76f8\u95dc\u93c8\u63a5\u548c\u5ee3\u544a\u7b49\u5176\u4ed6\u5167\u5bb9\u4e26\u4e0d\u91cd\u8981\u3002\n- \u8acb\u5617\u8a66\u63cf\u8ff0\u6587\u7ae0\u53ef\u4ee5\u5e6b\u52a9\u89e3\u6c7a\u7684\u554f\u984c\u548c/\u6216\u6dfb\u52a0\u6b64\u6587\u7ae0\u53ef\u4ee5\u56de\u7b54\u7684\u793a\u4f8b\u63d0\u554f\u3002## \u4f7f\u7528 Cloud Storage\n\u5982\u679c\u60a8\u7684\u5167\u5bb9\u4e0d\u662f\u516c\u958b\u7684\uff0c\u5efa\u8b70\u60a8\u5c07\u5167\u5bb9\u5b58\u5132\u5728 [Cloud Storage](https://cloud.google.com/storage/docs?hl=zh-cn) \u4e2d\u3002\u5275\u5efa\u77e5\u8b58\u6587\u6a94\u6642\uff0c\u8acb\u7232 Cloud Storage \u5c0d\u8c61\u63d0\u4f9b\u7db2\u5740\u3002\n### \u5275\u5efa Cloud Storage \u5b58\u5132\u5206\u5340\u548c\u5c0d\u8c61\n\u5275\u5efa Cloud Storage \u5b58\u5132\u6876\u6642\uff0c\u8acb\u6ce8\u610f\u4ee5\u4e0b\u5e7e\u9ede\uff1a\n- \u52d9\u5fc5\u9078\u64c7\u7528\u65bc Dialogflow \u7684 GCP \u9805\u76ee\u3002\n- \u78ba\u4fdd\u901a\u5e38\u7528\u65bc\u8a2a\u554f Dialogflow API \u7684\u7528\u6236\u8cec\u865f\u6216\u670d\u52d9\u8cec\u865f\u5177\u6709 [\u5b58\u5132\u6876\u5c0d\u8c61\u7684\u8b80\u53d6\u6b0a\u9650](https://cloud.google.com/storage/docs/access-control?hl=zh-cn) \u3002\n- \u4f7f\u7528 [Standard \u5b58\u5132\u985e\u5225](https://cloud.google.com/storage/docs/storage-classes?hl=zh-cn#standard) \u3002\n- \u5c07 [\u5b58\u5132\u6876\u4f4d\u7f6e](https://cloud.google.com/storage/docs/locations?hl=zh-cn) \u8a2d\u7f6e\u7232\u96e2\u60a8\u6700\u8fd1\u7684\u4f4d\u7f6e\u3002  \u60a8\u9700\u8981\u7232\u67d0\u4e9b API \u8abf\u7528\u63d0\u4f9b\u4f4d\u7f6e ID\uff08\u4f8b\u5982`us-west1`\uff09\uff0c\u56e0\u6b64\u8acb\u8a18\u4e0b\u60a8\u7684\u9078\u64c7\u3002\n\u6309\u7167 [Cloud Storage \u5feb\u901f\u5165\u9580](https://cloud.google.com/storage/docs/quickstart-console?hl=zh-cn) \u4e2d\u7684\u8aaa\u660e\u5275\u5efa\u5b58\u5132\u6876\u4e26\u4e0a\u50b3\u6587\u4ef6\u3002\n### \u7232\u77e5\u8b58\u5eab\u6587\u6a94\u63d0\u4f9b Cloud Storage \u5c0d\u8c61\n\u8981\u63d0\u4f9b\u60a8\u7684\u5167\u5bb9\uff0c\u8acb\u57f7\u884c\u4ee5\u4e0b\u64cd\u4f5c\uff1a\n- \u6309\u7167 [\u4e0a\u6587\u6240\u8ff0](#create-kb) \u5275\u5efa\u77e5\u8b58\u5eab\u3002\n- \u6309\u7167 [\u4e0a\u6587\u6240\u8ff0](#create-kd) \u5275\u5efa\u77e5\u8b58\u6587\u6a94\u3002  \u8abf\u7528 [Document](https://cloud.google.com/dialogflow/docs/reference/common-types?hl=zh-cn#documents) \u985e\u578b\u7684`create`\u65b9\u6cd5\u6642\uff0c\u8acb\u5c07`contentUri`\u5b57\u6bb5\u8a2d\u7f6e\u7232 Cloud Storage \u6587\u6a94\u7684\u7db2\u5740\u3002  \u6b64\u7db2\u5740\u7684\u683c\u5f0f\u7232`gs://bucket-name/object-name`\u3002", "guide": "Dialogflow"}