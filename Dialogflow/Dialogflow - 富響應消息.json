{"title": "Dialogflow - \u5bcc\u97ff\u61c9\u6d88\u606f", "url": "https://cloud.google.com/dialogflow/es/docs/intents-rich-messages?hl=zh-cn", "abstract": "# Dialogflow - \u5bcc\u97ff\u61c9\u6d88\u606f\n\u8a31\u591a [\u96c6\u6210](https://cloud.google.com/dialogflow/docs/integrations?hl=zh-cn) \u5e73\u81fa\u90fd\u652f\u6301\u5e73\u81fa\u5c08\u5c6c\u7684 \u3002\u9019\u4e9b\u6d88\u606f\u53ef\u7528\u65bc\u7232\u6700\u7d42\u7528\u6236\u63d0\u4f9b\u6bd4\u6587\u672c\u97ff\u61c9\u66f4\u8c50\u5bcc\u7684\u5167\u5bb9\u3002\u6709\u591a\u7a2e\u97ff\u61c9\u985e\u578b\u53ef\u4f9b\u9078\u64c7\u3002\u4f8b\u5982\uff0c\u60a8\u53ef\u4ee5\u986f\u793a\u5716\u7247\u3001\u64ad\u653e\u97f3\u983b\u6216\u63d0\u4f9b\u6309\u9215\u3002\u6bcf\u500b\u5e73\u81fa\u90fd\u652f\u6301\u90e8\u5206\u53ef\u7528\u97ff\u61c9\u985e\u578b\u3002\n", "content": "## \u5982\u4f55\u67e5\u627e\u6b64\u6578\u64da\n\u69cb\u5efa\u4ee3\u7406\u6642\uff0c\u6700\u5e38\u898b\u7684\u65b9\u6cd5\u662f\u4f7f\u7528 Dialogflow ES \u63a7\u5236\u6aaf\uff08 [\u8a2a\u554f\u6587\u6a94](https://cloud.google.com/dialogflow/docs/console?hl=zh-cn) \uff0c [\u6253\u958b\u63a7\u5236\u6aaf](https://dialogflow.cloud.google.com?hl=zh-cn) \uff09\u3002\u4ee5\u4e0b\u8aaa\u660e\u7740\u91cd\u4ecb\u7d39\u5982\u4f55\u4f7f\u7528\u63a7\u5236\u6aaf\u3002\u5982\u9700\u8a2a\u554f\u610f\u5716\u97ff\u61c9\u6578\u64da\uff0c\u8acb\u57f7\u884c\u4ee5\u4e0b\u64cd\u4f5c\uff1a\n- \u8f49\u5230 [Dialogflow ES \u63a7\u5236\u6aaf](https://dialogflow.cloud.google.com?hl=zh-cn) \u3002\n- \u9078\u64c7\u4e00\u500b\u4ee3\u7406\u3002\n- \u5728\u5de6\u5074\u908a\u6b04\u83dc\u55ae\u4e2d\u9078\u64c7 **\u610f\u5716** (Intents)\u3002\n- \u9078\u64c7\u4e00\u500b\u610f\u5716\u3002\n- \u5411\u4e0b\u6efe\u52d5\u81f3 **\u97ff\u61c9** \u90e8\u5206\u3002\n\u5982\u679c\u60a8\u8981\u4f7f\u7528 API \u800c\u975e\u63a7\u5236\u6aaf\u4f86\u69cb\u5efa\u4ee3\u7406\uff0c\u8acb\u53c3\u95b1 [\u610f\u5716\u53c3\u8003](https://cloud.google.com/dialogflow/docs/reference/common-types?hl=zh-cn#intents) \u3002API \u5b57\u6bb5\u540d\u7a31\u8207\u63a7\u5236\u6aaf\u5b57\u6bb5\u540d\u7a31\u985e\u4f3c\u3002\u4ee5\u4e0b\u8aaa\u660e\u91cd\u9ede\u4ecb\u7d39\u63a7\u5236\u6aaf\u8207 API \u4e4b\u9593\u7684\u91cd\u8981\u5dee\u7570\u3002\n## \u6dfb\u52a0\u5bcc\u97ff\u61c9\u6d88\u606f\n**\u97ff\u61c9** \u90e8\u5206\u5305\u542b\u6bcf\u500b\u5e73\u81fa\u7684\u6a19\u7c64\u9801\uff0c\u5305\u62ec\u9ed8\u8a8d \u5e73\u81fa\u3002\u60a8\u53ef\u4ee5\u7232\u9ed8\u8a8d\u5e73\u81fa\u5b9a\u7fa9\u97ff\u61c9\uff0c\u9019\u4e9b\u97ff\u61c9\u53ef\u5728\u6240\u6709\u5e73\u81fa\u4e0a\u4f7f\u7528\u3002\n\u60a8\u53ef\u4ee5\u7232\u5e73\u81fa\u5c08\u5c6c\u7684\u6a19\u7c64\u9801\u5b9a\u7fa9\u97ff\u61c9\uff0c\u9019\u4e9b\u97ff\u61c9\u50c5\u9069\u7528\u65bc\u76f8\u61c9\u7684\u5e73\u81fa\u3002\u60a8\u9084\u53ef\u4ee5\u9078\u64c7\u91dd\u5c0d\u7279\u5b9a\u5e73\u81fa\u4f7f\u7528\u9ed8\u8a8d\u97ff\u61c9\uff0c\u9019\u6a23\u60a8\u5c31\u4e0d\u9700\u8981\u7232\u6240\u6709\u5e73\u81fa\u5275\u5efa\u91cd\u8907\u7684\u6587\u672c\u97ff\u61c9\u3002\n\u5982\u9700\u6dfb\u52a0\u5bcc\u97ff\u61c9\u6d88\u606f\uff0c\u8acb\u57f7\u884c\u4ee5\u4e0b\u64cd\u4f5c\uff1a\n- \u9078\u64c7\u6240\u9700\u5e73\u81fa\u7684\u6a19\u7c64\u9801\u3002\u5982\u679c\u6240\u9700\u5e73\u81fa\u6a19\u7c64\u9801\u672a\u986f\u793a\uff0c\u8acb\u9ede\u64ca\u6dfb\u52a0\u6309\u9215\u4e26\u9078\u64c7\u8a72\u6a19\u7c64\u9801\u3002\n- \u9ede\u64ca **\u6dfb\u52a0\u97ff\u61c9** \u6309\u9215\u3002\u4e0b\u62c9\u5217\u8868\u6703\u986f\u793a\u8a72\u5e73\u81fa\u652f\u6301\u7684\u97ff\u61c9\u985e\u578b\u3002\n- \u9078\u64c7\u97ff\u61c9\u985e\u578b\u3002\u5177\u9ad4\u8aaa\u660e\u5982\u4e0b\u3002\n- \u7232\u6240\u9078\u97ff\u61c9\u985e\u578b\u8f38\u5165\u5404\u5b57\u6bb5\u3002\n- \u6839\u64da\u9700\u8981\u6dfb\u52a0\u66f4\u591a\u5e73\u81fa\u6a19\u7c64\u9801\u548c\u97ff\u61c9\u3002\u6bcf\u500b\u6a19\u7c64\u9801\u4e2d\u6700\u591a\u53ef\u6dfb\u52a0 10 \u689d\u6709\u5e8f\u6d88\u606f\u3002\n- \u9ede\u64ca **\u4fdd\u5b58** \u3002\n\u60a8\u53ef\u4ee5\u5728\u97ff\u61c9\u4e2d\u4f7f\u7528 [\u53c3\u6578\u5f15\u7528](https://cloud.google.com/dialogflow/docs/intents-actions-parameters?hl=zh-cn#values) \u4f86\u5f15\u7528\u6700\u7d42\u7528\u6236\u6216 [\u4e8b\u4ef6](https://cloud.google.com/dialogflow/docs/events-overview?hl=zh-cn#param) \u5728\u904b\u884c\u6642\u63d0\u4f9b\u7684\u53c3\u6578\u3002\n## \u6587\u672c\u97ff\u61c9\n\u9ed8\u8a8d\u60c5\u6cc1\u4e0b\uff0c **\u6587\u672c** \u97ff\u61c9\u6703\u5411\u6700\u7d42\u7528\u6236\u767c\u9001\u6587\u672c\u97ff\u61c9\u3002\n\u5982\u679c [\u7232\u4ee3\u7406\u5553\u7528](https://cloud.google.com/dialogflow/docs/agents-settings?hl=zh-cn#speech) \u6587\u5b57\u8f49\u8a9e\u97f3\u529f\u80fd\u6216 [\u901a\u904e\u6aa2\u6e2c\u610f\u5716\u8acb\u6c42\u767c\u51fa\u8acb\u6c42](https://cloud.google.com/dialogflow/docs/how/detect-intent-tts?hl=zh-cn) \uff0c\u5247\u6240\u63d0\u4f9b\u7684\u6587\u5b57\u5c07\u7528\u65bc\u5408\u6210\u8a9e\u97f3\u4e26\u64ad\u653e\u97f3\u983b\u3002\u5728\u9019\u7a2e\u60c5\u6cc1\u4e0b\uff0c\u63d0\u4f9b\u7684\u6587\u672c\u53ef\u4ee5\u9078\u64c7\u4f7f\u7528 [\u8a9e\u97f3\u5408\u6210\u6a19\u8a18\u8a9e\u8a00 (SSML)](https://cloud.google.com/text-to-speech/docs/ssml?hl=zh-cn) \u3002\n\u5b57\u6bb5\u5305\u62ec\uff1a\n- \u6587\u672c\u6216 SSML \u689d\u76ee\u5217\u8868\n\u8f38\u5165\u97ff\u61c9\u6642\uff0c\u6309 **Shift** + **Enter** \u53ef\u8f38\u5165\u63db\u884c\u7b26\uff0c\u6216\u50c5\u6309 **Enter** \u8f38\u5165\u53e6\u4e00\u689d\u6587\u672c\u97ff\u61c9\u3002\n\u5b58\u5728\u4ee5\u4e0b\u9650\u5236\uff1a\n- \u6bcf\u500b\u6587\u672c\u76f8\u61c9\u6700\u591a\u5305\u542b 300 \u500b\u6587\u672c\u689d\u76ee## \u5716\u7247\u97ff\u61c9\n**\u5716\u7247** \u97ff\u61c9\u6703\u5411\u6700\u7d42\u7528\u6236\u767c\u9001\u5716\u7247\u3002\u6b64\u985e\u97ff\u61c9\u5305\u542b\u4ee5\u4e0b\u5b57\u6bb5\uff1a\n- \u5716\u7247\u7684\u53ef\u516c\u958b\u8a2a\u554f\u7684\u7db2\u5740## \u5361\u7247\u97ff\u61c9\n**\u5361\u7247** \u97ff\u61c9\u6703\u5411\u6700\u7d42\u7528\u6236\u767c\u9001\u5716\u7247\u3001\u5361\u7247\u6a19\u984c\u3001\u5361\u7247\u526f\u6a19\u984c\u548c\u4ea4\u4e92\u5f0f\u6309\u9215\u3002\u5361\u7247\u7684\u6a23\u5f0f\u56e0\u5e73\u81fa\u800c\u7570\u3002\n\u60a8\u53ef\u4ee5\u914d\u7f6e\u6309\u9215\uff0c\u5411\u6700\u7d42\u7528\u6236\u767c\u9001\u7db2\u5740\u6216\u5c07\u9810\u914d\u7f6e\u6587\u672c\u767c\u9001\u5230 Dialogflow\uff0c\u5c31\u597d\u50cf\u6700\u7d42\u7528\u6236\u63d0\u4f9b\u4e86\u8868\u9054\u5f0f\u4e00\u6a23\u3002\n\u90e8\u5206\u5b57\u6bb5\u7232\u53ef\u9078\u5b57\u6bb5\uff0c\u5177\u9ad4\u8996\u5e73\u81fa\u800c\u5b9a\uff1a\n- \u5716\u7247\u7684\u53ef\u516c\u958b\u8a2a\u554f\u7684\u7db2\u5740\n- \u5361\u7247\u6a19\u984c\n- \u5361\u7247\u526f\u6a19\u984c\n- \u5305\u542b\u4ee5\u4e0b\u5b57\u6bb5\u7684\u6309\u9215\u5217\u8868\uff1a\n- \u6309\u9215\u6a19\u984c\n- \u8981\u4f5c\u7232\u6700\u7d42\u7528\u6236\u8868\u9054\u5f0f\u767c\u9001\u7684\u6587\u672c\u6216\u8981\u6253\u958b\u7684\u7db2\u5740\u5b58\u5728\u4ee5\u4e0b\u9650\u5236\uff1a\n- \u91dd\u5c0d\u6bcf\u4e00\u500b\u610f\u5716\uff0c\u6bcf\u500b\u5e73\u81fa\u548c\u6bcf\u7a2e\u8a9e\u8a00\u6700\u591a\u5305\u542b 10 \u5f35\u5361\u7247\u3002\u4f8b\u5982\uff0c\u5982\u679c\u60a8\u7684\u4ee3\u7406\u652f\u6301\u82f1\u8a9e\u3001\u6cd5\u8a9e\u3001\u5e73\u81fa X \u548c\u5e73\u81fa Y\uff0c\u5247\u4e00\u500b\u610f\u5716\u6700\u591a\u53ef\u4ee5\u5305\u542b 40 \u5f35\u5361\u7247\uff1a- 10 \u5f35\u91dd\u5c0d\u5e73\u81fa X \u7684\u82f1\u8a9e\u5361\u7247\n- 10 \u5f35\u91dd\u5c0d\u5e73\u81fa Y \u7684\u82f1\u8a9e\u5361\u7247\n- 10 \u5f35\u91dd\u5c0d\u5e73\u81fa X \u7684\u6cd5\u8a9e\u5361\u7247\n- 10 \u5f35\u91dd\u5c0d\u5e73\u81fa Y \u7684\u6cd5\u8a9e\u5361\u7247\n## \u5feb\u901f\u56de\u5fa9\u97ff\u61c9\n**\u5feb\u901f\u56de\u5fa9** \u97ff\u61c9\u6703\u5411\u6700\u7d42\u7528\u6236\u767c\u9001\u4e00\u500b\u6309\u9215\u3002\u60a8\u53ef\u4ee5\u914d\u7f6e\u6309\u9215\uff0c\u5c07\u9810\u914d\u7f6e\u6587\u672c\u767c\u9001\u5230 Dialogflow\uff0c\u5c31\u597d\u50cf\u6700\u7d42\u7528\u6236\u63d0\u4f9b\u4e86\u8868\u9054\u5f0f\u4e00\u6a23\u3002\n\u5b57\u6bb5\u5305\u62ec\uff1a\n- \u6309\u9215\u6a19\u984c\n- \u4f5c\u7232\u6700\u7d42\u7528\u6236\u8868\u9054\u5f0f\u767c\u9001\u7684\u6587\u672c\u689d\u76ee\u5217\u8868\n\u5b58\u5728\u4ee5\u4e0b\u9650\u5236\uff1a\n- \u91dd\u5c0d\u4e00\u500b\u610f\u5716\uff0c\u6bcf\u500b\u5e73\u81fa\u548c\u6bcf\u7a2e\u8a9e\u8a00\u6700\u591a\u50c5\u80fd\u8a2d\u7f6e\u4e00\u500b\u5feb\u901f\u56de\u5fa9\u97ff\u61c9\u3002\u4f8b\u5982\uff0c\u5982\u679c\u60a8\u7684\u4ee3\u7406\u652f\u6301\u82f1\u8a9e\u3001\u6cd5\u8a9e\u3001\u5e73\u81fa X \u548c\u5e73\u81fa Y\uff0c\u5247\u4e00\u500b\u610f\u5716\u6700\u591a\u53ef\u4ee5\u5305\u542b 4 \u500b\u5feb\u901f\u56de\u5fa9\uff1a- 1 \u500b\u91dd\u5c0d\u5e73\u81fa X \u7684\u82f1\u8a9e\u5feb\u901f\u56de\u5fa9\n- 1 \u500b\u91dd\u5c0d\u5e73\u81fa Y \u7684\u82f1\u8a9e\u5feb\u901f\u56de\u5fa9\n- 1 \u500b\u91dd\u5c0d\u5e73\u81fa X \u7684\u6cd5\u8a9e\u5feb\u901f\u56de\u5fa9\n- 1 \u500b\u91dd\u5c0d\u5e73\u81fa Y \u7684\u6cd5\u8a9e\u5feb\u901f\u56de\u5fa9\n- \u6bcf\u500b\u5feb\u901f\u56de\u5fa9\u97ff\u61c9\u6700\u591a\u5305\u542b 10 \u500b\u6587\u672c\u689d\u76ee\u3002\n- \u6bcf\u500b\u6587\u672c\u689d\u76ee\u6700\u591a\u5305\u542b 20 \u500b\u5b57\u7b26\u3002## \u5408\u6210\u8a9e\u97f3\u97ff\u61c9\n**\u5408\u6210\u8a9e\u97f3** \u97ff\u61c9\u7528\u65bc\u57fa\u65bc\u6587\u672c\u97ff\u61c9\u7684\u5408\u6210\u8a9e\u97f3\u4e26\u64ad\u653e\u97f3\u983b\u3002\u63d0\u4f9b\u7684\u6587\u672c\u53ef\u4ee5\u9078\u64c7\u4f7f\u7528 [\u8a9e\u97f3\u5408\u6210\u6a19\u8a18\u8a9e\u8a00 (SSML)](https://cloud.google.com/text-to-speech/docs/ssml?hl=zh-cn) \u3002\n\u5b57\u6bb5\u5305\u62ec\uff1a\n- \u6587\u672c\u6216 SSML\n\u5b58\u5728\u4ee5\u4e0b\u9650\u5236\uff1a\n- \u50c5\u7531 [Dialogflow Phone Gateway](https://cloud.google.com/dialogflow/es/docs/integrations/phone-gateway?hl=zh-cn) \u96c6\u6210\u652f\u6301\n- \u6bcf\u500b\u610f\u5716\u6700\u591a\u5305\u542b 20 \u500b\u5408\u6210\u8a9e\u97f3\u97ff\u61c9## \u64ad\u653e\u97f3\u983b\u97ff\u61c9\n**\u64ad\u653e\u97f3\u983b** \u97ff\u61c9\u7528\u65bc\u64ad\u653e\u97f3\u983b\u6587\u4ef6\u3002\u5728 [Cloud Storage](https://cloud.google.com/storage/docs?hl=zh-cn) \u5b58\u5132\u6876\u4e2d\u63d0\u4f9b\u97f3\u983b\u6587\u4ef6\u3002\n\u5b57\u6bb5\u5305\u62ec\uff1a\n- Cloud Storage \u5c0d\u8c61 URI \u63a1\u7528`gs://bucket-name/object-name`\u683c\u5f0f\u3002\n\u5b58\u5728\u4ee5\u4e0b\u9650\u5236\uff1a\n- \u50c5\u7531 [Dialogflow Phone Gateway](https://cloud.google.com/dialogflow/es/docs/integrations/phone-gateway?hl=zh-cn) \u96c6\u6210\u652f\u6301\n- \u97f3\u983b\u6587\u4ef6\u898f\u7bc4\uff1a\u55ae\u8072\u9053 8kHz \u7684\u7dda\u6027 PCM \u97f3\u983b\uff082 \u5b57\u7bc0/\u63a1\u6a23\uff09\n- \u6bcf\u500b\u610f\u5716\u6700\u591a\u64ad\u653e 20 \u6b21\u97f3\u983b\u97ff\u61c9## \u8f49\u79fb\u4f86\u96fb\u97ff\u61c9\n**\u8f49\u79fb\u4f86\u96fb** \u97ff\u61c9\u7528\u65bc\u7232\u96fb\u8a71\u96c6\u6210\u8f49\u79fb\u4f86\u96fb\u8005\u3002\n\u5b57\u6bb5\u5305\u62ec\uff1a\n- \u8981\u8f49\u79fb\u7684\u96fb\u8a71\u865f\u78bc\u3002\n\u5b58\u5728\u4ee5\u4e0b\u9650\u5236\uff1a\n- \u50c5\u7531 [Dialogflow Phone Gateway](https://cloud.google.com/dialogflow/es/docs/integrations/phone-gateway?hl=zh-cn) \u96c6\u6210\u652f\u6301\n- \u50c5\u652f\u6301\u7f8e\u570b\u5883\u5167\u7684\u96fb\u8a71\u865f\u78bc## \u81ea\u5b9a\u7fa9\u8f09\u8377\u97ff\u61c9\n\u67d0\u4e9b\u5e73\u81fa\u652f\u6301\u81ea\u5b9a\u7fa9\u8f09\u8377\u97ff\u61c9\u4f86\u8655\u7406\u975e\u6a19\u6e96\u7684\u9ad8\u7d1a\u97ff\u61c9\u3002\u9019\u4e9b\u81ea\u5b9a\u7fa9\u8f09\u8377\u4ee5\u5e73\u81fa\u6587\u6a94\u4e2d\u5b9a\u7fa9\u7684 JSON \u683c\u5f0f\u63d0\u4f9b\u3002\n\u60a8\u9084\u53ef\u4ee5\u5c07\u81ea\u5b9a\u7fa9\u8f09\u8377\u767c\u9001\u5230\u60a8\u958b\u767c\u7684\u96c6\u6210\u3002Dialogflow \u4e0d\u6703\u8655\u7406\u9019\u985e\u8f09\u8377\uff0c\u56e0\u6b64\u60a8\u9700\u8981\u5728\u81ea\u5df1\u7684\u696d\u52d9\u908f\u8f2f\u4e2d\u9032\u884c\u8655\u7406\u3002\n\u60a8\u53ef\u4ee5\u7232\u591a\u500b\u5e73\u81fa\u914d\u7f6e\u81ea\u5b9a\u7fa9\u8f09\u8377\u3002\u5982\u9700\u9032\u884c\u914d\u7f6e\uff0c\u8acb\u4f7f\u7528\u9ed8\u8a8d\u5e73\u81fa\u548c\u985e\u4f3c\u5982\u4e0b\u5167\u5bb9\u7684 JSON \u683c\u5f0f\uff1a\n```\n{\u00a0 \"facebook\": {\u00a0 \u00a0 \"attachment\": {\u00a0 \u00a0 \u00a0 \"type\": \"\",\u00a0 \u00a0 \u00a0 \"payload\": {}\u00a0 \u00a0 }\u00a0 },\u00a0 \"slack\": {\u00a0 \u00a0 \"text\": \"\",\u00a0 \u00a0 \"attachments\": []\u00a0 }}\n```\n## Google \u52a9\u7406\u97ff\u61c9\u985e\u578b\nGoogle \u52a9\u7406\u96c6\u6210\u63d0\u4f9b\u4e86\u591a\u7a2e\u97ff\u61c9\u6d88\u606f\u985e\u578b\u3002\u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1 [Google \u52a9\u7406\u97ff\u61c9\u53c3\u8003](https://developers.google.com/assistant/conversational/responses?hl=zh-cn) \u3002\n## \u5176\u4ed6\u97ff\u61c9\u985e\u578b\n\u5404\u7a2e\u5e73\u81fa\u90fd\u652f\u6301\u5176\u4ed6\u6d88\u606f\u985e\u578b\u3002\u60a8\u53ef\u4ee5\u5728 [\u97ff\u61c9\u6d88\u606f REST \u53c3\u8003](https://cloud.google.com/dialogflow/docs/reference/rest/v2/projects.agent.intents?hl=zh-cn#Message) \u4e2d\u67e5\u770b\u5b8c\u6574\u5217\u8868\u3002\u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1\u201c\u5e73\u81fa\u96c6\u6210\u6587\u6a94\u201d\u3002", "guide": "Dialogflow"}