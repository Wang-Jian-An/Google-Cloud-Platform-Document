{"title": "Dialogflow - Update data with a FieldMask", "url": "https://cloud.google.com/dialogflow/es/docs/how/field-mask", "abstract": "# Dialogflow - Update data with a FieldMask\nWhen updating agent data with the API, you can choose to overwrite the entire data type or to overwrite only specific fields of the data type. It is usually best to overwrite specific fields, so you avoid accidentally overwriting all of your data. To overwrite specific fields, supply a [FieldMask](https://developers.google.com/protocol-buffers/docs/reference/google.protobuf#fieldmask) to your update request.\nThe following examples show how to supply a `FieldMask` to update the display name for an [Intents](/dialogflow/docs/reference/common-types#intents) type.\nSupply the `updateMask` URL query parameter for the `patch` method. For example:\n```\n?updateMask=displayName\n```To authenticate to Dialogflow, set up Application Default Credentials.  For more information, see [Set up authentication for a local development environment](/docs/authentication/provide-credentials-adc#local-dev) .\n [View on GitHub](https://github.com/GoogleCloudPlatform/java-docs-samples/blob/HEAD/dialogflow/snippets/src/main/java/com/example/dialogflow/UpdateIntent.java) \n```\nimport com.google.cloud.dialogflow.v2.Intent;import com.google.cloud.dialogflow.v2.Intent.Builder;import com.google.cloud.dialogflow.v2.IntentsClient;import com.google.cloud.dialogflow.v2.UpdateIntentRequest;import com.google.protobuf.FieldMask;import java.io.IOException;public class UpdateIntent {\u00a0 public static void main(String[] args) throws IOException {\u00a0 \u00a0 // TODO(developer): Replace these variables before running the sample.\u00a0 \u00a0 String projectId = \"my-project-id\";\u00a0 \u00a0 String intentId = \"my-intent-id\";\u00a0 \u00a0 String location = \"my-location\";\u00a0 \u00a0 String displayName = \"my-display-name\";\u00a0 \u00a0 updateIntent(projectId, intentId, location, displayName);\u00a0 }\u00a0 // DialogFlow API Update Intent sample.\u00a0 public static void updateIntent(\u00a0 \u00a0 \u00a0 String projectId, String intentId, String location, String displayName) throws IOException {\u00a0 \u00a0 try (IntentsClient client = IntentsClient.create()) {\u00a0 \u00a0 \u00a0 String intentPath =\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \"projects/\" + projectId + \"/locations/\" + location + \"/agent/intents/\" + intentId;\u00a0 \u00a0 \u00a0 Builder intentBuilder = client.getIntent(intentPath).toBuilder();\u00a0 \u00a0 \u00a0 intentBuilder.setDisplayName(displayName);\u00a0 \u00a0 \u00a0 FieldMask fieldMask = FieldMask.newBuilder().addPaths(\"display_name\").build();\u00a0 \u00a0 \u00a0 Intent intent = intentBuilder.build();\u00a0 \u00a0 \u00a0 UpdateIntentRequest request =\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 UpdateIntentRequest.newBuilder()\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .setIntent(intent)\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .setLanguageCode(\"en\")\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .setUpdateMask(fieldMask)\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .build();\u00a0 \u00a0 \u00a0 // Make API request to update intent using fieldmask\u00a0 \u00a0 \u00a0 Intent response = client.updateIntent(request);\u00a0 \u00a0 \u00a0 System.out.println(response);\u00a0 \u00a0 }\u00a0 }}\n```To authenticate to Dialogflow, set up Application Default Credentials.  For more information, see [Set up authentication for a local development environment](/docs/authentication/provide-credentials-adc#local-dev) .\n [View on GitHub](https://github.com/GoogleCloudPlatform/nodejs-docs-samples/blob/HEAD/dialogflow/update-intent.js) \n```\nconst {IntentsClient} = require('@google-cloud/dialogflow');const intentClient = new IntentsClient();const agentPath = intentClient.projectAgentPath(projectId);const intentPath = agentPath + '/intents/' + intentId;const intent = await intentClient.getIntent({name: intentPath});intent[0].displayName = displayName;const updateMask = {\u00a0 paths: ['display_name'],};const updateIntentRequest = {\u00a0 intent: intent[0],\u00a0 updateMask: updateMask,\u00a0 languageCode: 'en',};//Send the request for update the intent.const result = await intentClient.updateIntent(updateIntentRequest);console.log(result);\n```To authenticate to Dialogflow, set up Application Default Credentials.  For more information, see [Set up authentication for a local development environment](/docs/authentication/provide-credentials-adc#local-dev) .\n [View on GitHub](https://github.com/GoogleCloudPlatform/python-docs-samples/blob/HEAD/dialogflow/update_intent.py) \n```\nfrom google.cloud.dialogflow_v2 import IntentsClientfrom google.protobuf import field_mask_pb2def update_intent(project_id, intent_id, display_name):\u00a0 \u00a0 intents_client = IntentsClient()\u00a0 \u00a0 intent_name = intents_client.intent_path(project_id, intent_id)\u00a0 \u00a0 intent = intents_client.get_intent(request={\"name\": intent_name})\u00a0 \u00a0 intent.display_name = display_name\u00a0 \u00a0 update_mask = field_mask_pb2.FieldMask(paths=[\"display_name\"])\u00a0 \u00a0 response = intents_client.update_intent(intent=intent, update_mask=update_mask)\u00a0 \u00a0 return response\n``", "content": "`", "guide": "Dialogflow"}