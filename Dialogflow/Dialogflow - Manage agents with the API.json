{"title": "Dialogflow - Manage agents with the API", "url": "https://cloud.google.com/dialogflow/es/docs/how/agent-create-api", "abstract": "# Dialogflow - Manage agents with the API\nNormally, you create and delete agents using the console. However, in certain advanced scenarios, you may find it easier to use the API.\n**Note:** You must have a [role with full or edit access](/dialogflow/es/docs/access-control#roles) in order to create or delete an agent.\n", "content": "## Create an agent\nThe following examples show how to call the `SetAgent` method for the [Agent](/dialogflow/es/docs/reference/common-types#agents) type. These examples are creating agents, but the same methods can be used to update agent settings, like agent edition.\nBefore using any of the request data, make the following replacements:- : your Google Cloud project ID\nHTTP method and URL:\n```\nPOST https://dialogflow.googleapis.com/v2/projects/PROJECT_ID/agent\n```\nRequest JSON body:\n```\n{\n \"displayName\": \"My-display-name\",\n \"defaultLanguageCode\": \"en\",\n \"timeZone\": \"America/New_York\"\n}\n```\nTo send your request, expand one of these options:You should receive a JSON response similar to the following:\n```\n{\n \"parent\": \"projects/PROJECT_ID\",\n \"displayName\": \"My display name\",\n \"defaultLanguageCode\": \"en\",\n \"timeZone\": \"America/New_York\",\n \"apiVersion\": \"API_VERSION_V2\"\n}\n```\nTo authenticate to Dialogflow, set up Application Default Credentials.  For more information, see [Set up authentication for a local development environment](/docs/authentication/provide-credentials-adc#local-dev) .\n [View on GitHub](https://github.com/GoogleCloudPlatform/java-docs-samples/blob/HEAD/dialogflow/snippets/src/main/dialogflow/SetAgent.java) \n```\nimport com.google.cloud.dialogflow.v2.Agent;import com.google.cloud.dialogflow.v2.Agent.Builder;import com.google.cloud.dialogflow.v2.AgentsClient;import com.google.cloud.dialogflow.v2.AgentsSettings;import java.io.IOException;public class SetAgent {\u00a0 public static void main(String[] args) throws IOException {\u00a0 \u00a0 String projectId = \"my-project-id\";\u00a0 \u00a0 // The display name will set the name of your agent\u00a0 \u00a0 String displayName = \"my-display-name\";\u00a0 \u00a0 setAgent(projectId, displayName);\u00a0 }\u00a0 public static Agent setAgent(String parent, String displayName) throws IOException {\u00a0 \u00a0 AgentsSettings agentsSettings = AgentsSettings.newBuilder().build();\u00a0 \u00a0 try (AgentsClient client = AgentsClient.create(agentsSettings)) {\u00a0 \u00a0 \u00a0 // Set the details of the Agent to create\u00a0 \u00a0 \u00a0 Builder build = Agent.newBuilder();\u00a0 \u00a0 \u00a0 build.setDefaultLanguageCode(\"en\");\u00a0 \u00a0 \u00a0 build.setDisplayName(displayName);\u00a0 \u00a0 \u00a0 Agent agent = build.build();\u00a0 \u00a0 \u00a0 // Make API request to create agent\u00a0 \u00a0 \u00a0 Agent response = client.setAgent(agent);\u00a0 \u00a0 \u00a0 System.out.println(response);\u00a0 \u00a0 \u00a0 return response;\u00a0 \u00a0 }\u00a0 }}\n```To authenticate to Dialogflow, set up Application Default Credentials.  For more information, see [Set up authentication for a local development environment](/docs/authentication/provide-credentials-adc#local-dev) .\n [View on GitHub](https://github.com/GoogleCloudPlatform/nodejs-docs-samples/blob/HEAD/dialogflow/set-agent.js) \n```\nconst {AgentsClient} = require('@google-cloud/dialogflow');// make sure to pass projectID as the input parameterconst parent = 'projects/' + parentId + '/locations/global';const agent = {\u00a0 parent: parent,\u00a0 displayName: displayName,\u00a0 defaultLanguageCode: 'en',\u00a0 timeZone: 'America/Los_Angeles',};const client = new AgentsClient();async function setAgent() {\u00a0 const request = {\u00a0 \u00a0 agent,\u00a0 };\u00a0 const [response] = await client.setAgent(request);\u00a0 console.log(`response: ${JSON.stringify(response, null, 2)}`);}await setAgent();\n```To authenticate to Dialogflow, set up Application Default Credentials.  For more information, see [Set up authentication for a local development environment](/docs/authentication/provide-credentials-adc#local-dev) .\n [View on GitHub](https://github.com/GoogleCloudPlatform/python-docs-samples/blob/HEAD/dialogflow/set_agent.py) \n```\nfrom google.cloud.dialogflow_v2 import Agent, AgentsClient, SetAgentRequestimport google.protobuf.field_mask_pb2def set_agent(project_id, display_name):\u00a0 \u00a0 agents_client = AgentsClient()\u00a0 \u00a0 parent = agents_client.common_project_path(project_id)\u00a0 \u00a0 agent = Agent(\u00a0 \u00a0 \u00a0 \u00a0 parent=parent,\u00a0 \u00a0 \u00a0 \u00a0 display_name=display_name,\u00a0 \u00a0 \u00a0 \u00a0 default_language_code=\"en\",\u00a0 \u00a0 \u00a0 \u00a0 time_zone=\"America/Los_Angeles\",\u00a0 \u00a0 )\u00a0 \u00a0 update_mask = google.protobuf.field_mask_pb2.FieldMask()\u00a0 \u00a0 update_mask.FromJsonString(\"displayName,defaultLanguageCode,timeZone\")\u00a0 \u00a0 request = SetAgentRequest(\u00a0 \u00a0 \u00a0 \u00a0 agent=agent,\u00a0 \u00a0 \u00a0 \u00a0 update_mask=update_mask,\u00a0 \u00a0 )\u00a0 \u00a0 return agents_client.set_agent(request=request)\n```\n## Delete an agent\nThe following examples show how to call the `DeleteAgent` method for the [Agent](/dialogflow/es/docs/reference/common-types#agents) type.\nBefore using any of the request data, make the following replacements:- : your Google Cloud project ID\nHTTP method and URL:\n```\nDELETE https://dialogflow.googleapis.com/v2/projects/PROJECT_ID/agent\n```\nTo send your request, expand one of these options:You should receive a successful status code (2xx) and an empty response.", "guide": "Dialogflow"}