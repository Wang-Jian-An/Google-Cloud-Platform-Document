{"title": "Dialogflow - Custom entities", "url": "https://cloud.google.com/dialogflow/cx/docs/concept/entity-custom", "abstract": "# Dialogflow - Custom entities\nYou can create custom entities for matching data specific to your agent. For example, you could define a `vegetable` entity type that can match the types of vegetables available for purchase with a grocery store agent.\n**Note:** When building your agent, it's best to define your entities prior to adding [training phrases](/dialogflow/cx/docs/concept/intent#tp) to your intents. The console will automatically annotate your training phrases with existing entities. However, if you create entities after training phrases, you can manually annotate the phrases.\n", "content": "## Create custom entities\nTo create a custom entity:\n- Open the [Dialogflow CX Console](https://dialogflow.cloud.google.com/cx/projects) .\n- Choose your Google Cloud project.\n- Select your agent.\n- Select the **Manage** tab.\n- Click **Entity Types** .\n- Click **Create** .\n- Enter entity data.\n- Click **Save** .\nUse the `EntityType` 's `create` method.\n## Limitations\nThe following limitations apply:\n- Custom entity type display names are unique for each agent. Entity type display names should start with a letter and can contain the following:`A-Z`,`a-z`,`0-9`,`_`(underscore),`-`(dash). Entity reference and synonym values have no such limitation.## Export and import custom entities\n**    Preview     ** This product or feature is subject to the \"Pre-GA Offerings Terms\" in the General Service Terms section   of the [Service Specific Terms](/terms/service-terms#1) .     Pre-GA products and features are available \"as is\" and might have limited support.    For more information, see the [launch stage descriptions](/products#product-launch-stages) .\nYou can export and import entities for sharing across agents.\nOne of the export format options is Json package, which is a zip file that contains a hierarchy of directories and JSON files. The following describes the directory structure:\n- `entityTypes`: This directory contains your entity types.- `<entity type name>`: One or more of these directories exist, and the directory names correspond to entity type display names.- `entities`: This directory contains entity entry files.- `<language tag>.json`: One or more of these files exist, and the file names correspond to language tags. Each file contains language-specific entity entries.\n- `<excludedPhrases>`: This directory contains [excluded phrase](/dialogflow/cx/docs/concept/entity-options#exclusion) files.- `<language tag>.json`: One or more of these files exist, and the file names correspond to language tags. Each file contains language-specific phrase exclusions.\n- `<entity type name>.json`: This filename corresponds to an entity type display name. The file contains entity-type-specific data not found in other files.\nFor example:\n```\nfolder entityTypes\n \u2937 folder Entity Type A\n \u2937 folder entities\n  \u2937 insert_drive_file en.json\n  \u2937 insert_drive_file en-gb.json\n  \u2937 insert_drive_file en-ca.json\n \u2937 folder excludedPhrases\n  \u2937 insert_drive_file en.json\n  \u2937 insert_drive_file en-gb.json\n  \u2937 insert_drive_file en-ca.json\n \u2937 insert_drive_file Entity Type A.json\n \u2937 folder Entity Type B\n \u2937 folder entities\n  \u2937 insert_drive_file en.json\n  \u2937 insert_drive_file en-gb.json\n  \u2937 insert_drive_file en-ca.json\n \u2937 folder excludedPhrases\n  \u2937 insert_drive_file en.json\n  \u2937 insert_drive_file en-gb.json\n  \u2937 insert_drive_file en-ca.json\n \u2937 insert_drive_file Entity Type B.json\n```\nWhen importing entity types, there may be merge conflicts when the display name of an entity type in your existing agent matches that of an imported entity type. You can control the merge behavior when entity type display names match by selecting one of the following:\n- **Replace existing entity types** : An imported entity type overwrites any same-named entity type in your existing agent.\n- **Merge with existing entity types** : The entity entries of an imported entity type are added to the existing entity type. If the same entity entries exist, they won't be duplicated, and the synonyms under them will be merged.\n- **Rename and import as new entity types** : The imported entity type is renamed by appending \"_1\" to the display name.\n- **Skip the entity types** : The existing entity type remains unchanged, and the imported entity type is ignored.\nTo export entity types:\n- Open the [Dialogflow CX Console](https://dialogflow.cloud.google.com/cx/projects) .\n- Choose your Google Cloud project.\n- Select your agent.\n- Select the **Manage** tab.\n- Click **Entity Types** .\n- Select all the entity types you want to export.\n- Click **Export selected entity** .\n- Select the format and destination.\n- Click **Submit** .\nTo import entity types:\n- Open the [Dialogflow CX Console](https://dialogflow.cloud.google.com/cx/projects) .\n- Choose your Google Cloud project.\n- Select your agent.\n- Select the **Manage** tab.\n- Click **Entity Types** .\n- Click **Import** .\n- Select the source and merge behavior.\n- Click **Submit** .## Import entity entries\n**    Preview     ** This product or feature is subject to the \"Pre-GA Offerings Terms\" in the General Service Terms section   of the [Service Specific Terms](/terms/service-terms#1) .     Pre-GA products and features are available \"as is\" and might have limited support.    For more information, see the [launch stage descriptions](/products#product-launch-stages) .\nYou can import entity entries to an existing entity type.\nThe file format used for importing entity entries is the same as the format used for importing entity types. However, the import file can only contain 1 entity type and all the entries under it will be imported to the selected entity type. If the same entity entries exist, they won't be duplicated, and the synonyms under them will be merged.\nTo import entity entries for an entity type:\n- Open the [Dialogflow CX Console](https://dialogflow.cloud.google.com/cx/projects) .\n- Choose your Google Cloud project.\n- Select your agent.\n- Select the **Manage** tab.\n- Click **Entity Types** .\n- Select an entity.\n- Click **Import to entity** .\n- Select a file.\n- Click **Submit** .", "guide": "Dialogflow"}