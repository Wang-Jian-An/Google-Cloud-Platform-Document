{"title": "Dataproc - \u4f7f\u7528 Cloud Console \u5275\u5efa Dataproc \u96c6\u7fa3", "url": "https://cloud.google.com/dataproc/docs/quickstarts/create-cluster-console?hl=zh-cn", "abstract": "# Dataproc - \u4f7f\u7528 Cloud Console \u5275\u5efa Dataproc \u96c6\u7fa3\n# \u4f7f\u7528 Cloud Console \u5275\u5efa Dataproc \u96c6\u7fa3\n\u672c\u9801\u9762\u4ecb\u7d39\u5982\u4f55\u4f7f\u7528 Google Cloud Console \u5275\u5efa Dataproc \u96c6\u7fa3\u3001\u5728\u8a72\u96c6\u7fa3\u4e2d\u904b\u884c\u57fa\u672c\u7684 [Apache Spark](http://spark.apache.org/) \u4f5c\u696d\uff0c\u7136\u5f8c\u4fee\u6539\u96c6\u7fa3\u4e2d\u7684\u5de5\u4f5c\u5668\u6578\u91cf\u3002", "content": "## \u6e96\u5099\u5de5\u4f5c\n- Titles in dynamic includes are not used anywhere, and we should avoid paying to translate them## \u5275\u5efa\u96c6\u7fa3\n- \u5728 Cloud Console \u4e2d\uff0c\u8f49\u5230 **Dataproc \u96c6\u7fa3** \u9801\u9762\u3002 [\u8f49\u5230\u96c6\u7fa3](https://console.cloud.google.com/dataproc/clusters?hl=zh-cn) \n- \u9ede\u64ca **\u5275\u5efa\u96c6\u7fa3** \u3002\n- \u5728 **\u96c6\u7fa3\u540d\u7a31** \u5b57\u6bb5\u4e2d\uff0c\u8f38\u5165 `example-cluster` \u3002\n- \u5728 **\u5340\u57df** \u548c **\u53ef\u7528\u5340** \u5217\u8868\u4e2d\uff0c\u9078\u64c7\u5340\u57df\u548c\u53ef\u7528\u5340\u3002\u60a8\u53ef\u4ee5\u9078\u64c7\u7279\u5b9a\u5340\u57df\uff08\u4f8b\u5982 `us-east1` \u6216 `europe-west1` \uff09\uff0c\u4ee5\u9694\u96e2\u6307\u5b9a\u5340\u57df\u7684 Dataproc \u4f7f\u7528\u7684\u8cc7\u6e90\uff0c\u5982\u865b\u64ec\u6a5f (VM) \u5be6\u4f8b\u3001Cloud Storage \u4ee5\u53ca\u5143\u6578\u64da\u5b58\u5132\u4f4d\u7f6e\u3002\u60a8\u9084\u53ef\u4ee5\u9078\u64c7 `global` \uff0c\u9019\u662f\u4e00\u500b\u7279\u6b8a\u7684\u591a\u5340\u57df\u7aef\u9ede\uff0c\u80fd\u5920\u5c07\u5be6\u4f8b\u90e8\u7f72\u5230\u4efb\u4f55\u7528\u6236\u6307\u5b9a\u7684 Compute Engine \u53ef\u7528\u5340\u3002\u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1 [\u53ef\u7528\u5340\u57df\u548c\u53ef\u7528\u5340](https://cloud.google.com/compute/docs/regions-zones/regions-zones?hl=zh-cn#available) \u548c [\u5340\u57df\u7aef\u9ede](https://cloud.google.com/dataproc/docs/concepts/regional-endpoints?hl=zh-cn) \u3002\n- \u5c0d\u65bc\u6240\u6709\u5176\u4ed6\u9078\u9805\uff0c\u8acb\u4f7f\u7528\u9ed8\u8a8d\u8a2d\u7f6e\u3002\n- \u5982\u9700\u5275\u5efa\u96c6\u7fa3\uff0c\u8acb\u9ede\u64ca **\u5275\u5efa** \u3002\u60a8\u7684\u65b0\u96c6\u7fa3\u5c07\u986f\u793a\u5728 **\u96c6\u7fa3** \u9801\u9762\u4e0a\u7684\u5217\u8868\u4e2d\u3002\u5728\u96c6\u7fa3\u6e96\u5099\u597d\u6295\u5165\u4f7f\u7528\u4e4b\u524d\uff0c\u72c0\u614b\u7232 **\u914d\u7f6e** \uff0c\u7136\u5f8c\u72c0\u614b\u6703\u66f4\u6539\u7232 **\u904b\u884c** \u3002\u914d\u7f6e\u96c6\u7fa3\u53ef\u80fd\u9700\u8981\u5e7e\u5206\u9418\u7684\u6642\u9593\u3002\n## \u63d0\u4ea4 Spark \u4f5c\u696d\u63d0\u4ea4\u4f30\u7b97 Pi \u503c\u7684 Spark \u4f5c\u696d\uff1a- \u5728 Dataproc \u5c0e\u822a\u83dc\u55ae\u4e2d\uff0c\u9ede\u64ca **\u4f5c\u696d** \u3002\n- \u5728 **\u4f5c\u696d** \u9801\u9762\u4e0a\uff0c\u9ede\u64ca add_box **\u63d0\u4ea4\u4f5c\u696d** \uff0c\u7136\u5f8c\u57f7\u884c\u4ee5\u4e0b\u64cd\u4f5c\uff1a- \u5728 **\u96c6\u7fa3** \u5b57\u6bb5\u4e2d\uff0c\u9ede\u64ca **\u700f\u89bd** \u3002\n- \u5728 **example-cluster** \u5c0d\u61c9\u7684\u884c\u4e2d\uff0c\u9ede\u64ca **\u9078\u64c7** \u3002\n- \u5728 **\u4f5c\u696d ID** \u5b57\u6bb5\u4e2d\uff0c\u4f7f\u7528\u9ed8\u8a8d\u8a2d\u7f6e\uff0c\u6216\u63d0\u4f9b\u60a8 Google Cloud \u9805\u76ee\u7368\u6709\u7684 ID\u3002\n- \u5c0d\u65bc **\u4f5c\u696d\u985e\u578b** \uff0c\u8acb\u9078\u64c7 **Spark** \u3002\n- \u5728 **\u4e3b\u985e\u6216 Jar** \u5b57\u6bb5\u4e2d\uff0c\u8f38\u5165`org.apache.spark.examples.SparkPi`\u3002\n- \u5728 **Jar \u6587\u4ef6** \u5b57\u6bb5\u4e2d\uff0c\u8f38\u5165`file:///usr/lib/spark/examples/jars/spark-examples.jar`\u3002\n- \u5728 **\u53c3\u6578** \u5b57\u6bb5\u4e2d\uff0c\u8f38\u5165 `1000` \u4ee5\u8a2d\u7f6e\u4efb\u52d9\u6578\u91cf\u3002 **\u6ce8\u610f** \uff1aSpark \u4f5c\u696d\u4f7f\u7528 [Monte Carlo \u65b9\u6cd5](https://wikipedia.org/wiki/Monte_Carlo_method) \u4f30\u7b97 Pi\u3002\u5b83\u5728\u5ea7\u6a19\u5e73\u9762\u4e0a\u751f\u6210 x,y \u9ede\uff0c\u8a72\u5ea7\u6a19\u5e73\u9762\u53ef\u7232\u7531\u55ae\u4f4d\u6b63\u65b9\u5f62\u5305\u570d\u7684\u5713\u5efa\u6a21\u3002 \u8f38\u5165\u53c3\u6578 ( `1000` ) \u6c7a\u5b9a\u8981\u751f\u6210\u7684 x,y \u5c0d\u7684\u6578\u91cf\uff1b\u751f\u6210\u7684\u6578\u91cf\u8d8a\u591a\uff0c\u4f30\u7b97\u7684\u6e96\u78ba\u6027\u5c31\u8d8a\u9ad8\u3002\u6b64\u4f30\u7b97\u4f7f\u7528 Dataproc \u5de5\u4f5c\u5668\u7bc0\u9ede\u57f7\u884c\u4e26\u884c\u8a08\u7b97\u3002\u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1 [\u4f7f\u7528 Monte Carlo \u65b9\u6cd5\u4f30\u7b97 Pi](https://academo.org/demos/estimating-pi-monte-carlo/) \u4ee5\u53ca [GitHub \u4e0a\u7684 JavaSparkPi.java](https://github.com/apache/spark/blob/master/examples/src/main/java/org/apache/spark/examples/JavaSparkPi.java) \u3002\n- \u9ede\u64ca **\u63d0\u4ea4** \u3002\u60a8\u7684\u4f5c\u696d\u5c07\u986f\u793a\u5728 **\u4f5c\u696d\u8a73\u60c5** \u9801\u9762\u4e0a\u3002\u4f5c\u696d\u72c0\u614b\u7232 **\u6b63\u5728\u904b\u884c** \u6216 **\u6b63\u5728\u5553\u52d5** \uff0c\u7136\u5f8c\u5728\u63d0\u4ea4\u5f8c\u66f4\u6539\u7232 **\u6210\u529f** \u3002\u7232\u907f\u514d\u5728\u8f38\u51fa\u4e2d\u6efe\u52d5\uff0c\u8acb\u9ede\u64ca **\u63db\u884c\uff1a\u95dc\u9589** \u3002\u8f38\u51fa\u5167\u5bb9\u5982\u4e0b\u6240\u793a\uff1a```\nPi is roughly 3.1416759514167594\n```\u5982\u9700\u67e5\u770b\u4f5c\u696d\u8a73\u60c5\uff0c\u8acb\u9ede\u64ca **\u914d\u7f6e** \u6a19\u7c64\u9801\u3002## \u66f4\u65b0\u96c6\u7fa3\u901a\u904e\u66f4\u6539\u5de5\u4f5c\u5668\u5be6\u4f8b\u7684\u6578\u91cf\u4f86\u66f4\u65b0\u96c6\u7fa3\uff1a- \u5728\u5c0e\u822a\u83dc\u55ae\u4e2d\uff0c\u9ede\u64ca **\u96c6\u7fa3** \u3002\n- \u5728\u96c6\u7fa3\u5217\u8868\u4e2d\uff0c\u9ede\u64ca **example-cluster** \u3002\n- \u5728 **\u96c6\u7fa3\u8a73\u60c5** \u9801\u9762\u4e0a\uff0c\u9ede\u64ca **\u914d\u7f6e** \u6a19\u7c64\u9801\u6b64\u6642\u5c07\u986f\u793a\u60a8\u7684\u96c6\u7fa3\u8a2d\u7f6e\u3002\n- \u9ede\u64ca mode_edit **\u4fee\u6539** \u3002\n- \u5728 **\u5de5\u4f5c\u5668\u7bc0\u9ede** \u5b57\u6bb5\u4e2d\uff0c\u8f38\u5165 `5` \u3002\n- \u9ede\u64ca **\u4fdd\u5b58** \u3002\n\u60a8\u7684\u96c6\u7fa3\u73fe\u5728\u5df2\u66f4\u65b0\u3002\u8981\u5c07\u5de5\u4f5c\u5668\u7bc0\u9ede\u7684\u6578\u91cf\u6e1b\u5c11\u7232\u539f\u59cb\u503c\uff0c\u8acb\u6309\u7167\u76f8\u540c\u7684\u904e\u7a0b\u64cd\u4f5c\u3002## \u6e05\u7406\u7232\u907f\u514d\u56e0\u672c\u9801\u4e2d\u4f7f\u7528\u7684\u8cc7\u6e90\u5c0e\u81f4\u60a8\u7684 Google Cloud \u5e33\u865f\u7522\u751f\u8cbb\u7528\uff0c\u8acb\u6309\u7167\u4ee5\u4e0b\u6b65\u9a5f\u64cd\u4f5c\u3002- \u5728 **example-cluster** \u7684 **\u96c6\u7fa3\u8a73\u60c5** \u9801\u9762\u4e0a\uff0c\u9ede\u64cadelete **\u522a\u9664** \u4ee5\u522a\u9664\u96c6\u7fa3\u3002\n- \u5982\u9700\u78ba\u8a8d\u8981\u522a\u9664\u96c6\u7fa3\uff0c\u8acb\u9ede\u64ca **\u522a\u9664** \u3002\n## \u5f8c\u7e8c\u6b65\u9a5f\n- \u4f7f\u7528\u5176\u4ed6\u5de5\u5177\u5617\u8a66\u672c\u5feb\u901f\u5165\u9580\uff1a- [\u4f7f\u7528 API Explorer](https://cloud.google.com/dataproc/docs/quickstarts/quickstart-explorer-create?hl=zh-cn) \n- [\u4f7f\u7528 Google Cloud CLI](https://cloud.google.com/dataproc/docs/quickstarts/quickstart-gcloud?hl=zh-cn) \u3002\n- \u77ad\u89e3\u5982\u4f55 [\u5728\u5275\u5efa\u9805\u76ee\u6642\u5275\u5efa\u5f37\u5927\u7684\u9632\u706b\u7246\u898f\u5247](https://cloud.google.com/dataproc/docs/concepts/configuring-clusters/network?hl=zh-cn) \u3002\n- \u77ad\u89e3\u5982\u4f55 [\u7de8\u5beb\u548c\u904b\u884c Scala \u4f5c\u696d](https://cloud.google.com/dataproc/docs/tutorials/spark-scala?hl=zh-cn) \u3002\n- \u77ad\u89e3\u5982\u4f55 [\u4f7f\u7528 Dataproc Hub](https://cloud.google.com/dataproc/docs/tutorials/dataproc-hub-overview?hl=zh-cn) \u5728 Dataproc \u4e0a\u904b\u884c Jupyter \u7b46\u8a18\u672c\u3002", "guide": "Dataproc"}