{"title": "Dataproc - Dataproc services", "url": "https://cloud.google.com/dataproc/docs/concepts/services", "abstract": "# Dataproc - Dataproc services\nThis page lists services that Dataproc [image versions](/dataproc/docs/concepts/versioning/dataproc-versions#supported_dataproc_versions) run on Dataproc cluster nodes.\n", "content": "## All nodes\nThe following services run on all nodes in a cluster.\n| Node type | Service    | Image versions | Description           |\n|:------------|:----------------------|:-----------------|:-----------------------------------------------------|\n| All nodes | google-dataproc-agent | all    | Receives jobs from Dataproc and launches job drivers |\n| All nodes | google-fluentd  | all    | Collects and pushes logs to Logging     |\n## Standard clusters\nThe following services run on standard clusters.\n| Node type   | Service      | Image versions | Description                                                                                                         |\n|:---------------------|:-------------------------------|:-----------------|:---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| All nodes   | hadoop-hdfs-namenode   | all    | Manages the HDFS filesystem                                                                                                     |\n| All nodes   | hadoop-hdfs-secondarynamenode | all    | Checkpoints the NameNode                                                                                                      |\n| All nodes   | hadoop-mapreduce-historyserver | all    | Serves mapreduce application history information                                                                                                |\n| All nodes   | hadoop-yarn-resourcemanager | all    | Schedules and manages YARN applications                                                                                                  |\n| All nodes   | hadoop-yarn-timelineserver  | 1.3+    | Serves YARN application history information                                                                                                 |\n| All nodes   | hive-metastore     | all    | Manages Hive table metadata. As a default, uses the local mariadb (image versions < 1.5) or mysql (image versions 1.5+) database on the master node as the Hive table metadata store. Using the default database is not recommended because these databases are tied to the cluster's lifecycle. Instead, use either of the following as the Hive metastore database (in recommendation order): Dataproc Metastore Cloud SQL instance |\n| All nodes   | hive-server2     | all    | Serves queries received from clients (primarily beeline shell queries) against Hive                                                                                      |\n| All nodes   | mariadb      | < 1.5   | A relational database used as the default underlying database for Hive metastore in Dataproc < 1.5 images                                                                                 |\n| All nodes   | mysql       | 1.5+    | A relational database used as the default underlying database for Hive metastore in Dataproc 1.5+ images                                                                                 |\n| All nodes   | nfs-kernel-server    | < 1.3   | NFS is the Network File System.                                                                                                    |\n| All nodes   | spark-history-server   | all    | Serves Spark application history information                                                                                                 |\n| All Workers   | hadoop-yarn-nodemanager  | all    | Launches and manages YARN containers                                                                                                   |\n| Primary Workers only | hadoop-hdfs-datanode   | all    | Stores HDFS blocks                                                                                                       |\n## HA Clusters\nIn Dataproc [High Availability (HA) clusters](/dataproc/docs/concepts/configuring-clusters/high-availability) , different services run on different master nodes, as show below. HA cluster worker node services are the same as those listed for [standard clusters](#standard_clusters) .\n| Node type   | Service      | Image versions | Description                                                                                                         |\n|:---------------------|:-------------------------------|:-----------------|:---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| All masters   | hadoop-hdfs-journalnode  | all    | A quorum of journal nodes maintains an edit log of HDFS namespace modifications. If a failover occurs, the Standby NameNode reads the edit log and takes control from the Active NameNode.                                                             |\n| All masters   | hadoop-yarn-resourcemanager | all    | Schedules and manages YARN applications                                                                                                  |\n| All masters   | hive-metastore     | all    | Manages Hive table metadata. As a default, uses the local mariadb (image versions < 1.5) or mysql (image versions 1.5+) database on the master node as the Hive table metadata store. Using the default database is not recommended because these databases are tied to the cluster's lifecycle. Instead, use either of the following as the Hive metastore database (in recommendation order): Dataproc Metastore Cloud SQL instance |\n| All masters   | hive-server2     | all    | Serves queries received from clients (primarily beeline shell queries) against Hive                                                                                      |\n| All masters   | zookeeper-server    | all    | A ZooKeeper quorum is used for distributed coordination. In High Availability (HA) clusters, it is used for HDFS NameNodes and YARN resource managers leader election.                                                                  |\n| Masters 0 and 1 only | hadoop-hdfs-namenode   | all    | Manages the HDFS filesystem                                                                                                     |\n| Masters 0 and 1 only | hadoop-hdfs-zkfc    | all    | ZKFC is the ZKFailoverController process, which runs with the HDFS NameNode. It monitors the health of the NameNode, and manages leader election via ZooKeeper in the event of a failover.                                                             |\n| Master 0 only  | hadoop-mapreduce-historyserver | all    | Serves mapreduce application history information                                                                                                |\n| Master 0 only  | hadoop-yarn-timelineserver  | 1.3+    | Serves YARN application history information                                                                                                 |\n| Master 0 only  | mariadb      | < 1.5   | A relational database used as the default underlying database for Hive metastore in Dataproc < 1.5 images                                                                                 |\n| Master 0 only  | mysql       | 1.5+    | A relational database used as the default underlying database for Hive metastore in Dataproc 1.5+ images                                                                                 |\n| Master 0 only  | nfs-kernel-server    | < 1.3   | NFS is the Network File System.                                                                                                    |\n| Master 0 only  | spark-history-server   | all    | Serves Spark application history information                                                                                                 |", "guide": "Dataproc"}