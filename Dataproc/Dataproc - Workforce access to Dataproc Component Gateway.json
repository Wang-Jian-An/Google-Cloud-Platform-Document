{"title": "Dataproc - Workforce access to Dataproc Component Gateway", "url": "https://cloud.google.com/dataproc/docs/concepts/accessing/workforce-identity-federation", "abstract": "# Dataproc - Workforce access to Dataproc Component Gateway\n**Objective:** This document show you how to allow external identity users to click Dataproc [Component Gateway](/dataproc/docs/concepts/accessing/dataproc-gateways) URL links in the Google Cloud console to connect to component web interfaces running on the first master node of a Dataproc cluster.\n", "content": "## Background\n[Workforce identity federation](/iam/docs/workforce-identity-federation) allows you to use an external identity provider (IdP) to authenticate and authorize workforce employees, partners, and contractors to Google Cloud services.\nIf workforce identity federation is [configured in your project](/iam/docs/configuring-workforce-identity-federation#configure_workforce_identity_federation) , external identity users can use the Google Cloud console, Google Cloud CLI, and the Dataproc API to access most Dataproc resources and features, except the following:\n- [Dataproc Component Gateway](/dataproc/docs/concepts/accessing/dataproc-gateways) \n- [Dataproc on GKE](/dataproc/docs/guides/dpgke/dataproc-gke-overview) \n- [Dataproc Personal Authentication](/dataproc/docs/concepts/iam/personal-auth) []() \n- [Dataproc Service Account Based Secure Multi-tenancy](/dataproc/docs/concepts/iam/sa-multi-tenancy) \n- The **Output** section in the Batch and Job details pages and the **Recommended Alerts** section in the Cluster and Job list pages in the Google Cloud console.## How to use workforce identify federation with the Dataproc Component Gateway\n- Configure workforce identify federation by following the [Configure workforce identity federation](/iam/docs/configuring-workforce-identity-federation#configure_workforce_identity_federation) guide.\n- Grant external identity users the [dataproc.clusters.use](/dataproc/docs/concepts/iam/iam#clusters_permissions) role to allow access the Dataproc Component Gateway (see [Grant IAM roles to principals](/iam/docs/configuring-workforce-identity-federation#grant_roles_to_principals) ).- For instructions on how to represent external identities in IAM policies, see [Represent workforce pool users in IAMpolicies](/iam/docs/configuring-workforce-identity-federation#representing-workforce-users) .\n- [Create a Dataproc cluster with Component Gateway enabled](/dataproc/docs/concepts/accessing/dataproc-gateways#rest-api) .## Access cluster web interfaces\nSee [Viewing and Accessing Component Gateway URLs](/dataproc/docs/concepts/accessing/dataproc-gateways#viewing_and_accessing_component_gateway_urls) , and note the following differences for external identity users:\n- Only users that are authenticated with external identities can access the URL for external identities. If a user visits the URL for external identities while not logged in, they are redirected to the authentication portal where they specify their workforce pool provider name. Next, they are redirected to their identity provider to log in. Then, they are redirected to the component web interface.\n- External identities URLs have the following format:```\nhttps://UNIQUE_ID-dot-dataproc.byoid.googleusercontent.com\n```## What's Next\n- Create a cluster with [Dataproc components](/dataproc/docs/concepts/components/overview) .", "guide": "Dataproc"}