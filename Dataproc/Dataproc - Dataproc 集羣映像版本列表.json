{"title": "Dataproc - Dataproc \u96c6\u7fa3\u6620\u50cf\u7248\u672c\u5217\u8868", "url": "https://cloud.google.com/dataproc/docs/concepts/versioning/dataproc-version-clusters?hl=zh-cn", "abstract": "# Dataproc - Dataproc \u96c6\u7fa3\u6620\u50cf\u7248\u672c\u5217\u8868\nGoogle Dataproc \u4f7f\u7528 Ubuntu\u3001Debian \u548c Rocky Linux \u6620\u50cf\u7248\u672c\u5c07\u64cd\u4f5c\u7cfb\u7d71\u3001\u5927\u6578\u64da\u7d44\u4ef6\u548c Google Cloud Platform \u9023\u63a5\u5668\u6346\u7d81\u5230\u4e00\u500b\u90e8\u7f72\u5728\u96c6\u7fa3\u7684\u8edf\u4ef6\u5305\u4e2d\u3002\u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1 [Dataproc \u7248\u672c\u63a7\u5236](https://cloud.google.com/dataproc/docs/concepts/versioning/overview?hl=zh-cn) \u3002\n- Dataproc \u6620\u50cf\u7248\u672c\u5728\u521d\u59cb\u7248\u672c\u767c\u4f48\u5f8c\u53ef\u7372\u5f97 24 \u500b\u6708\u7684\u652f\u6301\u3002\n- Dataproc \u6620\u50cf\u7248\u672c\u5728\u652f\u6301\u7d42\u6b62\u65e5\u671f\u5f8c\u4ecd\u53ef\u7e7c\u7e8c\u4f7f\u7528 24 \u500b\u6708\u3002", "content": "## \u9ed8\u8a8d\u7684 Dataproc \u6620\u50cf\u7248\u672c\n\u5728\u6b63\u5f0f\u7248 (GA) \u767c\u4f48\u4e00\u500b\u6708\u5f8c\uff0cDataproc \u6703\u5c07\u9ed8\u8a8d\u6620\u50cf\u7248\u672c\u66f4\u65b0\u7232\u57fa\u65bc Debian \u7684\u6700\u65b0\u6b63\u5f0f\u7248 Dataproc \u6620\u50cf\u7248\u672c\u3002\n## \u652f\u6301\u7684 Dataproc \u7248\u672c\nDataproc \u6703\u963b\u6b62\u4f7f\u7528 1.3.95\u30011.4.77\u30011.5.53 \u548c 2.0.27 \u4e4b\u524d\u7684\u6620\u50cf\u7248\u672c\u7684\u96c6\u7fa3\u5275\u5efa\u96c6\u7fa3\uff0c\u9019\u4e9b\u7248\u672c\u53d7 [Apache Log4j \u5b89\u5168\u6f0f\u6d1e](https://logging.apache.org/log4j/2.x/security.html) \u7684\u5f71\u97ff\u3002Dataproc \u9084\u963b\u6b62\u4e86 Dataproc \u6620\u50cf\u7248\u672c 0.x\u30011.0.x\u30011.1.x \u548c 1.2.x \u7684\u96c6\u7fa3\u5275\u5efa\u3002Dataproc \u5efa\u8b70\u5118\u53ef\u80fd\u4f7f\u7528\u6700\u65b0\u7684\u6b21\u8981\u6620\u50cf\u7248\u672c\u5275\u5efa Dataproc \u96c6\u7fa3\u3002\u5982\u9700\u77ad\u89e3\u7279\u5b9a\u6620\u50cf\u548c `log4j` \u66f4\u65b0\u4fe1\u606f\uff0c\u8acb\u53c3\u95b1 [Dataproc \u7248\u672c\u8aaa\u660e](https://cloud.google.com/dataproc/docs/release-notes?hl=zh-cn) \u3002\n### Debian \u6620\u50cf\nDataproc \u96c6\u7fa3\u652f\u6301\u4ee5\u4e0b **\u57fa\u65bc Debian** \u7684\u6620\u50cf\u7248\u672c\u3002\u8acb\u6ce8\u610f\uff0c\u7cfb\u7d71\u5c07\u5275\u5efa\u65b0\u96c6\u7fa3\uff0c\u4ee5\u6574\u5408\u81ea\u7248\u672c\u767c\u4f48\u4ee5\u4f86\u91dd\u5c0d\u8a72\u7248\u672c\u63d0\u4f9b\u7684\u6240\u6709\u6b21\u8981\u88dc\u4e01\u7a0b\u5e8f\u3002\n\u5275\u5efa\u57fa\u65bc Debian \u7684\u96c6\u7fa3\u6642\uff0c\u60a8\u53ef\u4ee5\u7701\u7565\u6620\u50cf\u7248\u672c\u7684\u64cd\u4f5c\u7cfb\u7d71\u767c\u884c\u7248\u4ee3\u78bc\u5f8c\u7db4\uff0c\u4f8b\u5982\u901a\u904e\u6307\u5b9a`2.0`\u4f86\u9078\u64c7`2.0-debian10`\u6620\u50cf\u3002\u5982\u9700\u9078\u64c7\u57fa\u65bc Rocky Linux \u6216 Ubuntu \u7684\u6620\u50cf\uff0c\u60a8 **\u5fc5\u9808** \u4f7f\u7528\u64cd\u4f5c\u7cfb\u7d71\u5f8c\u7db4\uff0c\u4f8b\u5982\u6307\u5b9a`2.0-ubuntu18`\u3002\u5982\u9700\u77ad\u89e3\u6620\u50cf\u9078\u64c7\u793a\u4f8b\uff0c\u8acb\u53c3\u95b1 [\u9078\u64c7\u7248\u672c](https://cloud.google.com/dataproc/docs/concepts/versioning/overview?hl=zh-cn#selecting_versions) \u3002\n| \u7248\u672c   | \u4e0a\u6b21\u66f4\u65b0\u6642\u9593  | \u767c\u4f48\u65e5\u671f   | \u652f\u6301\u622a\u6b62\u65e5\u671f  | \u622a\u6b62\u65e5\u671f\uff1a   | Notes  |\n|:-------------|:-------------------|:--------------------|:--------------------|:--------------------|:-------------|\n| 2.2-debian12 | 2024 \u5e74 2 \u6708 28 \u65e5 | 2023 \u5e74 12 \u6708 8 \u65e5 | 2025 \u5e74 12 \u6708 31 \u65e5 | 2027 \u5e74 12 \u6708 31 \u65e5 | \u6b63\u5f0f\u7248\u767c\u4f48\u3002 |\n| 2.1-debian11 | 2024 \u5e74 2 \u6708 28 \u65e5 | 2022 \u5e74 12 \u6708 12 \u65e5 | 2024 \u5e74 12 \u6708 31 \u65e5 | 2026 \u5e74 12 \u6708 31 \u65e5 | \u6b63\u5f0f\u7248\u767c\u4f48\u3002 |\n| 2.0-debian10 | 2024 \u5e74 2 \u6708 28 \u65e5 | 2021/01/22   | 2024 \u5e74 7 \u6708 31 \u65e5 | 2026 \u5e74 7 \u6708 31 \u65e5 | \u6b63\u5f0f\u7248\u767c\u4f48\u3002 |\n### Ubuntu \u6620\u50cf\nDataproc \u96c6\u7fa3\u652f\u6301\u4ee5\u4e0b **\u57fa\u65bc Ubuntu LTS** \u7684\u6620\u50cf\u7248\u672c\u3002\u8acb\u6ce8\u610f\uff0c\u7cfb\u7d71\u5c07\u5275\u5efa\u65b0\u96c6\u7fa3\uff0c\u4ee5\u6574\u5408\u81ea\u7248\u672c\u767c\u4f48\u4ee5\u4f86\u91dd\u5c0d\u8a72\u7248\u672c\u63d0\u4f9b\u7684\u6240\u6709\u6b21\u8981\u88dc\u4e01\u7a0b\u5e8f\u3002\n| \u7248\u672c   | \u4e0a\u6b21\u66f4\u65b0\u6642\u9593  | \u767c\u4f48\u65e5\u671f   | \u652f\u6301\u622a\u6b62\u65e5\u671f  | \u622a\u6b62\u65e5\u671f\uff1a   | Notes  |\n|:-------------|:-------------------|:--------------------|:--------------------|:--------------------|:-------------|\n| 2.2-ubuntu22 | 2024 \u5e74 2 \u6708 28 \u65e5 | 2023 \u5e74 12 \u6708 8 \u65e5 | 2025 \u5e74 12 \u6708 31 \u65e5 | 2027 \u5e74 12 \u6708 31 \u65e5 | \u6b63\u5f0f\u7248\u767c\u4f48\u3002 |\n| 2.1-ubuntu20 | 2024 \u5e74 2 \u6708 28 \u65e5 | 2022 \u5e74 12 \u6708 12 \u65e5 | 2024 \u5e74 12 \u6708 31 \u65e5 | 2026 \u5e74 12 \u6708 31 \u65e5 | \u6b63\u5f0f\u7248\u767c\u4f48\u3002 |\n| 2.0-ubuntu18 | 2024 \u5e74 2 \u6708 28 \u65e5 | 2021/01/22   | 2024 \u5e74 7 \u6708 31 \u65e5 | 2026 \u5e74 7 \u6708 31 \u65e5 | \u6b63\u5f0f\u7248\u767c\u4f48\u3002 |\n### Rocky Linux \u6620\u50cf\nDataproc \u96c6\u7fa3\u652f\u6301\u4ee5\u4e0b **\u57fa\u65bc Rocky Linux** \u7684\u6620\u50cf\u7248\u672c\u3002\u8acb\u6ce8\u610f\uff0c\u7cfb\u7d71\u5c07\u5275\u5efa\u65b0\u96c6\u7fa3\uff0c\u4ee5\u6574\u5408\u81ea\u7248\u672c\u767c\u4f48\u4ee5\u4f86\u91dd\u5c0d\u8a72\u7248\u672c\u63d0\u4f9b\u7684\u6240\u6709\u6b21\u8981\u88dc\u4e01\u7a0b\u5e8f\u3002\n| \u7248\u672c  | \u4e0a\u6b21\u66f4\u65b0\u6642\u9593  | \u767c\u4f48\u65e5\u671f   | \u652f\u6301\u622a\u6b62\u65e5\u671f  | \u622a\u6b62\u65e5\u671f\uff1a   | Notes  |\n|:-----------|:-------------------|:--------------------|:--------------------|:--------------------|:-------------|\n| 2.2-rocky9 | 2024 \u5e74 2 \u6708 28 \u65e5 | 2023 \u5e74 12 \u6708 8 \u65e5 | 2025 \u5e74 12 \u6708 31 \u65e5 | 2027 \u5e74 12 \u6708 31 \u65e5 | \u6b63\u5f0f\u7248\u767c\u4f48\u3002 |\n| 2.1-rocky8 | 2024 \u5e74 2 \u6708 28 \u65e5 | 2022 \u5e74 12 \u6708 12 \u65e5 | 2024 \u5e74 12 \u6708 31 \u65e5 | 2026 \u5e74 12 \u6708 31 \u65e5 | \u6b63\u5f0f\u7248\u767c\u4f48\u3002 |\n| 2.0-rocky8 | 2024 \u5e74 2 \u6708 28 \u65e5 | 2022 \u5e74 2 \u6708 18 \u65e5 | 2024 \u5e74 7 \u6708 31 \u65e5 | 2026 \u5e74 7 \u6708 31 \u65e5 | \u6b63\u5f0f\u7248\u767c\u4f48\u3002 |\n## \u4e0d\u652f\u6301\u7684 Dataproc \u7248\u672c\n[\u9ede\u64ca\u6b64\u93c8\u63a5](https://cloud.google.com/static/dataproc/docs/concepts/versioning/check-unsupported-dataproc-clusters.sh?hl=zh-cn) \u53ef\u4e0b\u8f09\u53ef\u904b\u884c\u7684\u8173\u672c\uff0c\u4ee5\u6aa2\u67e5\u60a8\u7684\u9805\u76ee\u6216\u7d44\u7e54\u662f\u5426\u4f7f\u7528\u4e86\u4e0d\u53d7\u652f\u6301\u7684 Dataproc \u6620\u50cf\u3002\n\u4ee5\u4e0b Dataproc \u7248\u672c\u4e0d\u53d7\u652f\u6301\u3002 Dataproc \u4e0d\u6703\u7232\u4f7f\u7528\u9019\u4e9b\u7248\u672c\u5275\u5efa\u7684\u96c6\u7fa3\u63d0\u4f9b\u66f4\u65b0\u548c\u652f\u6301\u3002\u96d6\u7136\u60a8\u53ef\u4ee5\u7e7c\u7e8c\u904b\u884c\u4f7f\u7528\u4e0d\u53d7\u652f\u6301\u7684\u7248\u672c\u5275\u5efa\u7684\u96c6\u7fa3\uff0c\u4f46\u5efa\u8b70\u5c07\u6b64\u985e\u96c6\u7fa3\u66ff\u63db\u7232\u4f7f\u7528\u53d7\u652f\u6301\u7684\u7248\u672c\u5275\u5efa\u7684\u65b0\u96c6\u7fa3\u3002\n| \u7248\u672c       | \u5305\u542b\u7684\u5167\u5bb9                                             | \u767c\u4f48\u65e5\u671f          | \u4e0a\u6b21\u66f4\u65b0\u6642\u9593  | Notes                                    |\n|:-------------------------------|:-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|:-----------------------------------------------|:-------------------|:--------------------------------------------------------------------------------------------------------------------------------------------------|\n| 1.5-debian10/-ubuntu18/-rocky8 | Apache Spark 2.4.8 Apache Hadoop 2.10.2 Apache Pig 0.17.0 Apache Hive 2.3.7 Cloud Storage \u9023\u63a5\u5668 2.1.9-hadoop2 Python 3.7 Scala 2.12.10 Zookeeper 3.4.14         | 2020/03/25:debian10/ubuntu18 2022/02/18:rocky8 | 2023 \u5e74 4 \u6708 28 \u65e5 | \u81ea 2023 \u5e74 4 \u6708 28 \u65e5\u8d77\u4e0d\u53d7\u652f\u6301\u3002 1.5.89-debian10/-ubuntu18/-rocky8 \u662f\u6700\u7d42\u767c\u4f48\u7248\u672c\u3002                |\n| 2.0-centos8     | Apache Spark 3.1.2 Apache Hadoop 3.2.2 Apache Pig 0.18.0-SNAPSHOT Apache Hive 3.1.2 Cloud Storage \u9023\u63a5\u5668 2.2.4-hadoop3 Python 3.8 Scala 2.12.14 Zookeeper 3.4.14       | 2021 \u5e74 3 \u6708 16 \u65e5        | 2022/02/01   | \u81ea 2022 \u5e74 2 \u6708 1 \u65e5\u8d77\u4e0d\u53d7\u652f\u6301\u3002 2.0.30-centos8 \u662f\u6700\u7d42\u767c\u4f48\u7248\u672c\u3002                     |\n| 1.5-centos8     | Apache Spark 2.4.8 Apache Hadoop 2.10.1 Apache Pig 0.17.0 Apache Hive 2.3.7 Cloud Storage \u9023\u63a5\u5668 2.1.5-hadoop2 Python 3.7 Scala 2.12.10 Zookeeper 3.4.14         | 2020 \u5e74 12 \u6708 14 \u65e5       | 2022/02/01   | \u81ea 2022 \u5e74 2 \u6708 1 \u65e5\u8d77\u4e0d\u53d7\u652f\u6301\u3002 1.5.56-centos8 \u662f\u6700\u7d42\u767c\u4f48\u7248\u672c\u3002                     |\n| 1.4-debian10/-ubuntu18   | Apache Spark 2.4.8 Apache Hadoop 2.9.2 Apache Pig 0.17.0 Apache Hive 2.3.7 Cloud Storage \u9023\u63a5\u5668 1.9.18-hadoop2 Python 3.6 Scala 2.11.12 Zookeeper 3.4.14        | 2019/03/22          | 2022/02/01   | \u5f9e 2022 \u5e74 2 \u6708 1 \u65e5\u8d77\u4e0d\u518d\u53d7\u652f\u6301\u3002 1.4.80-debian10/-ubuntu18 \u662f\u6700\u5f8c\u767c\u4f48\u7684\u7248\u672c\u3002                 |\n| 1.3-debian10/-ubuntu18   | Apache Spark 2.3.4 Apache Hadoop 2.9.2 Apache Pig 0.17.0 Apache Hive 2.3.7 Cloud Storage \u9023\u63a5\u5668 1.9.18-hadoop2 Python 2.7 Scala 2.11.8 Zookeeper 3.4.13         | 2018/06/29          | 2021/12/22   | \u5f9e 2021 \u5e74 8 \u6708 1 \u65e5\u958b\u59cb\u4e0d\u53d7\u652f\u6301\u3002 1.3.95-debian10/-ubuntu18 \u662f\u6700\u5f8c\u7684\u767c\u4f48\u7248\u672c\uff0c\u8a72\u7248\u672c\u89e3\u6c7a\u4e86 log4j2 \u6f0f\u6d1e\u3002\u6ce8\u610f\uff1a\u4ee5\u524d\u767c\u4f48\u7684\u7248\u672c\u5b58\u5728\u6f0f\u6d1e\uff0c\u5fc5\u9808\u5347\u7d1a\u3002 |\n| 1.4-debian9     | Apache Spark 2.4.5 Apache Hadoop 2.9.2 Apache Pig 0.17.0 Apache Hive 2.3.7 Cloud Storage \u9023\u63a5\u5668 1.9.17-hadoop2 Python 3.6 Scala 2.11.12 Zookeeper 3.4.13        | 2019/03/22          | 2020/07/10   | \u5f9e 2020 \u5e74 7 \u6708 10 \u65e5\u958b\u59cb\u4e0d\u53d7\u652f\u6301\u3002 1.4.33-debian9 \u662f\u6700\u5f8c\u767c\u4f48\u7684\u7248\u672c\u3002                    |\n| 1.3-debian9     | Apache Spark 2.3.4 Apache Hadoop 2.9.2 Apache Pig 0.17.0 Apache Hive 2.3.7 Cloud Storage \u9023\u63a5\u5668 1.9.17-hadoop2 Python 2.7 Scala 2.11.8 Zookeeper 3.4.13         | 2018/06/29          | 2020/07/10   | \u5f9e 2020 \u5e74 7 \u6708 10 \u65e5\u958b\u59cb\u4e0d\u53d7\u652f\u6301\u3002 1.3.62-debian9 \u662f\u6700\u5f8c\u767c\u4f48\u7684\u7248\u672c\u3002                    |\n| 1.2-debian9     | Apache Spark 2.2.3 Apache Hadoop 2.8.5 Apache Pig 0.16.0 Apache Hive 2.1.1 Cloud Storage \u9023\u63a5\u5668 1.6.10-hadoop2 BigQuery \u9023\u63a5\u5668 0.10.11-hadoop2 Python 2.7 Scala 2.11.8 Zookeeper 3.4.13 | 2017/07/21          | 2020/07/10   | \u5f9e 2020 \u5e74 7 \u6708 10 \u65e5\u958b\u59cb\u4e0d\u53d7\u652f\u6301\u3002 1.2.102-debian9 \u662f\u6700\u5f8c\u7684\u767c\u4f48\u7248\u672c\u3002                   |\n| 1.1-debian9     | Apache Spark 2.0.2 Apache Hadoop 2.7.7 Apache Pig 0.16.0 Apache Hive 2.1.1 Cloud Storage \u9023\u63a5\u5668 1.6.10-hadoop2 BigQuery \u9023\u63a5\u5668 0.10.11-hadoop2           | 2016/08/08          | 2019/09/26   | \u5f9e 2019 \u5e74 10 \u6708 1 \u65e5\u958b\u59cb\u4e0d\u53d7\u652f\u6301\u3002 1.1.121-debian9 \u662f\u6700\u5f8c\u7684\u767c\u4f48\u7248\u672c\u3002                   |\n| 1.0-debian9     | Apache Spark 1.6.2 Apache Hadoop 2.7.4 Apache Pig 0.15.0 Apache Hive 1.2.1 Cloud Storage \u9023\u63a5\u5668 1.6.10-hadoop2 BigQuery \u9023\u63a5\u5668 0.10.11-hadoop2           | 2016/02/22          | 2019/05/09   | \u6b63\u5f0f\u7248\u6620\u50cf\u9996\u6b21\u767c\u4f48\u3002 \u81ea 2019 \u5e74 4 \u6708 1 \u65e5\u8d77\u4e0d\u53d7\u652f\u6301\u3002 1.0.119-debian9 \u662f\u6700\u5f8c\u7684\u767c\u4f48\u7248\u672c\u3002               |\n| 0.2       | Apache Spark 1.5.2 Apache Hadoop 2.7.1 Apache Pig 0.15.0 Apache Hive 1.2.1 Cloud Storage \u9023\u63a5\u5668 1.5.1-hadoop2 BigQuery \u9023\u63a5\u5668 0.7.7-hadoop2            | 2015/11/18          | 2016/08/02   | \u6e2c\u8a66\u7248\u6620\u50cf\uff08\u7b2c\u4e8c\u7248\uff09\u3002                               |\n| 0.1       | Apache Spark 1.5.0 Apache Hadoop 2.7.1 Apache Pig 0.14.10 Apache Hive 1.0 Cloud Storage \u9023\u63a5\u5668 1.5.1-hadoop2 BigQuery \u9023\u63a5\u5668 0.7.7-hadoop2            | 2015/09/23          | 2016/08/02   | Dataproc Beta \u7248\u3002 \u5df2\u91dd\u5c0d Hive 1.2 \u5c0d Spark 1.5 \u9032\u884c\u4e86\u7de8\u8b6f\u3002                      |", "guide": "Dataproc"}