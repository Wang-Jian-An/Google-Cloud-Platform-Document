{"title": "Dataproc - Dataproc optional Docker component", "url": "https://cloud.google.com/dataproc/docs/concepts/components/docker", "abstract": "# Dataproc - Dataproc optional Docker component\nYou can install additional components like Docker when you create a Dataproc cluster using the [Optional components](/dataproc/docs/concepts/components/overview#available_optional_components) feature. This page describes the Docker component.\nThe Dataproc component installs a [Docker daemon](https://docs.docker.com/get-started/overview/#the-docker-daemon) on each cluster node and creates a Linux user \"docker\" and a Linux group \"docker\" on each node to run the Docker daemon. This component also creates a \"docker\" [systemd](https://docs.docker.com/config/daemon/systemd/) service to run the [dockerd](https://docs.docker.com/engine/reference/commandline/dockerd/) service. You should use the `systemd` service to manage the lifecycle of the Docker service.\n", "content": "## Install the component\nInstall the component when you create a Dataproc cluster. The Docker component can be installed on clusters created with Dataproc **image version 1.5or later** .\nSee [Supported Dataproc versions](/dataproc/docs/concepts/versioning/dataproc-versions#supported_cloud_dataproc_versions) for the component version included in each Dataproc image release.\nTo create a Dataproc cluster that includes the Docker component, use the [gcloud dataproc clusters create](/sdk/gcloud/reference/dataproc/clusters/create)  command with the `--optional-components` flag.\n```\ngcloud dataproc clusters create cluster-name \\\n\u00a0\u00a0\u00a0\u00a0--optional-components=DOCKER \\\n\u00a0\u00a0\u00a0\u00a0--region=region \\\n\u00a0\u00a0\u00a0\u00a0--image-version=1.5 \\\n\u00a0\u00a0\u00a0\u00a0... other flags\n```The Docker component can be specified through the Dataproc API using [SoftwareConfig.Component](/dataproc/docs/reference/rest/v1/ClusterConfig#Component) as part of a [clusters.create](/dataproc/docs/reference/rest/v1/projects.regions.clusters/create) request.\n- Enable the component.- In the Google Cloud console, open the Dataproc [Create a cluster](https://console.cloud.google.com/dataproc/clustersAdd) page. The Set up cluster panel is selected.\n- In the Components section:- Under Optional components, select Docker and other optional    components to install on your cluster.## Enable Docker on YARN\nSee [Customize your Spark job runtime environment with Docker on YARN](/dataproc/docs/guides/dataproc-docker-yarn) to use a customized Docker image with YARN.\n## Docker Logging\nBy default, the Dataproc Docker component writes logs to Cloud Logging by [setting the gcplogs driver](/community/tutorials/docker-gcplogs-driver#setting_the_default_logging_driver) \u2014see [Viewing your logs](/community/tutorials/docker-gcplogs-driver#viewing_your_logs) .\n## Docker Registry\nThe Dataproc Docker component configures Docker to use Container Registry in addition to the default Docker registries. Docker will use the Docker credential helper to authenticate with Container Registry.\n## Using the Docker component on a Kerberos cluster\nThe Docker optional component can be installed on a cluster that is being created with [Kerberos security enabled](/dataproc/docs/concepts/configuring-clusters/security#enabling_hadoop_secure_mode_via_kerberos) .\nDocker is not part of the Hadoop ecosystem, and is not recognized by Hadoop services. If you run a container that communicates with Hadoop services directly, your container must have the required Kerberos keytab file and credential.", "guide": "Dataproc"}