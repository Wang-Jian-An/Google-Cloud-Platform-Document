{"title": "Dataproc - \u8a3a\u65b7 Dataproc on GKE \u96c6\u7fa3", "url": "https://cloud.google.com/dataproc/docs/guides/dpgke/dataproc-gke-diagnose-cluster?hl=zh-cn", "abstract": "# Dataproc - \u8a3a\u65b7 Dataproc on GKE \u96c6\u7fa3\nDataproc \u63d0\u4f9b\u4e86 [gcloud CLI gclid clusters diagnose](https://cloud.google.com/sdk/gcloud/reference/dataproc/clusters/diagnose?hl=zh-cn) \u547d\u4ee4\uff0c\u4ee5\u5e6b\u52a9\u60a8\u6392\u67e5 GKE \u96c6\u7fa3\u4e0a\u7684 Dataproc \u96c6\u7fa3\u548c\u4f5c\u696d\u554f\u984c\u3002\u6b64\u547d\u4ee4\u6703\u5c07\u8207\u96c6\u7fa3\u76f8\u95dc\u7684\u914d\u7f6e\u6587\u4ef6\u3001\u65e5\u8a8c\u548c\u8f38\u51fa\u6536\u96c6\u4e26\u6b78\u6a94\u5230\u4e00\u500b\u6b78\u6a94\u6587\u4ef6\u4e2d\uff0c\u7136\u5f8c\u5c07\u6b78\u6a94\u6587\u4ef6\u4e0a\u50b3\u5230\u60a8\u5728 [\u5275\u5efa Dataproc on GKE \u96c6\u7fa3](https://cloud.google.com/dataproc/docs/guides/dpgke/quickstarts/dataproc-gke-quickstart-create-cluster?hl=zh-cn#create_a_on_cluster) \u6642\u6307\u5b9a\u7684 Cloud Storage \u66ab\u5b58\u5b58\u5132\u6876\u3002\n", "content": "## \u8a3a\u65b7\u6b78\u6a94\u6587\u4ef6\n\u4e0b\u8868\u5217\u51fa\u4e86 `dataproc clusters diagnose` \u547d\u4ee4\u6b78\u6a94\u6587\u4ef6\u4e2d\u5305\u542b\u7684\u6307\u6a19\u548c\u5176\u4ed6\u4fe1\u606f\u3002\n### \u7cfb\u7d71\u4fe1\u606f\n| \u9805            | \u6b78\u6a94\u4f4d\u7f6e    |\n|:-----------------------------------------------|:-----------------------|\n| \u865b\u64ec Dataproc on GKE Pod \u904b\u884c\u7684 GKE \u7bc0\u9ede\u6307\u6a19\uff1a | nan     |\n| CPU \u4f7f\u7528\u7387 \u5167\u5b58\u7528\u91cf       | /system/NODE_NAME.json |\n| \u6b63\u5728\u904b\u884c\u7684 Pod \u7684\u7db2\u7d61\u6307\u6a19\u548c\u6587\u4ef6\u7cfb\u7d71\u72c0\u614b\uff1a  | nan     |\n| CPU \u4f7f\u7528\u7387 \u5167\u5b58\u7528\u91cf \u7db2\u7d61\u72c0\u614b \u6587\u4ef6\u7cfb\u7d71\u72c0\u614b  | /system/POD_NAME.json |\n### \u914d\u7f6e\u4fe1\u606f\n| \u9805       | \u6b78\u6a94\u4f4d\u7f6e          |\n|:------------------------------|:-----------------------------------------------|\n| \u96c6\u7fa3 ConfigMap    | /conf/configmap        |\n| Kubernetes Deployment   | /conf/deployment        |\n| \u57fa\u65bc\u89d2\u8272\u7684\u8a2a\u554f\u6b0a\u9650\u63a7\u5236 (RBAC) | /conf/role /conf/rolebind /conf/serviceaccount |\n### \u65e5\u8a8c\n| \u9805             | \u6b78\u6a94\u4f4d\u7f6e    |\n|:----------------------------------------------------|:----------------------|\n| \u4ee3\u7406\u65e5\u8a8c           | /logs/agent.log  |\n| Spark Engine \u65e5\u8a8c         | /logs/sparkengine.log |\n| \u904e\u53bb 24 \u5c0f\u6642\u5167\u7684 Spark \u9a45\u52d5\u7a0b\u5e8f\u904b\u884c\u548c\u5b8c\u6210\u7684\u4f5c\u696d\u65e5\u8a8c | /logs/DRIVER_ID  |\n## \u4f5c\u696d\u548c Pod \u4fe1\u606f\n| \u9805     | \u6b78\u6a94\u4f4d\u7f6e  |\n|:--------------------|:-------------|\n| JobElection \u5c0d\u8c61 | /jobattempts |\n| Kubernetes Pod \u5c0d\u8c61 | /pods  |\n## \u5982\u9700\u6df1\u5165\u77ad\u89e3\n- \u8acb\u53c3\u95b1 [\u8a3a\u65b7 Dataproc \u96c6\u7fa3](https://cloud.google.com/dataproc/docs/support/diagnose-command?hl=zh-cn#sharing_the_data_gathered_by_diagnose) \u3002", "guide": "Dataproc"}