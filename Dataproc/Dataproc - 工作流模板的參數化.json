{"title": "Dataproc - \u5de5\u4f5c\u6d41\u6a21\u677f\u7684\u53c3\u6578\u5316", "url": "https://cloud.google.com/dataproc/docs/concepts/workflows/workflow-parameters?hl=zh-cn", "abstract": "# Dataproc - \u5de5\u4f5c\u6d41\u6a21\u677f\u7684\u53c3\u6578\u5316\n\u5982\u679c\u60a8\u8981\u4f7f\u7528\u4e0d\u540c\u7684\u503c\u591a\u6b21\u904b\u884c [\u5de5\u4f5c\u6d41\u6a21\u677f](https://cloud.google.com/dataproc/docs/concepts/workflows/overview?hl=zh-cn) \uff0c\u5247\u53ef\u4ee5\u5728\u6a21\u677f\u4e2d\u5b9a\u7fa9\u53c3\u6578\uff08\u53c3\u6578\u5316\u6a21\u677f\uff09\uff0c\u4ee5\u907f\u514d\u6bcf\u6b21\u90fd\u8981\u4fee\u6539\u5de5\u4f5c\u6d41\u3002\u7136\u5f8c\uff0c\u60a8\u53ef\u4ee5\u5728\u6bcf\u6b21\u904b\u884c\u6a21\u677f\u6642\u7232\u53c3\u6578\u50b3\u905e\u4e0d\u540c\u7684\u503c\u3002\n\u60a8\u53ef\u4ee5\u5728\u5275\u5efa\u6216\u66f4\u65b0\u5de5\u4f5c\u6d41\u6a21\u677f\u6642\u5c07\u53c3\u6578\u6dfb\u52a0\u5230\u5de5\u4f5c\u6d41\u6a21\u677f\u4e2d\u3002\n", "content": "## \u53ef\u53c3\u6578\u5316\u7684\u5b57\u6bb5\n\u4ee5\u4e0b Dataproc \u5de5\u4f5c\u6d41\u6a21\u677f\u5b57\u6bb5\u53ef\u4ee5\u53c3\u6578\u5316\uff1a\n- \u6a19\u7c64\n- \u6587\u4ef6 URI\n- [\u53d7\u7ba1\u96c6\u7fa3](https://cloud.google.com/dataproc/docs/concepts/workflows/using-workflows?hl=zh-cn#configuring_or_selecting_a_cluster) \u540d\u7a31\uff1aDataproc \u5c07\u4f7f\u7528\u7528\u6236\u63d0\u4f9b\u7684\u540d\u7a31\u4f5c\u7232\u540d\u7a31\u524d\u7db4\uff0c\u4e26\u9644\u52a0\u96a8\u6a5f\u5b57\u7b26\u4ee5\u5275\u5efa\u552f\u4e00\u7684\u96c6\u7fa3\u540d\u7a31\u3002\u7cfb\u7d71\u6703\u5728\u5de5\u4f5c\u6d41\u7d50\u675f\u6642\u522a\u9664\u96c6\u7fa3\u3002\n- \u4f5c\u696d\u5c6c\u6027\n- \u4f5c\u696d\u53c3\u6578\n- \u8173\u672c\u8b8a\u91cf\uff08\u5728 HiveJob\u3001SparkSqlJob \u548c PigJob \u4e2d\uff09\n- \u4e3b\u985e\uff08\u5728 HadoopJob \u548c SparkJob \u4e2d\uff09\n- \u5730\u5340\uff08\u5728 ClusterSelector \u4e2d\uff09\n- \u4e3b\u5be6\u4f8b\u6216\u5de5\u4f5c\u5668\u5be6\u4f8b\u7d44\u4e2d\u7684\u5be6\u4f8b\u6578 (`numInstances`)\u3002\n\u901a\u904e\u5c0d\u96c6\u7fa3\u9078\u64c7\u5668\u9032\u884c\u53c3\u6578\u5316\uff0c\u60a8\u53ef\u4ee5\u5728\u6bcf\u6b21\u904b\u884c\u5de5\u4f5c\u6d41\u6642\u9078\u64c7\u5c07\u5728\u5176\u4e2d\u904b\u884c\u5de5\u4f5c\u6d41\u7684\u96c6\u7fa3\uff08\u8acb\u53c3\u95b1 [\u642d\u914d\u4f7f\u7528\u96c6\u7fa3\u9078\u64c7\u5668\u8207\u5de5\u4f5c\u6d41](https://cloud.google.com/dataproc/docs/concepts/workflows/cluster-selectors?hl=zh-cn) \uff09\u3002\n## \u53c3\u6578\u5c6c\u6027\n[\u5de5\u4f5c\u6d41\u6a21\u677f\u53c3\u6578](https://cloud.google.com/dataproc/docs/reference/rest/v1/projects.locations.workflowTemplates?hl=zh-cn#templateparameter) \u5b9a\u7fa9\u4e86\u4ee5\u4e0b\u5fc5\u9700\u5c6c\u6027\u548c\u53ef\u9078\u5c6c\u6027\uff1a### \u5b57\u6bb5\u8def\u5f91\u8a9e\u6cd5\n\u5b57\u6bb5\u8def\u5f91\u7684\u8a9e\u6cd5\u8207 [FieldMask](https://developers.google.com/protocol-buffers/docs/reference/google.protobuf?hl=zh-cn#google.protobuf.FieldMask) \u985e\u4f3c\u3002\u4f8b\u5982\uff0c\u5f15\u7528\u5de5\u4f5c\u6d41\u6a21\u677f\u96c6\u7fa3\u9078\u64c7\u5668\u7684\u5730\u5340\u5b57\u6bb5\u7684\u5b57\u6bb5\u8def\u5f91\u5c07\u88ab\u6307\u5b9a\u7232 `placement.clusterSelector.zone` \u3002\n\u5b57\u6bb5\u8def\u5f91\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u8a9e\u6cd5\u4f86\u5f15\u7528\u5b57\u6bb5\uff1a\n- \u53d7\u7ba1\u96c6\u7fa3\u540d\u7a31\uff1a- placement.managedCluster.clusterName\n- \u6620\u5c04\u4e2d\u7684\u503c\u53ef\u901a\u904e\u9375\u9032\u884c\u5f15\u7528\uff0c\u4f8b\u5982\uff1a - labels['key']\n- placement.clusterSelector.clusterLabels['key']\n- placement.managedCluster.labels['key']\n- jobs['step-id'].labels['key']\n- \u4f5c\u696d\u5217\u8868\u4e2d\u7684\u4f5c\u696d\u53ef\u901a\u904e step-id \u9032\u884c\u5f15\u7528\u3002 - jobs['step-id'].hadoopJob.mainJarFileUri\n- jobs['step-id'].hiveJob.queryFileUri\n- jobs['step-id'].pySparkJob.mainPythonFileUri\n- jobs['step-id'].hadoopJob.jarFileUris[0]\n- jobs['step-id'].hadoopJob.archiveUris[0]\n- jobs['step-id'].hadoopJob.fileUris[0]\n- jobs['step-id'].pySparkJob.pythonFileUris[0]\n- \u91cd\u8907\u5b57\u6bb5\u4e2d\u7684\u9805\u53ef\u4ee5\u901a\u904e\u5f9e\u96f6\u958b\u59cb\u7684\u7d22\u5f15\u9032\u884c\u5f15\u7528\uff0c\u4f8b\u5982\uff1a \n- jobs['step-id'].sparkJob.args[0]\n- \u5176\u4ed6\u793a\u4f8b\uff1a\n- jobs['step-id'].hadoopJob.args[0]\n- jobs['step-id'].hadoopJob.mainJarFileUri\n- jobs['step-id'].hadoopJob.properties['key']\n- jobs['step-id'].hiveJob.scriptVariables['key']\n- placement.clusterSelector.zone\u4e0d\u80fd\u5c0d\u6620\u5c04\u548c\u91cd\u8907\u5b57\u6bb5\u9032\u884c\u6574\u9ad4\u53c3\u6578\u5316\uff1a\u76ee\u524d\uff0c\u53ea\u80fd\u5f15\u7528\u91cd\u8907\u5b57\u6bb5\u4e2d\u7684\u55ae\u500b\u6620\u5c04\u503c\u548c\u55ae\u500b\u9805\u3002\u4f8b\u5982\uff0c\u4ee5\u4e0b\u5b57\u6bb5\u8def\u5f91\u7121\u6548\uff1a\n`placement.clusterSelector.clusterLabels` `jobs['step-id'].sparkJob.args`\n## \u5c07\u5de5\u4f5c\u6d41\u6a21\u677f\u53c3\u6578\u5316\n\u60a8\u53ef\u4ee5\u4f7f\u7528 Dataproc API \u6216 Google Cloud CLI \u5b9a\u7fa9\u6a21\u677f\u53c3\u6578\uff0c\u5f9e\u800c\u5c07\u5de5\u4f5c\u6d41\u6a21\u677f\u53c3\u6578\u5316\u3002\n\u5982\u9700\u5b9a\u7fa9\u5de5\u4f5c\u6d41\u6a21\u677f\u53c3\u6578\uff0c\u60a8\u53ef\u4ee5\u5275\u5efa\u6216\u4f7f\u7528 Google Cloud CLI \u5c0e\u51fa\u4e26\u4fee\u6539\u5de5\u4f5c\u6d41\u6a21\u677f YAML \u6587\u4ef6\uff0c\u7136\u5f8c\u4f7f\u7528 Google Cloud CLI \u5c0e\u5165\u8a72\u6587\u4ef6\u4f86\u5275\u5efa\u6216\u66f4\u65b0\u6a21\u677f\u3002\u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1 [\u4f7f\u7528 YAML \u6587\u4ef6](https://cloud.google.com/dataproc/docs/concepts/workflows/using-yamls?hl=zh-cn) \u3002\n [\u793a\u4f8b 1\uff1a\u53c3\u6578\u5316\u53d7\u7ba1\u96c6\u7fa3\u6a21\u677f\u793a\u4f8b](None) \n [\u4ee5\u4e0b\u662f\u5177\u6709\u56db\u500b\u5df2\u5b9a\u7fa9\u53c3\u6578\uff08LUSTER\u3001NUM_ROWS\u3001GEN_OUT \u548c SoRT_OUT\uff09\u7684\u793a\u4f8b Teragen-terasort ](None)  [\u53d7\u7ba1\u96c6\u7fa3\u5de5\u4f5c\u6d41](https://cloud.google.com/dataproc/docs/concepts/workflows/using-workflows?hl=zh-cn#configuring_or_selecting_a_cluster) \u6a21\u677f YAML \u6587\u4ef6\uff1a\u5217\u51fa\u4e86\u5169\u500b\u7248\u672c\uff1a\u4e00\u500b\u662f **\u4e4b\u524d** \u53c3\u6578\u5316\uff0c\u53e6\u4e00\u500b\u662f **\u4e4b\u5f8c** \u53c3\u6578\u5316\u3002```\nplacement:\n managedCluster:\n clusterName: my-managed-cluster\n config:\n  gceClusterConfig:\n  zoneUri: us-central1-a\njobs:\n- hadoopJob:\n args:\n - teragen\n - '10000'\n - hdfs:///gen/\n mainJarFileUri: file:///usr/lib/hadoop-mapreduce/hadoop-mapreduce-examples.jar\n stepId: teragen\n- hadoopJob:\n args:\n - terasort\n - hdfs:///gen/\n - hdfs:///sort/\n mainJarFileUri: file:///usr/lib/hadoop-mapreduce/hadoop-mapreduce-examples.jar\n prerequisiteStepIds:\n - teragen\n stepId: terasort\n``````\nplacement:\n managedCluster:\n clusterName: 'to-be-determined'\n config:\n  gceClusterConfig:\n  zoneUri: us-central1-a\njobs:\n- hadoopJob:\n args:\n - teragen\n - '10000'\n - hdfs:///gen/\n mainJarFileUri: file:///usr/lib/hadoop-mapreduce/hadoop-mapreduce-examples.jar\n stepId: teragen\n- hadoopJob:\n args:\n - terasort\n - hdfs:///gen/\n - hdfs:///sort/\n mainJarFileUri: file:///usr/lib/hadoop-mapreduce/hadoop-mapreduce-examples.jar\n prerequisiteStepIds:\n - teragen\n stepId: terasort\nparameters:\n- description: The managed cluster name prefix\n fields:\n - placement.managedCluster.clusterName\n name: CLUSTER\n- description: The number of rows to generate\n fields:\n - jobs['teragen'].hadoopJob.args[1]\n name: NUM_ROWS\n validation:\n values:\n  values:\n  - '1000'\n  - '10000'\n  - '100000'\n- description: Output directory for teragen\n fields:\n - jobs['teragen'].hadoopJob.args[2]\n - jobs['terasort'].hadoopJob.args[1]\n name: GEN_OUT\n validation:\n regex:\n  regexes:\n  - hdfs:///.*\n- description: Output directory for terasort\n fields:\n - jobs['terasort'].hadoopJob.args[2]\n name: SORT_OUT\n validation:\n regex:\n  regexes:\n  - hdfs:///.*\n```\n [](None) \n [\u793a\u4f8b 2\uff1a\u96c6\u7fa3\u9078\u64c7\u5668\u5de5\u4f5c\u6d41\u6a21\u677f\u793a\u4f8b](None) \n [](None) \n [\u4ee5\u4e0b\u662f\u5177\u6709\u4e09\u500b\u5df2\u5b9a\u7fa9\u53c3\u6578\uff08LUSTER\u3001NUM_ROWS \u548c OUTPUT_DIR\uff09\u7684\u53c3\u6578\u5316\u793a\u4f8b teragen-terasort ](None)  [\u96c6\u7fa3\u9078\u64c7\u5668\u5de5\u4f5c\u6d41](https://cloud.google.com/dataproc/docs/concepts/workflows/cluster-selectors?hl=zh-cn#adding_a_cluster_selector_to_a_template) \u6a21\u677f YAML \u6587\u4ef6\uff1a\n```\nplacement:\n clusterSelector:\n clusterLabels:\n  goog-dataproc-cluster-name: 'to-be-determined'\njobs:\n - stepId: teragen\n hadoopJob:\n  args:\n  - 'teragen'\n  - 'tbd number of rows'\n  - 'tbd output directory'\nparameters:\n- name: CLUSTER\n fields:\n - placement.clusterSelector.clusterLabels['goog-dataproc-cluster-name']\n- name: NUM_ROWS\n fields:\n - jobs['teragen'].hadoopJob.args[1]\n- name: OUTPUT_DIR\n fields:\n - jobs['teragen'].hadoopJob.args[2]\n```\n\u5728\u5275\u5efa\u6216\u7de8\u8f2f\u4e86\u4f7f\u7528\u6a21\u677f\u53c3\u6578\u5b9a\u7fa9\u5de5\u4f5c\u6d41\u6a21\u677f\u7684 YAML \u6587\u4ef6\u5f8c\uff0c\u8acb\u4f7f\u7528\u4ee5\u4e0b gcloud \u547d\u4ee4\u5c0e\u5165 YAML \u6587\u4ef6\u4ee5\u5275\u5efa\u6216\u66f4\u65b0\u53c3\u6578\u5316\u6a21\u677f\u3002\n```\ngcloud dataproc workflow-templates import template-ID or template-name \\\n\u00a0\u00a0\u00a0\u00a0--region=region \\\n\u00a0\u00a0\u00a0\u00a0--source=template.yaml\n```\n\u60a8\u53ef\u4ee5\u5c07 [WorkflowTemplate](https://cloud.google.com/dataproc/docs/reference/rest/v1/projects.regions.workflowTemplates?hl=zh-cn#resource-workflowtemplate) `id` \u6216\u5b8c\u5168\u5408\u683c\u7684\u6a21\u677f\u8cc7\u6e90 `name` \uff08\u201cprojects/ /regions/ /workflowTemplates/ \u201d\uff09\u50b3\u905e\u7d66\u8a72\u547d\u4ee4\u3002\u5177\u6709\u76f8\u540c\u6a21\u677f\u540d\u7a31\u7684\u6a21\u677f\u8cc7\u6e90\u5c07\u6703\u88ab\u8986\u84cb\uff08\u66f4\u65b0\uff09\uff0c\u7248\u672c\u865f\u5c07\u905e\u589e\u3002\u5982\u679c\u4e0d\u5b58\u5728\u540d\u7a31\u76f8\u540c\u7684\u6a21\u677f\uff0c\u5247\u6703\u5275\u5efa\u9019\u6a23\u7684\u6a21\u677f\u3002\n\u76ee\u524d\uff0c\u60a8\u7121\u6cd5\u4f7f\u7528 Google Cloud CLI \u76f4\u63a5\u5f9e\u5b9a\u7fa9\u53c3\u6578\u5316\u5de5\u4f5c\u6d41\u6a21\u677f\u7684 YAML \u6587\u4ef6\u904b\u884c\u5de5\u4f5c\u6d41\uff08\u8acb\u53c3\u95b1 [\u4f7f\u7528 YAML \u6587\u4ef6\u5be6\u4f8b\u5316\u5de5\u4f5c\u6d41](https://cloud.google.com/dataproc/docs/concepts/workflows/using-yamls?hl=zh-cn#instantiate_a_workflow_using_a_yaml_file) \uff09\u3002\u60a8\u5fc5\u9808\u5148\u5c0e\u5165 YAML \u6587\u4ef6\uff0c\u7136\u5f8c\u5728\u5c07\u5176\u5be6\u4f8b\u5316\u6642\u5c07\u53c3\u6578\u50b3\u905e\u7d66\u5de5\u4f5c\u6d41\u6a21\u677f\uff0c\u5982\u672c\u7bc0\u53ca\u4ee5\u4e0b\u5404\u500b\u5c0f\u7bc0\u6240\u8ff0\u3002\n\u60a8\u53ef\u4ee5\u5728 [workflowTemplates.create](https://cloud.google.com/dataproc/docs/reference/rest/v1/projects.locations.workflowTemplates/create?hl=zh-cn) \u6216 [workflowTemplates.update](https://cloud.google.com/dataproc/docs/reference/rest/v1/projects.locations.workflowTemplates/update?hl=zh-cn) API \u8acb\u6c42\u4e2d\u5b9a\u7fa9\u4e00\u500b\u6216\u591a\u500b [WorkflowTemplate.parameters](https://cloud.google.com/dataproc/docs/reference/rest/v1/projects.locations.workflowTemplates?hl=zh-cn#WorkflowTemplate) \u3002\n\u4ee5\u4e0b\u662f\u4e00\u500b `workflowTemplates.create` \u8acb\u6c42\u793a\u4f8b\uff0c\u7528\u65bc\u5275\u5efa\u5177\u6709\u56db\u500b\u5df2\u5b9a\u7fa9\u53c3\u6578\uff08CLUSTER\u3001NUM_ROWS\u3001GEN_OUT \u548c SoRT_OUT\uff09\u7684 Teragen-terasort \u5de5\u4f5c\u6d41\u6a21\u677f\u3002\n```\nPOST https://dataproc.googleapis.com/v1/projects/my-project/locations/us-central1/workflowTemplates\n{\n \"id\": \"my-template\",\n \"jobs\": [ {\n  \"stepId\": \"teragen\",\n  \"hadoopJob\": {\n  \"mainJarFileUri\": \"file:///usr/lib/hadoop-mapreduce/hadoop-mapreduce-examples.jar\",\n  \"args\": [   \"teragen\",\n   \"10000\",\n   \"hdfs:///gen/\"\n  ]\n  }\n },\n {\n  \"stepId\": \"terasort\",\n  \"prerequisiteStepIds\": [  \"teragen\"\n  ],\n  \"hadoopJob\": {\n  \"mainJarFileUri\": \"file:///usr/lib/hadoop-mapreduce/hadoop-mapreduce-examples.jar\",\n  \"args\": [   \"terasort\",\n   \"hdfs:///gen/\",\n   \"hdfs:///sort/\"\n  ]\n  }\n }\n ],\n \"parameters\": [ {\n  \"name\": \"CLUSTER\",\n  \"fields\": [  \"placement.managedCluster.clusterName\"\n  ],\n  \"description\": \"The managed cluster name prefix\"\n },\n {\n  \"name\": \"NUM_ROWS\",\n  \"fields\": [  \"jobs['teragen'].hadoopJob.args[1]\"\n  ],\n  \"description\": \"The number of rows to generate\",\n  \"validation\": {\n  \"values\": {\n   \"values\": [   \"1000\",\n   \"10000\",\n   \"100000\"\n   ]\n  }\n  }\n },\n {\n  \"name\": \"GEN_OUT\",\n  \"fields\": [  \"jobs['teragen'].hadoopJob.args[2]\",\n  \"jobs['terasort'].hadoopJob.args[1]\"\n  ],\n  \"description\": \"Output directory for teragen\",\n  \"validation\": {\n  \"regex\": {\n   \"regexes\": [   \"hdfs:///.*\"\n   ]\n  }\n  }\n },\n {\n  \"name\": \"SORT_OUT\",\n  \"fields\": [  \"jobs['terasort'].hadoopJob.args[2]\"\n  ],\n  \"description\": \"Output directory for terasort\",\n  \"validation\": {\n  \"regex\": {\n   \"regexes\": [   \"hdfs:///.*\"\n   ]\n  }\n  }\n }\n ],\n \"placement\": {\n \"managedCluster\": {\n  \"clusterName\": \"to-be-determined\",\n  \"config\": {\n  \"gceClusterConfig\": {\n   \"zoneUri\": \"us-central1-a\"\n  }\n  }\n }\n }\n}\n```\n## \u5c07\u53c3\u6578\u50b3\u905e\u7d66\u53c3\u6578\u5316\u6a21\u677f\n\u60a8\u53ef\u4ee5\u5728\u6bcf\u6b21\u904b\u884c\u53c3\u6578\u5316\u5de5\u4f5c\u6d41\u6a21\u677f\u6642\u50b3\u905e\u4e00\u7d44\u4e0d\u540c\u7684\u53c3\u6578\u503c\u3002\u60a8\u5fc5\u9808\u7232\u6a21\u677f\u4e2d\u5b9a\u7fa9\u7684\u6bcf\u500b\u53c3\u6578\u63d0\u4f9b\u4e00\u500b\u503c\u3002\n\u60a8\u53ef\u4ee5\u5c07\u53c3\u6578\u540d\u7a31\u7684\u6620\u5c04\u50b3\u905e\u7d66\u5e36\u6709 `--parameters` \u6a19\u8a8c\u7684 [gcloud dataproc workflow-templates instantiate](https://cloud.google.com/sdk/gcloud/reference/dataproc/workflow-templates/instantiate?hl=zh-cn) \u547d\u4ee4\u3002\u5fc5\u9808\u63d0\u4f9b\u6a21\u677f\u4e2d\u5b9a\u7fa9\u7684\u6240\u6709\u53c3\u6578\u503c\u3002\u63d0\u4f9b\u7684\u503c\u5c07\u66ff\u63db\u6a21\u677f\u4e2d\u6307\u5b9a\u7684\u503c\u3002\n **\u53c3\u6578\u5316\u53d7\u7ba1\u96c6\u7fa3\u6a21\u677f\u793a\u4f8b** \n```\ngcloud dataproc workflow-templates instantiate my-template \\\n\u00a0\u00a0\u00a0\u00a0--region=region \\\n\u00a0\u00a0\u00a0\u00a0--parameters=CLUSTER=cluster,NUM_ROWS=1000,GEN_OUT=hdfs:///gen_20180601/,SORT_OUT=hdfs:///sort_20180601\n```\n **\u53c3\u6578\u5316\u7684\u96c6\u7fa3\u9078\u64c7\u5668\u6a21\u677f\u793a\u4f8b** \n```\ngcloud dataproc workflow-templates instantiate \\\n --parameters CLUSTER=my-cluster,NUM_ROWS=10000,OUTPUT_DIR=hdfs://some/dir\n \n```\u60a8\u53ef\u4ee5\u5c07\u53c3\u6578 `names` \u7684 [parameters \u6620\u5c04](https://cloud.google.com/dataproc/docs/reference/rest/v1/projects.locations.workflowTemplates/instantiate?hl=zh-cn#request-body) \u50b3\u905e\u7d66 `values` \u5230 Dataproc [workflowTemplates.instantiate](https://cloud.google.com/dataproc/docs/reference/rest/v1/projects.locations.workflowTemplates/instantiate?hl=zh-cn) API\u3002\u5fc5\u9808\u63d0\u4f9b\u6a21\u677f\u4e2d\u5b9a\u7fa9\u7684\u6240\u6709\u53c3\u6578\u503c\u3002\u63d0\u4f9b\u7684\u503c\u5c07\u66ff\u63db\u6a21\u677f\u4e2d\u6307\u5b9a\u7684\u503c\u3002\n\u60a8\u4e0d\u80fd\u4f7f\u7528 [workflowTemplates.instantiateinline](https://cloud.google.com/dataproc/docs/reference/rest/v1/projects.regions.workflowTemplates/instantiateInline?hl=zh-cn) API \u5c07\u53c3\u6578\u50b3\u905e\u7d66\u53c3\u6578\u5316\u5de5\u4f5c\u6d41\u6a21\u677f\u3002\n **\u4f8b\u5982\uff1a** \n```\nPOST https://dataproc.googleapis.com/v1/projects/my-project/regions/us-central1/workflowTemplates/my-template:instantiate\n{\n \"parameters\": {\n \"CLUSTER\": \"clusterA\",\n \"NUM_ROWS\": \"1000\",\n \"GEN_OUT\": \"hdfs:///gen_20180601/\",\n \"SORT_OUT\": \"hdfs:///sort_20180601/\"\n }\n}\n```", "guide": "Dataproc"}