{"title": "Dataproc - Troubleshoot Dataproc jobs", "url": "https://cloud.google.com/dataproc/docs/concepts/jobs/troubleshoot-jobs", "abstract": "# Dataproc - Troubleshoot Dataproc jobs\nThis page provides information to help you monitor and debug Dataproc jobs and understand Dataproc job error messages.\n", "content": "## Job monitoring and debugging\nUse the Google Cloud CLI, Dataproc REST API, and Google Cloud console to analyze and debug Dataproc jobs.\nTo examine a running job's status:\n```\ngcloud dataproc jobs describe job-id \\\n\u00a0\u00a0\u00a0\u00a0--region=region\n```\nTo view job driver output, see [View job output](/dataproc/docs/guides/dataproc-job-output#view_job_output) .Call [jobs.get](/dataproc/docs/reference/rest/v1/projects.regions.jobs/get) to examine a job's [JobStatus.State](/dataproc/docs/reference/rest/v1/projects.regions.jobs#State) , [JobStatus.Substate](/dataproc/docs/reference/rest/v1/projects.regions.jobs#substate) , [JobStatus.details](/dataproc/docs/reference/rest/v1/projects.regions.jobs#jobstatus) , and [YarnApplication](/dataproc/docs/reference/rest/v1/projects.regions.jobs#YarnApplication) fields.To view job driver output, see [View job output](/dataproc/docs/guides/dataproc-job-output#view_job_output) .\nTo view the dataproc agent log in [Logging](https://console.cloud.google.com/logs/query) , select **Dataproc Cluster\u2192Cluster Name\u2192Cluster UUID** from the Logs Explorer cluster selector.Then use the logs selector to select `google.dataproc.agent` logs.\n### View job logs in Logging\nIf a job fails, you can [access job logs in Logging](/dataproc/docs/guides/logging#accessing_job_logs_in) .\n### Determine who submitted a job\n**Google Cloud console support** The ability to see who submitted a job in the Google Cloud console will be added in a future Dataproc release.\n[Looking up the details of a job](/dataproc/docs/concepts/jobs/life-of-a-job#job_monitoring_and_debugging) will show who submitted that job in the `submittedBy` field. For example, this job output shows `user@domain` submitted the example job to a cluster.\n```\n...\nplacement:\n clusterName: cluster-name\n clusterUuid: cluster-uuid\nreference:\n jobId: job-uuid\n projectId: project\nstatus:\n state: DONE\n stateStartTime: '2018-11-01T00:53:37.599Z'\nstatusHistory:\n- state: PENDING\n stateStartTime: '2018-11-01T00:33:41.387Z'\n- state: SETUP_DONE\n stateStartTime: '2018-11-01T00:33:41.765Z'\n- details: Agent reported job success\n state: RUNNING\n stateStartTime: '2018-11-01T00:33:42.146Z'\nsubmittedBy: user@domain\n```\n### Error messages\n- **Task was not acquired:** Indicates that the Dataproc agent on the master node was unable to acquire the task from the control plane. This often happens due to out-of-memory (OOM) or network issues. If the job ran successfully previously and you have not changed network configuration settings, OOM is the most likely cause, often the result of the submission of many concurrently running jobs or jobs whose drivers consume significant memory (for example, jobs that load large datasets into memory).\n- **No agent on master node(s) found to be active:** Indicates that the Dataproc agent on the master node is not active and cannot accept new jobs. This often happens due to out-of-memory (OOM) or network issues, or if the master node VM is unhealthy. If the job ran successfully previously and you have not changed network configuration settings, OOM is the most likely cause, which often results from the submission of many concurrently running jobs or jobs whose drivers consume significant memory (jobs that load large datasets into memory). This problem can be resolved by restarting ( [stopping, then starting](/dataproc/docs/guides/dataproc-start-stop) ) the Dataproc cluster or retrying the job submission later. **Note:** Stopping a cluster causes all running jobs to fail.\n- **Task not found:** Indicates that the cluster was deleted while a job was running. To help avoid this error, before submitting a job, confirm cluster status is `RUNNING` by viewing cluster status on the [Clusters](https://console.cloud.google.com/dataproc/clusters) page in the Google Cloud console, running the [gcloud dataproc clusters describe](/sdk/gcloud/reference/dataproc/clusters/describe) command, or by checking [ClusterStatus.State](/dataproc/docs/reference/rest/v1/projects.regions.clusters#state) with a [clusters.get](/dataproc/docs/reference/rest/v1/projects.regions.clusters/get) API request.", "guide": "Dataproc"}