{"title": "Cloud Text-to-Speech API - Create audio from text by using the command line", "url": "https://cloud.google.com/text-to-speech/docs/create-audio-text-command-line", "abstract": "# Cloud Text-to-Speech API - Create audio from text by using the command line\n# Create audio from text by using the command line\nThis document walks you through the process of making a request to Text-to-Speech using the command line. To learn more about the fundamental concepts in Text-to-Speech, read [Text-to-Speech Basics](/text-to-speech/docs/basics) .", "content": "## Before you beginBefore you can send a request to the Text-to-Speech API, you must have completed the following actions. See the [before you begin](/text-to-speech/docs/before-you-begin) page for details.- Enable Text-to-Speech on a GCP project.\n- Make sure billing is enabled for Text-to-Speech.\n- [Install](/sdk/docs/install) the Google Cloud CLI, then [initialize](/sdk/docs/initializing) it by running the following command:```\ngcloud init\n```\n## Synthesize audio from textYou can convert text to audio by making an HTTP POST request to the `https://texttospeech.googleapis.com/v1/text:synthesize` endpoint. In the body of your POST command, specify the type of voice to synthesize in the `voice` configuration section, specify the text to synthesize in the `text` field of the `input` section, and specify the type of audio to create in the `audioConfig` section.- Execute the REST request below at the command line to synthesize audio from text using Text-to-Speech. The command uses the `gcloud auth application-default print-access-token` command to retrieve an authorization token for the request.Before using any of the request data, make the following replacements:- : the alphanumeric ID of your Google Cloud project.\nHTTP method and URL:\n```\nPOST https://texttospeech.googleapis.com/v1/text:synthesize\n```\nRequest JSON body:\n```\n{\n \"input\": {\n \"text\": \"Android is a mobile operating system developed by Google, based on the Linux kernel and designed primarily for touchscreen mobile devices such as smartphones and tablets.\"\n },\n \"voice\": {\n \"languageCode\": \"en-gb\",\n \"name\": \"en-GB-Standard-A\",\n \"ssmlGender\": \"FEMALE\"\n },\n \"audioConfig\": {\n \"audioEncoding\": \"MP3\"\n }\n}\n```\nTo send your request, expand one of these options:You should receive a JSON response similar to the following:\n```\n{\n \"audioContent\": \"//NExAASCCIIAAhEAGAAEMW4kAYPnwwIKw/BBTpwTvB+IAxIfghUfW..\"\n}\n```- The JSON output for the REST command contains the synthesized audio in base64-encoded format. Copy the contents of the `audioContent` field into a new file named `synthesize-output-base64.txt` . Your new file will look something like the following:```\n//NExAARqoIIAAhEuWAAAGNmBGMY4EBcxvABAXBPmPIAF//yAuh9Tn5CEap3/o\n...\nVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV\n```\n- Decode the contents of the `synthesize-output-base64.txt` file into a new file named `synthesized-audio.mp3` . For information on decoding base64, see [Decoding Base64-Encoded Audio Content](/text-to-speech/docs/base64-decoding) .\n- Copy only the base-64 encoded content into a text file.\n- Decode the source text file using the base64 command line tool by using the `-d` flag:\n```\n\u00a0 \u00a0 $ base64 SOURCE_BASE64_TEXT_FILE -d > DESTINATION_AUDIO_FILE\n```- Copy only the base-64 encoded content into a text file.\n- Decode the source text file using the base64 command line tool:\n```\n\u00a0 \u00a0 $ base64 --decode SOURCE_BASE64_TEXT_FILE > DESTINATION_AUDIO_FILE\n```- Copy only the base-64 encoded content into a text file.\n- Decode the source text file using the [certutil](https://docs.microsoft.com/en-us/windows-server/administration/windows-commands/certutil) command.\n```\n\u00a0 \u00a0certutil -decode SOURCE_BASE64_TEXT_FILE DESTINATION_AUDIO_FILE\n```\n- Play the contents of `synthesized-audio.mp3` in an audio application or on an audio device. You can also open the `synthesized-audio.mp3` in the Chrome browser to play the audio by navigating to the folder that contains the file, for example `file://my_file_path/synthesized-audio.mp3`\n## Clean upTo avoid unnecessary Google Cloud Platform charges, use the [Google Cloud console](https://console.cloud.google.com/) to delete your project if you do not need it.## What's next\n- Learn more about Cloud Text-to-Speech by reading the [basics](/text-to-speech/docs/basics) .\n- Review the list of [available voices](/text-to-speech/docs/voices) you can use for synthetic speech.", "guide": "Cloud Text-to-Speech API"}