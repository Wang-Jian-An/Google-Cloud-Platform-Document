{"title": "Docs - \u4f01\u696d\u57fa\u790e\u85cd\u5716", "url": "https://cloud.google.com/architecture/security-foundations/printable?hl=zh-cn", "abstract": "# Docs - \u4f01\u696d\u57fa\u790e\u85cd\u5716\nLast reviewed 2023-12-20 UTC\n\u60a8\u53ef\u4ee5\u4f7f\u7528\u700f\u89bd\u5668\u7684\u6253\u5370\u529f\u80fd\u6253\u5370\u672c\u9801\u9762\u6216\u4ee5 PDF \u683c\u5f0f\u4fdd\u5b58\u672c\u9801\u9762\uff0c\u7136\u5f8c\u9078\u64c7 **\u53e6\u5b58\u7232 PDF** \u9078\u9805\u3002\u5982\u9700\u7372\u53d6\u672c\u9801\u9762\u7684\u6a19\u6e96\u7248\u672c\uff0c\u8acb\u8fd4\u56de [\u4f01\u696d\u57fa\u790e\u85cd\u5716](https://cloud.google.com/architecture/security-foundations?hl=zh-cn) \u3002\n\u672c\u9801\u5167\u5bb9\u7684\u4e0a\u6b21\u66f4\u65b0\u6642\u9593\u7232 2023 \u5e74 12 \u6708\uff0c\u4ee3\u8868\u622a\u81f3\u672c\u6587\u64b0\u5beb\u4e4b\u6642\u7684\u72c0\u6cc1\u3002 \u7531\u65bc\u6211\u5011\u6703\u4e0d\u65b7\u6539\u5584\u5c0d\u5ba2\u6236\u7684\u4fdd\u8b77\u6a5f\u5236\uff0cGoogle \u7684\u5b89\u5168\u653f\u7b56\u548c\u7cfb\u7d71\u4eca\u5f8c\u53ef\u80fd\u6703\u767c\u751f\u8b8a\u5316\u3002\n\u672c\u6587\u6a94\u4ecb\u7d39\u4e86\u5728 Google Cloud \u4e2d\u90e8\u7f72\u4e00\u7d44\u57fa\u790e\u8cc7\u6e90\u7684\u6700\u4f73\u5be6\u8e10\u3002\u96f2\u57fa\u790e\u662f\u8cc7\u6e90\u3001\u914d\u7f6e\u548c\u80fd\u529b\u7684\u57fa\u6e96\uff0c\u4f7f\u516c\u53f8\u80fd\u5920\u63a1\u7528 Google Cloud \u4f86\u6eff\u8db3\u5176\u696d\u52d9\u9700\u6c42\u3002\u8a2d\u8a08\u826f\u597d\u7684\u57fa\u790e\u53ef\u8b93\u60a8\u7684 Google Cloud \u74b0\u5883\u4e2d\u7684\u6240\u6709\u5de5\u4f5c\u8ca0\u8f09\u5be6\u73fe\u4e00\u81f4\u7684\u6cbb\u7406\u3001\u5b89\u5168\u63a7\u5236\u3001\u64f4\u7e2e\u3001\u53ef\u898b\u6027\u548c\u5c0d\u5171\u4eab\u670d\u52d9\u7684\u8a2a\u554f\u6b0a\u9650\u3002\u90e8\u7f72\u672c\u6587\u6a94\u4e2d\u4ecb\u7d39\u7684\u63a7\u5236\u548c\u6cbb\u7406\u5f8c\uff0c\u60a8\u53ef\u4ee5\u5c07\u5de5\u4f5c\u8ca0\u8f09\u90e8\u7f72\u5230 Google Cloud\u3002\n\u4f01\u696d\u57fa\u790e\u85cd\u5716 \uff08\u4ee5\u524d\u7a31\u7232\u5b89\u5168\u57fa\u790e\u85cd\u5716 \uff09\u9069\u7528\u65bc\u8ca0\u8cac\u8a2d\u8a08 Google Cloud \u4e0a\u7684\u4f01\u696d\u7d1a\u74b0\u5883\u7684\u67b6\u69cb\u5e2b\u3001\u5b89\u5168\u5f9e\u696d\u4eba\u54e1\u548c\u5e73\u81fa\u5de5\u7a0b\u5718\u968a\u3002\u6b64\u85cd\u5716\u5305\u542b\u4ee5\u4e0b\u5167\u5bb9\uff1a\n- \u5305\u542b\u53ef\u90e8\u7f72\u7684 Terraform \u8cc7\u7522\u7684 [terraform-example-foundation GitHub \u4ee3\u78bc\u5eab](https://github.com/terraform-google-modules/terraform-example-foundation) \u3002\n- \u63cf\u8ff0\u60a8\u4f7f\u7528\u85cd\u5716\u5be6\u73fe\u7684\u67b6\u69cb\u3001\u8a2d\u8a08\u548c\u63a7\u5236\u7684\u6307\u5357\uff08\u672c\u6587\u6a94\uff09\u3002\n\u60a8\u53ef\u4ee5\u901a\u904e\u4ee5\u4e0b\u5169\u7a2e\u65b9\u5f0f\u4e4b\u4e00\u4f7f\u7528\u672c\u6307\u5357\uff1a\n- \u6839\u64da Google \u7684\u6700\u4f73\u5be6\u8e10\u5275\u5efa\u5b8c\u6574\u7684\u57fa\u790e\u3002\u60a8\u53ef\u4ee5\u5728\u958b\u59cb\u6642\u90e8\u7f72\u672c\u6307\u5357\u4e2d\u7684\u6240\u6709\u5efa\u8b70\uff0c\u7136\u5f8c\u81ea\u5b9a\u7fa9\u74b0\u5883\u4ee5\u6eff\u8db3\u60a8\u7684\u696d\u52d9\u7279\u5b9a\u8981\u6c42\u3002\n- \u67e5\u770b Google Cloud \u4e0a\u7684\u73fe\u6709\u74b0\u5883\u3002\u60a8\u53ef\u4ee5\u5c07\u8a2d\u8a08\u7684\u7279\u5b9a\u7d44\u4ef6\u8207 Google \u63a8\u85a6\u7684\u6700\u4f73\u5be6\u8e10\u9032\u884c\u6bd4\u8f03\u3002", "content": "## \u652f\u6301\u7684\u4f7f\u7528\u5834\u666f\n\u4f01\u696d\u57fa\u790e\u85cd\u5716\u63d0\u4f9b\u4e86\u4e00\u500b\u57fa\u6e96\u5c64\u8cc7\u6e90\u548c\u914d\u7f6e\uff0c\u6709\u52a9\u65bc\u5728 Google Cloud \u4e0a\u5553\u7528\u6240\u6709\u985e\u578b\u7684\u5de5\u4f5c\u8ca0\u8f09\u3002\u7121\u8ad6\u60a8\u662f\u5c07\u73fe\u6709\u7684\u8a08\u7b97\u5de5\u4f5c\u8ca0\u8f09\u9077\u79fb\u5230 Google Cloud\u3001\u69cb\u5efa\u5bb9\u5668\u5316 Web \u61c9\u7528\uff0c\u9084\u662f\u5275\u5efa\u5927\u6578\u64da\u548c\u6a5f\u5668\u5b78\u7fd2\u5de5\u4f5c\u8ca0\u8f09\uff0c\u4f01\u696d\u57fa\u790e\u85cd\u5716\u90fd\u53ef\u4ee5\u5e6b\u52a9\u60a8\u69cb\u5efa\u74b0\u5883\u4f86\u5927\u898f\u6a21\u652f\u6301\u4f01\u696d\u5de5\u4f5c\u8ca0\u8f09\u3002\n\u90e8\u7f72\u4f01\u696d\u57fa\u790e\u85cd\u5716\u5f8c\uff0c\u60a8\u53ef\u4ee5\u76f4\u63a5\u90e8\u7f72\u5de5\u4f5c\u8ca0\u8f09\uff0c\u4e5f\u53ef\u4ee5\u90e8\u7f72\u5176\u4ed6\u85cd\u5716\u4ee5\u652f\u6301\u9700\u8981\u984d\u5916\u529f\u80fd\u7684\u8907\u96dc\u5de5\u4f5c\u8ca0\u8f09\u3002\n## \u7e31\u6df1\u9632\u79a6\u5b89\u5168\u6a21\u578b\nGoogle Cloud \u670d\u52d9\u53d7\u76ca\u65bc\u5e95\u5c64\u7684 [Google \u57fa\u790e\u8a2d\u65bd\u5b89\u5168\u8a2d\u8a08](https://cloud.google.com/docs/security/infrastructure/design?hl=zh-cn) \u3002\u60a8\u8ca0\u8cac\u5728 Google Cloud \u4e4b\u4e0a\u69cb\u5efa\u7684\u7cfb\u7d71\u4e2d\u8a2d\u8a08\u5b89\u5168\u6a5f\u5236\u3002\u4f01\u696d\u57fa\u790e\u85cd\u5716\u53ef\u5e6b\u52a9\u60a8\u7232 Google Cloud \u670d\u52d9\u548c\u5de5\u4f5c\u8ca0\u8f09\u5be6\u73fe\u7e31\u6df1\u9632\u79a6\u5b89\u5168\u6a21\u578b\u3002\n\u4e0b\u5716\u5c55\u793a\u4e86 Google Cloud \u7d44\u7e54\u7684\u7e31\u6df1\u9632\u79a6\u5b89\u5168\u6a21\u578b\uff0c\u8a72\u6a21\u578b\u7d50\u5408\u4e86\u67b6\u69cb\u63a7\u5236\u3001\u653f\u7b56\u63a7\u5236\u548c\u6aa2\u6e2c\u6027\u63a7\u5236\u3002\n\u4e0b\u5716\u4ecb\u7d39\u4e86\u4ee5\u4e0b\u63a7\u5236\uff1a\n- **\u653f\u7b56\u63a7\u5236** \u5c6c\u65bc\u7a0b\u5e8f\u5316\u9650\u5236\u689d\u4ef6\uff0c\u7528\u65bc\u5f37\u5236\u57f7\u884c\u53ef\u63a5\u53d7\u7684\u8cc7\u6e90\u914d\u7f6e\u4e26\u9632\u6b62\u9032\u884c\u6709\u98a8\u96aa\u7684\u914d\u7f6e\u3002\u6b64\u85cd\u5716\u7d50\u5408\u4f7f\u7528\u4e86\u653f\u7b56\u63a7\u5236\uff08\u5305\u62ec\u6d41\u6c34\u7dda\u4e2d\u7684\u57fa\u790e\u8a2d\u65bd\u5373\u4ee3\u78bc (IaC) \u9a57\u8b49\uff09\u548c\u7d44\u7e54\u653f\u7b56\u9650\u5236\u689d\u4ef6\u3002\n- **\u67b6\u69cb\u63a7\u5236** \u662f Google Cloud \u8cc7\u6e90\uff08\u5982\u7db2\u7d61\u548c\u8cc7\u6e90\u5c64\u6b21\u7d50\u69cb\uff09\u7684\u914d\u7f6e\u3002\u6b64\u85cd\u5716\u67b6\u69cb\u57fa\u65bc\u5b89\u5168\u6700\u4f73\u5be6\u8e10\u3002\n- \u85c9\u52a9 **\u6aa2\u6e2c\u6027\u63a7\u5236** \uff0c\u60a8\u53ef\u4ee5\u6aa2\u6e2c\u7d44\u7e54\u5167\u7684\u7570\u5e38\u884c\u7232\u6216\u60e1\u610f\u884c\u7232\u3002\u6b64\u85cd\u5716\u4f7f\u7528 Security Command Center \u7b49\u5e73\u81fa\u529f\u80fd\uff0c\u8207\u5b89\u5168\u904b\u71df\u4e2d\u5fc3 (SOC) \u7b49\u73fe\u6709\u6aa2\u6e2c\u63a7\u5236\u548c\u5de5\u4f5c\u6d41\u96c6\u6210\uff0c\u4e26\u63d0\u4f9b\u5f37\u5236\u57f7\u884c\u81ea\u5b9a\u7fa9\u6aa2\u6e2c\u6027\u63a7\u5236\u7684\u529f\u80fd\u3002## \u4e3b\u8981\u6c7a\u7b56\n\u672c\u90e8\u5206\u5f59\u7e3d\u4e86\u8a72\u85cd\u5716\u7684\u67b6\u69cb\u6982\u8981\u6c7a\u7b56\u3002\n\u4e0b\u5716\u8aaa\u660e\u4e86 Google Cloud \u670d\u52d9\u5982\u4f55\u6709\u52a9\u65bc\u505a\u51fa\u95dc\u9375\u67b6\u69cb\u6c7a\u7b56\uff1a\n- **Cloud Build** \uff1a\u57fa\u790e\u8a2d\u65bd\u8cc7\u6e90\u4f7f\u7528 GitOps \u6a21\u578b\u9032\u884c\u7ba1\u7406\u3002\u8072\u660e\u5f0f IaC \u662f\u4f7f\u7528 Terraform \u7de8\u5beb\u7684\uff0c\u4e26\u5728\u7248\u672c\u63a7\u5236\u7cfb\u7d71\u4e2d\u63a5\u53d7\u7ba1\u7406\u4ee5\u4f9b\u5be9\u8988\u548c\u6279\u51c6\uff0c\u8cc7\u6e90\u4f7f\u7528 Cloud Build \u4f5c\u7232\u6301\u7e8c\u96c6\u6210\u548c\u6301\u7e8c\u90e8\u7f72 (CI/CD) \u81ea\u52d5\u5316\u5de5\u5177\u9032\u884c\u90e8\u7f72\u3002\u6d41\u6c34\u7dda\u9084\u5f37\u5236\u57f7\u884c\u653f\u7b56\u5373\u4ee3\u78bc\u6aa2\u67e5\uff0c\u4ee5\u5728\u90e8\u7f72\u524d\u9a57\u8b49\u8cc7\u6e90\u662f\u5426\u7b26\u5408\u9810\u671f\u914d\u7f6e\u3002\n- **Cloud Identity** \uff1a\u5f9e\u73fe\u6709\u8eab\u4efd\u63d0\u4f9b\u65b9\u540c\u6b65\u7528\u6236\u548c\u7fa3\u7d44\u6210\u54e1\u8cc7\u683c\u3002\u7528\u6236\u8cec\u865f\u751f\u547d\u9031\u671f\u7ba1\u7406\u548c\u55ae\u9ede\u767b\u9304 (SSO) \u7684\u63a7\u5236\u4f9d\u8cf4\u65bc\u8eab\u4efd\u63d0\u4f9b\u65b9\u7684\u73fe\u6709\u63a7\u5236\u548c\u6d41\u7a0b\u3002\n- **Identity and Access Management (IAM)** \uff1a\u5141\u8a31\u653f\u7b56\uff08\u4ee5\u524d\u7a31\u7232 IAM \u653f\u7b56\uff09\u5141\u8a31\u8a2a\u554f\u8cc7\u6e90\uff0c\u4e26\u6839\u64da\u4f5c\u696d\u529f\u80fd\u61c9\u7528\u65bc\u7fa3\u7d44\u3002\u7cfb\u7d71\u6703\u5c07\u7528\u6236\u6dfb\u52a0\u5230\u76f8\u61c9\u7684\u7fa3\u7d44\uff0c\u4ee5\u7372\u5f97\u5c0d\u57fa\u790e\u8cc7\u6e90\u7684\u201c\u53ea\u80fd\u67e5\u770b\u201d\u6b0a\u9650\u3002\u5c0d\u57fa\u790e\u8cc7\u6e90\u7684\u6240\u6709\u66f4\u6539\u90fd\u901a\u904e CI/CD \u6d41\u6c34\u7dda\u9032\u884c\u90e8\u7f72\uff0c\u8a72\u6d41\u6c34\u7dda\u4f7f\u7528\u7279\u6b0a\u670d\u52d9\u8cec\u865f\u8eab\u4efd\u3002\n- **Resource Manager** \uff1a\u6240\u6709\u8cc7\u6e90\u90fd\u7531\u55ae\u500b\u7d44\u7e54\u7ba1\u7406\uff0c\u4e26\u4e14\u6587\u4ef6\u593e\u8cc7\u6e90\u5c64\u6b21\u7d50\u69cb\u6309\u74b0\u5883\u7d44\u7e54\u9805\u76ee\u3002\u9805\u76ee\u6a19\u6709\u5143\u6578\u64da\uff08\u5305\u62ec\u8cbb\u7528\u6b78\u5c6c\uff09\u4ee5\u65b9\u4fbf\u9032\u884c\u6cbb\u7406\u3002\n- **\u7db2\u7d61** \uff1a\u7db2\u7d61\u62d3\u64b2\u4f7f\u7528\u5171\u4eab VPC \u7232\u8de8\u591a\u500b\u5340\u57df\u548c\u53ef\u7528\u5340\u7684\u5de5\u4f5c\u8ca0\u8f09\u63d0\u4f9b\u7db2\u7d61\u8cc7\u6e90\uff0c\u9019\u4e9b\u8cc7\u6e90\u6309\u74b0\u5883\u5206\u9694\u4e26\u96c6\u4e2d\u7ba1\u7406\u3002\u672c\u5730\u4e3b\u6a5f\u3001VPC \u7db2\u7d61\u4e2d\u7684 Google Cloud \u8cc7\u6e90\u548c Google Cloud \u670d\u52d9\u4e4b\u9593\u7684\u6240\u6709\u7db2\u7d61\u8def\u5f91\u90fd\u662f\u5c08\u7528\u7684\u3002\u9ed8\u8a8d\u60c5\u6cc1\u4e0b\uff0c\u4e0d\u5141\u8a31\u51fa\u7ad9\u6d41\u91cf\u524d\u5f80\u516c\u5171\u4e92\u806f\u7db2\u6216\u5165\u7ad9\u6d41\u91cf\u4f86\u81ea\u516c\u5171\u4e92\u806f\u7db2\u3002\n- **Cloud Logging** \uff1a\u5f59\u7e3d\u65e5\u8a8c\u63a5\u6536\u5668\u914d\u7f6e\u7232\u5c07\u8207\u5b89\u5168\u548c\u5be9\u8988\u76f8\u95dc\u7684\u65e5\u8a8c\u6536\u96c6\u5230\u4e00\u500b\u96c6\u4e2d\u9805\u76ee\u4e2d\uff0c\u4ee5\u9032\u884c\u9577\u671f\u4fdd\u7559\u3001\u5206\u6790\u4ee5\u53ca\u5c0e\u51fa\u5230\u5916\u90e8\u7cfb\u7d71\u3002\n- **Cloud Monitoring** \uff1aMonitoring \u7bc4\u570d\u9650\u5b9a\u9805\u76ee\u914d\u7f6e\u7232\u5728\u4e00\u500b\u4f4d\u7f6e\u96c6\u4e2d\u67e5\u770b\u591a\u500b\u9805\u76ee\u7684\u61c9\u7528\u6027\u80fd\u6307\u6a19\u3002\n- **\u7d44\u7e54\u653f\u7b56\u670d\u52d9** \uff1a\u7d44\u7e54\u653f\u7b56\u9650\u5236\u689d\u4ef6\u914d\u7f6e\u7232\u9632\u6b62\u5404\u7a2e\u9ad8\u98a8\u96aa\u7684\u914d\u7f6e\u3002\n- **Secret Manager** \uff1a\u7232\u8ca0\u8cac\u7ba1\u7406\u548c\u5be9\u8988\u654f\u611f\u61c9\u7528\u5bc6\u6587\u7684\u4f7f\u7528\u7684\u5718\u968a\u5275\u5efa\u96c6\u4e2d\u5f0f\u9805\u76ee\uff0c\u4ee5\u5e6b\u52a9\u6eff\u8db3\u5408\u898f\u6027\u8981\u6c42\u3002\n- **Cloud Key Management Service (Cloud KMS)** \uff1a\u7232\u8ca0\u8cac\u7ba1\u7406\u548c\u5be9\u8988\u52a0\u5bc6\u5bc6\u9470\u7684\u5718\u968a\u5275\u5efa\u96c6\u4e2d\u5f0f\u9805\u76ee\uff0c\u4ee5\u5e6b\u52a9\u6eff\u8db3\u5408\u898f\u6027\u8981\u6c42\u3002\n- **Security Command Center** \uff1aSecurity Command Center \u7684\u5167\u7f6e\u5b89\u5168\u63a7\u5236\u548c\u53ef\u7528\u65bc\u6aa2\u6e2c\u548c\u97ff\u61c9\u5b89\u5168\u4e8b\u4ef6\u7684\u81ea\u5b9a\u7fa9\u89e3\u6c7a\u65b9\u6848\u76f8\u7d50\u5408\uff0c\u63d0\u4f9b\u4e86\u5a01\u8105\u6aa2\u6e2c\u548c\u76e3\u63a7\u529f\u80fd\u3002\n\u5982\u9700\u77ad\u89e3\u9019\u4e9b\u4e3b\u8981\u6c7a\u7b56\u7684\u66ff\u4ee3\u65b9\u6848\uff0c\u8acb\u53c3\u95b1 [\u66ff\u4ee3\u65b9\u6848](https://cloud.google.com/architecture/security-foundations/summary?hl=zh-cn#alternatives) \u3002\n## \u5f8c\u7e8c\u6b65\u9a5f\n- \u77ad\u89e3 [\u8eab\u4efd\u9a57\u8b49\u548c\u6388\u6b0a](https://cloud.google.com/architecture/security-foundations/authentication-authorization?hl=zh-cn) \uff08\u672c\u7cfb\u5217\u7684\u4e0b\u4e00\u500b\u6587\u6a94\uff09\u3002\n# \u8eab\u4efd\u9a57\u8b49\u548c\u6388\u6b0a\n\u672c\u90e8\u5206\u4ecb\u7d39\u5982\u4f55\u4f7f\u7528 [Cloud Identity](https://cloud.google.com/identity/docs/overview?hl=zh-cn) \u4f86\u7ba1\u7406 [\u54e1\u5de5\u7528\u65bc\u8a2a\u554f Google Cloud \u670d\u52d9\u7684\u8eab\u4efd](https://cloud.google.com/architecture/identity/overview-google-authentication?hl=zh-cn#google_identities) \u3002\n## \u5916\u90e8\u8eab\u4efd\u63d0\u4f9b\u65b9\u4f5c\u7232\u53ef\u9760\u4f86\u6e90\n\u6211\u5011\u5efa\u8b70\u60a8\u5c07 Cloud Identity \u8cec\u865f\u8207\u73fe\u6709\u8eab\u4efd\u63d0\u4f9b\u65b9\u806f\u5408\u3002\u806f\u5408\u53ef\u5e6b\u52a9\u60a8\u78ba\u4fdd\u73fe\u6709\u8cec\u865f\u7ba1\u7406\u6d41\u7a0b\u9069\u7528\u65bc Google Cloud \u548c\u5176\u4ed6 Google \u670d\u52d9\u3002\n\u5982\u679c\u60a8\u9084\u6c92\u6709\u8eab\u4efd\u63d0\u4f9b\u65b9\uff0c\u5247\u53ef\u4ee5\u76f4\u63a5\u5728 Cloud Identity \u4e2d\u5275\u5efa\u7528\u6236\u8cec\u865f\u3002\n**\u6ce8\u610f** \uff1a\u5982\u679c\u60a8\u5df2\u5728\u4f7f\u7528 Google Workspace\uff0cCloud Identity \u5c07\u4f7f\u7528\u8207\u60a8\u7684 Google Workspace \u8cec\u865f\u76f8\u540c\u7684\u63a7\u5236\u6aaf\u3001\u7ba1\u7406\u63a7\u5236\u548c\u7528\u6236\u8cec\u865f\u3002\n\u4e0b\u5716\u7c21\u8981\u5c55\u793a\u4e86\u8eab\u4efd\u806f\u5408\u548c\u55ae\u9ede\u767b\u9304 (SSO)\u3002\u5b83\u4f7f\u7528\u4f4d\u65bc\u672c\u5730\u74b0\u5883\u4e2d\u7684 Microsoft Active Directory \u4f5c\u7232\u793a\u4f8b\u8eab\u4efd\u63d0\u4f9b\u65b9\u3002\n\u4e0b\u5716\u4ecb\u7d39\u4e86\u4ee5\u4e0b\u6700\u4f73\u5be6\u8e10\uff1a\n- \u7528\u6236\u8eab\u4efd\u5728\u672c\u5730\u74b0\u5883\u7684 Active Directory \u57df\u4e2d\u63a5\u53d7\u7ba1\u7406\u4e26\u8207 Cloud Identity \u806f\u5408\u3002Active Directory \u4f7f\u7528 Google Cloud Directory Sync \u7232 Cloud Identity \u9810\u914d\u8eab\u4efd\u3002\n- \u5617\u8a66\u767b\u9304 Google \u670d\u52d9\u7684\u7528\u6236\u5c07\u88ab\u91cd\u5b9a\u5411\u5230\u5916\u90e8\u8eab\u4efd\u63d0\u4f9b\u65b9\u4ee5 [\u4f7f\u7528 SAML \u9032\u884c\u55ae\u9ede\u767b\u9304](https://cloud.google.com/architecture/identity/single-sign-on?hl=zh-cn) \uff0c\u5176\u4f7f\u7528\u5176\u73fe\u6709\u6191\u64da\u9032\u884c\u8eab\u4efd\u9a57\u8b49\u3002\u6c92\u6709\u5bc6\u78bc\u6703\u8207 Cloud Identity \u540c\u6b65\u3002\n\u4e0b\u8868\u63d0\u4f9b\u4e86\u5404\u8eab\u4efd\u63d0\u4f9b\u65b9\u5c0d\u61c9\u7684\u8a2d\u7f6e\u6307\u5357\u7684\u93c8\u63a5\u3002\n| \u8eab\u4efd\u63d0\u4f9b\u65b9        | \u6307\u5357                                  |\n|:----------------------------------------|:-----------------------------------------------------------------------------------------------------------------------------------------|\n| Active Directory      | Active Directory \u7528\u6236\u8cec\u865f\u9810\u914d Active Directory \u55ae\u9ede\u767b\u9304                     |\n| Microsoft Entra ID\uff08\u4ee5\u524d\u7a31\u7232 Azure AD\uff09 | \u5c07 Google Cloud \u8207 Microsoft Entra ID \u806f\u5408                        |\n| \u5176\u4ed6\u5916\u90e8\u8eab\u4efd\u63d0\u4f9b\u65b9\uff08\u4f8b\u5982 Ping \u6216 Okta\uff09 | \u5c07 Ping Identity \u89e3\u6c7a\u65b9\u6848\u8207 Google Identity \u670d\u52d9\u96c6\u6210 \u5c07 Okta \u8207 Google Cloud \u63d0\u4f9b\u65b9\u642d\u914d\u4f7f\u7528 \u806f\u5408 Google Cloud \u8207\u5916\u90e8\u8eab\u4efd\u63d0\u4f9b\u65b9\u7684\u6700\u4f73\u5be6\u8e10 |\n\u6211\u5011\u5f37\u70c8\u5efa\u8b70\u60a8\u5728\u8eab\u4efd\u63d0\u4f9b\u65b9\u8655\u4f7f\u7528\u9632\u7db2\u4e0a\u8a98\u9a19\u6a5f\u5236\uff08\u4f8b\u5982 [Titan \u5b89\u5168\u5bc6\u9470](https://cloud.google.com/titan-security-key?hl=zh-cn) \uff09\u5f37\u5236\u57f7\u884c\u591a\u91cd\u8eab\u4efd\u9a57\u8b49\u3002\nCloud Identity \u7684\u63a8\u85a6\u8a2d\u7f6e\u4e26\u975e\u901a\u904e\u6b64\u85cd\u5716\u4e2d\u7684 Terraform \u4ee3\u78bc\u81ea\u52d5\u57f7\u884c\u3002\u5982\u9700\u77ad\u89e3\u9664\u4e86\u90e8\u7f72 Terraform \u4ee3\u78bc\u4e4b\u5916\u9084\u5fc5\u9808\u914d\u7f6e\u7684\u63a8\u85a6\u5b89\u5168\u8a2d\u7f6e\uff0c\u8acb\u53c3\u95b1 [Cloud Identity \u7ba1\u7406\u63a7\u5236](#administrative-controls-for-cloud-identity) \u3002\n## \u8a2a\u554f\u6b0a\u9650\u63a7\u5236\u7fa3\u7d44\n\u4e3b\u8cec\u865f\u662f\u4e00\u7a2e\u53ef\u88ab\u6388\u4e88\u8cc7\u6e90\u8a2a\u554f\u6b0a\u9650\u7684\u8eab\u4efd \u3002\u4e3b\u8cec\u865f\u5305\u62ec [\u7528\u6236\u7684 Google \u8cec\u865f](https://cloud.google.com/docs/authentication?hl=zh-cn#user-accounts) \u3001Google \u7fa3\u7d44\u3001Google Workspace \u8cec\u865f\u3001Cloud Identity \u7db2\u57df\u548c\u670d\u52d9\u8cec\u865f\u3002\u67d0\u4e9b\u670d\u52d9\u9084\u5141\u8a31\u60a8\u5411\u4f7f\u7528 Google \u8cec\u865f\u9032\u884c\u8eab\u4efd\u9a57\u8b49\u7684\u6240\u6709\u7528\u6236\u6216\u4e92\u806f\u7db2\u4e0a\u7684\u6240\u6709\u7528\u6236\u6388\u4e88\u8a2a\u554f\u6b0a\u9650\u3002\u7232\u4e86\u8b93\u4e3b\u8cec\u865f\u80fd\u5920\u8207 Google Cloud \u670d\u52d9\u9032\u884c\u4ea4\u4e92\uff0c\u60a8\u5fc5\u9808\u5728 [Identity and Access Management (IAM)](https://cloud.google.com/iam/docs/overview?hl=zh-cn) \u4e2d\u7232\u5176\u6388\u4e88\u89d2\u8272\u3002\n\u8981\u5927\u898f\u6a21\u7ba1\u7406 IAM \u89d2\u8272\uff0c\u6211\u5011\u5efa\u8b70\u60a8\u6839\u64da\u7528\u6236\u7684\u5de5\u4f5c\u8077\u80fd\u548c\u8a2a\u554f\u6b0a\u9650\u8981\u6c42\u5c07\u7528\u6236\u5206\u914d\u7d66\u76f8\u61c9\u7fa3\u7d44\uff0c\u7136\u5f8c\u7232\u9019\u4e9b\u7fa3\u7d44\u6388\u4e88 IAM \u89d2\u8272\u3002\u60a8\u61c9\u6309\u7167\u73fe\u6709\u8eab\u4efd\u63d0\u4f9b\u65b9\u4e2d\u7684\u6d41\u7a0b\u5c07\u7528\u6236\u6dfb\u52a0\u5230\u7fa3\u7d44\uff0c\u4ee5\u5275\u5efa\u7fa3\u7d44\u548c\u6388\u4e88\u6210\u54e1\u8cc7\u683c\u3002\n\u6211\u5011\u4e0d\u5efa\u8b70\u5411\u55ae\u500b\u7528\u6236\u6388\u4e88 IAM \u89d2\u8272\uff0c\u56e0\u7232\u55ae\u7368\u7684\u5206\u914d\u53ef\u80fd\u6703\u589e\u52a0\u7ba1\u7406\u548c\u5be9\u8988\u89d2\u8272\u7684\u8907\u96dc\u6027\u3002\n\u6b64\u85cd\u5716\u5c07\u914d\u7f6e\u7fa3\u7d44\u548c\u89d2\u8272\uff0c\u4f7f\u5176\u5c0d\u57fa\u790e\u8cc7\u6e90\u64c1\u6709\u201c\u53ea\u80fd\u67e5\u770b\u201d\u6b0a\u9650\u3002\u6211\u5011\u5efa\u8b70\u60a8\u901a\u904e\u57fa\u790e\u6d41\u6c34\u7dda\u90e8\u7f72\u85cd\u5716\u4e2d\u7684\u6240\u6709\u8cc7\u6e90\uff0c\u4e26\u4e14\u4e0d\u8981\u5411\u7fa3\u7d44\u7528\u6236\u6388\u4e88\u53ef\u5728\u6d41\u6c34\u7dda\u5916\u4fee\u6539\u57fa\u790e\u8cc7\u6e90\u7684\u89d2\u8272\u3002\n\u4e0b\u8868\u986f\u793a\u4e86\u8a72\u85cd\u5716\u914d\u7f6e\u7684\u53ef\u67e5\u770b\u57fa\u790e\u8cc7\u6e90\u7684\u7fa3\u7d44\u3002\n| \u540d\u7a31         | \u8aaa\u660e                       | \u89d2\u8272       | \u7bc4\u570d   |\n|:--------------------------------------|:----------------------------------------------------------------------------------------------|:-----------------------------|:-------------|\n| grp-gcp-org-admin@example.com   | \u53ef\u4ee5\u5728\u7d44\u7e54\u7d1a\u5c64\u6388\u4e88 IAM \u89d2\u8272\u7684\u9ad8\u6b0a\u9650\u7ba1\u7406\u54e1\u3002\u4ed6\u5011\u53ef\u4ee5\u8a2a\u554f\u4efb\u4f55\u5176\u4ed6\u89d2\u8272\u3002\u4e0d\u5efa\u8b70\u5728\u65e5\u5e38\u4f7f\u7528\u6b64\u7279\u6b0a\u3002 | \u7d44\u7e54\u7ba1\u7406\u54e1     | \u7d44\u7e54   |\n| grp-gcp-billing-admin@example.com  | \u53ef\u4ee5\u4fee\u6539 Cloud Billing \u8cec\u865f\u7684\u9ad8\u6b0a\u9650\u7ba1\u7406\u54e1\u3002\u4e0d\u5efa\u8b70\u5728\u65e5\u5e38\u4f7f\u7528\u6b64\u7279\u6b0a\u3002       | \u7d50\u7b97\u8cec\u865f\u7ba1\u7406\u54e1    | \u7d44\u7e54   |\n| grp-gcp-billing-viewer@example.com | \u8ca0\u8cac\u67e5\u770b\u548c\u5206\u6790\u6240\u6709\u9805\u76ee\u7684\u652f\u51fa\u7684\u5718\u968a\u3002               | Billing Account Viewer  | \u7d44\u7e54   |\n| grp-gcp-billing-viewer@example.com | \u8ca0\u8cac\u67e5\u770b\u548c\u5206\u6790\u6240\u6709\u9805\u76ee\u7684\u652f\u51fa\u7684\u5718\u968a\u3002               | BigQuery User    | \u7d50\u7b97\u9805\u76ee  |\n| grp-gcp-audit-viewer@example.com  | \u8ca0\u8cac\u5be9\u8988\u5b89\u5168\u76f8\u95dc\u65e5\u8a8c\u7684\u5718\u968a\u3002                 | Logs Viewer BigQuery User | \u65e5\u8a8c\u8a18\u9304\u9805\u76ee |\n| grp-gcp-monitoring-users@example.com | \u8ca0\u8cac\u76e3\u63a7\u61c9\u7528\u6027\u80fd\u6307\u6a19\u7684\u5718\u968a\u3002                 | Monitoring Viewer   | \u76e3\u63a7\u9805\u76ee  |\n| grp-gcp-security-reviewer@example.com | \u8ca0\u8cac\u5be9\u8988\u96f2\u5b89\u5168\u7684\u5718\u968a\u3002                  | Security Reviewer   | \u7d44\u7e54   |\n| grp-gcp-network-viewer@example.com | \u8ca0\u8cac\u67e5\u770b\u548c\u7dad\u8b77\u7db2\u7d61\u914d\u7f6e\u7684\u5718\u968a\u3002                | Compute Network Viewer  | \u7d44\u7e54   |\n| grp-gcp-scc-admin@example.com   | \u8ca0\u8cac\u914d\u7f6e Security Command Center \u7684\u5718\u968a\u3002              | Security Center Admin Editor | \u7d44\u7e54   |\n| grp-gcp-secrets-admin@example.com  | \u8ca0\u8cac\u7ba1\u7406\u3001\u5b58\u5132\u548c\u5be9\u8988\u61c9\u7528\u4f7f\u7528\u7684\u6191\u64da\u548c\u5176\u4ed6\u5bc6\u6587\u7684\u5718\u968a\u3002           | Secret Manager Admin   | Secret \u9805\u76ee |\n| grp-gcp-kms-admin@example.com   | \u8ca0\u8cac\u5f37\u5236\u57f7\u884c\u52a0\u5bc6\u5bc6\u9470\u7ba1\u7406\u4ee5\u6eff\u8db3\u5408\u898f\u6027\u8981\u6c42\u7684\u5718\u968a\u3002            | Cloud KMS Viewer    | KMS \u9805\u76ee  |\n\u5728\u57fa\u790e\u4e0a\u69cb\u5efa\u81ea\u5df1\u7684\u5de5\u4f5c\u8ca0\u8f09\u6642\uff0c\u60a8\u53ef\u4ee5\u5275\u5efa\u5176\u4ed6\u7fa3\u7d44\u4e26\u6388\u4e88\u57fa\u65bc\u6bcf\u500b\u5de5\u4f5c\u8ca0\u8f09\u7684\u8a2a\u554f\u6b0a\u9650\u8981\u6c42\u7684 IAM \u89d2\u8272\u3002\n\u6211\u5011\u5f37\u70c8\u5efa\u8b70\u60a8\u907f\u514d\u4f7f\u7528 [\u57fa\u672c\u89d2\u8272](https://cloud.google.com/iam/docs/understanding-roles?hl=zh-cn#basic) \uff08\u4f8b\u5982 Owner\u3001Editor \u6216 Viewer\uff09\uff0c\u800c\u662f\u4f7f\u7528 [\u9810\u5b9a\u7fa9\u89d2\u8272](https://cloud.google.com/iam/docs/understanding-roles?hl=zh-cn#predefined_roles) \u3002\u57fa\u672c\u89d2\u8272\u904e\u65bc\u5bec\u9b06\uff0c\u53ef\u80fd\u5b58\u5728\u5b89\u5168\u98a8\u96aa\u3002Owner \u548c Editor \u89d2\u8272\u53ef\u80fd\u6703\u5c0e\u81f4\u63d0\u5347\u6b0a\u9650\u548c\u6a6b\u5411\u79fb\u52d5\uff0c\u800c Viewer \u89d2\u8272\u5305\u62ec\u53ef\u8b80\u53d6\u6240\u6709\u6578\u64da\u7684\u6b0a\u9650\u3002\u5982\u9700\u77ad\u89e3 IAM \u89d2\u8272\u7684\u6700\u4f73\u5be6\u8e10\uff0c\u8acb\u53c3\u95b1 [\u5b89\u5168\u4f7f\u7528 IAM](https://cloud.google.com/iam/docs/using-iam-securely?hl=zh-cn) \u3002\n## \u8d85\u7d1a\u7528\u6236\u8cec\u865f\n\u64c1\u6709 [\u8d85\u7d1a\u7528\u6236\u8cec\u865f](https://cloud.google.com/resource-manager/docs/super-admin-best-practices?hl=zh-cn) \u7684 Cloud Identity \u7528\u6236\u6703\u7e5e\u904e\u7d44\u7e54\u7684 SSO \u8a2d\u7f6e\u4e26\u76f4\u63a5\u5411 Cloud Identity \u9032\u884c\u8eab\u4efd\u9a57\u8b49\u3002\u9019\u7a2e\u4f8b\u5916\u60c5\u6cc1\u662f\u6545\u610f\u7232\u4e4b\uff0c\u4ee5\u4fbf\u5728 SSO \u914d\u7f6e\u932f\u8aa4\u6216\u4e2d\u65b7\u6642\uff0c\u8d85\u7d1a\u7528\u6236\u4ecd\u7136\u53ef\u4ee5\u8a2a\u554f Cloud Identity \u63a7\u5236\u6aaf\u3002\u4f46\u662f\uff0c\u9019\u610f\u5473\u7740\u60a8\u5fc5\u9808\u8003\u616e\u7232\u8d85\u7d1a\u7528\u6236\u8cec\u865f\u63d0\u4f9b\u984d\u5916\u7684\u4fdd\u8b77\u3002\n\u7232\u4e86\u4fdd\u8b77\u60a8\u7684\u8d85\u7d1a\u7528\u6236\u8cec\u865f\uff0c\u6211\u5011\u5efa\u8b70\u60a8\u59cb\u7d42\u4f7f\u7528 Cloud Identity \u4e2d\u7684\u5b89\u5168\u5bc6\u9470\u5f37\u5236\u57f7\u884c\u5169\u6b65\u9a57\u8b49\u3002\u6709\u95dc\u4fe1\u606f\uff0c\u8acb\u53c3\u95b1 [\u7ba1\u7406\u54e1\u8cec\u865f\u7684\u5b89\u5168\u6700\u4f73\u5be6\u8e10](https://support.google.com/a/answer/9011373?hl=zh-cn) \u3002\n## \u6d88\u8cbb\u8005\u7528\u6236\u8cec\u865f\u554f\u984c\n\u5982\u679c\u60a8\u5728\u52a0\u5165 Google Cloud \u4e4b\u524d\u672a\u4f7f\u7528 Cloud Identity \u6216 Google Workspace\uff0c\u5247\u60a8\u7d44\u7e54\u7684\u54e1\u5de5\u53ef\u80fd\u5df2\u7d93\u5728\u4f7f\u7528\u8207\u516c\u53f8\u96fb\u5b50\u90f5\u4ef6\u8eab\u4efd\u76f8\u95dc\u806f\u7684 [\u6d88\u8cbb\u8005\u8cec\u865f](https://cloud.google.com/architecture/identity/overview-google-authentication?hl=zh-cn#consumer_account) \u8a2a\u554f\u5176\u4ed6 Google \u670d\u52d9\uff08\u4f8b\u5982 Google Marketing Platform \u6216 YouTube\uff09\u3002\u6d88\u8cbb\u8005\u8cec\u865f\u5b8c\u5168\u7531\u5275\u5efa\u8cec\u865f\u7684\u500b\u4eba\u64c1\u6709\u548c\u7ba1\u7406\u3002\u7531\u65bc\u9019\u4e9b\u8cec\u865f\u4e0d\u53d7\u7d44\u7e54\u63a7\u5236\uff0c\u4e26\u4e14\u53ef\u80fd\u540c\u6642\u5305\u542b\u500b\u4eba\u548c\u516c\u53f8\u6578\u64da\uff0c\u56e0\u6b64\u60a8\u5fc5\u9808\u6c7a\u5b9a\u5982\u4f55\u5c07\u9019\u4e9b\u8cec\u865f\u8207\u5176\u4ed6\u516c\u53f8\u8cec\u865f\u6574\u5408\u8d77\u4f86\u3002\n\u6211\u5011\u5efa\u8b70\u60a8\u5728\u52a0\u5165 Google Cloud \u6642 [\u6574\u5408\u73fe\u6709\u6d88\u8cbb\u8005\u7528\u6236\u8cec\u865f](https://cloud.google.com/architecture/landing-zones/decide-how-to-onboard-identities?hl=zh-cn#account-consolidation) \u3002\u5982\u679c\u60a8\u5c1a\u672a\u5c07 Google Workspace \u7528\u65bc\u6240\u6709\u7528\u6236\u8cec\u865f\uff0c\u6211\u5011\u5efa\u8b70 [\u9650\u5236\u5275\u5efa\u65b0\u7684\u6d88\u8cbb\u8005\u8cec\u865f](https://knowledge.workspace.google.com/kb/how-to-prevent-the-consumer-unmanaged-google-accounts-creation-in-the-domain-000006505?hl=zh-cn) \u3002\n## Cloud Identity \u7684\u7ba1\u7406\u63a7\u5236\nCloud Identity \u5177\u6709\u5404\u7a2e\u7ba1\u7406\u63a7\u5236\uff0c\u4f46 Terraform \u4ee3\u78bc\u5728\u85cd\u5716\u4e2d\u4e0d\u6703\u81ea\u52d5\u57f7\u884c\u9019\u4e9b\u63a7\u5236\u3002\u6211\u5011\u5efa\u8b70\u60a8\u5728\u69cb\u5efa\u57fa\u790e\u7684\u904e\u7a0b\u4e2d\u5118\u65e9\u57f7\u884c\u6bcf\u500b\u6700\u4f73\u5be6\u8e10\u5b89\u5168\u63a7\u5236\u3002\n| \u63a7\u5236            | \u8aaa\u660e                                                                                            |\n|:---------------------------------------------------|:------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| \u90e8\u7f72\u5169\u6b65\u9a57\u8b49          | \u7528\u6236\u8cec\u865f\u53ef\u80fd\u901a\u904e\u91e3\u9b5a\u5f0f\u653b\u64ca\u3001\u793e\u6703\u5de5\u7a0b\u5b78\u3001\u5bc6\u78bc\u6cc4\u9732\u6216\u5404\u7a2e\u5176\u4ed6\u5a01\u8105\u88ab\u7834\u89e3\u3002\u5169\u6b65\u9a57\u8b49\u6709\u52a9\u65bc\u6e1b\u8f15\u9019\u4e9b\u5a01\u8105\u3002 \u6211\u5011\u5efa\u8b70\u60a8\u4f7f\u7528\u9632\u7bc4\u7db2\u4e0a\u8a98\u9a19\u6a5f\u5236\uff08\u4f8b\u5982 Titan \u5b89\u5168\u5bc6\u9470\u6216\u57fa\u65bc\u9632\u7bc4\u7db2\u4e0a\u8a98\u9a19 FIDO U2F (CTAP1) \u6a19\u6e96\u7684\u5176\u4ed6\u5bc6\u9470\uff09\u5c0d\u7d44\u7e54\u4e2d\u7684\u6240\u6709\u7528\u6236\u8cec\u865f\u5f37\u5236\u57f7\u884c\u5169\u6b65\u9a57\u8b49\u6a5f\u5236\u3002                                |\n| \u8a2d\u7f6e Google Cloud \u670d\u52d9\u7684\u6703\u8a71\u6642\u9577     | \u958b\u767c\u8005\u5de5\u4f5c\u7ad9\u4e0a\u7684\u6c38\u4e45\u6027 OAuth \u4ee4\u724c\u82e5\u516c\u958b\uff0c\u53ef\u80fd\u6703\u5e36\u4f86\u5b89\u5168\u98a8\u96aa\u3002\u6211\u5011\u5efa\u8b70\u60a8\u5c07\u91cd\u65b0\u8eab\u4efd\u9a57\u8b49\u653f\u7b56\u8a2d\u7f6e\u7232\u6bcf 16 \u5c0f\u6642\u4f7f\u7528\u4e00\u6b21\u5b89\u5168\u5bc6\u9470\u9032\u884c\u8eab\u4efd\u9a57\u8b49\u3002                                                            |\n| \u8a2d\u7f6e Google \u670d\u52d9\u7684\u6703\u8a71\u6642\u9577       | \uff08\u50c5\u9650 Google Workspace \u5ba2\u6236\uff09 \u5176\u4ed6 Google \u670d\u52d9\u4e2d\u7684\u6301\u4e45 Web \u6703\u8a71\u5982\u679c\u516c\u958b\uff0c\u53ef\u80fd\u6703\u5e36\u4f86\u5b89\u5168\u98a8\u96aa\u3002\u6211\u5011\u5efa\u8b70\u60a8\u5f37\u5236\u57f7\u884c\u7db2\u7d61\u6703\u8a71\u6642\u9577\u4e0a\u9650\uff0c\u4e26\u5c07\u5176\u8207 SSO \u63d0\u4f9b\u65b9\u4e2d\u7684\u6703\u8a71\u9577\u5ea6\u63a7\u5236\u4fdd\u6301\u4e00\u81f4\u3002                                                  |\n| \u5c07 Cloud Identity \u4e2d\u7684\u6578\u64da\u8207 Google Cloud \u670d\u52d9\u5171\u4eab | \u4f86\u81ea Google Workspace \u6216 Cloud Identity \u7684\u7ba1\u7406\u54e1\u6d3b\u52d5\u5be9\u8988\u65e5\u8a8c\u901a\u5e38\u5728\u7ba1\u7406\u63a7\u5236\u6aaf\u4e2d\u7ba1\u7406\u548c\u67e5\u770b\uff0c\u8207 Google Cloud \u74b0\u5883\u4e2d\u7684\u65e5\u8a8c\u5206\u958b\u3002\u9019\u4e9b\u65e5\u8a8c\u5305\u542b\u8207\u60a8\u7684 Google Cloud \u74b0\u5883\u76f8\u95dc\u7684\u4fe1\u606f\uff0c\u4f8b\u5982\u7528\u6236\u767b\u9304\u4e8b\u4ef6\u3002 \u6211\u5011\u5efa\u8b70\u60a8\u5c07 Cloud Identity \u5be9\u8988\u65e5\u8a8c\u5171\u4eab\u5230 Google Cloud \u74b0\u5883\uff0c\u4ee5\u4fbf\u96c6\u4e2d\u7ba1\u7406\u4f86\u81ea\u6240\u6709\u4f86\u6e90\u7684\u65e5\u8a8c\u3002                      |\n| \u8a2d\u7f6e\u55ae\u9ede\u767b\u9304\u5f8c\u9a57\u8b49         | \u6b64\u85cd\u5716\u5047\u5b9a\u60a8\u4f7f\u7528\u5916\u90e8\u8eab\u4efd\u63d0\u4f9b\u65b9\u8a2d\u7f6e\u55ae\u9ede\u767b\u9304\u3002 \u6211\u5011\u5efa\u8b70\u60a8\u6839\u64da Google \u7684\u767b\u9304\u98a8\u96aa\u5206\u6790\u5553\u7528\u984d\u5916\u7684\u63a7\u5236\u5c64\u3002\u61c9\u7528\u6b64\u8a2d\u7f6e\u5f8c\uff0c\u5982\u679c Google \u8a8d\u7232\u7528\u6236\u767b\u9304\u53ef\u7591\uff0c\u5247\u7528\u6236\u53ef\u80fd\u6703\u5728\u767b\u9304\u6642\u770b\u5230\u5176\u4ed6\u57fa\u65bc\u98a8\u96aa\u7684\u767b\u9304\u9a57\u8b49\u3002                                              |\n| \u4fee\u5fa9\u6d88\u8cbb\u8005\u7528\u6236\u8cec\u865f\u7684\u554f\u984c       | \u5177\u6709\u60a8\u7db2\u57df\u4e2d\u7684\u6709\u6548\u96fb\u5b50\u90f5\u4ef6\u5730\u5740\uff0c\u4f46\u6c92\u6709 Google \u8cec\u865f\u7684\u7528\u6236\u53ef\u4ee5\u8a3b\u518a\u4e0d\u53d7\u7ba1\u7406\u7684\u6d88\u8cbb\u8005\u8cec\u865f\u3002\u9019\u4e9b\u8cec\u865f\u53ef\u80fd\u5305\u542b\u516c\u53f8\u6578\u64da\uff0c\u4f46\u4e0d\u53d7\u8cec\u865f\u751f\u547d\u9031\u671f\u7ba1\u7406\u6d41\u7a0b\u7684\u63a7\u5236\u3002 \u6211\u5011\u5efa\u8b70\u60a8\u63a1\u53d6\u63aa\u65bd\u4f86\u78ba\u4fdd\u6240\u6709\u7528\u6236\u8cec\u865f\u90fd\u662f\u53d7\u7ba1\u7406\u7684\u8cec\u865f\u3002                                           |\n| \u5c0d\u8d85\u7d1a\u7528\u6236\u8cec\u865f\u505c\u7528\u8cec\u865f\u6062\u5fa9       | \u6240\u6709\u65b0\u5ba2\u6236\u7684\u8d85\u7d1a\u7528\u6236\u8cec\u865f\u81ea\u884c\u6062\u5fa9\u529f\u80fd\u5728\u9ed8\u8a8d\u60c5\u6cc1\u4e0b\u95dc\u9589\uff08\u73fe\u6709\u5ba2\u6236\u53ef\u80fd\u5553\u7528\u4e86\u6b64\u8a2d\u7f6e\uff09\u3002\u95dc\u9589\u6b64\u8a2d\u7f6e\u6709\u52a9\u65bc\u964d\u4f4e\u653b\u64ca\u8005\u5229\u7528\u906d\u5230\u5165\u4fb5\u7684\u624b\u6a5f\u3001\u88ab\u76dc\u7528\u7684\u96fb\u5b50\u90f5\u4ef6\u6216\u793e\u6703\u5de5\u7a0b\u5b78\u653b\u64ca\u7372\u5f97\u5c0d\u60a8\u7684\u74b0\u5883\u7684\u8d85\u7d1a\u7528\u6236\u7279\u6b0a\u7684\u98a8\u96aa\u3002 \u898f\u5283\u8d85\u7d1a\u7528\u6236\u5728\u7121\u6cd5\u8a2a\u554f\u5176\u8cec\u865f\u6642\u806f\u7e6b\u7d44\u7e54\u5167\u7684\u5176\u4ed6\u8d85\u7d1a\u7528\u6236\u6240\u9700\u7684\u5167\u90e8\u6d41\u7a0b\uff0c\u4e26\u78ba\u4fdd\u6240\u6709\u8d85\u7d1a\u7528\u6236\u90fd\u719f\u6089\u652f\u6301\u5718\u968a\u5354\u52a9\u7684\u6062\u5fa9\u6d41\u7a0b\u3002               |\n| \u5f37\u5236\u57f7\u884c\u548c\u76e3\u63a7\u7528\u6236\u7684\u5bc6\u78bc\u8981\u6c42      | \u5728\u5927\u591a\u6578\u60c5\u6cc1\u4e0b\uff0c\u7528\u6236\u5bc6\u78bc\u901a\u904e\u5916\u90e8\u8eab\u4efd\u63d0\u4f9b\u65b9\u7ba1\u7406\uff0c\u4f46\u8d85\u7d1a\u7528\u6236\u8cec\u865f\u6703\u7e5e\u904e SSO\uff0c\u5fc5\u9808\u4f7f\u7528\u5bc6\u78bc\u767b\u9304 Cloud Identity\u3002\u5c0d\u4f7f\u7528\u5bc6\u78bc\u767b\u9304 Cloud Identity \u7684\u4efb\u4f55\u7528\u6236\uff08\u5c24\u5176\u662f\u8d85\u7d1a\u7528\u6236\u8cec\u865f\uff09\u505c\u7528\u5bc6\u78bc\u91cd\u7528\u4e26\u76e3\u63a7\u5bc6\u78bc\u5f37\u5ea6\u3002                                            |\n| \u7232\u7fa3\u7d44\u7684\u4f7f\u7528\u8a2d\u7f6e\u7d44\u7e54\u7d1a\u653f\u7b56       | \u9ed8\u8a8d\u60c5\u6cc1\u4e0b\uff0c\u5916\u90e8\u7528\u6236\u8cec\u865f\u53ef\u4ee5\u6dfb\u52a0\u5230 Cloud Identity \u4e2d\u7684\u7fa3\u7d44\u3002\u6211\u5011\u5efa\u8b70\u60a8\u914d\u7f6e\u5171\u4eab\u8a2d\u7f6e\uff0c\u4ee5\u514d\u7fa3\u7d44\u6240\u6709\u8005\u6dfb\u52a0\u5916\u90e8\u6210\u54e1\u3002 \u8acb\u6ce8\u610f\uff0c\u6b64\u9650\u5236\u4e0d\u9069\u7528\u65bc\u8d85\u7d1a\u7528\u6236\u8cec\u865f\u6216\u64c1\u6709\u7fa3\u7d44\u7ba1\u7406\u54e1\u6b0a\u9650\u7684\u5176\u4ed6\u59d4\u6d3e\u7ba1\u7406\u54e1\u3002\u7531\u65bc\u8eab\u4efd\u63d0\u4f9b\u65b9\u7684\u806f\u5408\u670d\u52d9\u904b\u884c\u6642\u9700\u8981\u4f7f\u7528\u7ba1\u7406\u54e1\u6b0a\u9650\uff0c\u56e0\u6b64\u7fa3\u7d44\u5171\u4eab\u8a2d\u7f6e\u4e0d\u9069\u7528\u65bc\u6b64\u7fa3\u7d44\u540c\u6b65\u3002\u6211\u5011\u5efa\u8b70\u60a8\u67e5\u770b\u8eab\u4efd\u63d0\u4f9b\u65b9\u548c\u540c\u6b65\u6a5f\u5236\u4e2d\u7684\u63a7\u5236\uff0c\u78ba\u4fdd\u975e\u7db2\u57df\u6210\u54e1\u4e0d\u6703\u6dfb\u52a0\u5230\u7fa3\u7d44\uff0c\u6216\u8005\u78ba\u4fdd\u60a8\u5c07\u61c9\u7528\u7fa3\u7d44\u9650\u5236\u3002 |\n## \u5f8c\u7e8c\u6b65\u9a5f\n- \u77ad\u89e3 [\u7d44\u7e54\u7d50\u69cb](https://cloud.google.com/architecture/security-foundations/organization-structure?hl=zh-cn) \uff08\u672c\u7cfb\u5217\u7684\u4e0b\u4e00\u500b\u6587\u6a94\uff09\u3002\n# \u7d44\u7e54\u7d50\u69cb\n\u5728 Google Cloud \u4e2d\u7528\u65bc\u7ba1\u7406\u8cc7\u6e90\u7684\u6839\u7bc0\u9ede\u662f [\u7d44\u7e54](https://cloud.google.com/resource-manager/docs/cloud-platform-resource-hierarchy?hl=zh-cn#organizations) \u3002Google Cloud \u7d44\u7e54\u63d0\u4f9b\u4e86 [\u8cc7\u6e90\u5c64\u6b21\u7d50\u69cb](https://cloud.google.com/resource-manager/docs/cloud-platform-resource-hierarchy?hl=zh-cn) \uff0c\u7232 [\u7d44\u7e54\u653f\u7b56](https://cloud.google.com/resource-manager/docs/organization-policy/overview?hl=zh-cn#organization_policy) \u548c\u8a2a\u554f\u6b0a\u9650\u63a7\u5236\u7684\u8cc7\u6e90\u548c\u9023\u63a5\u9ede\u63d0\u4f9b\u6240\u6709\u6b0a\u7d50\u69cb\u3002\u8cc7\u6e90\u5c64\u6b21\u7d50\u69cb\u7531\u6587\u4ef6\u593e\u3001\u9805\u76ee\u548c\u8cc7\u6e90\u7d44\u6210\uff0c\u5b83\u5b9a\u7fa9\u4e86\u7d44\u7e54\u5167 Google Cloud \u670d\u52d9\u7684\u7d50\u69cb\u548c\u4f7f\u7528\u3002\n\u5c64\u6b21\u7d50\u69cb\u4e2d\u8f03\u4f4e\u5c64\u6b21\u7684\u8cc7\u6e90\u6703\u7e7c\u627f IAM \u5141\u8a31\u653f\u7b56\u548c\u7d44\u7e54\u653f\u7b56\u7b49\u653f\u7b56\u3002\u9ed8\u8a8d\u60c5\u6cc1\u4e0b\uff0c\u6240\u6709\u8a2a\u554f\u6b0a\u9650\u90fd\u6703\u88ab\u62d2\u7d55\uff0c\u76f4\u5230\u60a8\u5c07\u5141\u8a31\u653f\u7b56\u76f4\u63a5\u61c9\u7528\u65bc\u8cc7\u6e90\u6216\u8cc7\u6e90\u5f9e\u8cc7\u6e90\u5c64\u6b21\u7d50\u69cb\u4e2d\u7684\u66f4\u9ad8\u7d1a\u5c64\u7e7c\u627f\u5141\u8a31\u653f\u7b56\u7232\u6b62\u3002\n\u4e0b\u5716\u5c55\u793a\u4e86\u85cd\u5716\u90e8\u7f72\u7684\u6587\u4ef6\u593e\u548c\u9805\u76ee\u3002\n\u4ee5\u4e0b\u90e8\u5206\u4ecb\u7d39\u4e86\u5716\u4e2d\u7684\u6587\u4ef6\u593e\u548c\u9805\u76ee\u3002\n## \u6587\u4ef6\u593e\n\u6b64\u85cd\u5716\u4f7f\u7528 [\u6587\u4ef6\u593e](https://cloud.google.com/resource-manager/docs/cloud-platform-resource-hierarchy?hl=zh-cn#folders) \u4f86\u6839\u64da\u9805\u76ee\u7684\u74b0\u5883\u5c0d\u9805\u76ee\u9032\u884c\u5206\u7d44\u3002\u6b64\u908f\u8f2f\u5206\u7d44\u7528\u65bc\u5728\u6587\u4ef6\u593e\u7d1a\u5c64\u61c9\u7528\u5141\u8a31\u653f\u7b56\u548c\u7d44\u7e54\u653f\u7b56\u7b49\u914d\u7f6e\uff0c\u7136\u5f8c\u6587\u4ef6\u593e\u4e2d\u7684\u6240\u6709\u8cc7\u6e90\u90fd\u6703\u7e7c\u627f\u9019\u4e9b\u653f\u7b56\u3002\u4e0b\u8868\u4ecb\u7d39\u4e86\u6b64\u85cd\u5716\u4e2d\u7684\u6587\u4ef6\u593e\u3002\n| \u6587\u4ef6\u593e  | \u8aaa\u660e                 |\n|:--------------|:-----------------------------------------------------------------------|\n| bootstrap  | \u5305\u542b\u7528\u65bc\u90e8\u7f72\u57fa\u790e\u7d44\u4ef6\u7684\u9805\u76ee\u3002           |\n| common  | \u5305\u542b\u8cc7\u6e90\u7531\u6240\u6709\u74b0\u5883\u5171\u4eab\u7684\u9805\u76ee\u3002           |\n| production | \u5305\u542b\u5177\u6709\u751f\u7522\u8cc7\u6e90\u7684\u9805\u76ee\u3002            |\n| nonproduction | \u5305\u542b\u751f\u7522\u74b0\u5883\u7684\u526f\u672c\uff0c\u53ef\u7528\u65bc\u5728\u5c07\u5de5\u4f5c\u8ca0\u8f09\u5347\u7d1a\u5230\u751f\u7522\u74b0\u5883\u4e4b\u524d\u5c0d\u5176\u9032\u884c\u6e2c\u8a66\u3002 |\n| development | \u5305\u542b\u7528\u65bc\u958b\u767c\u7684\u96f2\u8cc7\u6e90\u3002             |\n| networking | \u5305\u542b\u6240\u6709\u74b0\u5883\u5171\u4eab\u7684\u7db2\u7d61\u8cc7\u6e90\u3002           |\n## \u9805\u76ee\n\u6b64\u85cd\u5716\u6839\u64da\u8cc7\u6e90\u7684\u529f\u80fd\u548c\u8a2a\u554f\u6b0a\u9650\u63a7\u5236\u7684\u9810\u671f\u908a\u754c\uff0c\u4f7f\u7528 [\u9805\u76ee](https://cloud.google.com/resource-manager/docs/cloud-platform-resource-hierarchy?hl=zh-cn#projects) \u5c0d\u55ae\u7368\u7684\u8cc7\u6e90\u9032\u884c\u5206\u7d44\u3002\u4e0b\u8868\u4ecb\u7d39\u4e86\u85cd\u5716\u4e2d\u5305\u542b\u7684\u9805\u76ee\u3002\n| \u6587\u4ef6\u593e             | \u9805\u76ee       | \u8aaa\u660e                                 |\n|:--------------------------------------------------------|:--------------------------------|:---------------------------------------------------------------------------------------------------------------------------------------|\n| bootstrap            | prj-b-cicd      | \u5305\u542b\u7528\u65bc\u69cb\u5efa\u7d44\u7e54\u57fa\u790e\u7d44\u4ef6\u7684\u90e8\u7f72\u6d41\u6c34\u7dda\u3002\u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1\u90e8\u7f72\u65b9\u6cd5\u3002                 |\n| bootstrap            | prj-b-seed      | \u5305\u542b\u57fa\u790e\u8a2d\u65bd\u7684 Terraform \u72c0\u614b\u548c\u904b\u884c\u6d41\u6c34\u7dda\u6240\u9700\u7684 Terraform \u670d\u52d9\u8cec\u865f\u3002\u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1\u90e8\u7f72\u65b9\u6cd5\u3002          |\n| common             | prj-c-secrets     | \u5305\u542b\u7d44\u7e54\u7d1a\u5bc6\u6587\u3002\u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1\u4f7f\u7528 Secret Manager \u5b58\u5132\u61c9\u7528\u6191\u64da\u3002                 |\n| common             | prj-c-logging     | \u5305\u542b\u5be9\u8988\u65e5\u8a8c\u7684\u805a\u5408\u65e5\u8a8c\u6e90\u3002\u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1\u7528\u65bc\u5b89\u5168\u548c\u5be9\u8988\u7528\u9014\u7684\u4e2d\u5fc3\u5316\u65e5\u8a8c\u3002               |\n| common             | prj-c-scc      | \u5305\u542b\u6709\u52a9\u65bc\u914d\u7f6e Security Command Center \u63d0\u9192\u548c\u5176\u4ed6\u81ea\u5b9a\u7fa9\u5b89\u5168\u76e3\u63a7\u7684\u8cc7\u6e90\u3002\u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1\u4f7f\u7528 Security Command Center \u9032\u884c\u5a01\u8105\u76e3\u63a7\u3002 |\n| common             | prj-c-billing-logs    | \u5305\u542b\u5177\u6709\u7d44\u7e54\u8cec\u55ae\u5c0e\u51fa\u529f\u80fd\u7684 BigQuery \u6578\u64da\u96c6\u3002\u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1\u5728\u5167\u90e8\u6210\u672c\u4e2d\u5fc3\u4e4b\u9593\u5206\u914d\u8cbb\u7528\u3002           |\n| common             | prj-c-infra-pipeline   | \u5305\u542b\u7528\u65bc\u90e8\u7f72\u5de5\u4f5c\u8ca0\u8f09\u8981\u4f7f\u7528\u7684\u865b\u64ec\u6a5f\u548c\u6578\u64da\u5eab\u7b49\u8cc7\u6e90\u7684\u57fa\u790e\u8a2d\u65bd\u6d41\u6c34\u7dda\u3002\u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1\u6d41\u6c34\u7dda\u5c64\u3002          |\n| common             | prj-c-kms      | \u5305\u542b\u7d44\u7e54\u7d1a\u52a0\u5bc6\u5bc6\u9470\u3002\u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1\u7ba1\u7406\u52a0\u5bc6\u5bc6\u9470\u3002                     |\n| networking            | prj-net-{env}-shared-base  | \u5305\u542b\u5171\u4eab VPC \u7db2\u7d61\u7684\u5bbf\u4e3b\u9805\u76ee\uff0c\u9069\u7528\u65bc\u4e0d\u9700\u8981 VPC Service Controls \u7684\u5de5\u4f5c\u8ca0\u8f09\u3002\u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1\u7db2\u7d61\u62d3\u64b2\u3002        |\n| networking            | prj-net-{env}-shared-restricted | \u5305\u542b\u5171\u4eab VPC \u7db2\u7d61\u7684\u5bbf\u4e3b\u9805\u76ee\uff0c\u7528\u65bc\u9700\u8981 VPC Service Controls \u7684\u5de5\u4f5c\u8ca0\u8f09\u3002\u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1\u7db2\u7d61\u62d3\u64b2\u3002         |\n| networking            | prj-net-interconnect   | \u5305\u542b\u5728\u672c\u5730\u74b0\u5883\u548c Google Cloud \u4e4b\u9593\u63d0\u4f9b\u9023\u63a5\u7684 Cloud Interconnect \u9023\u63a5\u3002\u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1\u6df7\u5408\u9023\u63a5\u3002         |\n| networking            | prj-net-dns-hub     | \u5305\u542b\u672c\u5730 DNS \u7cfb\u7d71\u548c Cloud DNS \u4e4b\u9593\u7684\u4e2d\u5fc3\u901a\u4fe1\u9ede\u7684\u8cc7\u6e90\u3002\u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1\u96c6\u4e2d\u5f0f DNS \u8a2d\u7f6e\u3002           |\n| \u74b0\u5883\u6587\u4ef6\u593e\uff08production, non-production \u548c development\uff09 | prj-{env}-monitoring   | \u5305\u542b\u4e00\u500b\u7bc4\u570d\u9650\u5b9a\u9805\u76ee\uff0c\u4ee5\u805a\u5408\u8a72\u74b0\u5883\u4e2d\u9805\u76ee\u7684\u6307\u6a19\u3002\u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1\u57fa\u65bc\u65e5\u8a8c\u7684\u6307\u6a19\u548c\u6027\u80fd\u6307\u6a19\u7684\u63d0\u9192          |\n| \u74b0\u5883\u6587\u4ef6\u593e\uff08production, non-production \u548c development\uff09 | prj-{env}-secrets    | \u5305\u542b\u6587\u4ef6\u593e\u7d1a\u5bc6\u6587\u3002\u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1\u4f7f\u7528 Secret Manager \u5b58\u5132\u548c\u5be9\u8988\u61c9\u7528\u6191\u64da\u3002               |\n| \u74b0\u5883\u6587\u4ef6\u593e\uff08production, non-production \u548c development\uff09 | prj-{env}-kms     | \u5305\u542b\u6587\u4ef6\u593e\u7d1a\u52a0\u5bc6\u5bc6\u9470\u3002\u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1\u7ba1\u7406\u52a0\u5bc6\u5bc6\u9470\u3002                    |\n| \u74b0\u5883\u6587\u4ef6\u593e\uff08production, non-production \u548c development\uff09 | \u61c9\u7528\u9805\u76ee      | \u5305\u542b\u60a8\u5728\u5176\u4e2d\u7232\u61c9\u7528\u5275\u5efa\u8cc7\u6e90\u7684\u5404\u7a2e\u9805\u76ee\u3002\u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1\u9805\u76ee\u90e8\u7f72\u6a21\u5f0f\u548c\u6d41\u6c34\u7dda\u5c64\u3002              |\n## \u8cc7\u6e90\u6240\u6709\u6b0a\u6cbb\u7406\n\u6211\u5011\u5efa\u8b70\u60a8\u59cb\u7d42\u7232\u9805\u76ee\u61c9\u7528\u6a19\u7c64\uff0c\u4ee5\u8f14\u52a9\u6cbb\u7406\u548c\u8cbb\u7528\u5206\u914d\u3002\u4e0b\u8868\u4ecb\u7d39\u4e86\u6dfb\u52a0\u5230\u6bcf\u500b\u9805\u76ee\u4ee5\u4fbf\u5728\u85cd\u5716\u4e2d\u9032\u884c\u6cbb\u7406\u7684\u9805\u76ee\u6a19\u7c64\u3002\n| \u6a19\u7c64    | \u8aaa\u660e                             |\n|:-----------------|:---------------------------------------------------------------------------------------------------------------------|\n| application  | \u8207\u9805\u76ee\u95dc\u806f\u7684\u61c9\u7528\u6216\u5de5\u4f5c\u8ca0\u8f09\u7684\u7c21\u55ae\u6613\u61c2\u540d\u7a31\u3002                   |\n| businesscode  | \u7528\u65bc\u63cf\u8ff0\u9805\u76ee\u6240\u5c6c\u696d\u52d9\u90e8\u9580\u7684\u77ed\u4ee3\u78bc\u3002\u4ee3\u78bc shared \u7528\u65bc\u8868\u793a\u672a\u8207\u4efb\u4f55\u696d\u52d9\u90e8\u9580\u660e\u78ba\u95dc\u806f\u7684\u5e38\u898b\u9805\u76ee\u3002       |\n| billingcode  | \u7528\u65bc\u63d0\u4f9b\u9000\u6b3e\u4fe1\u606f\u7684\u4ee3\u78bc\u3002                        |\n| primarycontact | \u8ca0\u8cac\u9805\u76ee\u7684\u4e3b\u8981\u806f\u7e6b\u4eba\u7684\u7528\u6236\u540d\u3002\u7531\u65bc\u9805\u76ee\u6a19\u7c64\u4e0d\u80fd\u5305\u542b\u7279\u6b8a\u5b57\u7b26\uff08\u5982\u7b26\u865f @\uff09\uff0c\u56e0\u6b64\u5b83\u8a2d\u7f6e\u7232\u4e0d\u5e36 @example.com \u5f8c\u7db4\u7684\u7528\u6236\u540d\u3002 |\n| secondarycontact | \u8ca0\u8cac\u9805\u76ee\u7684\u6b21\u8981\u806f\u7e6b\u4eba\u7684\u7528\u6236\u540d\u3002\u7531\u65bc\u9805\u76ee\u6a19\u7c64\u4e0d\u80fd\u5305\u542b\u7279\u6b8a\u5b57\u7b26\uff08\u4f8b\u5982 @\uff09\uff0c\u56e0\u6b64\u8acb\u50c5\u8a2d\u7f6e\u6c92\u6709 @example.com \u5f8c\u7db4\u7684\u7528\u6236\u540d\u3002 |\n| environment  | \u7528\u65bc\u6a19\u8b58\u74b0\u5883\u985e\u578b\u7684\u503c\uff0c\u4f8b\u5982 bootstrap\u3001common\u3001production\u3001non-production,development \u6216 network.      |\n| envcode   | \u7528\u65bc\u6a19\u8b58\u74b0\u5883\u985e\u578b\u7684\u503c\uff0c\u7e2e\u5beb\u5f62\u5f0f\u7232 b\u3001c\u3001p\u3001n\u3001d \u6216 net\u3002                |\n| vpc    | \u6b64\u9805\u76ee\u9810\u671f\u4f7f\u7528\u7684 VPC \u7db2\u7d61\u7684 ID\u3002                      |\nGoogle \u53ef\u80fd\u5076\u723e\u6703\u767c\u9001\u91cd\u8981\u901a\u77e5\uff0c\u4f8b\u5982\u8cec\u865f\u4e2d\u6b62\u6216\u7522\u54c1\u689d\u6b3e\u66f4\u65b0\u3002\u6b64\u85cd\u5716\u4f7f\u7528 [\u91cd\u8981\u806f\u7e6b\u4eba](https://cloud.google.com/resource-manager/docs/managing-notification-contacts?hl=zh-cn) \u5c07\u9019\u4e9b\u901a\u77e5\u767c\u9001\u5230\u60a8\u5728\u90e8\u7f72\u671f\u9593\u914d\u7f6e\u7684\u7fa3\u7d44\u3002\u91cd\u8981\u806f\u7e6b\u4eba\u5728\u7d44\u7e54\u7bc0\u9ede\u4e0a\u914d\u7f6e\uff0c\u4e26\u7531\u7d44\u7e54\u4e2d\u7684\u6240\u6709\u9805\u76ee\u7e7c\u627f\u3002\u6211\u5011\u5efa\u8b70\u60a8\u67e5\u770b\u9019\u4e9b\u7fa3\u7d44\u4e26\u78ba\u4fdd\u96fb\u5b50\u90f5\u4ef6\u53d7\u5230\u53ef\u9760\u76e3\u63a7\u3002\n\u91cd\u8981\u806f\u7e6b\u4eba\u7684\u7528\u9014\u8207\u9805\u76ee\u6a19\u7c64\u4e2d\u6240\u914d\u7f6e\u7684 `primarycontact` \u548c `secondarycontact` \u5b57\u6bb5\u7684\u7528\u9014\u4e0d\u540c\u3002\u9805\u76ee\u6a19\u7c64\u4e2d\u7684\u806f\u7e6b\u4eba\u9069\u7528\u65bc\u5167\u90e8\u6cbb\u7406\u3002\u4f8b\u5982\uff0c\u5982\u679c\u60a8\u5728\u5de5\u4f5c\u8ca0\u8f09\u9805\u76ee\u4e2d\u767c\u73fe\u4e0d\u5408\u898f\u7684\u8cc7\u6e90\u4e26\u9700\u8981\u806f\u7e6b\u6240\u6709\u8005\uff0c\u5247\u53ef\u4ee5\u4f7f\u7528 `primarycontact` \u5b57\u6bb5\u67e5\u627e\u8ca0\u8cac\u8a72\u5de5\u4f5c\u8ca0\u8f09\u7684\u4eba\u54e1\u6216\u5718\u968a\u3002\n## \u5f8c\u7e8c\u6b65\u9a5f\n- \u77ad\u89e3 [\u7db2\u7d61](https://cloud.google.com/architecture/security-foundations/networking?hl=zh-cn) \uff08\u672c\u7cfb\u5217\u7684\u4e0b\u4e00\u500b\u6587\u6a94\uff09\u3002\n# \u7db2\u7d61\n\u8cc7\u6e90\u5728\u60a8\u7684 Google Cloud \u7d44\u7e54\u5167\u90e8\u4ee5\u53ca\u5728\u96f2\u74b0\u5883\u548c\u672c\u5730\u74b0\u5883\u4e4b\u9593\u901a\u4fe1\u9700\u8981\u7db2\u7d61\u3002\u672c\u90e8\u5206\u4ecb\u7d39\u85cd\u5716\u4e2d VPC \u7db2\u7d61\u3001IP \u5730\u5740\u7a7a\u9593\u3001DNS\u3001\u9632\u706b\u7246\u653f\u7b56\u4ee5\u53ca\u8207\u672c\u5730\u74b0\u5883\u7684\u9023\u63a5\u7684\u7d50\u69cb\u3002\n## \u7db2\u7d61\u62d3\u64b2\n\u85cd\u5716\u5009\u5eab\u7232\u60a8\u7684\u7db2\u7d61\u62d3\u64b2\u63d0\u4f9b\u4ee5\u4e0b\u9078\u9805\uff1a\n- \u5c0d\u6bcf\u500b\u74b0\u5883\u4f7f\u7528\u55ae\u7368\u7684\u5171\u4eab VPC \u7db2\u7d61\uff0c\u4e26\u4e14\u4e0d\u540c\u74b0\u5883\u4e4b\u9593\u4e0d\u5141\u8a31\u76f4\u63a5\u50b3\u8f38\u7db2\u7d61\u6d41\u91cf\u3002\n- \u4f7f\u7528\u4e2d\u5fc3\u8f3b\u5c04\u578b\u6a21\u578b\u4f86\u6dfb\u52a0 hub \u7db2\u7d61\uff0c\u4ee5\u9023\u63a5 Google Cloud \u4e2d\u6bcf\u500b\u74b0\u5883\uff0c\u4e26\u901a\u904e\u7db2\u7d61\u865b\u64ec\u8a2d\u5099 (NVA) \u63a7\u5236\u74b0\u5883\u4e4b\u9593\u7684\u7db2\u7d61\u6d41\u91cf\u3002\n\u5982\u679c\u60a8\u4e0d\u60f3\u5728\u74b0\u5883\u4e4b\u9593\u5b58\u5728\u76f4\u63a5\u7684\u7db2\u7d61\u9023\u63a5\uff0c\u8acb\u9078\u64c7 [\u96d9\u5171\u4eab VPC \u7db2\u7d61\u62d3\u64b2](#dual-shared-vpc-network-topology) \u3002\u7576\u60f3\u8981\u5728\u74b0\u5883\u4e4b\u9593\u5141\u8a31\u7531 NVA \u904e\u6ffe\u7684\u7db2\u7d61\u9023\u63a5\u6642\uff0c\u4f8b\u5982\u7576\u60a8\u4f9d\u8cf4\u7684\u73fe\u6709\u5de5\u5177\u9700\u8981\u6709\u4e00\u500b\u76f4\u63a5\u7db2\u7d61\u8def\u5f91\u9023\u63a5\u60a8\u74b0\u5883\u4e2d\u6bcf\u500b\u670d\u52d9\u5668\u6642\uff0c\u8acb\u9078\u64c7 [\u4e2d\u5fc3\u8f3b\u5c04\u578b\u7db2\u7d61\u62d3\u64b2](#hub-spoke-network-topology) \u3002\n\u9019\u5169\u7a2e\u62d3\u64b2\u4f7f\u7528\u5171\u4eab VPC \u4f5c\u7232\u4e3b\u7db2\u7d61\u7d50\u69cb\uff0c\u56e0\u7232\u5171\u4eab VPC \u53ef\u660e\u78ba\u5283\u5206\u8077\u8cac\u3002\u7db2\u7d61\u7ba1\u7406\u54e1\u5728\u96c6\u4e2d\u5f0f\u5bbf\u4e3b\u9805\u76ee\u4e2d\u7ba1\u7406\u7db2\u7d61\u8cc7\u6e90\uff0c\u800c\u5de5\u4f5c\u8ca0\u8f09\u5718\u968a\u5728\u9644\u52a0\u5230\u5bbf\u4e3b\u9805\u76ee\u7684\u670d\u52d9\u9805\u76ee\u4e2d\u90e8\u7f72\u4ed6\u5011\u81ea\u5df1\u7684\u61c9\u7528\u8cc7\u6e90\u4e26\u4f7f\u7528\u7db2\u7d61\u8cc7\u6e90\u3002\n\u9019\u5169\u7a2e\u62d3\u64b2\u90fd\u5305\u542b\u6bcf\u500b VPC \u7db2\u7d61\u7684\u57fa\u672c\u7248\u672c\u548c\u53d7\u9650\u7248\u672c\u3002\u57fa\u672c VPC \u7db2\u7d61\u7528\u65bc\u5305\u542b\u975e\u654f\u611f\u6578\u64da\u7684\u8cc7\u6e90\uff0c\u800c\u53d7\u9650 VPC \u7db2\u7d61\u7528\u65bc\u5305\u542b\u654f\u611f\u6578\u64da\u4e14\u9700\u8981 VPC Service Controls \u7684\u8cc7\u6e90\u3002\u5982\u9700\u8a73\u7d30\u77ad\u89e3\u5982\u4f55\u5be6\u73fe VPC Service Controls\uff0c\u8acb\u53c3\u95b1 [\u4f7f\u7528 VPC Service Controls \u4fdd\u8b77\u60a8\u7684\u8cc7\u6e90](https://cloud.google.com/architecture/security-foundations/operation-best-practices?hl=zh-cn#protect-resources) \u3002\n### \u96d9\u5171\u4eab VPC \u7db2\u7d61\u62d3\u64b2\n\u5982\u679c\u60a8\u9700\u8981\u5728 Google Cloud \u4e0a\u7684\u958b\u767c\u7db2\u7d61\u3001\u975e\u751f\u7522\u7db2\u7d61\u548c\u751f\u7522\u7db2\u7d61\u4e4b\u9593\u9032\u884c\u7db2\u7d61\u9694\u96e2\uff0c\u6211\u5011\u5efa\u8b70\u4f7f\u7528\u96d9\u5171\u4eab VPC \u7db2\u7d61\u62d3\u64b2\u3002\u6b64\u62d3\u64b2\u7232\u6bcf\u500b\u74b0\u5883\u4f7f\u7528\u55ae\u7368\u7684\u5171\u4eab VPC \u7db2\u7d61\uff0c\u4e26\u4e14\u6bcf\u500b\u74b0\u5883\u6703\u53e6\u5916\u5728\u57fa\u672c\u5171\u4eab VPC \u7db2\u7d61\u548c\u53d7\u9650\u5171\u4eab VPC \u7db2\u7d61\u4e4b\u9593\u62c6\u5206\u3002\n\u4e0b\u5716\u986f\u793a\u4e86\u96d9\u5171\u4eab VPC \u7db2\u7d61\u62d3\u64b2\u3002\n\u8a72\u5716\u63cf\u8ff0\u4e86\u96d9\u5171\u4eab VPC \u62d3\u64b2\u7684\u4ee5\u4e0b\u4e3b\u8981\u6982\u5ff5\uff1a\n- \u6bcf\u7a2e\u74b0\u5883\uff08\u751f\u7522\u3001\u975e\u751f\u7522\u548c\u958b\u767c\uff09\u90fd\u6703\u7232\u57fa\u672c\u7db2\u7d61\u914d\u7f6e\u4e00\u500b\u5171\u4eab VPC \u7db2\u7d61\uff0c\u7232\u53d7\u9650\u7db2\u7d61\u914d\u7f6e\u4e00\u500b\u5171\u4eab VPC \u7db2\u7d61\u3002\u6b64\u5716\u50c5\u986f\u793a\u751f\u7522\u74b0\u5883\uff0c\u4f46\u6bcf\u500b\u74b0\u5883\u90fd\u63a1\u7528\u6b64\u540c\u4e00\u6a21\u5f0f\u3002\n- \u6bcf\u500b\u5171\u4eab VPC \u7db2\u7d61\u90fd\u6709\u5169\u500b\u5b50\u7db2\uff0c\u5404\u5b50\u7db2\u4f4d\u65bc\u4e0d\u540c\u7684\u5340\u57df\u3002\n- \u901a\u904e\u4f7f\u7528\u56db\u500b Cloud Router \u670d\u52d9\uff08\u6bcf\u500b\u5340\u57df\u5169\u500b\u4ee5\u5be6\u73fe\u5197\u9918\uff09\u8207\u6bcf\u500b\u5171\u4eab VPC \u7db2\u7d61\u7684\u5c08\u7528\u4e92\u9023\u5be6\u4f8b\u5efa\u7acb\u56db\u500b VLAN \u9023\u63a5\uff0c\u5f9e\u800c\u5be6\u73fe\u8207\u672c\u5730\u8cc7\u6e90\u7684\u9023\u63a5\u3002\u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1 [\u672c\u5730\u74b0\u5883\u8207 Google Cloud \u4e4b\u9593\u7684\u6df7\u5408\u9023\u63a5](#hybrid-connectivity) \u3002\n\u6839\u64da\u8a2d\u8a08\uff0c\u6b64\u62d3\u64b2\u4e0d\u5141\u8a31\u7db2\u7d61\u6d41\u91cf\u76f4\u63a5\u5728\u74b0\u5883\u4e4b\u9593\u6d41\u52d5\u3002\u5982\u679c\u60a8\u78ba\u5be6\u9700\u8981\u7db2\u7d61\u6d41\u91cf\u76f4\u63a5\u5728\u74b0\u5883\u4e4b\u9593\u6d41\u52d5\uff0c\u5247\u5fc5\u9808\u57f7\u884c\u984d\u5916\u6b65\u9a5f\u624d\u80fd\u5141\u8a31\u6b64\u7db2\u7d61\u8def\u5f91\u3002\u4f8b\u5982\uff0c\u60a8\u53ef\u4ee5 [\u914d\u7f6e Private Service Connect \u7aef\u9ede](https://cloud.google.com/vpc/docs/about-accessing-vpc-hosted-services-endpoints?hl=zh-cn) \uff0c\u4ee5\u5c07\u670d\u52d9\u5f9e\u4e00\u500b VPC \u7db2\u7d61\u516c\u958b\u7d66\u53e6\u4e00\u500b VPC \u7db2\u7d61\u3002\u6216\u8005\uff0c\u60a8\u53ef\u4ee5\u914d\u7f6e\u672c\u5730\u7db2\u7d61\uff0c\u4ee5\u5141\u8a31\u6d41\u91cf\u5f9e\u4e00\u500b Google Cloud \u74b0\u5883\u6d41\u5411\u672c\u5730\u74b0\u5883\uff0c\u7136\u5f8c\u6d41\u5411\u53e6\u4e00\u500b Google Cloud \u74b0\u5883\u3002\n### \u4e2d\u5fc3\u8f3b\u5c04\u578b\u7db2\u7d61\u62d3\u64b2\n\u5982\u679c\u60a8\u5728 Google Cloud \u4e2d\u90e8\u7f72\u7684\u8cc7\u6e90\u9700\u8981\u6709\u4e00\u500b\u76f4\u63a5\u7db2\u7d61\u8def\u5f91\u4f86\u9023\u63a5\u591a\u500b\u74b0\u5883\u4e2d\u7684\u8cc7\u6e90\uff0c\u6211\u5011\u5efa\u8b70\u4f7f\u7528\u4e2d\u5fc3\u8f3b\u5c04\u578b\u7db2\u7d61\u62d3\u64b2\u3002\n\u4e2d\u5fc3\u8f3b\u5c04\u578b\u62d3\u64b2\u96d6\u7136\u4f7f\u7528\u4e86\u96d9\u5171\u4eab VPC \u62d3\u64b2\u4e2d\u7684\u5e7e\u500b\u6982\u5ff5\uff0c\u4f46\u5b83\u53ef\u4fee\u6539\u62d3\u64b2\u4ee5\u6dfb\u52a0 hub \u7db2\u7d61\u3002\u4e0b\u5716\u5c55\u793a\u4e86\u4e2d\u5fc3\u8f3b\u5c04\u578b\u62d3\u64b2\u3002\n\u8a72\u5716\u63cf\u8ff0\u4e86\u4e2d\u5fc3\u8f3b\u5c04\u578b\u7db2\u7d61\u62d3\u64b2\u7684\u4ee5\u4e0b\u4e3b\u8981\u6982\u5ff5\uff1a\n- \u6b64\u6a21\u578b\u6dfb\u52a0\u4e86\u4e00\u500b hub \u7db2\u7d61\uff0c\u6bcf\u500b\u958b\u767c\u7db2\u7d61\u3001\u975e\u751f\u7522\u7db2\u7d61\u548c\u751f\u7522\u7db2\u7d61 (spoke) \u90fd\u901a\u904e VPC \u7db2\u7d61\u5c0d\u7b49\u4e92\u9023\u9023\u63a5\u5230 hub \u7db2\u7d61\u3002\u6216\u8005\uff0c\u5982\u679c\u60a8\u9810\u8a08\u6703\u8d85\u51fa [\u914d\u984d\u9650\u5236](https://cloud.google.com/vpc/docs/quota?hl=zh-cn#per_network) \uff0c\u5247\u53ef\u4ee5\u6539\u7528 [\u9ad8\u53ef\u7528\u6027 VPN \u7db2\u95dc](https://cloud.google.com/network-connectivity/docs/vpn/concepts/topologies?hl=zh-cn) \u3002\n- \u50c5\u5141\u8a31\u901a\u904e hub \u7db2\u7d61\u9023\u63a5\u5230\u672c\u5730\u7db2\u7d61\u3002\u6240\u6709 spoke \u7db2\u7d61\u90fd\u53ef\u4ee5\u8207 hub \u7db2\u7d61\u4e2d\u7684\u5171\u4eab\u8cc7\u6e90\u901a\u4fe1\uff0c\u4e26\u4f7f\u7528\u6b64\u8def\u5f91\u9023\u63a5\u5230\u672c\u5730\u7db2\u7d61\u3002\n- hub \u7db2\u7d61\u5305\u62ec\u6bcf\u500b\u5340\u57df\u5728\u5167\u90e8\u7db2\u7d61\u8ca0\u8f09\u5747\u8861\u5668\u5be6\u4f8b\u5f8c\u5197\u9918\u90e8\u7f72\u7684 NVA\u3002\u6b64 NVA \u5145\u7576\u7db2\u95dc\uff0c\u4ee5\u5141\u8a31\u6216\u62d2\u7d55\u6d41\u91cf\u5728 spoke \u7db2\u7d61\u4e4b\u9593\u9032\u884c\u901a\u4fe1\u3002\n- hub \u7db2\u7d61\u9084\u8a17\u7ba1\u9700\u8981\u9023\u63a5\u5230\u6240\u6709\u5176\u4ed6\u7db2\u7d61\u7684\u5de5\u5177\u3002\u4f8b\u5982\uff0c\u60a8\u53ef\u4ee5\u5c07\u7528\u65bc\u914d\u7f6e\u7ba1\u7406\u7684\u865b\u64ec\u6a5f\u5be6\u4f8b\u4e0a\u7684\u5de5\u5177\u90e8\u7f72\u5230\u901a\u7528\u74b0\u5883\u3002\n- \u6bcf\u500b\u7db2\u7d61\u7684\u57fa\u672c\u7248\u672c\u548c\u53d7\u9650\u7248\u672c\u90fd\u5177\u6709\u76f8\u540c\u7684\u4e2d\u5fc3\u8f3b\u5c04\u578b\u6a21\u578b\u3002\n\u7232\u4e86\u5be6\u73fe spoke \u4e4b\u9593\u7684\u6d41\u91cf\u50b3\u8f38\uff0c\u8a72\u85cd\u5716\u6703\u5728 hub \u5171\u4eab VPC \u7db2\u7d61\u4e0a\u90e8\u7f72 NVA\uff0c\u4ee5\u5145\u7576\u7db2\u7d61\u4e4b\u9593\u7684\u7db2\u95dc\u3002\u8def\u7531\u901a\u904e [\u81ea\u5b9a\u7fa9\u8def\u7531\u4ea4\u63db](https://cloud.google.com/vpc/docs/vpc-peering?hl=zh-cn#importing-exporting-routes) \u5f9e hub VPC \u7db2\u7d61\u4ea4\u63db\u5230 spoke VPC \u7db2\u7d61\u3002\u5728\u9019\u7a2e\u60c5\u6cc1\u4e0b\uff0cspoke \u4e4b\u9593\u7684\u9023\u63a5\u5fc5\u9808\u901a\u904e NVA \u9032\u884c\u8def\u7531\uff0c\u56e0\u7232 VPC \u7db2\u7d61\u5c0d\u7b49\u4e92\u9023\u4e0d\u5177\u6709\u50b3\u905e\u6027\uff0c\u56e0\u6b64 spoke VPC \u7db2\u7d61\u4e4b\u9593\u7121\u6cd5\u76f4\u63a5\u76f8\u4e92\u4ea4\u63db\u6578\u64da\u3002\u60a8\u5fc5\u9808\u5c07\u865b\u64ec\u8a2d\u5099\u914d\u7f6e\u7232\u6709\u9078\u64c7\u5730\u5141\u8a31 spoke \u4e4b\u9593\u7684\u6d41\u91cf\u3002\n\u5982\u9700\u8a73\u7d30\u77ad\u89e3\u5982\u4f55\u4f7f\u7528 NVA \u63a7\u5236 spoke \u4e4b\u9593\u7684\u6d41\u91cf\uff0c\u8acb\u53c3\u95b1 [Google Cloud \u4e0a\u7684\u96c6\u4e2d\u5f0f\u7db2\u7d61\u8a2d\u5099](https://cloud.google.com/architecture/architecture-centralized-network-appliances-on-google-cloud?hl=zh-cn#example_architecture_using_vpc_network_peering_and_internal_tcp_udp_load_balancer_as_next_hop) \u3002\n## \u9805\u76ee\u90e8\u7f72\u6a21\u5f0f\n\u7232\u5de5\u4f5c\u8ca0\u8f09\u5275\u5efa\u65b0\u9805\u76ee\u6642\uff0c\u60a8\u5fc5\u9808\u78ba\u5b9a\u6b64\u9805\u76ee\u4e2d\u7684\u8cc7\u6e90\u5982\u4f55\u9023\u63a5\u5230\u73fe\u6709\u7db2\u7d61\u3002\u4e0b\u8868\u4ecb\u7d39\u4e86\u85cd\u5716\u4e2d\u4f7f\u7528\u7684\u9805\u76ee\u90e8\u7f72\u6a21\u5f0f\u3002\n| \u6a21\u5f0f   | \u8aaa\u660e                                                                                                                            | \u7528\u6cd5\u793a\u4f8b         |\n|:-------------|:-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|:-----------------------------------------|\n| \u5171\u4eab\u57fa\u672c\u9805\u76ee | \u9019\u4e9b\u9805\u76ee\u4f5c\u7232\u670d\u52d9\u9805\u76ee\u914d\u7f6e\u5230\u57fa\u672c\u5171\u4eab VPC \u5bbf\u4e3b\u9805\u76ee\u3002 \u7576\u9805\u76ee\u4e2d\u7684\u8cc7\u6e90\u7b26\u5408\u4ee5\u4e0b\u689d\u4ef6\u6642\uff0c\u8acb\u4f7f\u7528\u6b64\u6a21\u5f0f\uff1a \u9700\u8981\u8207\u672c\u5730\u74b0\u5883\u6216\u540c\u4e00\u5171\u4eab VPC \u62d3\u64b2\u4e2d\u7684\u8cc7\u6e90\u5efa\u7acb\u7db2\u7d61\u9023\u63a5\u3002 \u9700\u8981\u4e00\u500b\u7db2\u7d61\u8def\u5f91\u9023\u63a5\u5c08\u7528\u865b\u64ec IP \u5730\u5740\u4e2d\u5305\u542b\u7684 Google \u670d\u52d9\u3002 \u4e0d\u9700\u8981 VPC Service Controls\u3002                                                                 | example_base_shared_vpc_project.tf  |\n| \u5171\u4eab\u53d7\u9650\u9805\u76ee | \u9019\u4e9b\u9805\u76ee\u4f5c\u7232\u670d\u52d9\u9805\u76ee\u914d\u7f6e\u5230\u53d7\u9650\u5171\u4eab VPC \u5bbf\u4e3b\u9805\u76ee\u3002 \u7576\u9805\u76ee\u4e2d\u7684\u8cc7\u6e90\u7b26\u5408\u4ee5\u4e0b\u689d\u4ef6\u6642\uff0c\u8acb\u4f7f\u7528\u6b64\u6a21\u5f0f\uff1a \u9700\u8981\u8207\u672c\u5730\u74b0\u5883\u6216\u540c\u4e00\u5171\u4eab VPC \u62d3\u64b2\u4e2d\u7684\u8cc7\u6e90\u5efa\u7acb\u7db2\u7d61\u9023\u63a5\u3002 \u9700\u8981\u4e00\u500b\u7db2\u7d61\u8def\u5f91\u9023\u63a5\u53d7\u9650\u865b\u64ec IP \u5730\u5740\u4e2d\u5305\u542b\u7684 Google \u670d\u52d9\u3002 \u9700\u8981 VPC Service Controls\u3002                                                                 | example_restricted_shared_vpc_project.tf |\n| \u61f8\u6d6e\u9805\u76ee  | \u61f8\u6d6e\u9805\u76ee\u672a\u9023\u63a5\u5230\u62d3\u64b2\u4e2d\u7684\u5176\u4ed6 VPC \u7db2\u7d61\u3002 \u7576\u9805\u76ee\u4e2d\u7684\u8cc7\u6e90\u7b26\u5408\u4ee5\u4e0b\u689d\u4ef6\u6642\uff0c\u8acb\u4f7f\u7528\u6b64\u6a21\u5f0f\uff1a \u4e0d\u9700\u8981\u8207\u672c\u5730\u74b0\u5883\u6216\u5171\u4eab VPC \u62d3\u64b2\u4e2d\u7684\u8cc7\u6e90\u5efa\u7acb\u5168\u7db2\u72c0\u9023\u63a5\u3002 \u4e0d\u9700\u8981 VPC \u7db2\u7d61\uff0c\u6216\u8005\u60a8\u5e0c\u671b\u4e0d\u8003\u616e\u4e3b VPC \u7db2\u7d61\u62d3\u64b2\u4f86\u7ba1\u7406\u6b64\u9805\u76ee\u7684 VPC \u7db2\u7d61\u6642\uff08\u4f8b\u5982\uff0c\u7576\u60a8\u60f3\u8981\u4f7f\u7528\u8207\u5df2\u7528\u7bc4\u570d\u885d\u7a81\u7684 IP \u5730\u5740\u7bc4\u570d\u6642\uff09\u3002 \u60a8\u53ef\u80fd\u9047\u5230\u9019\u6a23\u7684\u60c5\u6cc1\uff1a\u60a8\u5e0c\u671b\u5c07\u61f8\u6d6e\u9805\u76ee\u7684 VPC \u7db2\u7d61\u8207\u4e3b VPC \u7db2\u7d61\u62d3\u64b2\u5206\u958b\uff0c\u4f46\u9084\u5e0c\u671b\u5728\u7db2\u7d61\u4e4b\u9593\u516c\u958b\u6709\u9650\u6578\u91cf\u7684\u7aef\u9ede\u3002 \u5728\u9019\u7a2e\u60c5\u6cc1\u4e0b\uff0c\u8acb\u4f7f\u7528 Private Service Connect \u767c\u4f48\u670d\u52d9\uff0c\u4ee5\u8de8 VPC \u7db2\u7d61\u5171\u4eab\u5c0d\u55ae\u500b\u7aef\u9ede\u7684\u7db2\u7d61\u8a2a\u554f\u6b0a\u9650\uff0c\u4f46\u4e0d\u516c\u958b\u6574\u500b\u7db2\u7d61\u3002 | example_floating_project.tf    |\n| \u5c0d\u7b49\u4e92\u9023\u9805\u76ee | \u5c0d\u7b49\u4e92\u9023\u9805\u76ee\u6703\u5275\u5efa\u81ea\u5df1\u7684 VPC \u7db2\u7d61\uff0c\u4e26\u8207\u62d3\u64b2\u4e2d\u7684\u5176\u4ed6 VPC \u7db2\u7d61\u5efa\u7acb\u5c0d\u7b49\u4e92\u9023\u3002 \u7576\u9805\u76ee\u4e2d\u7684\u8cc7\u6e90\u7b26\u5408\u4ee5\u4e0b\u689d\u4ef6\u6642\uff0c\u8acb\u4f7f\u7528\u6b64\u6a21\u5f0f\uff1a \u9700\u8981\u5728\u76f4\u63a5\u5c0d\u7b49\u4e92\u9023\u7684 VPC \u7db2\u7d61\u4e2d\u5efa\u7acb\u7db2\u7d61\u9023\u63a5\uff0c\u4f46\u4e0d\u9700\u8981\u8207\u672c\u5730\u74b0\u5883\u6216\u5176\u4ed6 VPC \u7db2\u7d61\u5efa\u7acb\u50b3\u905e\u6027\u9023\u63a5\u3002 \u7ba1\u7406\u6b64\u9805\u76ee\u7684 VPC \u7db2\u7d61\uff0c\u800c\u4e0d\u8003\u616e\u4e3b\u7db2\u7d61\u62d3\u64b2\u3002 \u5982\u679c\u60a8\u5275\u5efa\u4e86\u5c0d\u7b49\u4e92\u9023\u9805\u76ee\uff0c\u5247\u6709\u8cac\u4efb\u5206\u914d\u975e\u885d\u7a81\u7684 IP \u5730\u5740\u7bc4\u570d\u4e26\u898f\u5283\u5c0d\u7b49\u4e92\u9023\u7d44\u914d\u984d\u3002                                        | example_peering_project.tf    |\n## IP \u5730\u5740\u5206\u914d\n\u672c\u90e8\u5206\u4ecb\u7d39\u85cd\u5716\u67b6\u69cb\u5982\u4f55\u5206\u914d IP \u5730\u5740\u7bc4\u570d\u3002\u60a8\u53ef\u80fd\u9700\u8981\u6839\u64da\u73fe\u6709\u6df7\u5408\u74b0\u5883\u4e2d\u7684 IP \u5730\u5740\u53ef\u7528\u6027\u66f4\u6539\u6240\u4f7f\u7528\u7684\u7279\u5b9a IP \u5730\u5740\u7bc4\u570d\u3002\n\u4e0b\u8868\u63d0\u4f9b\u4e86\u7232\u85cd\u5716\u5206\u914d\u7684 IP \u5730\u5740\u7a7a\u9593\u7684\u660e\u7d30\u3002\u4e2d\u5fc3\u74b0\u5883\u50c5\u9069\u7528\u65bc\u4e2d\u5fc3\u8f3b\u5c04\u578b\u62d3\u64b2\u3002\n| \u7528\u9014       | VPC \u985e\u578b | \u5340\u57df | \u4e2d\u5fc3\u74b0\u5883   | \u958b\u767c\u74b0\u5883   | \u975e\u751f\u7522\u74b0\u5883   | \u751f\u7522\u74b0\u5883    |\n|:-----------------------------|:-----------|:-------|:-------------------|:--------------------|:---------------------|:---------------------|\n| \u4e3b\u8981\u5b50\u7db2\u7bc4\u570d     | \u57fa\u672c  | \u5340\u57df 1 | 10.0.0.0/18  | 10.0.64.0/18  | 10.0.128.0/18  | 10.0.192.0/18  |\n| \u4e3b\u8981\u5b50\u7db2\u7bc4\u570d     | \u57fa\u672c  | \u5340\u57df 2 | 10.1.0.0/18  | 10.1.64.0/18  | 10.1.128.0/18  | 10.1.192.0/18  |\n| \u4e3b\u8981\u5b50\u7db2\u7bc4\u570d     | \u57fa\u672c  | \u672a\u5206\u914d | 10.{2-7}.0.0/18 | 10.{2-7}.64.0/18 | 10.{2-7}.128.0/18 | 10.{2-7}.192.0/18 |\n| \u4e3b\u8981\u5b50\u7db2\u7bc4\u570d     | \u53d7\u9650  | \u5340\u57df 1 | 10.8.0.0/18  | 10.8.64.0/18  | 10.8.128.0/18  | 10.8.192.0/18  |\n| \u4e3b\u8981\u5b50\u7db2\u7bc4\u570d     | \u53d7\u9650  | \u5340\u57df 2 | 10.9.0.0/18  | 10.9.64.0/18  | 10.9.128.0/18  | 10.9.192.0/18  |\n| \u4e3b\u8981\u5b50\u7db2\u7bc4\u570d     | \u53d7\u9650  | \u672a\u5206\u914d | 10.{10-15}.0.0/18 | 10.{10-15}.64.0/18 | 10.{10-15}.128.0/18 | 10.{10-15}.192.0/18 |\n| \u5c08\u7528\u670d\u52d9\u8a2a\u554f\u901a\u9053    | \u57fa\u672c  | \u5168\u7403 | 10.16.0.0/21  | 10.16.8.0/21  | 10.16.16.0/21  | 10.16.24.0/21  |\n| \u5c08\u7528\u670d\u52d9\u8a2a\u554f\u901a\u9053    | \u53d7\u9650  | \u5168\u7403 | 10.16.32.0/21  | 10.16.40.0/21  | 10.16.48.0/21  | 10.16.56.0/21  |\n| Private Service Connect \u7aef\u9ede | \u57fa\u672c  | \u5168\u7403 | 10.17.0.1/32  | 10.17.0.2/32  | 10.17.0.3/32   | 10.17.0.4/32   |\n| Private Service Connect \u7aef\u9ede | \u53d7\u9650  | \u5168\u7403 | 10.17.0.5/32  | 10.17.0.6/32  | 10.17.0.7/32   | 10.17.0.8/32   |\n| \u4ee3\u7406\u5c08\u7528\u5b50\u7db2     | \u57fa\u672c  | \u5340\u57df 1 | 10.18.0.0/23  | 10.18.2.0/23  | 10.18.4.0/23   | 10.18.6.0/23   |\n| \u4ee3\u7406\u5c08\u7528\u5b50\u7db2     | \u57fa\u672c  | \u5340\u57df 2 | 10.19.0.0/23  | 10.19.2.0/23  | 10.19.4.0/23   | 10.19.6.0/23   |\n| \u4ee3\u7406\u5c08\u7528\u5b50\u7db2     | \u57fa\u672c  | \u672a\u5206\u914d | 10.{20-25}.0.0/23 | 10.{20-25}.2.0/23 | 10.{20-25}.4.0/23 | 10.{20-25}.6.0/23 |\n| \u4ee3\u7406\u5c08\u7528\u5b50\u7db2     | \u53d7\u9650  | \u5340\u57df 1 | 10.26.0.0/23  | 10.26.2.0/23  | 10.26.4.0/23   | 10.26.6.0/23   |\n| \u4ee3\u7406\u5c08\u7528\u5b50\u7db2     | \u53d7\u9650  | \u5340\u57df 2 | 10.27.0.0/23  | 10.27.2.0/23  | 10.27.4.0/23   | 10.27.6.0/23   |\n| \u4ee3\u7406\u5c08\u7528\u5b50\u7db2     | \u53d7\u9650  | \u672a\u5206\u914d | 10.{28-33}.0.0/23 | 10.{28-33}.2.0/23 | 10.{28-33}.4.0/23 | 10.{28-33}.6.0/23 |\n| \u6b21\u8981\u5b50\u7db2\u7bc4\u570d     | \u57fa\u672c  | \u5340\u57df 1 | 100.64.0.0/18  | 100.64.64.0/18  | 100.64.128.0/18  | 100.64.192.0/18  |\n| \u6b21\u8981\u5b50\u7db2\u7bc4\u570d     | \u57fa\u672c  | \u5340\u57df 2 | 100.65.0.0/18  | 100.65.64.0/18  | 100.65.128.0/18  | 100.65.192.0/18  |\n| \u6b21\u8981\u5b50\u7db2\u7bc4\u570d     | \u57fa\u672c  | \u672a\u5206\u914d | 100.{66-71}.0.0/18 | 100.{66-71}.64.0/18 | 100.{66-71}.128.0/18 | 100.{66-71}.192.0/18 |\n| \u6b21\u8981\u5b50\u7db2\u7bc4\u570d     | \u53d7\u9650  | \u5340\u57df 1 | 100.72.0.0/18  | 100.72.64.0/18  | 100.72.128.0/18  | 100.72.192.0/18  |\n| \u6b21\u8981\u5b50\u7db2\u7bc4\u570d     | \u53d7\u9650  | \u5340\u57df 2 | 100.73.0.0/18  | 100.73.64.0/18  | 100.73.128.0/18  | 100.73.192.0/18  |\n| \u6b21\u8981\u5b50\u7db2\u7bc4\u570d     | \u53d7\u9650  | \u672a\u5206\u914d | 100.{74-79}.0.0/18 | 100.{74-79}.64.0/18 | 100.{74-79}.128.0/18 | 100.{74-79}.192.0/18 |\n\u4e0b\u8868\u5c55\u793a\u4e86\u4ee5\u4e0b\u5206\u914d IP \u5730\u5740\u7bc4\u570d\u7684\u6982\u5ff5\uff1a\n- IP \u5730\u5740\u5206\u914d\u53ef\u7d30\u5206\u7232\u57fa\u672c\u5171\u4eab VPC\u3001\u53d7\u9650\u5171\u4eab VPC\u3001\u5340\u57df\u548c\u74b0\u5883\u7684\u6bcf\u500b\u7d44\u5408\u7684\u7bc4\u570d\u3002\n- \u67d0\u4e9b\u8cc7\u6e90\u662f\u5168\u7403\u6027\u7684\uff0c\u4e0d\u9700\u8981\u5c0d\u6bcf\u500b\u5340\u57df\u9032\u884c\u7d30\u5206\u3002\n- \u9ed8\u8a8d\u60c5\u6cc1\u4e0b\uff0c\u5c0d\u65bc\u5340\u57df\u7d1a\u8cc7\u6e90\uff0c\u85cd\u5716\u5c07\u90e8\u7f72\u5728\u5169\u500b\u5340\u57df\u4e2d\u3002\u6b64\u5916\uff0c\u9084\u6709\u672a\u4f7f\u7528\u7684 IP \u5730\u5740\u7bc4\u570d\uff0c\u56e0\u6b64\u60a8\u53ef\u4ee5\u518d\u64f4\u5c55\u516d\u500b\u5340\u57df\u3002\n- hub \u7db2\u7d61\u50c5\u7528\u65bc\u4e2d\u5fc3\u8f3b\u5c04\u578b\u7db2\u7d61\u62d3\u64b2\uff0c\u800c\u958b\u767c\u3001\u975e\u751f\u7522\u548c\u751f\u7522\u74b0\u5883\u53ef\u7528\u65bc\u9019\u5169\u7a2e\u7db2\u7d61\u62d3\u64b2\u3002\n\u4e0b\u8868\u4ecb\u7d39\u4e86\u6bcf\u7a2e IP \u5730\u5740\u7bc4\u570d\u7684\u4f7f\u7528\u65b9\u5f0f\u3002\n| ('\u7528\u9014', '\u7528\u9014')  | ('\u8aaa\u660e', '\u8aaa\u660e')                                                               |\n|:------------------------|:-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| nan      | nan                                                                  |\n| \u4e3b\u8981\u5b50\u7db2\u7bc4\u570d   | \u60a8\u90e8\u7f72\u5230 VPC \u7db2\u7d61\u7684\u8cc7\u6e90\uff08\u4f8b\u5982\u865b\u64ec\u6a5f\u5be6\u4f8b\uff09\u6703\u4f7f\u7528\u9019\u4e9b\u7bc4\u570d\u5167\u7684\u5167\u90e8 IP \u5730\u5740\u3002                                                |\n| \u4e3b\u8981\u5b50\u7db2\u7bc4\u570d   | \u60a8\u90e8\u7f72\u5230 VPC \u7db2\u7d61\u7684\u8cc7\u6e90\uff08\u4f8b\u5982\u865b\u64ec\u6a5f\u5be6\u4f8b\uff09\u6703\u4f7f\u7528\u9019\u4e9b\u7bc4\u570d\u5167\u7684\u5167\u90e8 IP \u5730\u5740\u3002                                                |\n| \u4e3b\u8981\u5b50\u7db2\u7bc4\u570d   | \u60a8\u90e8\u7f72\u5230 VPC \u7db2\u7d61\u7684\u8cc7\u6e90\uff08\u4f8b\u5982\u865b\u64ec\u6a5f\u5be6\u4f8b\uff09\u6703\u4f7f\u7528\u9019\u4e9b\u7bc4\u570d\u5167\u7684\u5167\u90e8 IP \u5730\u5740\u3002                                                |\n| \u5c08\u7528\u670d\u52d9\u8a2a\u554f\u901a\u9053  | \u67d0\u4e9b Google Cloud \u670d\u52d9\uff08\u4f8b\u5982 Cloud SQL\uff09\u8981\u6c42\u60a8\u7232\u5c08\u7528\u670d\u52d9\u8a2a\u554f\u901a\u9053\u9810\u5148\u5206\u914d\u5b50\u7db2\u7bc4\u570d\u3002\u6b64\u85cd\u5716\u5728\u5168\u7403\u7bc4\u570d\u5167\u7232\u6bcf\u500b\u5171\u4eab VPC \u7db2\u7d61\u9810\u7559\u4e00\u500b /21 \u7bc4\u570d\uff0c\u4ee5\u4fbf\u7232\u9700\u8981\u5c08\u7528\u670d\u52d9\u8a2a\u554f\u901a\u9053\u7684\u670d\u52d9\u5206\u914d IP \u5730\u5740\u3002\u5275\u5efa\u4f9d\u8cf4\u65bc\u5c08\u7528\u670d\u52d9\u8a2a\u554f\u901a\u9053\u7684\u670d\u52d9\u6642\uff0c\u60a8\u53ef\u4ee5\u5f9e\u9810\u7559\u7684 /21 \u7bc4\u570d\u5206\u914d\u5340\u57df\u7d1a /24 \u5b50\u7db2\u3002 |\n| Private Service Connect | \u6b64\u85cd\u5716\u7232\u6bcf\u500b VPC \u7db2\u7d61\u9810\u914d\u4e86\u4e00\u500b Private Service Connect \u7aef\u9ede\uff0c\u4ee5\u4fbf\u8207 Google Cloud API \u901a\u4fe1\u3002\u6b64\u7aef\u9ede\u5141\u8a31 VPC \u7db2\u7d61\u4e2d\u7684\u8cc7\u6e90\u8a2a\u554f Google Cloud API\uff0c\u800c\u7121\u9700\u4f9d\u8cf4\u6d41\u5411\u4e92\u806f\u7db2\u6216\u516c\u958b\u901a\u544a\u7684\u4e92\u806f\u7db2\u7bc4\u570d\u7684\u51fa\u7ad9\u6d41\u91cf\u3002                  |\n| \u57fa\u65bc\u4ee3\u7406\u7684\u8ca0\u8f09\u5747\u8861\u5668 | \u67d0\u4e9b\u985e\u578b\u7684\u61c9\u7528\u8ca0\u8f09\u5747\u8861\u5668\u8981\u6c42\u60a8\u9810\u5148\u5206\u914d\u4ee3\u7406\u5c08\u7528\u5b50\u7db2\u3002\u96d6\u7136\u85cd\u5716\u4e0d\u6703\u90e8\u7f72\u9700\u8981\u6b64\u7bc4\u570d\u7684\u61c9\u7528\u8ca0\u8f09\u5747\u8861\u5668\uff0c\u4f46\u63d0\u524d\u5206\u914d\u7bc4\u570d\u6709\u52a9\u65bc\u5728\u5de5\u4f5c\u8ca0\u8f09\u9700\u8981\u8acb\u6c42\u65b0\u5b50\u7db2\u7bc4\u570d\u4ee5\u5553\u7528\u7279\u5b9a\u8ca0\u8f09\u5747\u8861\u5668\u8cc7\u6e90\u6642\u6e1b\u5c11\u885d\u7a81\u3002                      |\n| \u6b21\u8981\u5b50\u7db2\u7bc4\u570d   | \u67d0\u4e9b\u7528\u4f8b\uff08\u4f8b\u5982\u57fa\u65bc\u5bb9\u5668\u7684\u5de5\u4f5c\u8ca0\u8f09\uff09\u9700\u8981\u6b21\u8981\u7bc4\u570d\u3002\u6b64\u85cd\u5716\u6703\u7232\u6b21\u8981\u7bc4\u570d\u5206\u914d RFC 6598 IP \u5730\u5740\u7a7a\u9593\u4e2d\u7684\u7bc4\u570d\u3002                                         |\n## \u96c6\u4e2d\u5f0f DNS \u8a2d\u7f6e\n\u5c0d\u65bc Google Cloud \u548c\u672c\u5730\u74b0\u5883\u4e4b\u9593\u7684 DNS \u89e3\u6790\uff0c\u6211\u5011\u5efa\u8b70\u60a8\u5728\u5169\u500b\u6b0a\u5a01 DNS \u7cfb\u7d71\u4e2d\u4f7f\u7528\u6df7\u5408\u65b9\u6cd5\u3002\u5728\u6b64\u65b9\u6cd5\u4e2d\uff0cCloud DNS \u6703\u8655\u7406 Google Cloud \u74b0\u5883\u7684\u6b0a\u5a01 DNS \u89e3\u6790\uff0c\u800c\u60a8\u73fe\u6709\u7684\u672c\u5730 DNS \u670d\u52d9\u5668\u6703\u8655\u7406\u672c\u5730\u8cc7\u6e90\u7684\u6b0a\u5a01 DNS \u89e3\u6790\u3002\u60a8\u7684\u672c\u5730\u74b0\u5883\u548c Google Cloud \u74b0\u5883\u901a\u904e\u8f49\u767c\u8acb\u6c42\u5728\u74b0\u5883\u4e4b\u9593\u57f7\u884c DNS \u67e5\u627e\u3002\n\u4e0b\u5716\u5c55\u793a\u4e86\u85cd\u5716\u4e2d\u4f7f\u7528\u7684\u591a\u500b VPC \u7db2\u7d61\u4e2d\u7684 DNS \u62d3\u64b2\u3002\n\u8a72\u5716\u63cf\u8ff0\u4e86\u85cd\u5716\u90e8\u7f72\u7684 DNS \u8a2d\u8a08\u7684\u4ee5\u4e0b\u7d44\u4ef6\uff1a\n- \u901a\u7528\u6587\u4ef6\u593e\u4e2d\u7684 DNS hub \u9805\u76ee\u662f\u672c\u5730\u74b0\u5883\u548c Google Cloud \u74b0\u5883\u4e4b\u9593\u7684 DNS \u4ea4\u63db\u4e2d\u5fc3\u3002DNS \u8f49\u767c\u4f7f\u7528\u5df2\u5728\u60a8\u7684\u7db2\u7d61\u62d3\u64b2\u4e2d\u914d\u7f6e\u7684\u5c08\u7528\u4e92\u9023\u5be6\u4f8b\u548c Cloud Router \u8def\u7531\u5668\u3002- \u5728\u96d9\u5171\u4eab VPC \u62d3\u64b2\u4e2d\uff0cDNS \u4e2d\u5fc3\u4f7f\u7528\u57fa\u672c\u751f\u7522\u5171\u4eab VPC \u7db2\u7d61\u3002\n- \u5728\u4e2d\u5fc3\u8f3b\u5c04\u578b\u62d3\u64b2\u4e2d\uff0cDNS \u4e2d\u5fc3\u4f7f\u7528\u57fa\u672c\u4e2d\u5fc3\u5171\u4eab VPC \u7db2\u7d61\u3002\n- \u6bcf\u500b\u5171\u4eab VPC \u7db2\u7d61\u4e2d\u7684\u670d\u52d9\u5668\u90fd\u53ef\u4ee5\u901a\u904e\u6bcf\u500b\u5171\u4eab VPC \u5bbf\u4e3b\u9805\u76ee\u4e2d\u7684 Cloud DNS \u548c DNS \u4e2d\u5fc3\u4e4b\u9593\u914d\u7f6e\u7684 [DNS \u8f49\u767c](https://cloud.google.com/dns/docs/overview?hl=zh-cn#dns-forwarding-methods) \u89e3\u6790\u5176\u4ed6\u5171\u4eab VPC \u7db2\u7d61\u4e2d\u7684 DNS \u8a18\u9304\u3002\n- \u672c\u5730\u670d\u52d9\u5668\u53ef\u4ee5\u4f7f\u7528\u5141\u8a31\u4f86\u81ea\u672c\u5730\u670d\u52d9\u5668\u7684\u67e5\u8a62\u7684 [DNS \u670d\u52d9\u5668\u653f\u7b56](https://cloud.google.com/dns/docs/best-practices?hl=zh-cn#use_dns_server_policies_to_allow_queries_from_on-premises) \u4f86\u89e3\u6790 Google Cloud \u74b0\u5883\u4e2d\u7684 DNS \u8a18\u9304\u3002\u6b64\u85cd\u5716\u5728 DNS \u4e2d\u5fc3\u914d\u7f6e\u5165\u7ad9\u670d\u52d9\u5668\u653f\u7b56\uff0c\u4ee5\u5206\u914d IP \u5730\u5740\uff0c\u800c\u672c\u5730 DNS \u670d\u52d9\u5668\u6703\u5c07\u8acb\u6c42\u8f49\u767c\u5230\u9019\u4e9b\u5730\u5740\u3002\u767c\u9001\u5230 Google Cloud \u7684\u6240\u6709 DNS \u8acb\u6c42\u90fd\u6703\u5148\u5230\u9054 DNS \u4e2d\u5fc3\uff0c\u7136\u5f8c\u8a72\u4e2d\u5fc3\u518d\u89e3\u6790\u4f86\u81ea DNS \u5c0d\u7b49\u9ad4\u7684\u8a18\u9304\u3002\n- Google Cloud \u4e2d\u7684\u670d\u52d9\u5668\u53ef\u4ee5\u4f7f\u7528\u67e5\u8a62\u672c\u5730\u670d\u52d9\u5668\u7684 [\u8f49\u767c\u5340\u57df](https://cloud.google.com/dns/docs/best-practices?hl=zh-cn#use_forwarding_zones_to_query_on-premises_servers) \u4f86\u89e3\u6790\u672c\u5730\u74b0\u5883\u4e2d\u7684 DNS \u8a18\u9304\u3002\u767c\u9001\u5230\u672c\u5730\u74b0\u5883\u7684\u6240\u6709 DNS \u8acb\u6c42\u90fd\u4f86\u81ea DNS \u4e2d\u5fc3\u3002DNS \u8acb\u6c42\u4f86\u6e90\u7232 35.199.192.0/19\u3002\n### \u9632\u706b\u7246\u653f\u7b56\nGoogle Cloud \u5177\u6709\u591a\u7a2e [\u9632\u706b\u7246\u653f\u7b56](https://cloud.google.com/firewall/docs/firewall-policies-overview?hl=zh-cn) \u985e\u578b\u3002\u5206\u5c64\u9632\u706b\u7246\u653f\u7b56\u5728\u7d44\u7e54\u6216\u6587\u4ef6\u593e\u7d1a\u5c64\u5f37\u5236\u57f7\u884c\uff0c\u5f9e\u800c\u5728\u5c64\u6b21\u7d50\u69cb\u7684\u6240\u6709\u8cc7\u6e90\u4e2d\u4e00\u81f4\u7e7c\u627f\u9632\u706b\u7246\u653f\u7b56\u898f\u5247\u3002\u6b64\u5916\uff0c\u60a8\u9084\u53ef\u4ee5\u7232\u6bcf\u500b VPC \u7db2\u7d61\u914d\u7f6e\u7db2\u7d61\u9632\u706b\u7246\u653f\u7b56\u3002\u6b64\u85cd\u5716\u517c\u5099\u9019\u4e9b\u9632\u706b\u7246\u653f\u7b56\uff0c\u53ef\u4f7f\u7528\u5206\u5c64\u9632\u706b\u7246\u653f\u7b56\u5728\u6240\u6709\u74b0\u5883\u4e2d\u5f37\u5236\u57f7\u884c\u901a\u7528\u914d\u7f6e\uff0c\u4f7f\u7528\u7db2\u7d61\u9632\u706b\u7246\u653f\u7b56\u5728\u6bcf\u500b VPC \u7db2\u7d61\u4e0a\u5f37\u5236\u57f7\u884c\u66f4\u5177\u9ad4\u7684\u914d\u7f6e\u3002\n\u6b64\u85cd\u5716\u4e0d\u4f7f\u7528 [\u820a\u7248 VPC \u9632\u706b\u7246\u898f\u5247](https://cloud.google.com/firewall/docs/firewalls?hl=zh-cn) \u3002\u6211\u5011\u5efa\u8b70\u50c5\u4f7f\u7528\u9632\u706b\u7246\u653f\u7b56\uff0c\u5f9e\u800c\u907f\u514d\u8207\u820a\u7248 VPC \u9632\u706b\u7246\u898f\u5247\u6df7\u7528\u3002\n### \u5206\u5c64\u9632\u706b\u7246\u653f\u7b56\n\u6b64\u85cd\u5716\u5b9a\u7fa9\u4e86\u4e00\u500b [\u5206\u5c64\u9632\u706b\u7246\u653f\u7b56](https://cloud.google.com/firewall/docs/firewall-policies?hl=zh-cn) \uff0c\u4e26\u5c07\u8a72\u653f\u7b56\u9644\u52a0\u5230\u6bcf\u500b\u751f\u7522\u3001\u975e\u751f\u7522\u3001\u958b\u767c\u3001\u5f15\u5c0e\u548c\u901a\u7528\u6587\u4ef6\u593e\u3002\u6b64\u5206\u5c64\u9632\u706b\u7246\u653f\u7b56\u5305\u542b\u61c9\u5728\u6240\u6709\u74b0\u5883\u4e2d\u5ee3\u6cdb\u5f37\u5236\u57f7\u884c\u7684\u898f\u5247\uff0c\u4e26\u5c07\u66f4\u7cbe\u7d30\u898f\u5247\u7684\u8a55\u4f30\u59d4\u8a17\u7d66\u6bcf\u500b\u74b0\u5883\u7684\u7db2\u7d61\u9632\u706b\u7246\u653f\u7b56\u3002\n\u4e0b\u8868\u4ecb\u7d39\u4e86\u6b64\u85cd\u5716\u90e8\u7f72\u7684\u5206\u5c64\u9632\u706b\u7246\u653f\u7b56\u898f\u5247\u3002\n| \u898f\u5247\u8aaa\u660e             | \u6d41\u91cf\u65b9\u5411 | \u904e\u6ffe\u689d\u4ef6\uff08IPv4 \u7bc4\u570d\uff09           | \u5354\u8b70\u548c\u7aef\u53e3 | \u64cd\u4f5c  |\n|:-----------------------------------------------------------|:-----------|:----------------------------------------------------------------|:-------------|:-----------|\n| \u5c07\u4f86\u81ea RFC 1918 \u7684\u5165\u7ad9\u6d41\u91cf\u8a55\u4f30\u59d4\u8a17\u7d66\u5c64\u6b21\u7d50\u69cb\u4e2d\u7684\u8f03\u4f4e\u7d1a\u5c64\u3002 | Ingress | 192.168.0.0/16\u300110.0.0.0/8\u3001172.16.0.0/12      | all   | Go to next |\n| \u5c07\u6d41\u5411 RFC 1918 \u7684\u51fa\u7ad9\u6d41\u91cf\u8a55\u4f30\u59d4\u8a17\u7d66\u5c64\u6b21\u7d50\u69cb\u4e2d\u7684\u8f03\u4f4e\u7d1a\u5c64\u3002 | Egress  | 192.168.0.0/16\u300110.0.0.0/8\u3001172.16.0.0/12      | all   | Go to next |\n| \u4f7f\u7528 IAP \u9032\u884c TCP \u8f49\u767c          | Ingress | 35.235.240.0/20             | tcp:22,3390 | Allow  |\n| Windows \u670d\u52d9\u5668\u6fc0\u6d3b           | Egress  | 35.190.247.13/32            | tcp:1688  | Allow  |\n| Cloud Load Balancing \u5065\u5eb7\u6aa2\u67e5        | Ingress | 130.211.0.0/22\u300135.191.0.0/16\u3001209.85.152.0/22\u3001209.85.204.0/22 | tcp:80,443 | Allow  |\n### \u7db2\u7d61\u9632\u706b\u7246\u653f\u7b56\n\u6b64\u85cd\u5716\u7232\u6bcf\u500b\u7db2\u7d61\u914d\u7f6e\u4e00\u500b [\u7db2\u7d61\u9632\u706b\u7246\u653f\u7b56](https://cloud.google.com/vpc/docs/network-firewall-policies?hl=zh-cn) \u3002\u6bcf\u9805\u7db2\u7d61\u9632\u706b\u7246\u653f\u7b56\u958b\u59cb\u6642\u90fd\u662f\u4e00\u7d44\u6700\u4f4e\u6b0a\u9650\u898f\u5247\uff0c\u9019\u4e9b\u898f\u5247\u5141\u8a31\u8a2a\u554f Google Cloud \u670d\u52d9\u4e26\u62d2\u7d55\u6d41\u5411\u6240\u6709\u5176\u4ed6 IP \u5730\u5740\u7684\u51fa\u7ad9\u6d41\u91cf\u3002\n\u5728\u4e2d\u5fc3\u8f3b\u5c04\u578b\u6a21\u578b\u4e2d\uff0c\u7db2\u7d61\u9632\u706b\u7246\u653f\u7b56\u5305\u542b\u5141\u8a31 spoke \u4e4b\u9593\u901a\u4fe1\u7684\u984d\u5916\u898f\u5247\u3002\u7db2\u7d61\u9632\u706b\u7246\u653f\u7b56\u5141\u8a31\u5f9e\u4e00\u500b spoke \u5230 hub \u6216\u5176\u4ed6 spoke \u7684\u51fa\u7ad9\u6d41\u91cf\uff0c\u4e26\u5141\u8a31\u4f86\u81ea hub \u7db2\u7d61\u4e2d\u7684 NVA \u7684\u5165\u7ad9\u6d41\u91cf\u3002\n\u4e0b\u8868\u4ecb\u7d39\u4e86\u85cd\u5716\u4e2d\u7232\u6bcf\u500b VPC \u7db2\u7d61\u90e8\u7f72\u7684\u5168\u7403\u7db2\u7d61\u9632\u706b\u7246\u653f\u7b56\u4e2d\u7684\u898f\u5247\u3002\n| \u898f\u5247\u8aaa\u660e                 | \u6d41\u91cf\u65b9\u5411 | \u904e\u6ffe\u689d\u4ef6                      | \u5354\u8b70\u548c\u7aef\u53e3 |\n|:--------------------------------------------------------------------------|:-----------|:---------------------------------------------------------------------------------------------|:-------------|\n| \u5141\u8a31\u6d41\u5411 Google Cloud API \u7684\u51fa\u7ad9\u6d41\u91cf\u3002         | Egress  | \u7232\u6bcf\u500b\u7db2\u7d61\u914d\u7f6e\u7684 Private Service Connect \u7aef\u9ede\u3002\u8acb\u53c3\u95b1 Google API \u5c08\u7528\u8a2a\u554f\u901a\u9053\u3002    | tcp:443  |\n| \u62d2\u7d55\u5176\u4ed6\u898f\u5247\u4e0d\u5339\u914d\u7684\u51fa\u7ad9\u6d41\u91cf\u3002           | Egress  | \u5168\u90e8                       | all   |\n| \u5141\u8a31\u5f9e\u4e00\u500b spoke \u6d41\u5411\u53e6\u4e00\u500b spoke \u7684\u51fa\u7ad9\u6d41\u91cf\uff08\u50c5\u9069\u7528\u65bc\u4e2d\u5fc3\u8f3b\u5c04\u578b\u6a21\u578b\uff09\u3002 | Egress  | \u4e2d\u5fc3\u8f3b\u5c04\u578b\u62d3\u64b2\u4e2d\u4f7f\u7528\u7684\u6240\u6709 IP \u5730\u5740\u7684\u805a\u5408\u3002\u96e2\u958b spoke VPC \u7684\u6d41\u91cf\u6703\u5148\u8def\u7531\u5230 hub \u7db2\u7d61\u4e2d\u7684 NVA\u3002 | all   |\n| \u5141\u8a31\u5f9e hub \u7db2\u7d61\u4e2d\u7684 NVA \u6d41\u5411 spoke \u7684\u5165\u7ad9\u6d41\u91cf\uff08\u50c5\u9069\u7528\u65bc\u4e2d\u5fc3\u8f3b\u5c04\u578b\u6a21\u578b\uff09\u3002 | Ingress | \u6e90\u81ea hub \u7db2\u7d61\u4e2d\u7684 NVA \u7684\u6d41\u91cf\u3002                | all   |\n\u9996\u6b21\u90e8\u7f72\u85cd\u5716\u6642\uff0cVPC \u7db2\u7d61\u4e2d\u7684\u865b\u64ec\u6a5f\u5be6\u4f8b\u53ef\u4ee5\u8207 Google Cloud \u670d\u52d9\u901a\u4fe1\uff0c\u4f46\u4e0d\u80fd\u8207\u540c\u4e00 VPC \u7db2\u7d61\u4e2d\u7684\u5176\u4ed6\u57fa\u790e\u8a2d\u65bd\u8cc7\u6e90\u901a\u4fe1\u3002\u5982\u9700\u5141\u8a31\u865b\u64ec\u6a5f\u5be6\u4f8b\u9032\u884c\u901a\u4fe1\uff0c\u60a8\u5fc5\u9808\u5411\u7db2\u7d61\u9632\u706b\u7246\u653f\u7b56\u6dfb\u52a0\u984d\u5916\u7684\u898f\u5247\u4e26\u6dfb\u52a0\u660e\u78ba\u5141\u8a31\u865b\u64ec\u6a5f\u5be6\u4f8b\u901a\u4fe1\u7684 [\u6a19\u8a18](https://cloud.google.com/resource-manager/docs/tags/tags-overview?hl=zh-cn) \u3002\u6a19\u8a18\u6703\u6dfb\u52a0\u5230\u865b\u64ec\u6a5f\u5be6\u4f8b\uff0c\u7cfb\u7d71\u6703\u91dd\u5c0d\u9019\u4e9b\u6a19\u8a18\u8a55\u4f30\u6d41\u91cf\u3002\u6b64\u5916\uff0c\u6a19\u8a18\u9084\u5177\u6709 IAM \u63a7\u4ef6\uff0c\u56e0\u6b64\u60a8\u53ef\u4ee5\u96c6\u4e2d\u5b9a\u7fa9\u5b83\u5011\u4e26\u5c07\u5176\u4f7f\u7528\u59d4\u8a17\u7d66\u5176\u4ed6\u5718\u968a\u3002\n**\u6ce8\u610f** \uff1a\u672c\u6587\u6a94\u4e2d\u5c0d\u6a19\u8a18\u7684\u6240\u6709\u5f15\u7528\u5747\u5f15\u7528 [\u5177\u6709 IAM \u63a7\u4ef6\u7684\u6a19\u8a18](https://cloud.google.com/resource-manager/docs/tags/tags-overview?hl=zh-cn) \u3002\u6211\u5011\u4e0d\u5efa\u8b70\u4f7f\u7528\u5177\u6709 [\u820a\u7248\u7db2\u7d61\u6a19\u8a18](https://cloud.google.com/vpc/docs/add-remove-network-tags?hl=zh-cn) \u7684 VPC \u9632\u706b\u7246\u898f\u5247\u3002\n\u4e0b\u5716\u8209\u4f8b\u8aaa\u660e\u4e86\u5982\u4f55\u6dfb\u52a0\u81ea\u5b9a\u7fa9\u6a19\u8a18\u548c\u7db2\u7d61\u9632\u706b\u7246\u653f\u7b56\u898f\u5247\uff0c\u4ee5\u5141\u8a31\u5de5\u4f5c\u8ca0\u8f09\u5728 VPC \u7db2\u7d61\u5167\u9032\u884c\u901a\u4fe1\u3002\n\u4e0b\u5716\u6f14\u793a\u4e86\u6b64\u793a\u4f8b\u7684\u4ee5\u4e0b\u6982\u5ff5\uff1a\n- \u7db2\u7d61\u9632\u706b\u7246\u653f\u7b56\u5305\u542b\u898f\u5247 1\uff0c\u8a72\u898f\u5247\u62d2\u7d55\u4f86\u81ea\u6240\u6709\u4f86\u6e90\u7684\u51fa\u7ad9\u6d41\u91cf\uff08\u512a\u5148\u7d1a\u7232 65530\uff09\u3002\n- \u7db2\u7d61\u9632\u706b\u7246\u653f\u7b56\u5305\u542b\u898f\u5247 2\uff0c\u8a72\u898f\u5247\u5141\u8a31\u5165\u7ad9\u6d41\u91cf\u5f9e\u5177\u6709`service=frontend`\u6a19\u8a18\u7684\u5be6\u4f8b\u9032\u5165\u5177\u6709`service=backend`\u6a19\u8a18\u7684\u5be6\u4f8b\uff0c\u512a\u5148\u7d1a\u7232 999\u3002\n- instance-2 \u865b\u64ec\u6a5f\u53ef\u4ee5\u63a5\u6536\u4f86\u81ea instance-1 \u7684\u6d41\u91cf\uff0c\u56e0\u7232\u8a72\u6d41\u91cf\u8207\u898f\u5247 2 \u5141\u8a31\u7684\u6a19\u8a18\u5339\u914d\u3002\u6839\u64da\u512a\u5148\u7d1a\u503c\u8a55\u4f30\u5728\u898f\u5247 1 \u524d\u5339\u914d\u7684\u898f\u5247 2\u3002\n- instance-3 \u865b\u64ec\u6a5f\u4e0d\u63a5\u6536\u6d41\u91cf\u3002\u552f\u4e00\u8207\u6b64\u6d41\u91cf\u5339\u914d\u7684\u9632\u706b\u7246\u653f\u7b56\u898f\u5247\u662f\u898f\u5247 1\uff0c\u56e0\u6b64\u4f86\u81ea instance-1 \u7684\u51fa\u7ad9\u6d41\u91cf\u6703\u88ab\u62d2\u7d55\u3002## Google Cloud API \u7684\u5c08\u7528\u8a2a\u554f\u901a\u9053\n\u5982\u9700\u8b93 VPC \u7db2\u7d61\u6216\u672c\u5730\u74b0\u5883\u4e2d\u7684\u8cc7\u6e90\u8a2a\u554f Google Cloud \u670d\u52d9\uff0c\u6211\u5011\u5efa\u8b70\u4f7f\u7528\u5c08\u7528\u9023\u63a5\uff0c\u800c\u4e0d\u662f\u5230\u516c\u5171 API \u7aef\u9ede\u7684\u51fa\u7ad9\u4e92\u806f\u7db2\u6d41\u91cf\u3002\u6b64\u85cd\u5716\u5728\u6bcf\u500b\u5b50\u7db2\u4e0a\u914d\u7f6e [\u5c08\u7528 Google \u8a2a\u554f\u901a\u9053](https://cloud.google.com/vpc/docs/private-google-access?hl=zh-cn) \uff0c\u4e26\u4f7f\u7528 [Private Service Connect](https://cloud.google.com/vpc/docs/about-accessing-google-apis-endpoints?hl=zh-cn) \u5275\u5efa\u5167\u90e8\u7aef\u9ede\u4ee5\u8207 Google Cloud \u670d\u52d9\u901a\u4fe1\u3002\u901a\u904e\u7d9c\u5408\u5229\u7528\u9019\u4e9b\u63a7\u5236\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528\u5c08\u7528\u8def\u5f91\u9023\u63a5 Google Cloud \u670d\u52d9\uff0c\u800c\u7121\u9700\u4f9d\u8cf4\u4e92\u806f\u7db2\u51fa\u7ad9\u6d41\u91cf\u6216\u516c\u958b\u901a\u544a\u7684\u4e92\u806f\u7db2\u7bc4\u570d\u3002\n\u6b64\u85cd\u5716\u4f7f\u7528 [API \u8edf\u4ef6\u5305](https://cloud.google.com/vpc/docs/about-accessing-google-apis-endpoints?hl=zh-cn#supported-apis) \u914d\u7f6e Private Service Connect \u7aef\u9ede\uff0c\u4ee5\u5340\u5206\u53ef\u4ee5\u5728\u54ea\u500b\u7db2\u7d61\u4e2d\u8a2a\u554f\u54ea\u4e9b\u670d\u52d9\u3002\u57fa\u672c\u7db2\u7d61\u4f7f\u7528 `all-apis` \u8edf\u4ef6\u5305\uff0c\u53ef\u4ee5\u8a2a\u554f\u4efb\u4f55 Google \u670d\u52d9\uff0c\u800c\u53d7\u9650\u7db2\u7d61\u4f7f\u7528 `vpcsc` \u8edf\u4ef6\u5305\uff0c\u53ef\u4ee5\u8a2a\u554f [\u652f\u6301 VPC Service Controls](https://cloud.google.com/vpc-service-controls/docs/supported-products?hl=zh-cn) \u7684\u4e00\u7d44\u6709\u9650\u670d\u52d9\u3002\n\u5982\u9700\u5f9e\u672c\u5730\u74b0\u5883\u4e2d\u7684\u4e3b\u6a5f\u9032\u884c\u8a2a\u554f\uff0c\u6211\u5011\u5efa\u8b70\u60a8\u5c0d\u6bcf\u500b\u7aef\u9ede\u4f7f\u7528\u81ea\u5b9a\u7fa9 FQDN \u6163\u4f8b\uff0c\u5982\u4e0b\u8868\u6240\u793a\u3002\u6b64\u85cd\u5716\u5c0d\u6bcf\u500b VPC \u7db2\u7d61\u4f7f\u7528\u552f\u4e00\u7684 Private Service Connect \u7aef\u9ede\uff0c\u9019\u4e9b\u7aef\u9ede\u914d\u7f6e\u7232\u8a2a\u554f\u4e00\u7d44\u4e0d\u540c\u7684 API \u8edf\u4ef6\u5305\u3002\u56e0\u6b64\uff0c\u60a8\u5fc5\u9808\u8003\u616e\u5982\u4f55\u5c07\u670d\u52d9\u6d41\u91cf\u5f9e\u672c\u5730\u74b0\u5883\u8def\u7531\u5230\u5177\u6709\u6b63\u78ba API \u7aef\u9ede\u7684 VPC \u7db2\u7d61\uff0c\u4e26\u4e14\u5982\u679c\u60a8\u4f7f\u7528\u7684\u662f VPC Service Controls\uff0c\u8acb\u78ba\u4fdd\u6d41\u5411 Google Cloud \u670d\u52d9\u7684\u6d41\u91cf\u5230\u9054\u9810\u671f\u908a\u754c\u5167\u7684\u7aef\u9ede\u3002\u7232 DNS\u3001\u9632\u706b\u7246\u548c\u8def\u7531\u5668\u914d\u7f6e\u672c\u5730\u63a7\u5236\u4ee5\u5141\u8a31\u8a2a\u554f\u9019\u4e9b\u7aef\u9ede\uff0c\u4e26\u5c07\u672c\u5730\u4e3b\u6a5f\u914d\u7f6e\u7232\u4f7f\u7528\u9069\u7576\u7684\u7aef\u9ede\u3002\u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1 [\u901a\u904e\u7aef\u9ede\u8a2a\u554f Google API](https://cloud.google.com/vpc/docs/configure-private-service-connect-apis?hl=zh-cn#on-premises) \u3002\n\u4e0b\u8868\u4ecb\u7d39\u4e86\u7232\u6bcf\u500b\u7db2\u7d61\u5275\u5efa\u7684 Private Service Connect \u7aef\u9ede\u3002\n| VPC | \u74b0\u5883 | API \u8edf\u4ef6\u5305 | Private Service Connect \u7aef\u9ede IP \u5730\u5740 | Private Service Connect \u7aef\u9ede IP \u5730\u5740.1 | Private Service Connect \u7aef\u9ede IP \u5730\u5740.2 | \u81ea\u5b9a\u7fa9 FQDN     | \u81ea\u5b9a\u7fa9 FQDN.1    | \u81ea\u5b9a\u7fa9 FQDN.2    |\n|:------|:-------|:-------------|:---------------------------------------|:-----------------------------------------|:-----------------------------------------|:----------------------------|:----------------------------|:----------------------------|\n| \u57fa\u672c | \u901a\u7528 | all-apis  | 10.17.0.1/32       | 10.17.0.1/32        | 10.17.0.1/32        | c.private.googleapis.com | c.private.googleapis.com | c.private.googleapis.com |\n| \u57fa\u672c | \u958b\u767c | all-apis  | 10.17.0.2/32       | 10.17.0.2/32        | 10.17.0.2/32        | d.private.googleapis.com | d.private.googleapis.com | d.private.googleapis.com |\n| \u57fa\u672c | \u975e\u751f\u7522 | all-apis  | 10.17.0.3/32       | 10.17.0.3/32        | 10.17.0.3/32        | n.private.googleapis.com | n.private.googleapis.com | n.private.googleapis.com |\n| \u57fa\u672c | \u751f\u7522 | all-apis  | 10.17.0.4/32       | 10.17.0.4/32        | 10.17.0.4/32        | p.private.googleapis.com | p.private.googleapis.com | p.private.googleapis.com |\n| \u53d7\u9650 | \u901a\u7528 | vpcsc  | 10.17.0.5/32       | 10.17.0.5/32        | 10.17.0.5/32        | c.restricted.googleapis.com | c.restricted.googleapis.com | c.restricted.googleapis.com |\n| \u53d7\u9650 | \u958b\u767c | vpcsc  | 10.17.0.6/32       | 10.17.0.6/32        | 10.17.0.6/32        | d.restricted.googleapis.com | d.restricted.googleapis.com | d.restricted.googleapis.com |\n| \u53d7\u9650 | \u975e\u751f\u7522 | vpcsc  | 10.17.0.7/32       | 10.17.0.7/32        | 10.17.0.7/32        | n.restricted.googleapis.com | n.restricted.googleapis.com | n.restricted.googleapis.com |\n| \u53d7\u9650 | \u751f\u7522 | vpcsc  | 10.17.0.8/32       | 10.17.0.8/32        | 10.17.0.8/32        | p.restricted.googleapis.com | p.restricted.googleapis.com | p.restricted.googleapis.com |\n\u7232\u78ba\u4fdd Google Cloud \u670d\u52d9\u7684\u6d41\u91cf\u901a\u904e DNS \u67e5\u627e\u9032\u5165\u6b63\u78ba\u7aef\u9ede\uff0c\u6b64\u85cd\u5716\u6703\u7232\u6bcf\u500b VPC \u7db2\u7d61\u914d\u7f6e\u5c08\u7528 DNS \u5340\u57df\u3002\u4e0b\u8868\u4ecb\u7d39\u4e86\u9019\u4e9b\u5c08\u7528 DNS \u5340\u57df\u3002\n| \u5c08\u7528\u5340\u57df\u540d\u7a31 | DNS \u540d\u7a31                   | \u8a18\u9304\u985e\u578b | \u6578\u64da                     |\n|:----------------|:-----------------------------------------------------------------------------------|:-----------|:-------------------------------------------------------------------------------------|\n| googleapis.com. | *.googleapis.com.                 | CNAME  | private.googleapis.com.\uff08\u91dd\u5c0d\u57fa\u672c\u7db2\u7d61\uff09\u6216 restricted.googleapis.com.\uff08\u91dd\u5c0d\u53d7\u9650\u7db2\u7d61\uff09 |\n| googleapis.com. | private.googleapis.com\uff08\u91dd\u5c0d\u57fa\u672c\u7db2\u7d61\uff09\u6216 restricted.googleapis.com\uff08\u91dd\u5c0d\u53d7\u9650\u7db2\u7d61\uff09 | A   | \u8a72 VPC \u7db2\u7d61\u7684 Private Service Connect \u7aef\u9ede IP \u5730\u5740\u3002         |\n| gcr.io.   | *.gcr.io                   | CNAME  | gcr.io.                    |\n| gcr.io.   | gcr.io                    | A   | \u8a72 VPC \u7db2\u7d61\u7684 Private Service Connect \u7aef\u9ede IP \u5730\u5740\u3002         |\n| pkg.dev.  | *.pkg.dev.                   | CNAME  | pkg.dev.                    |\n| pkg.dev.  | pkg.dev.                   | A   | \u8a72 VPC \u7db2\u7d61\u7684 Private Service Connect \u7aef\u9ede IP \u5730\u5740\u3002         |\n\u6b64\u85cd\u5716\u5177\u6709\u984d\u5916\u7684\u914d\u7f6e\uff0c\u53ef\u5f37\u5236\u4e00\u81f4\u4f7f\u7528\u9019\u4e9b Private Service Connect \u7aef\u9ede\u3002\u6bcf\u500b\u5171\u4eab VPC \u7db2\u7d61\u9084\u6703\u5f37\u5236\u57f7\u884c\u4ee5\u4e0b\u653f\u7b56\uff1a\n- \u5141\u8a31\u51fa\u7ad9\u6d41\u91cf\u5f9e\u6240\u6709\u4f86\u6e90\u6d41\u5411 TCP 443 \u4e0a Private Service Connect \u7aef\u9ede\u7684 IP \u5730\u5740\u7684\u7db2\u7d61\u9632\u706b\u7246\u653f\u7b56\u898f\u5247\u3002\n- \u62d2\u7d55\u51fa\u7ad9\u6d41\u91cf\u6d41\u5411 0.0.0.0/0\uff08\u5305\u62ec\u7528\u65bc\u8a2a\u554f Google Cloud \u670d\u52d9\u7684 [\u9ed8\u8a8d\u7db2\u57df](https://cloud.google.com/vpc/docs/configure-private-google-access?hl=zh-cn#domain-options) \uff09\u7684\u7db2\u7d61\u9632\u706b\u7246\u653f\u7b56\u898f\u5247\u3002## \u4e92\u806f\u7db2\u9023\u63a5\n\u6b64\u85cd\u5716\u4e0d\u5141\u8a31\u5176 VPC \u7db2\u7d61\u8207\u4e92\u806f\u7db2\u4e4b\u9593\u7684\u5165\u7ad9\u6216\u51fa\u7ad9\u6d41\u91cf\u3002\u5c0d\u65bc\u9700\u8981\u4e92\u806f\u7db2\u9023\u63a5\u7684\u5de5\u4f5c\u8ca0\u8f09\uff0c\u60a8\u5fc5\u9808\u57f7\u884c\u984d\u5916\u6b65\u9a5f\u4f86\u8a2d\u8a08\u6240\u9700\u7684\u8a2a\u554f\u8def\u5f91\u3002\n\u5c0d\u65bc\u9700\u8981\u51fa\u7ad9\u6d41\u91cf\u9032\u5165\u4e92\u806f\u7db2\u7684\u5de5\u4f5c\u8ca0\u8f09\uff0c\u6211\u5011\u5efa\u8b70\u60a8\u901a\u904e [Cloud NAT](https://cloud.google.com/nat/docs/overview?hl=zh-cn) \u7ba1\u7406\u51fa\u7ad9\u6d41\u91cf\uff0c\u4ee5\u5728\u7121\u4e3b\u52d5\u767c\u9001\u7684\u5165\u7ad9\u9023\u63a5\u7684\u60c5\u6cc1\u4e0b\u5141\u8a31\u51fa\u7ad9\u6d41\u91cf\uff0c\u6216\u8005\u901a\u904e [\u5b89\u5168 Web \u4ee3\u7406](https://cloud.google.com/secure-web-proxy/docs/overview?hl=zh-cn) \u7ba1\u7406\u51fa\u7ad9\u6d41\u91cf\uff0c\u4ee5\u5be6\u73fe\u66f4\u7cbe\u7d30\u7684\u63a7\u5236\uff0c\u5f9e\u800c\u50c5\u5141\u8a31\u51fa\u7ad9\u6d41\u91cf\u6d41\u5411\u53ef\u4fe1 Web \u670d\u52d9\u3002\n\u5c0d\u65bc\u9700\u8981\u5f9e\u4e92\u806f\u7db2\u50b3\u5165\u5165\u7ad9\u6d41\u91cf\u7684\u5de5\u4f5c\u8ca0\u8f09\uff0c\u6211\u5011\u5efa\u8b70\u60a8\u4f7f\u7528 [Cloud Load Balancing](https://cloud.google.com/load-balancing/docs/https?hl=zh-cn) \u548c [Google Cloud Armor](https://cloud.google.com/armor/docs/cloud-armor-overview?hl=zh-cn) \u8a2d\u8a08\u5de5\u4f5c\u8ca0\u8f09\u4ee5\u53d7\u76ca\u65bc DDoS \u548c WAF \u4fdd\u8b77\u3002\n\u6211\u5011\u4e0d\u5efa\u8b70\u60a8\u8a2d\u8a08\u5141\u8a31\u5728\u865b\u64ec\u6a5f\u4e0a\u4f7f\u7528\u5916\u90e8 IP \u5730\u5740\u5728\u4e92\u806f\u7db2\u8207\u865b\u64ec\u6a5f\u4e4b\u9593\u76f4\u63a5\u9023\u63a5\u7684\u5de5\u4f5c\u8ca0\u8f09\u3002\n## \u672c\u5730\u74b0\u5883\u8207 Google Cloud \u4e4b\u9593\u7684\u6df7\u5408\u9023\u63a5\n\u5982\u9700\u5728\u672c\u5730\u74b0\u5883\u8207 Google Cloud \u4e4b\u9593\u5efa\u7acb\u9023\u63a5\uff0c\u6211\u5011\u5efa\u8b70\u60a8\u4f7f\u7528 [\u5c08\u7528\u4e92\u9023](https://cloud.google.com/interconnect/docs/concepts/dedicated-overview?hl=zh-cn) \u4f86\u6700\u5927\u9650\u5ea6\u5730\u63d0\u9ad8\u5b89\u5168\u6027\u548c\u53ef\u9760\u6027\u3002\u5c08\u7528\u4e92\u9023\u9023\u63a5\u662f\u672c\u5730\u7db2\u7d61\u8207 Google Cloud \u4e4b\u9593\u7684\u76f4\u63a5\u93c8\u63a5\u3002\n\u4e0b\u5716\u5c55\u793a\u4e86\u672c\u5730\u74b0\u5883\u8207 Google \u865b\u64ec\u79c1\u6709\u4e91\u7db2\u7d61\u4e4b\u9593\u7684\u6df7\u5408\u9023\u63a5\u3002\n\u8a72\u5716\u63cf\u8ff0\u4e86\u6a21\u5f0f\u7684\u4ee5\u4e0b\u7d44\u4ef6\uff0c\u4ee5\u5be6\u73fe [\u5c08\u7528\u4e92\u9023\u7684 99.99% \u53ef\u7528\u6027](https://cloud.google.com/interconnect/docs/tutorials/dedicated-creating-9999-availability?hl=zh-cn) \uff1a\n- \u56db\u500b\u5c08\u7528\u4e92\u9023\u9023\u63a5\uff0c\u5176\u4e2d\u5169\u500b\u9023\u63a5\u5728\u4e00\u500b\u90fd\u5e02\u5340\uff08\u90fd\u5e02\u5708\uff09\uff0c\u5169\u500b\u9023\u63a5\u5728\u53e6\u4e00\u500b\u90fd\u5e02\u5708\u3002\n- \u9023\u63a5\u5206\u7232\u5169\u5c0d\uff0c\u6bcf\u5c0d\u5747\u9023\u63a5\u5230\u55ae\u7368\u7684\u672c\u5730\u6578\u64da\u4e2d\u5fc3\u3002\n- [VLAN \u9023\u63a5](https://cloud.google.com/interconnect/docs/how-to/dedicated/creating-vlan-attachments?hl=zh-cn) \u7528\u65bc\u5c07\u6bcf\u500b\u5c08\u7528\u4e92\u9023\u5be6\u4f8b\u9023\u63a5\u5230\u5171\u4eab VPC \u62d3\u64b2\u9644\u52a0\u7684 [Cloud Router \u8def\u7531\u5668](https://cloud.google.com/network-connectivity/docs/router/concepts/overview?hl=zh-cn) \u3002\u9019\u4e9b VLAN \u9023\u63a5\u8a17\u7ba1\u5728`prj-c-interconnect`\u9805\u76ee\u4e2d\u3002\n- \u6bcf\u500b\u5171\u4eab VPC \u7db2\u7d61\u90fd\u6709\u56db\u500b Cloud Router \u8def\u7531\u5668\uff0c\u6bcf\u500b\u5340\u57df\u5169\u500b\uff0c\u4e26\u4e14\u52d5\u614b\u8def\u7531\u6a21\u5f0f\u8a2d\u7f6e\u7232`global`\uff0c\u4ee5\u4fbf\u6bcf\u500b Cloud Router \u8def\u7531\u5668\u53ef\u4ee5\u901a\u544a\u6240\u6709\u5b50\u7db2\uff08\u7121\u8ad6\u5340\u57df\u5982\u4f55\uff09\u3002\n\u901a\u904e\u5168\u5c40\u52d5\u614b\u8def\u7531\uff0cCloud Router \u8def\u7531\u5668\u5411 VPC \u7db2\u7d61\u4e2d\u7684\u6240\u6709\u5b50\u7db2\u901a\u544a\u8def\u7531\u3002Cloud Router \u8def\u7531\u5668\u5411\u9060\u7a0b\u5b50\u7db2\uff08Cloud Router \u8def\u7531\u5668\u5340\u57df\u4ee5\u5916\u7684\u5b50\u7db2\uff09\u901a\u544a\u8def\u7531\u6240\u63a1\u7528\u7684\u512a\u5148\u7d1a\uff0c\u4f4e\u65bc\u5411\u672c\u5730\u5b50\u7db2\uff08\u4f4d\u65bc Cloud Router \u8def\u7531\u5668\u5340\u57df\u7684\u5b50\u7db2\uff09\u901a\u544a\u7684\u512a\u5148\u7d1a\u3002\uff08\u53ef\u9078\uff09\u5728\u7232 Cloud Router \u8def\u7531\u5668\u914d\u7f6e BGP \u6703\u8a71\u6642\uff0c\u60a8\u53ef\u4ee5\u66f4\u6539 [\u901a\u544a\u7684\u524d\u7db4\u548c\u512a\u5148\u7d1a](https://cloud.google.com/network-connectivity/docs/router/concepts/overview?hl=zh-cn#advertised-prefixes-and-priorities) \u3002\n\u5f9e Google Cloud \u5230\u672c\u5730\u74b0\u5883\u7684\u6d41\u91cf\u4f7f\u7528\u6700\u9760\u8fd1\u96f2\u8cc7\u6e90\u7684 Cloud Router \u8def\u7531\u5668\u3002\u5728\u4e00\u500b\u5340\u57df\u5167\uff0c\u591a\u500b\u5230\u672c\u5730\u7db2\u7d61\u7684\u8def\u7531\u5177\u6709\u76f8\u540c\u7684\u591a\u51fa\u53e3\u5224\u5225\u5668 (MED) \u503c\uff0cGoogle Cloud \u4f7f\u7528 [\u7b49\u6210\u672c\u591a\u8def\u5f91 (ECMP)](https://en.wikipedia.org/wiki/Equal-cost_multi-path_routing) \u5728\u6240\u6709\u53ef\u80fd\u7684\u8def\u7531\u4e4b\u9593\u5206\u914d\u51fa\u7ad9\u6d41\u91cf\u3002\n## \u672c\u5730\u914d\u7f6e\u66f4\u6539\n\u8981\u914d\u7f6e\u672c\u5730\u74b0\u5883\u8207 Google Cloud \u4e4b\u9593\u7684\u9023\u63a5\uff0c\u60a8\u5fc5\u9808\u5728\u672c\u5730\u74b0\u5883\u4e2d\u914d\u7f6e\u5176\u4ed6\u66f4\u6539\u3002\u6b64\u85cd\u5716\u4e2d\u7684 Terraform \u4ee3\u78bc\u6703\u81ea\u52d5\u914d\u7f6e Google Cloud \u8cc7\u6e90\uff0c\u4f46\u4e0d\u6703\u4fee\u6539\u4efb\u4f55\u672c\u5730\u7db2\u7d61\u8cc7\u6e90\u3002\n\u6b64\u85cd\u5716\u6703\u81ea\u52d5\u5553\u7528\u67d0\u4e9b\u5f9e\u672c\u5730\u74b0\u5883\u5230 Google Cloud \u7684\u6df7\u5408\u9023\u63a5\u7684\u7d44\u4ef6\uff0c\u5305\u62ec\uff1a\n- Cloud DNS \u914d\u7f6e\u4e86\u5728\u6240\u6709\u5171\u4eab VPC \u7db2\u7d61\u548c\u55ae\u500b hub \u4e4b\u9593\u7684 DNS \u8f49\u767c\uff0c\u5982 [DNS \u8a2d\u7f6e](#dns-setup) \u4e2d\u6240\u8ff0\u3002Cloud DNS \u670d\u52d9\u5668\u653f\u7b56\u914d\u7f6e\u4e86 [\u5165\u7ad9\u8f49\u767c\u5668 IP \u5730\u5740](https://cloud.google.com/dns/docs/policies?hl=zh-cn#list-in-entrypoints) \u3002\n- Cloud Router \u8def\u7531\u5668\u7d93\u904e\u914d\u7f6e\uff0c\u53ef\u7232 Private Service Connect \u7aef\u9ede\u4f7f\u7528\u7684 IP \u5730\u5740\u5c0e\u51fa\u6240\u6709\u5b50\u7db2\u7684\u8def\u7531\u548c\u81ea\u5b9a\u7fa9\u8def\u7531\u3002\n\u5982\u9700\u5553\u7528\u6df7\u5408\u9023\u63a5\uff0c\u60a8\u5fc5\u9808\u57f7\u884c\u4ee5\u4e0b\u984d\u5916\u6b65\u9a5f\uff1a\n- [\u8a02\u8cfc\u5c08\u7528\u4e92\u9023\u9023\u63a5](https://cloud.google.com/network-connectivity/docs/interconnect/how-to/dedicated/ordering-dedicated-interconnect?hl=zh-cn) \u3002\n- \u914d\u7f6e\u672c\u5730\u8def\u7531\u5668\u548c\u9632\u706b\u7246\u4ee5\u5141\u8a31\u51fa\u7ad9\u6d41\u91cf\u9032\u5165 [IP \u5730\u5740\u7a7a\u9593\u5206\u914d](#ip-address-allocation) \u4e2d\u5b9a\u7fa9\u7684\u5167\u90e8 IP \u5730\u5740\u7a7a\u9593\u3002\n- \u914d\u7f6e\u672c\u5730 DNS \u670d\u52d9\u5668\uff0c\u4ee5\u5c07\u767c\u5f80 Google Cloud \u7684 DNS \u67e5\u627e\u8f49\u767c\u5230\u5df2\u7531\u85cd\u5716\u914d\u7f6e\u7684 [\u5165\u7ad9\u8f49\u767c\u5668 IP \u5730\u5740](https://cloud.google.com/dns/docs/policies?hl=zh-cn#list-in-entrypoints) \u3002\n- \u914d\u7f6e\u672c\u5730 DNS \u670d\u52d9\u5668\u3001\u9632\u706b\u7246\u548c\u8def\u7531\u5668\u4ee5\u63a5\u53d7\u4f86\u81ea Cloud DNS [\u8f49\u767c\u5340\u57df](https://cloud.google.com/dns/docs/zones/forwarding-zones?hl=zh-cn) (35.199.192.0/19) \u7684 DNS \u67e5\u8a62\u3002\n- \u914d\u7f6e\u672c\u5730 DNS \u670d\u52d9\u5668\uff0c\u4ee5\u4f7f\u7528 [Cloud API \u7684\u5c08\u7528\u8a2a\u554f\u901a\u9053](#private-access-to-google-cloud-apis) \u4e2d\u5b9a\u7fa9\u7684 IP \u5730\u5740\u97ff\u61c9\u5f9e\u672c\u5730\u4e3b\u6a5f\u5230 Google Cloud \u670d\u52d9\u7684\u67e5\u8a62\u3002\n- \u5c0d\u65bc\u901a\u904e\u5c08\u7528\u4e92\u9023\u9023\u63a5\u9032\u884c\u7684\u50b3\u8f38\u52a0\u5bc6\uff0c\u8acb\u914d\u7f6e [MACsec for Cloud Interconnect](https://cloud.google.com/network-connectivity/docs/interconnect/concepts/macsec-overview?hl=zh-cn) \u6216\u914d\u7f6e [\u901a\u904e Cloud Interconnect \u5be6\u73fe\u7684\u9ad8\u53ef\u7528\u6027 VPN](https://cloud.google.com/network-connectivity/docs/interconnect/concepts/ha-vpn-interconnect?hl=zh-cn) \u4ee5\u5be6\u73fe IPsec \u52a0\u5bc6\u3002\n\u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1 [\u7232\u672c\u5730\u4e3b\u6a5f\u914d\u7f6e\u5c08\u7528 Google \u8a2a\u554f\u901a\u9053](https://cloud.google.com/vpc/docs/configure-private-google-access-hybrid?hl=zh-cn) \u3002\n## \u5f8c\u7e8c\u6b65\u9a5f\n- \u77ad\u89e3 [\u6aa2\u6e2c\u6027\u63a7\u5236](https://cloud.google.com/architecture/security-foundations/detective-controls?hl=zh-cn) \uff08\u672c\u7cfb\u5217\u7684\u4e0b\u4e00\u500b\u6587\u6a94\uff09\u3002\n# \u6aa2\u6e2c\u6027\u63a7\u5236\nSecurity Command Center \u7684\u5167\u7f6e\u5b89\u5168\u63a7\u5236\u548c\u53ef\u7528\u65bc\u6aa2\u6e2c\u548c\u97ff\u61c9\u5b89\u5168\u4e8b\u4ef6\u7684\u81ea\u5b9a\u7fa9\u89e3\u6c7a\u65b9\u6848\u76f8\u7d50\u5408\uff0c\u63d0\u4f9b\u4e86\u5a01\u8105\u6aa2\u6e2c\u548c\u76e3\u63a7\u529f\u80fd\u3002\n## \u7528\u65bc\u5b89\u5168\u548c\u5be9\u8988\u7528\u9014\u7684\u4e2d\u5fc3\u5316\u65e5\u8a8c\n\u6b64\u85cd\u5716\u914d\u7f6e\u65e5\u8a8c\u8a18\u9304\u529f\u80fd\uff0c\u4ee5\u4f7f\u7528\u805a\u5408\u5230\u55ae\u500b\u9805\u76ee\u7684\u65e5\u8a8c\u4f86\u8ddf\u8e64\u548c\u5206\u6790 Google Cloud \u8cc7\u6e90\u7684\u66f4\u6539\u3002\n\u4e0b\u5716\u5c55\u793a\u4e86\u8a72\u85cd\u5716\u5982\u4f55\u5c07\u591a\u500b\u9805\u76ee\u4e2d\u591a\u500b\u4f86\u6e90\u7684\u65e5\u8a8c\u805a\u5408\u5230\u96c6\u4e2d\u5f0f\u65e5\u8a8c\u63a5\u6536\u5668\u4e2d\u3002\n\u5716\u4e2d\u63cf\u8ff0\u4e86\u4ee5\u4e0b\u5167\u5bb9\uff1a\n- \u65e5\u8a8c\u63a5\u6536\u5668\u5728\u7d44\u7e54\u7bc0\u9ede\u914d\u7f6e\u7232\u805a\u5408\u4f86\u81ea\u8cc7\u6e90\u5c64\u6b21\u7d50\u69cb\u4e2d\u6240\u6709\u9805\u76ee\u7684\u65e5\u8a8c\u3002\n- \u591a\u500b\u65e5\u8a8c\u63a5\u6536\u5668\u914d\u7f6e\u7232\u5c07\u8207\u904e\u6ffe\u689d\u4ef6\u5339\u914d\u7684\u65e5\u8a8c\u767c\u9001\u5230\u4e0d\u540c\u7684\u76ee\u6a19\u4f4d\u7f6e\u4ee5\u9032\u884c\u5b58\u5132\u548c\u5206\u6790\u3002\n- `prj-c-logging`\u9805\u76ee\u5305\u542b\u7528\u65bc\u65e5\u8a8c\u5b58\u5132\u548c\u5206\u6790\u7684\u6240\u6709\u8cc7\u6e90\u3002\n- \uff08\u53ef\u9078\uff09\u60a8\u53ef\u4ee5\u914d\u7f6e\u5176\u4ed6\u5de5\u5177\u4ee5\u5c07\u65e5\u8a8c\u5c0e\u51fa\u5230 SIEM\u3002\n\u6b64\u85cd\u5716\u4f7f\u7528\u4e0d\u540c\u7684\u65e5\u8a8c\u6e90\uff0c\u4e26\u5728\u65e5\u8a8c\u63a5\u6536\u5668\u904e\u6ffe\u689d\u4ef6\u4e2d\u5305\u542b\u9019\u4e9b\u65e5\u8a8c\uff0c\u4ee5\u4fbf\u53ef\u4ee5\u5c07\u65e5\u8a8c\u5c0e\u51fa\u5230\u4e2d\u5fc3\u76ee\u6a19\u4f4d\u7f6e\u3002\u4e0b\u8868\u4ecb\u7d39\u4e86\u65e5\u8a8c\u6e90\u3002\n| \u65e5\u8a8c\u6e90      | \u8aaa\u660e                                                  |\n|:------------------------------|:---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| \u7ba1\u7406\u54e1\u6d3b\u52d5\u5be9\u8988\u65e5\u8a8c   | \u60a8\u4e0d\u80fd\u914d\u7f6e\u3001\u505c\u7528\u6216\u6392\u9664\u7ba1\u7406\u54e1\u6d3b\u52d5\u5be9\u8988\u65e5\u8a8c\u3002                                        |\n| \u7cfb\u7d71\u4e8b\u4ef6\u5be9\u8988\u65e5\u8a8c    | \u60a8\u4e0d\u80fd\u914d\u7f6e\u3001\u505c\u7528\u6216\u6392\u9664\u7cfb\u7d71\u4e8b\u4ef6\u5be9\u8988\u65e5\u8a8c\u3002                                         |\n| \u653f\u7b56\u62d2\u7d55\u5be9\u8988\u65e5\u8a8c    | \u60a8\u4e0d\u80fd\u914d\u7f6e\u6216\u505c\u7528\u653f\u7b56\u62d2\u7d55\u5be9\u8988\u65e5\u8a8c\uff0c\u4f46\u53ef\u4ee5\u9078\u64c7\u4f7f\u7528\u6392\u9664\u9805\u904e\u6ffe\u5668\u4f86\u6392\u9664\u9019\u4e9b\u65e5\u8a8c\u3002                                |\n| \u6578\u64da\u8a2a\u554f\u5be9\u8988\u65e5\u8a8c    | \u9ed8\u8a8d\u60c5\u6cc1\u4e0b\uff0c\u85cd\u5716\u4e0d\u6703\u5553\u7528\u6578\u64da\u8a2a\u554f\u65e5\u8a8c\uff0c\u56e0\u7232\u9019\u4e9b\u65e5\u8a8c\u7684\u6578\u91cf\u548c\u8cbb\u7528\u53ef\u80fd\u8f03\u9ad8\u3002\u5982\u9700\u78ba\u5b9a\u662f\u5426\u61c9\u5553\u7528\u6578\u64da\u8a2a\u554f\u65e5\u8a8c\uff0c\u8acb\u8a55\u4f30\u5de5\u4f5c\u8ca0\u8f09\u8655\u7406\u654f\u611f\u6578\u64da\u7684\u4f4d\u7f6e\uff0c\u4e26\u8003\u616e\u662f\u5426\u9700\u8981\u7232\u8655\u7406\u654f\u611f\u6578\u64da\u7684\u6bcf\u500b\u670d\u52d9\u548c\u74b0\u5883\u5553\u7528\u6578\u64da\u8a2a\u554f\u65e5\u8a8c\u3002 |\n| VPC \u6d41\u65e5\u8a8c     | \u6b64\u85cd\u5716\u5c07\u7232\u6bcf\u500b\u5b50\u7db2\u5553\u7528 VPC \u6d41\u65e5\u8a8c\u3002\u6b64\u85cd\u5716\u5c07\u65e5\u8a8c\u63a1\u6a23\u914d\u7f6e\u7232\u5c0d 50% \u7684\u65e5\u8a8c\u9032\u884c\u63a1\u6a23\uff0c\u4ee5\u964d\u4f4e\u8cbb\u7528\u3002\u5982\u679c\u60a8\u5275\u5efa\u5176\u4ed6\u5b50\u7db2\uff0c\u5247\u5fc5\u9808\u78ba\u4fdd\u7232\u6bcf\u500b\u5b50\u7db2\u5553\u7528 VPC \u6d41\u65e5\u8a8c\u3002             |\n| \u9632\u706b\u7246\u898f\u5247\u65e5\u8a8c\u8a18\u9304   | \u6b64\u85cd\u5716\u7232\u6bcf\u689d\u9632\u706b\u7246\u653f\u7b56\u898f\u5247\u5553\u7528\u9632\u706b\u7246\u898f\u5247\u65e5\u8a8c\u8a18\u9304\u3002\u5982\u679c\u60a8\u7232\u5de5\u4f5c\u8ca0\u8f09\u5275\u5efa\u5176\u4ed6\u9632\u706b\u7246\u653f\u7b56\u898f\u5247\uff0c\u5247\u5fc5\u9808\u78ba\u4fdd\u7232\u6bcf\u500b\u65b0\u898f\u5247\u5553\u7528\u9632\u706b\u7246\u898f\u5247\u65e5\u8a8c\u8a18\u9304\u3002                 |\n| Cloud DNS \u65e5\u8a8c\u8a18\u9304   | \u6b64\u85cd\u5716\u7232\u8a17\u7ba1\u5340\u57df\u5553\u7528 Cloud DNS \u65e5\u8a8c\u3002\u5982\u679c\u60a8\u5275\u5efa\u4e86\u5176\u4ed6\u8a17\u7ba1\u5340\u57df\uff0c\u5247\u5fc5\u9808\u5553\u7528\u9019\u4e9b DNS \u65e5\u8a8c\u3002                             |\n| Google Workspace \u5be9\u8988\u65e5\u8a8c\u8a18\u9304 | \u9700\u8981\u57f7\u884c\u4e00\u6b21\u6027\u5553\u7528\u6b65\u9a5f\uff0c\u6b64\u6b65\u9a5f\u7121\u6cd5\u7531\u85cd\u5716\u81ea\u52d5\u57f7\u884c\u3002\u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1\u8207 Google Cloud \u670d\u52d9\u5171\u4eab\u6578\u64da\u3002                          |\n| Access Transparency \u65e5\u8a8c  | \u9700\u8981\u57f7\u884c\u4e00\u6b21\u6027\u5553\u7528\u6b65\u9a5f\uff0c\u6b64\u6b65\u9a5f\u7121\u6cd5\u7531\u85cd\u5716\u81ea\u52d5\u57f7\u884c\u3002\u6709\u95dc\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1\u5553\u7528 Access Transparency\u3002                            |\n\u4e0b\u8868\u4ecb\u7d39\u4e86\u65e5\u8a8c\u63a5\u6536\u5668\uff0c\u4ee5\u53ca\u5b83\u5011\u5982\u4f55\u5728\u85cd\u5716\u4e2d\u8207 [\u53d7\u652f\u6301\u7684\u76ee\u6a19\u4f4d\u7f6e](https://cloud.google.com/logging/docs/routing/overview?hl=zh-cn#destinations) \u642d\u914d\u4f7f\u7528\u3002\n| \u63a5\u6536\u5668   | \u76ee\u6a19\u4f4d\u7f6e                  | \u7528\u9014                                                                                |\n|:-----------------|:-------------------------------------------------------------------------------|:---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| sk-c-logging-la | \u65e5\u8a8c\u8def\u7531\u5230 Cloud Logging \u5b58\u5132\u6876\uff08\u5553\u7528\u4e86 Log Analytics \u548c\u95dc\u806f BigQuery \u6578\u64da\u96c6\uff09 | \u4e3b\u52d5\u5206\u6790\u65e5\u8a8c\u3002\u5728\u63a7\u5236\u6aaf\u4e2d\u4f7f\u7528 Logs Explorer \u904b\u884c\u81e8\u6642\u8abf\u67e5\uff0c\u6216\u4f7f\u7528\u95dc\u806f\u7684 BigQuery \u6578\u64da\u96c6\u7de8\u5beb SQL \u67e5\u8a62\u3001\u5831\u544a\u548c\u8996\u5716\u3002                                                     |\n| sk-c-logging-bkt | \u65e5\u8a8c\u8def\u7531\u5230 Cloud Storage              | \u9577\u671f\u5b58\u5132\u65e5\u8a8c\uff0c\u4ee5\u7528\u65bc\u6cd5\u898f\u9075\u5f9e\u3001\u5be9\u8988\u548c\u7a81\u767c\u4e8b\u4ef6\u8ddf\u8e64\u3002\uff08\u53ef\u9078\uff09\u5982\u679c\u60a8\u6709\u5f37\u5236\u57f7\u884c\u6578\u64da\u4fdd\u7559\u7684\u5408\u898f\u6027\u8981\u6c42\uff0c\u6211\u5011\u5efa\u8b70\u60a8\u984d\u5916\u914d\u7f6e\u5b58\u5132\u6876\u9396\u5b9a\u3002                                                 |\n| sk-c-logging-pub | \u65e5\u8a8c\u8def\u7531\u5230 Pub/Sub                | \u5c07\u65e5\u8a8c\u5c0e\u51fa\u5230\u5916\u90e8\u5e73\u81fa\uff0c\u4f8b\u5982\u73fe\u6709 SIEM\u3002\u9019\u9700\u8981\u5b8c\u6210\u984d\u5916\u7684\u5de5\u4f5c\u624d\u80fd\u8207 SIEM \u96c6\u6210\uff0c\u4f8b\u5982\u4ee5\u4e0b\u6a5f\u5236\uff1a \u5c0d\u65bc\u8a31\u591a\u5de5\u5177\u800c\u8a00\uff0c\u8207 Pub/Sub \u7684\u7b2c\u4e09\u65b9\u96c6\u6210\u662f\u6ce8\u5165\u65e5\u8a8c\u7684\u9996\u9078\u65b9\u6cd5\u3002 \u5c0d\u65bc Google Chronicle\uff0c\u60a8\u53ef\u4ee5\u5c07 Google Cloud \u6578\u64da\u6ce8\u5165\u5230 Chronicle\uff0c\u800c\u7121\u9700\u9810\u914d\u5176\u4ed6\u57fa\u790e\u8a2d\u65bd\u3002 \u5c0d\u65bc Splunk\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528 Dataflow \u5c07\u65e5\u8a8c\u5f9e Google Cloud \u6d41\u5f0f\u50b3\u8f38\u5230 Splunk\u3002 |\n\u5982\u9700\u77ad\u89e3\u5982\u4f55\u5553\u7528\u5176\u4ed6\u65e5\u8a8c\u985e\u578b\u4ee5\u53ca\u7de8\u5beb\u65e5\u8a8c\u63a5\u6536\u5668\u904e\u6ffe\u689d\u4ef6\uff0c\u8acb\u53c3\u95b1 [\u65e5\u8a8c\u7bc4\u570d\u9650\u5b9a\u5de5\u5177](https://cloud.google.com/architecture/security-log-analytics?hl=zh-cn#log_scoping_tool) \u3002\n## \u4f7f\u7528 Security Command Center \u9032\u884c\u5a01\u8105\u76e3\u63a7\n\u6211\u5011\u5efa\u8b70\u60a8\u7232\u7d44\u7e54\u6fc0\u6d3b [Security Command Center \u9ad8\u7d1a\u65b9\u6848](https://cloud.google.com/security-command-center/docs/concepts-security-command-center-overview?hl=zh-cn) \uff0c\u4ee5\u81ea\u52d5\u6aa2\u6e2c Google Cloud \u8cc7\u6e90\u4e2d\u7684\u5a01\u8105\u3001\u6f0f\u6d1e\u548c\u914d\u7f6e\u932f\u8aa4\u3002Security Command Center \u6703\u5f9e\u591a\u500b\u4f86\u6e90\u5275\u5efa\u5b89\u5168\u6027\u767c\u73fe\u7d50\u679c\uff0c\u5305\u62ec\uff1a\n- **Security Health Analytics** \uff1a\u6aa2\u6e2c Google Cloud \u8cc7\u6e90\u4e2d\u7684\u5e38\u898b\u6f0f\u6d1e\u548c\u914d\u7f6e\u932f\u8aa4\u3002\n- **\u653b\u64ca\u8def\u5f91\u516c\u958b** \uff1a\u986f\u793a\u653b\u64ca\u8005\u5982\u4f55\u6839\u64da\u5176\u4ed6 Security Command Center \u4f86\u6e90\u6aa2\u6e2c\u5230\u7684\u6f0f\u6d1e\u548c\u932f\u8aa4\u914d\u7f6e\u5229\u7528\u60a8\u7684\u9ad8\u50f9\u503c\u8cc7\u6e90\u7684\u6a21\u64ec\u8def\u5f91\u3002\n- **Event Threat Detection** \uff1a\u6839\u64da\u60a8\u7684\u65e5\u8a8c\u61c9\u7528\u6aa2\u6e2c\u908f\u8f2f\u548c\u5c08\u6709\u5a01\u8105\u60c5\u5831\uff0c\u4ee5\u8fd1\u4e4e\u5be6\u6642\u7684\u65b9\u5f0f\u8b58\u5225\u5a01\u8105\u3002\n- **Container Threat Detection** \uff1a\u6aa2\u6e2c\u5e38\u898b\u7684\u5bb9\u5668\u904b\u884c\u6642\u653b\u64ca\u3002\n- **Virtual Machine Threat Detection** \uff1a\u6aa2\u6e2c\u865b\u64ec\u6a5f\u4e0a\u904b\u884c\u7684\u6f5b\u5728\u60e1\u610f\u61c9\u7528\u3002\n- **Web Security Scanner** \uff1a\u6383\u63cf Compute Engine\u3001App Engine \u6216 Google Kubernetes Engine \u4e0a\u9762\u5411 Web \u7684\u61c9\u7528\u4e2d\u7684 OWASP \u5341\u5927\u6f0f\u6d1e\u3002\n\u5982\u9700\u8a73\u7d30\u77ad\u89e3 Security Command Center \u89e3\u6c7a\u7684\u6f0f\u6d1e\u548c\u5a01\u8105\uff0c\u8acb\u53c3\u95b1 [Security Command Center \u4f86\u6e90](https://cloud.google.com/security-command-center/docs/concepts-security-sources?hl=zh-cn) \u3002\n\u90e8\u7f72\u85cd\u5716\u5f8c\uff0c\u60a8\u5fc5\u9808\u6fc0\u6d3b Security Command Center\u3002\u5982\u9700\u67e5\u770b\u76f8\u95dc\u8aaa\u660e\uff0c\u8acb\u53c3\u95b1 [\u7232\u7d44\u7e54\u6fc0\u6d3b Security Command Center](https://cloud.google.com/security-command-center/docs/activate-scc-for-an-organization?hl=zh-cn) \u3002\n\u6fc0\u6d3b Security Command Center \u5f8c\uff0c\u6211\u5011\u5efa\u8b70\u60a8\u5c07 Security Command Center \u751f\u6210\u7684\u767c\u73fe\u7d50\u679c\u5c0e\u51fa\u5230\u73fe\u6709\u5de5\u5177\u6216\u6d41\u7a0b\uff0c\u4ee5\u5c0d\u5a01\u8105\u9032\u884c\u5206\u985e\u548c\u97ff\u61c9\u3002\u6b64\u85cd\u5716\u5275\u5efa `prj-c-scc` \u9805\u76ee\uff0c\u5176\u4e2d\u5305\u542b\u8981\u7528\u65bc\u6b64\u96c6\u6210\u7684 Pub/Sub \u4e3b\u984c\u3002\u6839\u64da\u73fe\u6709\u5de5\u5177\uff0c\u4f7f\u7528\u4ee5\u4e0b\u4efb\u4e00\u65b9\u6cd5\u5c0e\u51fa\u767c\u73fe\u7d50\u679c\uff1a\n- \u5982\u679c\u60a8\u4f7f\u7528\u63a7\u5236\u6aaf\u76f4\u63a5\u5728 Security Command Center \u4e2d\u7ba1\u7406\u5b89\u5168\u767c\u73fe\u7d50\u679c\uff0c\u8acb\u7232 Security Command Center \u914d\u7f6e [\u6587\u4ef6\u593e\u7d1a\u5c64\u548c\u9805\u76ee\u7d1a\u5c64\u89d2\u8272](https://cloud.google.com/security-command-center/docs/access-control-org?hl=zh-cn#folder-level_and_project-level_roles) \uff0c\u4ee5\u4fbf\u5718\u968a\u50c5\u67e5\u770b\u548c\u7ba1\u7406\u4ed6\u5011\u6240\u8ca0\u8cac\u9805\u76ee\u7684\u5b89\u5168\u767c\u73fe\u7d50\u679c\u3002\n- \u5982\u679c\u60a8\u4f7f\u7528 Chronicle \u4f5c\u7232 SIEM\uff0c\u8acb [\u5c07 Google Cloud \u6578\u64da\u6ce8\u5165\u5230 Chronicle](https://cloud.google.com/chronicle/docs/ingestion/cloud/ingest-gcp-logs?hl=zh-cn) \u3002\n- \u5982\u679c\u60a8\u901a\u904e\u8207 Security Command Center \u96c6\u6210\u4f86\u4f7f\u7528 SIEM \u6216 SOAR \u5de5\u5177\uff0c\u8acb\u8207 [Cortex XSOAR](https://cloud.google.com/security-command-center/docs/how-to-configure-scc-cortex-xsoar?hl=zh-cn) \u3001 [Elastic Stack](https://cloud.google.com/security-command-center/docs/how-to-configure-scc-elastic-stack-docker?hl=zh-cn) \u3001 [ServiceNow](https://cloud.google.com/security-command-center/docs/how-to-configure-scc-servicenow?hl=zh-cn) \u3001 [Splunk](https://cloud.google.com/security-command-center/docs/how-to-configure-scc-splunk?hl=zh-cn) \u6216 [QRadar](https://cloud.google.com/security-command-center/docs/how-to-configure-scc-qradar?hl=zh-cn) \u5171\u4eab\u6578\u64da\u3002\n- \u5982\u679c\u60a8\u4f7f\u7528\u53ef\u5f9e Pub/Sub \u6ce8\u5165\u767c\u73fe\u7d50\u679c\u7684\u5916\u90e8\u5de5\u5177\uff0c\u8acb\u5c07 [\u6301\u7e8c\u5c0e\u51fa](https://cloud.google.com/security-command-center/docs/how-to-export-data?hl=zh-cn#continuous_exports) \u914d\u7f6e\u7232 Pub/Sub\uff0c\u4e26\u5c07\u73fe\u6709\u5de5\u5177\u914d\u7f6e\u7232\u5f9e Pub/Sub \u4e3b\u984c\u6ce8\u5165\u767c\u73fe\u7d50\u679c\u3002## \u57fa\u65bc\u65e5\u8a8c\u7684\u6307\u6a19\u548c\u6027\u80fd\u6307\u6a19\u63d0\u9192\n\u7576\u60a8\u958b\u59cb\u5728\u57fa\u790e\u4e0a\u90e8\u7f72\u5de5\u4f5c\u8ca0\u8f09\u6642\uff0c\u6211\u5011\u5efa\u8b70\u60a8\u4f7f\u7528 Cloud Monitoring \u4f86\u8861\u91cf\u6027\u80fd\u6307\u6a19\u3002\n\u6b64\u85cd\u5716\u6703\u7232\u6bcf\u500b\u74b0\u5883\u5275\u5efa\u4e00\u500b\u76e3\u63a7\u9805\u76ee\uff0c\u4f8b\u5982 `prj-p-monitoring` \u3002\u6b64\u9805\u76ee\u914d\u7f6e\u7232 [\u7bc4\u570d\u9650\u5b9a\u9805\u76ee](https://cloud.google.com/monitoring/settings?hl=zh-cn#example) \uff0c\u4ee5\u8de8\u591a\u500b\u9805\u76ee\u6536\u96c6\u805a\u5408\u6027\u80fd\u6307\u6a19\u3002\u6b64\u85cd\u5716\u5c07\u90e8\u7f72\u4e00\u500b\u5305\u542b [\u57fa\u65bc\u65e5\u8a8c\u7684\u6307\u6a19](https://cloud.google.com/logging/docs/logs-based-metrics?hl=zh-cn) \u548c [\u63d0\u9192\u653f\u7b56](https://cloud.google.com/monitoring/alerts?hl=zh-cn) \u7684\u793a\u4f8b\uff0c\u4ee5\u4fbf\u5728\u61c9\u7528\u65bc Cloud Storage \u5b58\u5132\u6876\u7684 IAM \u653f\u7b56\u767c\u751f\u4efb\u4f55\u66f4\u6539\u6642\u751f\u6210\u96fb\u5b50\u90f5\u4ef6\u901a\u77e5\u3002\u9019\u6709\u52a9\u65bc\u76e3\u63a7\u654f\u611f\u8cc7\u6e90\uff08\u4f8b\u5982 `prj-b-seed` \u9805\u76ee\u4e2d\u5305\u542b Terraform \u72c0\u614b\u7684\u5b58\u5132\u6876\uff09\u4e0a\u7684\u53ef\u7591\u6d3b\u52d5\u3002\n\u901a\u5e38\uff0c\u60a8\u9084\u53ef\u4ee5\u4f7f\u7528 Cloud Monitoring \u4f86\u8861\u91cf\u5de5\u4f5c\u8ca0\u8f09\u61c9\u7528\u7684\u6027\u80fd\u6307\u6a19\u548c\u904b\u884c\u72c0\u6cc1\u3002\u6839\u64da\u60a8\u7d44\u7e54\u4e2d\u652f\u6301\u548c\u76e3\u63a7\u61c9\u7528\u7684\u904b\u71df\u8077\u8cac\uff0c\u60a8\u53ef\u4ee5\u7232\u4e0d\u540c\u5718\u968a\u5275\u5efa\u66f4\u7cbe\u7d30\u7684\u76e3\u63a7\u9805\u76ee\u3002\u4f7f\u7528\u9019\u4e9b\u76e3\u63a7\u9805\u76ee\u53ef\u67e5\u770b\u6027\u80fd\u6307\u6a19\u3001\u5275\u5efa\u61c9\u7528\u904b\u884c\u72c0\u6cc1\u4fe1\u606f\u4e2d\u5fc3\uff0c\u4e26\u5728\u672a\u9054\u5230\u9810\u671f\u7684 SLO \u6642\u89f8\u767c\u63d0\u9192\u3002\n\u4e0b\u5716\u7c21\u8981\u5c55\u793a\u4e86 Cloud Monitoring \u5982\u4f55\u805a\u5408\u6027\u80fd\u6307\u6a19\u3002\n\u5982\u9700\u77ad\u89e3\u5982\u4f55\u6709\u6548\u5730\u76e3\u63a7\u5de5\u4f5c\u8ca0\u8f09\u4ee5\u78ba\u4fdd\u53ef\u9760\u6027\u548c\u53ef\u7528\u6027\uff0c\u8acb\u53c3\u95b1 Google \u7684 [\u300a\u7ad9\u9ede\u53ef\u9760\u6027\u5de5\u7a0b\u300b\u4e00\u66f8](https://sre.google/books/?hl=zh-cn) \uff0c\u91cd\u9ede\u95b1\u8b80\u4ecb\u7d39 [\u76e3\u63a7\u5206\u4f48\u5f0f\u7cfb\u7d71](https://sre.google/sre-book/monitoring-distributed-systems/?hl=zh-cn) \u7684\u7ae0\u7bc0\u3002\n## \u7528\u65bc\u81ea\u52d5\u65e5\u8a8c\u5206\u6790\u7684\u81ea\u5b9a\u7fa9\u89e3\u6c7a\u65b9\u6848\n\u60a8\u53ef\u80fd\u9700\u8981\u6839\u64da\u65e5\u8a8c\u7232\u57fa\u65bc\u81ea\u5b9a\u7fa9\u67e5\u8a62\u7684\u5b89\u5168\u6027\u4e8b\u4ef6\u5275\u5efa\u63d0\u9192\u3002\u81ea\u5b9a\u7fa9\u67e5\u8a62\u53ef\u901a\u904e\u5206\u6790 Google Cloud \u4e0a\u7684\u65e5\u8a8c\u4e26\u50c5\u5c0e\u51fa\u503c\u5f97\u8abf\u67e5\u7684\u4e8b\u4ef6\uff0c\u5e6b\u52a9\u88dc\u5145 SIEM \u7684\u529f\u80fd\uff0c\u5c24\u5176\u662f\u7576\u60a8\u7121\u6cd5\u5c07\u6240\u6709\u4e91\u65e5\u8a8c\u5c0e\u51fa\u5230 SIEM \u6642\u3002\n\u6b64\u85cd\u5716\u901a\u904e\u8a2d\u7f6e\u53ef\u4f7f\u7528\u95dc\u806f\u7684 BigQuery \u6578\u64da\u96c6\u67e5\u8a62\u7684\u96c6\u4e2d\u5f0f\u65e5\u8a8c\u4f86\u6e90\uff0c\u5e6b\u52a9\u5553\u7528\u6b64\u65e5\u8a8c\u5206\u6790\u3002\u5982\u9700\u81ea\u52d5\u57f7\u884c\u6b64\u529f\u80fd\uff0c\u60a8\u5fc5\u9808\u5be6\u73fe [bq-log-alerting](https://github.com/terraform-google-modules/terraform-google-log-export/tree/master/modules/bq-log-alerting) \u4e2d\u7684\u4ee3\u78bc\u793a\u4f8b\uff0c\u4e26\u64f4\u5c55\u57fa\u790e\u529f\u80fd\u3002\u901a\u904e\u793a\u4f8b\u4ee3\u78bc\uff0c\u60a8\u53ef\u4ee5\u5b9a\u671f\u67e5\u8a62\u65e5\u8a8c\u6e90\u4e26\u5c07\u81ea\u5b9a\u7fa9\u767c\u73fe\u7d50\u679c\u767c\u9001\u5230 Security Command Center\u3002\n\u4e0b\u5716\u5c55\u793a\u4e86\u81ea\u52d5\u65e5\u8a8c\u5206\u6790\u7684\u7c21\u8981\u6d41\u7a0b\u3002\n\u4e0b\u5716\u5c55\u793a\u4e86\u81ea\u52d5\u65e5\u8a8c\u5206\u6790\u7684\u4ee5\u4e0b\u6982\u5ff5\uff1a\n- \u4f86\u81ea\u4e0d\u540c\u4f86\u6e90\u7684\u65e5\u8a8c\u6703\u805a\u5408\u5230\u4e00\u500b\u96c6\u4e2d\u5f0f\u65e5\u8a8c\u5b58\u5132\u6876\u4e2d\uff0c\u5176\u4e2d\u5305\u542b\u65e5\u8a8c\u5206\u6790\u548c\u95dc\u806f\u7684 BigQuery \u6578\u64da\u96c6\u3002\n- BigQuery \u8996\u5716\u914d\u7f6e\u7232\u67e5\u8a62\u8981\u76e3\u63a7\u7684\u5b89\u5168\u6027\u4e8b\u4ef6\u7684\u65e5\u8a8c\u3002\n- Cloud Scheduler \u6bcf 15 \u5206\u9418\u5c07\u4e8b\u4ef6\u63a8\u9001\u5230 Pub/Sub \u4e3b\u984c\u4e00\u6b21\u4e26\u89f8\u767c Cloud Functions \u51fd\u6578\u3002\n- Cloud Functions \u51fd\u6578\u6703\u5728\u8996\u5716\u4e2d\u67e5\u8a62\u65b0\u4e8b\u4ef6\u3002\u5982\u679c\u767c\u73fe\u4e8b\u4ef6\uff0c\u5247\u6703\u5c07\u5176\u4f5c\u7232\u81ea\u5b9a\u7fa9\u767c\u73fe\u7d50\u679c\u63a8\u9001\u5230 Security Command Center\u3002\n- Security Command Center \u6703\u5c07\u95dc\u65bc\u65b0\u767c\u73fe\u7d50\u679c\u7684\u901a\u77e5\u767c\u4f48\u5230\u53e6\u4e00\u500b Pub/Sub \u4e3b\u984c\u3002\n- SIEM \u7b49\u5916\u90e8\u5de5\u5177\u6703\u8a02\u95b1 Pub/Sub \u4e3b\u984c\uff0c\u4ee5\u6ce8\u5165\u65b0\u7684\u767c\u73fe\u7d50\u679c\u3002\n\u8a72\u793a\u4f8b\u6709\u591a\u500b\u53ef\u67e5\u8a62\u6f5b\u5728\u53ef\u7591\u884c\u7232\u7684 [\u4f7f\u7528\u5834\u666f](https://github.com/terraform-google-modules/terraform-google-log-export/blob/master/modules/bq-log-alerting/use-cases/README.md) \u3002\u4f8b\u5982\uff0c\u901a\u904e\u60a8\u6307\u5b9a\u7684\u4e00\u7cfb\u5217\u8d85\u7d1a\u7528\u6236\u6216\u5176\u4ed6\u5177\u6709\u9ad8\u5ea6\u7279\u6b0a\u7684\u8cec\u865f\u767b\u9304\u3001\u66f4\u6539\u65e5\u8a8c\u8a18\u9304\u8a2d\u7f6e\uff0c\u6216\u8005\u66f4\u6539\u7db2\u7d61\u8def\u7531\u3002\u60a8\u53ef\u4ee5\u901a\u904e\u91dd\u5c0d\u8981\u6c42\u7de8\u5beb\u65b0\u7684\u67e5\u8a62\u8996\u5716\u4f86\u64f4\u5c55\u4f7f\u7528\u5834\u666f\u3002\u81ea\u884c\u7de8\u5beb\u67e5\u8a62\u6216\u53c3\u8003 [\u5b89\u5168\u65e5\u8a8c\u5206\u6790](https://cloud.google.com/architecture/security-log-analytics?hl=zh-cn#analyze_logs) \u4ee5\u7372\u53d6\u53ef\u5e6b\u52a9\u60a8\u5206\u6790 Google Cloud \u65e5\u8a8c\u7684 SQL \u67e5\u8a62\u5eab\u3002\n## \u7528\u65bc\u97ff\u61c9\u8cc7\u7522\u8b8a\u5316\u7684\u81ea\u5b9a\u7fa9\u89e3\u6c7a\u65b9\u6848\n\u5982\u9700\u5be6\u6642\u97ff\u61c9\u4e8b\u4ef6\uff0c\u6211\u5011\u5efa\u8b70\u60a8\u4f7f\u7528 Cloud Asset Inventory \u4f86 [\u76e3\u63a7\u8cc7\u7522\u66f4\u6539](https://cloud.google.com/asset-inventory/docs/monitoring-asset-changes?hl=zh-cn) \u3002\u5728\u9019\u500b\u81ea\u5b9a\u7fa9\u89e3\u6c7a\u65b9\u6848\u4e2d\uff0c\u8cc7\u7522 Feed \u914d\u7f6e\u7232\u5be6\u6642\u89f8\u767c\u5411 Pub/Sub \u767c\u9001\u95dc\u65bc\u8cc7\u6e90\u66f4\u6539\u7684\u901a\u77e5\uff0c\u7136\u5f8c Cloud Functions \u904b\u884c\u81ea\u5b9a\u7fa9\u4ee3\u78bc\uff0c\u4ee5\u6839\u64da\u662f\u5426\u61c9\u5141\u8a31\u66f4\u6539\u4f86\u5f37\u5236\u57f7\u884c\u60a8\u81ea\u5df1\u7684\u696d\u52d9\u908f\u8f2f\u3002\n\u6b64\u85cd\u5716\u5177\u6709\u4e00\u500b\u81ea\u5b9a\u7fa9\u6cbb\u7406\u89e3\u6c7a\u65b9\u6848\u793a\u4f8b\uff0c\u8a72\u89e3\u6c7a\u65b9\u6848\u76e3\u63a7\u6709\u95dc\u6dfb\u52a0\u9ad8\u5ea6\u654f\u611f\u89d2\u8272\uff08\u5305\u62ec Organization Admin\u3001Owner \u548c Editor\uff09\u7684 IAM \u66f4\u6539\u3002\u4e0b\u5716\u63cf\u8ff0\u4e86\u6b64\u89e3\u6c7a\u65b9\u6848\u3002\n\u4e0a\u5716\u5c55\u793a\u4e86\u4ee5\u4e0b\u6982\u5ff5\uff1a\n- \u5c0d\u5141\u8a31\u653f\u7b56\u9032\u884c\u66f4\u6539\u3002\n- Cloud Asset Inventory Feed \u6703\u5411 Pub/Sub \u767c\u9001\u6709\u95dc\u5141\u8a31\u653f\u7b56\u66f4\u6539\u7684\u5be6\u6642\u901a\u77e5\u3002\n- Pub/Sub \u6703\u89f8\u767c\u51fd\u6578\u3002\n- Cloud Functions \u51fd\u6578\u904b\u884c\u81ea\u5b9a\u7fa9\u4ee3\u78bc\u4f86\u5f37\u5236\u57f7\u884c\u60a8\u7684\u653f\u7b56\u3002\u793a\u4f8b\u51fd\u6578\u5177\u6709\u8a55\u4f30\u66f4\u6539\u662f\u5426\u5df2\u5c07 Organization Admin\u3001Owner \u6216 Editor \u89d2\u8272\u6dfb\u52a0\u5230\u5141\u8a31\u653f\u7b56\u7684\u908f\u8f2f\u3002\u5982\u679c\u662f\u9019\u6a23\uff0c\u8a72\u51fd\u6578\u6703 [\u5275\u5efa\u81ea\u5b9a\u7fa9\u5b89\u5168\u767c\u73fe\u7d50\u679c](https://cloud.google.com/security-command-center/docs/how-to-api-create-manage-findings?hl=zh-cn) \u4e26\u5c07\u5176\u767c\u9001\u5230 Security Command Center\u3002\n- \uff08\u53ef\u9078\uff09\u60a8\u53ef\u4ee5\u4f7f\u7528\u6b64\u6a21\u578b\u81ea\u52d5\u9032\u884c\u88dc\u6551\u5de5\u4f5c\u3002\u5728 Cloud Functions \u51fd\u6578\u4e2d\u7de8\u5beb\u5176\u4ed6\u696d\u52d9\u908f\u8f2f\uff0c\u4ee5\u81ea\u52d5\u5c0d\u767c\u73fe\u7d50\u679c\u57f7\u884c\u64cd\u4f5c\uff0c\u4f8b\u5982\u5c07\u5141\u8a31\u653f\u7b56\u9084\u539f\u7232\u5176\u4e4b\u524d\u7684\u72c0\u614b\u3002\n\u6b64\u5916\uff0c\u60a8\u9084\u53ef\u4ee5\u64f4\u5c55\u6b64\u793a\u4f8b\u89e3\u6c7a\u65b9\u6848\u4f7f\u7528\u7684\u57fa\u790e\u8a2d\u65bd\u548c\u908f\u8f2f\uff0c\u4ee5\u5411\u5c0d\u60a8\u7684\u696d\u52d9\u81f3\u95dc\u91cd\u8981\u7684\u5176\u4ed6\u4e8b\u4ef6\u6dfb\u52a0\u81ea\u5b9a\u7fa9\u97ff\u61c9\u3002\n## \u5f8c\u7e8c\u6b65\u9a5f\n- \u77ad\u89e3 [\u9810\u9632\u6027\u63a7\u5236](https://cloud.google.com/architecture/security-foundations/preventative-controls?hl=zh-cn) \uff08\u672c\u7cfb\u5217\u7684\u4e0b\u4e00\u500b\u6587\u6a94\uff09\u3002\n# \u53ef\u63a5\u53d7\u7684\u8cc7\u6e90\u914d\u7f6e\u7684\u9810\u9632\u6027\u63a7\u5236\n\u6211\u5011\u5efa\u8b70\u60a8\u5b9a\u7fa9\u653f\u7b56\u9650\u5236\u689d\u4ef6\uff0c\u4ee5\u5be6\u65bd\u53ef\u63a5\u53d7\u7684\u8cc7\u6e90\u914d\u7f6e\u548c\u9632\u6b62\u6709\u98a8\u96aa\u7684\u914d\u7f6e\u3002\u6b64\u85cd\u5716\u5728\u6d41\u6c34\u7dda\u4e2d\u7d50\u5408\u4f7f\u7528\u4e86\u7d44\u7e54\u653f\u7b56\u9650\u5236\u689d\u4ef6\u548c\u57fa\u790e\u8a2d\u65bd\u5373\u4ee3\u78bc (IaC) \u9a57\u8b49\u3002\u9019\u4e9b\u63a7\u5236\u53ef\u9632\u6b62\u5275\u5efa\u4e0d\u7b26\u5408\u653f\u7b56\u6307\u5357\u7684\u8cc7\u6e90\u3002\u5728\u8a2d\u8a08\u548c\u69cb\u5efa\u5de5\u4f5c\u8ca0\u8f09\u6642\u5118\u65e9\u5be6\u65bd\u9019\u4e9b\u63a7\u5236\u6709\u52a9\u65bc\u907f\u514d\u65e5\u5f8c\u9700\u8981\u57f7\u884c\u88dc\u6551\u5de5\u4f5c\u3002\n## \u7d44\u7e54\u653f\u7b56\u9650\u5236\u689d\u4ef6\n[\u7d44\u7e54\u653f\u7b56](https://cloud.google.com/resource-manager/docs/organization-policy/overview?hl=zh-cn) \u670d\u52d9\u6703\u5f37\u5236\u57f7\u884c\u9650\u5236\u689d\u4ef6\uff0c\u4ee5\u78ba\u4fdd\u5728\u60a8\u7684 Google Cloud \u7d44\u7e54\u4e2d\u7121\u6cd5\u5275\u5efa\u67d0\u4e9b\u8cc7\u6e90\u914d\u7f6e\uff0c\u5373\u4f7f\u64c1\u6709\u8db3\u5920\u6b0a\u9650\u7684 IAM \u89d2\u8272\u7684\u4eba\u54e1\u4e5f\u7121\u6cd5\u5275\u5efa\u9019\u4e9b\u914d\u7f6e\u3002\n\u6b64\u85cd\u5716\u5728\u7d44\u7e54\u7bc0\u9ede\u5f37\u5236\u57f7\u884c\u653f\u7b56\uff0c\u4ee5\u4fbf\u7d44\u7e54\u4e2d\u7684\u6240\u6709\u6587\u4ef6\u593e\u548c\u9805\u76ee\u90fd\u6703\u7e7c\u627f\u9019\u4e9b\u63a7\u5236\u3002\u9019\u5957\u653f\u7b56\u65e8\u5728\u9632\u6b62\u67d0\u4e9b\u9ad8\u98a8\u96aa\u7684\u914d\u7f6e\uff08\u4f8b\u5982\u5c07\u865b\u64ec\u6a5f\u516c\u958b\u7d66\u516c\u5171\u4e92\u806f\u7db2\u6216\u6388\u4e88\u5c0d\u5b58\u5132\u6876\u7684\u516c\u5171\u8a2a\u554f\u6b0a\u9650\uff09\uff0c\u9664\u975e\u60a8\u6709\u610f\u5141\u8a31\u6b64\u653f\u7b56\u7684\u4f8b\u5916\u60c5\u6cc1\u3002\n\u4e0b\u8868\u4ecb\u7d39\u4e86\u6b64\u85cd\u5716\u4e2d\u5be6\u65bd\u7684 [\u7d44\u7e54\u653f\u7b56\u9650\u5236\u689d\u4ef6](https://cloud.google.com/resource-manager/docs/organization-policy/org-policy-constraints?hl=zh-cn) \uff1a\n| \u7d44\u7e54\u653f\u7b56\u9650\u5236\u689d\u4ef6         | \u8aaa\u660e                                                                           |\n|:---------------------------------------------------|:---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| compute.disableNestedVirtualization    | \u5982\u679c\u914d\u7f6e\u4e0d\u7576\uff0cCompute Engine \u865b\u64ec\u6a5f\u4e0a\u7684\u5d4c\u5957\u865b\u64ec\u5316\u53ef\u80fd\u6703\u907f\u958b\u865b\u64ec\u6a5f\u7684\u76e3\u63a7\u529f\u80fd\u548c\u5176\u4ed6\u5b89\u5168\u5de5\u5177\u3002\u6b64\u9650\u5236\u689d\u4ef6\u6703\u963b\u6b62\u5275\u5efa\u5d4c\u5957\u865b\u64ec\u5316\u3002                                             |\n| compute.disableSerialPortAccess     | compute.instanceAdmin \u7b49 IAM \u89d2\u8272\u5141\u8a31\u4f7f\u7528 SSH \u5bc6\u9470\u5c0d\u5be6\u4f8b\u4e32\u884c\u7aef\u53e3\u9032\u884c\u7279\u6b0a\u8a2a\u554f\u3002\u5982\u679c SSH \u5bc6\u9470\u516c\u958b\uff0c\u5247\u653b\u64ca\u8005\u53ef\u4ee5\u8a2a\u554f\u4e32\u884c\u7aef\u53e3\u4e26\u7e5e\u904e\u7db2\u7d61\u548c\u9632\u706b\u7246\u63a7\u5236\u3002\u6b64\u9650\u5236\u689d\u4ef6\u6703\u963b\u6b62\u4e32\u884c\u7aef\u53e3\u8a2a\u554f\u3002                                |\n| compute.disableVpcExternalIpv6      | \u5982\u679c\u914d\u7f6e\u4e0d\u7576\uff0c\u5916\u90e8 IPv6 \u5b50\u7db2\u53ef\u80fd\u6703\u5411\u672a\u7d93\u6388\u6b0a\u7684\u4e92\u806f\u7db2\u8a2a\u554f\u7684\u958b\u653e\u3002\u6b64\u9650\u5236\u689d\u4ef6\u6703\u963b\u6b62\u5275\u5efa\u5916\u90e8 IPv6 \u5b50\u7db2\u3002                                                   |\n| compute.requireOsLogin        | \u5982\u679c\u5bc6\u9470\u66b4\u9732\uff0c\u5247\u8a2d\u7f6e\u5143\u6578\u64da\u4e2d\u7684 SSH \u5bc6\u9470\u9019\u7a2e\u9ed8\u8a8d\u884c\u7232\u6703\u5141\u8a31\u5c0d\u865b\u64ec\u6a5f\u9032\u884c\u672a\u7d93\u6388\u6b0a\u7684\u9060\u7a0b\u8a2a\u554f\u3002\u6b64\u9650\u5236\u689d\u4ef6\u5f37\u5236\u4f7f\u7528 OS Login \u800c\u4e0d\u662f\u57fa\u65bc\u5143\u6578\u64da\u7684 SSH \u5bc6\u9470\u3002                                        |\n| compute.restrictProtocolForwardingCreationForTypes | \u5982\u679c\u8f49\u767c\u914d\u7f6e\u4e0d\u7576\uff0c\u5916\u90e8 IP \u5730\u5740\u7684\u865b\u64ec\u6a5f\u5354\u8b70\u8f49\u767c\u53ef\u80fd\u6703\u5c0e\u81f4\u672a\u7d93\u6388\u6b0a\u7684\u4e92\u806f\u7db2\u51fa\u7ad9\u6d41\u91cf\u3002\u6b64\u9650\u5236\u689d\u4ef6\u50c5\u5141\u8a31\u7232\u5167\u90e8\u5730\u5740\u8f49\u767c\u865b\u64ec\u6a5f\u5354\u8b70\u3002                                             |\n| compute.restrictXpnProjectLienRemoval    | \u522a\u9664\u5171\u4eab VPC \u5bbf\u4e3b\u9805\u76ee\u53ef\u80fd\u6703\u4e2d\u65b7\u6240\u6709\u4f7f\u7528\u7db2\u7d61\u8cc7\u6e90\u7684\u670d\u52d9\u9805\u76ee\u3002\u6b64\u9650\u5236\u689d\u4ef6\u53ef\u9632\u6b62\u9019\u4e9b\u9805\u76ee\u7684\u9805\u76ee\u5b89\u5168\u9396\u88ab\u79fb\u9664\uff0c\u5f9e\u800c\u9632\u6b62\u610f\u5916\u6216\u60e1\u610f\u522a\u9664\u5171\u4eab VPC \u5bbf\u4e3b\u9805\u76ee\u3002                                        |\n| compute.setNewProjectDefaultToZonalDNSOnly   | \u5efa\u8b70\u4e0d\u8981\u4f7f\u7528\u5168\u5c40\uff08\u9805\u76ee\u7bc4\u570d\uff09\u5167\u90e8 DNS \u820a\u7248\u8a2d\u7f6e\uff0c\u56e0\u7232\u9019\u6703\u964d\u4f4e\u670d\u52d9\u53ef\u7528\u6027\u3002\u6b64\u9650\u5236\u689d\u4ef6\u53ef\u9632\u6b62\u4f7f\u7528\u820a\u7248\u8a2d\u7f6e\u3002                                                   |\n| compute.skipDefaultNetworkCreation     | \u7cfb\u7d71\u6703\u5728\u5553\u7528 Compute Engine API \u7684\u6bcf\u500b\u65b0\u9805\u76ee\u4e2d\u5275\u5efa\u9ed8\u8a8d VPC \u7db2\u7d61\u548c\u904e\u65bc\u5bec\u9b06\u7684\u9ed8\u8a8d VPC \u9632\u706b\u7246\u898f\u5247\u3002\u6b64\u9650\u5236\u689d\u4ef6\u6703\u8df3\u904e\u9ed8\u8a8d\u7db2\u7d61\u548c\u9ed8\u8a8d VPC \u9632\u706b\u7246\u898f\u5247\u7684\u5275\u5efa\u3002                                       |\n| compute.vmExternalIpAccess       | \u9ed8\u8a8d\u60c5\u6cc1\u4e0b\uff0c\u865b\u64ec\u6a5f\u662f\u4f7f\u7528\u5916\u90e8 IPv4 \u5730\u5740\u5275\u5efa\u7684\uff0c\u9019\u53ef\u80fd\u6703\u5c0e\u81f4\u672a\u7d93\u6388\u6b0a\u7684\u4e92\u806f\u7db2\u8a2a\u554f\u3002\u6b64\u9650\u5236\u689d\u4ef6\u914d\u7f6e\u4e00\u500b\u7a7a\u7684\u5916\u90e8 IP \u5730\u5740\u8a31\u53ef\u540d\u55ae\uff0c\u865b\u64ec\u6a5f\u53ef\u4ee5\u4f7f\u7528\u6b64\u8a31\u53ef\u540d\u55ae\uff0c\u4e26\u62d2\u7d55\u6240\u6709\u5176\u4ed6\u5730\u5740\u3002                                  |\n| essentialcontacts.allowedContactDomains   | \u9ed8\u8a8d\u60c5\u6cc1\u4e0b\uff0c\u91cd\u8981\u806f\u7e6b\u4eba\u53ef\u4ee5\u914d\u7f6e\u7232\u5c07\u6709\u95dc\u60a8\u7684\u7db2\u57df\u7684\u901a\u77e5\u767c\u9001\u5230\u4efb\u4f55\u5176\u4ed6\u7db2\u57df\u3002\u6b64\u9650\u5236\u689d\u4ef6\u5f37\u5236\u8981\u6c42\u53ea\u6709\u5df2\u6279\u51c6\u7db2\u57df\u4e2d\u7684\u96fb\u5b50\u90f5\u4ef6\u5730\u5740\u624d\u80fd\u8a2d\u7f6e\u7232\u91cd\u8981\u806f\u7e6b\u4eba\u7684\u6536\u4ef6\u4eba\u3002                                       |\n| iam.allowedPolicyMemberDomains      | \u9ed8\u8a8d\u60c5\u6cc1\u4e0b\uff0c\u53ef\u4ee5\u5411\u4efb\u4f55 Google \u8cec\u865f\uff08\u5305\u62ec\u975e\u53d7\u7ba1\u8cec\u865f\u548c\u5c6c\u65bc\u5916\u90e8\u7d44\u7e54\u7684\u8cec\u865f\uff09\u6388\u4e88\u5141\u8a31\u653f\u7b56\u3002\u6b64\u9650\u5236\u689d\u4ef6\u53ef\u78ba\u4fdd\u53ea\u80fd\u5411\u60a8\u81ea\u5df1\u7db2\u57df\u4e2d\u7684\u53d7\u7ba1\u7406\u8cec\u865f\u6388\u4e88\u7d44\u7e54\u4e2d\u7684\u5141\u8a31\u653f\u7b56\u3002 \u60a8\u4e5f\u53ef\u4ee5\u9078\u64c7\u5141\u8a31\u5176\u4ed6\u7db2\u57df\u3002                               |\n| iam.automaticIamGrantsForDefaultServiceAccounts | \u9ed8\u8a8d\u60c5\u6cc1\u4e0b\uff0c\u7cfb\u7d71\u6703\u81ea\u52d5\u5411\u9ed8\u8a8d\u670d\u52d9\u8cec\u865f\u6388\u4e88\u904e\u65bc\u5bec\u9b06\u7684\u89d2\u8272\u3002\u6b64\u9650\u5236\u689d\u4ef6\u53ef\u9632\u6b62\u81ea\u52d5\u5411\u9ed8\u8a8d\u670d\u52d9\u8cec\u865f\u6388\u4e88 IAM \u89d2\u8272\u3002                                                  |\n| iam.disableServiceAccountKeyCreation    | \u670d\u52d9\u8cec\u865f\u5bc6\u9470\u662f\u9ad8\u98a8\u96aa\u7684\u6c38\u4e45\u6027\u6191\u64da\uff0c\u5728\u5927\u591a\u6578\u60c5\u6cc1\u4e0b\uff0c\u53ef\u4ee5\u4f7f\u7528\u66f4\u5b89\u5168\u7684\u670d\u52d9\u8cec\u865f\u5bc6\u9470\u66ff\u4ee3\u65b9\u6848\u3002\u6b64\u9650\u5236\u689d\u4ef6\u6703\u963b\u6b62\u5275\u5efa\u670d\u52d9\u8cec\u865f\u5bc6\u9470\u3002                                              |\n| iam.disableServiceAccountKeyUpload     | \u5982\u679c\u5bc6\u9470\u6750\u6599\u66b4\u9732\uff0c\u5247\u4e0a\u50b3\u670d\u52d9\u8cec\u865f\u5bc6\u9470\u6750\u6599\u53ef\u80fd\u6703\u589e\u52a0\u98a8\u96aa\u3002\u6b64\u9650\u5236\u689d\u4ef6\u53ef\u963b\u6b62\u4e0a\u50b3\u670d\u52d9\u8cec\u865f\u5bc6\u9470\u3002                                                      |\n| sql.restrictAuthorizedNetworks      | \u5982\u679c\u5c07 Cloud SQL \u5be6\u4f8b\u914d\u7f6e\u7232\u4e0d\u901a\u904e Cloud SQL Auth \u4ee3\u7406\u4f7f\u7528\u6388\u6b0a\u7db2\u7d61\uff0c\u5247\u8a72\u5be6\u4f8b\u53ef\u80fd\u5411\u672a\u7d93\u8eab\u4efd\u9a57\u8b49\u7684\u4e92\u806f\u7db2\u8a2a\u554f\u958b\u653e\u3002\u6b64\u653f\u7b56\u53ef\u9632\u6b62\u914d\u7f6e\u6388\u6b0a\u7db2\u7d61\u9032\u884c\u6578\u64da\u5eab\u8a2a\u554f\uff0c\u4e26\u5f37\u5236\u8a72\u7528 Cloud SQL Auth \u4ee3\u7406\u3002                              |\n| sql.restrictPublicIp        | \u5982\u679c\u4f7f\u7528\u516c\u5171 IP \u5730\u5740\u5275\u5efa\u5be6\u4f8b\uff0c\u5247 Cloud SQL \u5be6\u4f8b\u53ef\u80fd\u6703\u5411\u672a\u7d93\u8eab\u4efd\u9a57\u8b49\u7684\u4e92\u806f\u7db2\u8a2a\u554f\u958b\u653e\u3002\u6b64\u9650\u5236\u689d\u4ef6\u53ef\u9632\u6b62 Cloud SQL \u5be6\u4f8b\u4f7f\u7528 \u516c\u5171 IP \u5730\u5740\u3002                                          |\n| storage.uniformBucketLevelAccess     | \u9ed8\u8a8d\u60c5\u6cc1\u4e0b\uff0c\u53ef\u4ee5\u901a\u904e\u820a\u7248\u8a2a\u554f\u63a7\u5236\u5217\u8868 (ACL)\uff08\u800c\u4e0d\u662f IAM\uff09\u8a2a\u554f Cloud Storage \u4e2d\u7684\u5c0d\u8c61\uff0c\u9019\u53ef\u80fd\u6703\u5728\u914d\u7f6e\u932f\u8aa4\u6642\u5c0e\u81f4\u8a2a\u554f\u6b0a\u9650\u63a7\u5236\u4e0d\u4e00\u81f4\u548c\u610f\u5916\u66b4\u9732\u3002\u820a\u7248 ACL \u8a2a\u554f\u6b0a\u9650\u4e0d\u53d7 iam.allowedPolicyMemberDomains \u9650\u5236\u689d\u4ef6\u7684\u5f71\u97ff\u3002\u6b64\u9650\u5236\u689d\u4ef6\u5f37\u5236\u8981\u6c42\u53ea\u80fd\u901a\u904e IAM \u7d71\u4e00\u5b58\u5132\u6876\u7d1a\u8a2a\u554f\u6b0a\u9650\u914d\u7f6e\u8a2a\u554f\u6b0a\u9650\uff0c\u800c\u4e0d\u80fd\u901a\u904e\u820a\u7248 ACL \u9032\u884c\u914d\u7f6e\u3002 |\n| storage.publicAccessPrevention      | \u5982\u679c\u914d\u7f6e\u932f\u8aa4\uff0cCloud Storage \u5b58\u5132\u6876\u53ef\u80fd\u6703\u5411\u672a\u7d93\u8eab\u4efd\u9a57\u8b49\u7684\u4e92\u806f\u7db2\u8a2a\u554f\u958b\u653e\u3002\u6b64\u9650\u5236\u689d\u4ef6\u53ef\u9632\u6b62\u5411 allUsers \u548c allAuthenticatedUsers \u6388\u4e88\u8a2a\u554f\u6b0a\u9650\u7684 ACL \u548c IAM \u6b0a\u9650\u3002                                     |\n\u9019\u4e9b\u653f\u7b56\u662f\u6211\u5011\u5411\u5927\u591a\u6578\u5ba2\u6236\u548c\u5c0d\u5927\u591a\u6578\u5834\u666f\u63a8\u85a6\u7684\u521d\u59cb\u653f\u7b56\uff0c\u60a8\u53ef\u80fd\u9700\u8981\u4fee\u6539\u7d44\u7e54\u653f\u7b56\u9650\u5236\u689d\u4ef6\uff0c\u4ee5\u9069\u61c9\u67d0\u4e9b\u5de5\u4f5c\u8ca0\u8f09\u985e\u578b\u3002\u4f8b\u5982\uff0c `storage.publicAccessPrevention` \u6703\u963b\u6b62\u4f7f\u7528 Cloud Storage \u5b58\u5132\u6876\u4f5c\u7232\u5f8c\u7aef\u4f9b Cloud CDN \u8a17\u7ba1\u516c\u5171\u8cc7\u6e90\u7684\u5de5\u4f5c\u8ca0\u8f09\uff0c\u6216\u8005 `iam.allowedPolicyMemberDomains` \u6703\u963b\u6b62\u9762\u5411\u516c\u8846\u4e14\u8981\u6c42\u8eab\u4efd\u9a57\u8b49\u7684 Cloud Run \u61c9\u7528\u3002\u5728\u9019\u4e9b\u60c5\u6cc1\u4e0b\uff0c\u8acb\u5728\u6587\u4ef6\u593e\u6216\u9805\u76ee\u7d1a\u5c64\u4fee\u6539\u7d44\u7e54\u653f\u7b56\u4ee5\u5141\u8a31\u72f9\u7fa9\u4f8b\u5916\u3002\u60a8\u9084\u53ef\u4ee5\u5b9a\u7fa9\u4e00\u500b\u5c0d\u653f\u7b56\u8a31\u53ef\u4f8b\u5916\u6216\u5f37\u5236\u57f7\u884c\u7684\u6a19\u8a18\uff0c\u7136\u5f8c\u5c07\u8a72\u6a19\u8a18\u61c9\u7528\u65bc\u9805\u76ee\u548c\u6587\u4ef6\u593e\uff0c\u5f9e\u800c [\u6709\u689d\u4ef6\u5730\u5411\u7d44\u7e54\u653f\u7b56\u6dfb\u52a0\u9650\u5236\u689d\u4ef6](https://cloud.google.com/resource-manager/docs/organization-policy/tags-organization-policy?hl=zh-cn#conditionally_add_constraints_to_organization_policy) \u3002\n\u5982\u9700\u77ad\u89e3\u5176\u4ed6\u9650\u5236\u689d\u4ef6\uff0c\u8acb\u53c3\u95b1 [\u53ef\u7528\u9650\u5236\u689d\u4ef6](https://cloud.google.com/resource-manager/docs/organization-policy/org-policy-constraints?hl=zh-cn) \u548c [\u81ea\u5b9a\u7fa9\u9650\u5236\u689d\u4ef6](https://cloud.google.com/resource-manager/docs/organization-policy/creating-managing-custom-constraints?hl=zh-cn) \u3002\n## \u57fa\u790e\u8a2d\u65bd\u5373\u4ee3\u78bc\u7684\u90e8\u7f72\u524d\u9a57\u8b49\n\u6b64\u85cd\u5716\u4f7f\u7528 GitOps \u65b9\u6cd5\u7ba1\u7406\u57fa\u790e\u8a2d\u65bd\uff0c\u4e5f\u5c31\u662f\u8aaa\u6240\u6709\u57fa\u790e\u8a2d\u65bd\u66f4\u6539\u5747\u901a\u904e\u53d7\u7248\u672c\u63a7\u5236\u7684\u57fa\u790e\u8a2d\u65bd\u5373\u4ee3\u78bc (IaC) \u5be6\u73fe\uff0c\u4e26\u4e14\u53ef\u4ee5\u5728\u90e8\u7f72\u4e4b\u524d\u9032\u884c\u9a57\u8b49\u3002\n[\u5728\u85cd\u5716\u4e2d\u5f37\u5236\u57f7\u884c\u7684\u653f\u7b56](https://github.com/terraform-google-modules/terraform-example-foundation/tree/master/policy-library/policies/constraints) \u5b9a\u7fa9\u4e86\u6d41\u6c34\u7dda\u53ef\u4ee5\u90e8\u7f72\u7684\u53ef\u63a5\u53d7\u8cc7\u6e90\u914d\u7f6e\u3002\u5982\u679c\u63d0\u4ea4\u5230 GitHub \u4ee3\u78bc\u5eab\u7684\u4ee3\u78bc\u672a\u901a\u904e\u653f\u7b56\u6aa2\u67e5\uff0c\u5247\u4e0d\u6703\u90e8\u7f72\u4efb\u4f55\u8cc7\u6e90\u3002\n\u5982\u9700\u77ad\u89e3\u5982\u4f55\u4f7f\u7528\u6d41\u6c34\u7dda\u4ee5\u53ca\u5982\u4f55\u901a\u904e CI/CD \u81ea\u52d5\u5316\u5f37\u5236\u57f7\u884c\u63a7\u5236\uff0c\u8acb\u53c3\u95b1 [\u90e8\u7f72\u65b9\u6cd5](https://cloud.google.com/architecture/security-foundations/deployment-methodology?hl=zh-cn) \u3002\n## \u5f8c\u7e8c\u6b65\u9a5f\n- \u77ad\u89e3 [\u90e8\u7f72\u65b9\u6cd5](https://cloud.google.com/architecture/security-foundations/deployment-methodology?hl=zh-cn) \uff08\u672c\u7cfb\u5217\u7684\u4e0b\u4e00\u500b\u6587\u6a94\uff09\n# \u90e8\u7f72\u65b9\u6cd5\n\u6211\u5011\u5efa\u8b70\u60a8\u4f7f\u7528\u8072\u660e\u5f0f\u57fa\u790e\u8a2d\u65bd\uff0c\u4ee5\u4e00\u81f4\u4e14\u53ef\u63a7\u7684\u65b9\u5f0f\u90e8\u7f72\u57fa\u790e\u3002\u6b64\u65b9\u6cd5\u901a\u904e\u5728\u6d41\u6c34\u7dda\u4e2d\u5f37\u5236\u57f7\u884c\u53ef\u63a5\u53d7\u7684\u8cc7\u6e90\u914d\u7f6e\u653f\u7b56\u63a7\u5236\u4f86\u5e6b\u52a9\u5be6\u73fe\u4e00\u81f4\u7684\u6cbb\u7406\u3002\u6b64\u85cd\u5716\u4f7f\u7528 GitOps \u6d41\u7a0b\u9032\u884c\u90e8\u7f72\uff0c\u5728\u90e8\u7f72\u6d41\u6c34\u7dda\u4e2d\u5c07 Terraform \u7528\u65bc\u5b9a\u7fa9\u57fa\u790e\u8a2d\u65bd\u5373\u4ee3\u78bc (IaC)\u3001\u5c07 Git \u4ee3\u78bc\u5eab\u7528\u65bc\u4ee3\u78bc\u7684\u7248\u672c\u63a7\u5236\u548c\u6279\u51c6\uff0c\u4ee5\u53ca\u5c07 Cloud Build \u7528\u65bc\u7528\u65bc CI/CD \u81ea\u52d5\u5316\u3002\u6709\u95dc\u6b64\u6982\u5ff5\u7684\u8aaa\u660e\uff0c\u8acb\u53c3\u95b1 [\u4f7f\u7528 Terraform\u3001Cloud Build \u548c GitOps \u7ba1\u7406\u57fa\u790e\u8a2d\u65bd\u5373\u4ee3\u78bc](https://cloud.google.com/docs/terraform/resource-management/managing-infrastructure-as-code?hl=zh-cn) \u3002\n\u4ee5\u4e0b\u90e8\u5206\u4ecb\u7d39\u5982\u4f55\u4f7f\u7528\u90e8\u7f72\u6d41\u6c34\u7dda\u4f86\u7ba1\u7406\u7d44\u7e54\u4e2d\u7684\u8cc7\u6e90\u3002\n## \u6d41\u6c34\u7dda\u5c64\n\u7232\u4e86\u5340\u5206\u8ca0\u8cac\u7ba1\u7406\u74b0\u5883\u7684\u4e0d\u540c\u5c64\u7684\u5718\u968a\u548c\u6280\u8853\u68e7\uff0c\u6211\u5011\u63a8\u85a6\u4e86\u4e00\u6b3e\u6a21\u578b\uff0c\u8a72\u6a21\u578b\u4f7f\u7528\u4e0d\u540c\u7684\u6d41\u6c34\u7dda\u548c\u4e0d\u540c\u89d2\u8272\u4f86\u8ca0\u8cac\u6bcf\u4e00\u5c64\u68e7\u3002\n\u4e0b\u5716\u4ecb\u7d39\u4e86\u6211\u5011\u5efa\u8b70\u7684\u7528\u65bc\u5340\u5206\u57fa\u790e\u6d41\u6c34\u7dda\u3001\u57fa\u790e\u8a2d\u65bd\u6d41\u6c34\u7dda\u548c\u61c9\u7528\u6d41\u6c34\u7dda\u7684\u6a21\u578b\u3002\n\u4e0b\u5716\u4ecb\u7d39\u4e86\u6b64\u6a21\u578b\u4e2d\u7684\u6d41\u6c34\u7dda\u5c64\uff1a\n- \u61c9\u7528\u6d41\u6c34\u7dda\u7232\u6bcf\u500b\u5de5\u4f5c\u8ca0\u8f09\uff08\u4f8b\u5982\u5bb9\u5668\u6216\u6620\u50cf\uff09\u90e8\u7f72\u5de5\u4ef6\u3002\u6211\u5011\u5efa\u8b70\u7531\u4e00\u7b87\u4e2d\u5fc3\u5718\u968a\u8ca0\u8cac\u7ba1\u7406\u591a\u500b\u696d\u52d9\u90e8\u9580\u548c\u5de5\u4f5c\u8ca0\u8f09\u4f7f\u7528\u7684\u57fa\u790e\u8cc7\u6e90\u3002\n- \u57fa\u790e\u8a2d\u65bd\u6d41\u6c34\u7dda\u90e8\u7f72\u5de5\u4f5c\u8ca0\u8f09\uff08\u4f8b\u5982\u865b\u64ec\u6a5f\u5be6\u4f8b\u6216\u6578\u64da\u5eab\uff09\u4f7f\u7528\u7684\u9805\u76ee\u548c\u57fa\u790e\u8a2d\u65bd\u3002\u6b64\u85cd\u5716\u6703\u7232\u6bcf\u500b\u696d\u52d9\u90e8\u9580\u8a2d\u7f6e\u55ae\u7368\u7684\u57fa\u790e\u8a2d\u65bd\u6d41\u6c34\u7dda\uff0c\u6216\u8005\u60a8\u53ef\u80fd\u66f4\u50be\u5411\u65bc\u591a\u500b\u5718\u968a\u4f7f\u7528\u7684\u55ae\u500b\u57fa\u790e\u8a2d\u65bd\u6d41\u6c34\u7dda\u3002\n- \u61c9\u7528\u6d41\u6c34\u7dda\u7232\u6bcf\u500b\u5de5\u4f5c\u8ca0\u8f09\u90e8\u7f72\u5de5\u4ef6\uff0c\u4f8b\u5982\u4f8b\u5982\u5bb9\u5668\u6216\u6620\u50cf\u3002\u60a8\u53ef\u80fd\u6709\u591a\u500b\u4e0d\u540c\u7684\u61c9\u7528\u5718\u968a\u4f7f\u7528\u55ae\u7368\u7684\u61c9\u7528\u6d41\u6c34\u7dda\u3002\n\u4ee5\u4e0b\u90e8\u5206\u4ecb\u7d39\u6bcf\u500b\u6d41\u6c34\u7dda\u5c64\u7684\u7528\u6cd5\u3002\n### \u57fa\u790e\u6d41\u6c34\u7dda\n\u57fa\u790e\u6d41\u6c34\u7dda\u7528\u65bc\u90e8\u7f72\u57fa\u790e\u8cc7\u6e90\u3002\u5b83\u9084\u8a2d\u7f6e\u4e86\u7528\u65bc\u90e8\u7f72\u5de5\u4f5c\u8ca0\u8f09\u4f7f\u7528\u7684\u57fa\u790e\u8a2d\u65bd\u7684\u57fa\u790e\u8a2d\u65bd\u6d41\u6c34\u7dda\u3002\n\u5982\u9700\u5275\u5efa\u57fa\u790e\u6d41\u6c34\u7dda\uff0c\u8acb\u5148\u5c07 terraform-example-foundation \u514b\u9686\u6216\u5fa9\u523b\u5230\u60a8\u81ea\u5df1\u7684 Git \u4ee3\u78bc\u5eab\u4e2d\u3002\u6309\u7167 [0-bootstrap README \u6587\u4ef6](https://github.com/terraform-google-modules/terraform-example-foundation/tree/master/0-bootstrap) \u4e2d\u7684\u6b65\u9a5f\u914d\u7f6e\u60a8\u7684\u5f15\u5c0e\u6587\u4ef6\u593e\u548c\u8cc7\u6e90\u3002\n| \u968e\u6bb5  | \u8aaa\u660e                                                                                        |\n|:------------|:------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| 0-bootstrap | \u5f15\u5c0e Google Cloud \u7d44\u7e54\u3002\u6b64\u6b65\u9a5f\u9084\u6703\u5728\u5f8c\u7e8c\u968e\u6bb5\u7232\u85cd\u5716\u4ee3\u78bc\u914d\u7f6e CI/CD \u6d41\u6c34\u7dda\u3002 CICD \u9805\u76ee\u5305\u542b\u7528\u65bc\u90e8\u7f72\u8cc7\u6e90\u7684 Cloud Build \u57fa\u790e\u6d41\u6c34\u7dda\u3002 seed \u9805\u76ee\u5305\u62ec\u5305\u542b\u57fa\u790e\u57fa\u790e\u8a2d\u65bd\u7684 Terraform \u72c0\u614b\u7684 Cloud Storage \u5b58\u5132\u6876\uff0c\u4ee5\u53ca\u5305\u62ec\u57fa\u790e\u6d41\u6c34\u7dda\u7528\u65bc\u5275\u5efa\u8cc7\u6e90\u7684\u9ad8\u6b0a\u9650\u670d\u52d9\u8cec\u865f\u3002Terraform \u72c0\u614b\u901a\u904e\u5b58\u5132\u5c0d\u8c61\u7248\u672c\u63a7\u5236\u63d0\u4f9b\u4fdd\u8b77\u3002\u7576 CI/CD \u6d41\u6c34\u7dda\u904b\u884c\u6642\uff0c\u5b83\u6703\u5145\u7576\u5728 seed \u9805\u76ee\u4e2d\u53d7\u7ba1\u7406\u7684\u670d\u52d9\u8cec\u865f\u3002 |\n\u5728 `0-bootstrap` \u968e\u6bb5\u5275\u5efa\u57fa\u790e\u6d41\u6c34\u7dda\u5f8c\uff0c\u4ee5\u4e0b\u968e\u6bb5\u6703\u5728\u57fa\u790e\u6d41\u6c34\u7dda\u4e0a\u90e8\u7f72\u8cc7\u6e90\u3002\u8acb\u67e5\u770b\u6bcf\u500b\u968e\u6bb5\u7684 README \u8aaa\u660e\uff0c\u4e26\u6309\u9806\u5e8f\u5be6\u73fe\u6bcf\u500b\u968e\u6bb5\u3002\n| \u968e\u6bb5           | \u8aaa\u660e                   |\n|:-----------------------------------------------|:-----------------------------------------------------------------------------|\n| 1-org           | \u901a\u904e\u7d44\u7e54\u653f\u7b56\u8a2d\u7f6e\u9802\u7d1a\u5171\u4eab\u6587\u4ef6\u593e\u3001\u5171\u4eab\u670d\u52d9\u9805\u76ee\u3001\u7d44\u7e54\u7d1a\u65e5\u8a8c\u8a18\u9304\u548c\u57fa\u6e96\u5b89\u5168\u8a2d\u7f6e\u3002 |\n| 2-environments         | \u5728\u60a8\u5275\u5efa\u7684 Google Cloud \u7d44\u7e54\u4e2d\u8a2d\u7f6e\u958b\u767c\u3001\u975e\u751f\u7522\u548c\u751f\u7522\u74b0\u5883\u3002     |\n| 3-networks-dual-svpc\u62163-networks-hub-and-spoke | \u5728\u60a8\u9078\u64c7\u7684\u62d3\u64b2\u548c\u95dc\u806f\u7684\u7db2\u7d61\u8cc7\u6e90\u4e2d\u8a2d\u7f6e\u5171\u4eab VPC\u3002        |\n### \u57fa\u790e\u8a2d\u65bd\u6d41\u6c34\u7dda\n\u57fa\u790e\u8a2d\u65bd\u6d41\u6c34\u7dda\u6703\u90e8\u7f72\u5de5\u4f5c\u8ca0\u8f09\u4f7f\u7528\u7684\u9805\u76ee\u548c\u57fa\u790e\u8a2d\u65bd\uff08\u4f8b\u5982\u865b\u64ec\u6a5f\u5be6\u4f8b\u548c\u6578\u64da\u5eab\uff09\u3002\u57fa\u790e\u6d41\u6c34\u7dda\u6703\u90e8\u7f72\u591a\u500b\u57fa\u790e\u8a2d\u65bd\u6d41\u6c34\u7dda\u3002\u57fa\u790e\u6d41\u6c34\u7dda\u548c\u57fa\u790e\u8a2d\u65bd\u6d41\u6c34\u7dda\u4e4b\u9593\u7684\u9019\u7a2e\u5340\u5225\u6709\u52a9\u65bc\u5206\u96e2\u5e73\u81fa\u7bc4\u570d\u7684\u8cc7\u6e90\u548c\u5de5\u4f5c\u8ca0\u8f09\u5c08\u7528\u8cc7\u6e90\u3002\n\u4e0b\u5716\u63cf\u8ff0\u4e86\u6b64\u85cd\u5716\u5982\u4f55\u914d\u7f6e\u65e8\u5728\u7531\u4e0d\u540c\u5718\u968a\u4f7f\u7528\u7684\u591a\u500b\u57fa\u790e\u8a2d\u65bd\u6d41\u6c34\u7dda\u3002\n\u8a72\u5716\u63cf\u8ff0\u4e86\u4ee5\u4e0b\u4e3b\u8981\u6982\u5ff5\uff1a\n- \u6bcf\u500b\u57fa\u790e\u8a2d\u65bd\u6d41\u6c34\u7dda\u90fd\u7368\u7acb\u65bc\u57fa\u790e\u8cc7\u6e90\u7528\u65bc\u7ba1\u7406\u57fa\u790e\u8a2d\u65bd\u8cc7\u6e90\u3002\n- \u6bcf\u500b\u696d\u52d9\u90e8\u9580\u90fd\u6709\u81ea\u5df1\u7684\u57fa\u790e\u8a2d\u65bd\u6d41\u6c34\u7dda\uff0c\u8a72\u6d41\u6c34\u7dda\u5728`common`\u6587\u4ef6\u593e\u4e2d\u7684\u5c08\u7528\u9805\u76ee\u4e2d\u63a5\u53d7\u7ba1\u7406\u3002\n- \u6bcf\u500b\u57fa\u790e\u8a2d\u65bd\u6d41\u6c34\u7dda\u90fd\u6709\u4e00\u500b\u670d\u52d9\u8cec\u865f\uff0c\u8a72\u8cec\u865f\u6709\u6b0a\u5c07\u8cc7\u6e90\u50c5\u90e8\u7f72\u5230\u8207\u8a72\u696d\u52d9\u90e8\u9580\u95dc\u806f\u7684\u9805\u76ee\u3002\u6b64\u7b56\u7565\u6703\u5728\u7528\u65bc\u57fa\u790e\u6d41\u6c34\u7dda\u7684\u7279\u6b0a\u670d\u52d9\u8cec\u865f\u8207\u6bcf\u500b\u57fa\u790e\u8a2d\u65bd\u6d41\u6c34\u7dda\u4f7f\u7528\u7684\u670d\u52d9\u8cec\u865f\u4e4b\u9593\u5be6\u73fe\u8077\u8cac\u5206\u96e2\n\u5982\u679c\u60a8\u7684\u7d44\u7e54\u4e2d\u6709\u591a\u500b\u5be6\u9ad4\u5177\u5099\u7368\u7acb\u7ba1\u7406\u57fa\u790e\u8a2d\u65bd\u7684\u6280\u80fd\u548c\u610f\u9858\uff0c\u5c24\u5176\u662f\u5728\u5be6\u9ad4\u5177\u6709\u4e0d\u540c\u7684\u8981\u6c42\u6642\uff08\u4f8b\u5982\u5b83\u5011\u60f3\u8981\u5f37\u5236\u57f7\u884c\u4e0d\u540c\u985e\u578b\u7684\u6d41\u6c34\u7dda\u9a57\u8b49\u653f\u7b56\uff09\uff0c\u5efa\u8b70\u4f7f\u7528\u9019\u500b\u591a\u57fa\u790e\u8a2d\u65bd\u6d41\u6c34\u7dda\u65b9\u6cd5\u3002\u6216\u8005\uff0c\u60a8\u53ef\u80fd\u5e0c\u671b\u7531\u63a1\u7528\u4e00\u81f4\u9a57\u8b49\u653f\u7b56\u7684\u55ae\u500b\u5718\u968a\u4f86\u7ba1\u7406\u55ae\u500b\u57fa\u790e\u8a2d\u65bd\u6d41\u6c34\u7dda\u3002\n\u5728 [terraform-example-foundation](https://github.com/terraform-google-modules/terraform-example-foundation/tree/master) \u4e2d\uff0c\u7b2c 4 \u968e\u6bb5\u914d\u7f6e\u57fa\u790e\u8a2d\u65bd\u6d41\u6c34\u7dda\uff0c\u7b2c 5 \u968e\u6bb5\u6f14\u793a\u4e86\u4f7f\u7528\u8a72\u6d41\u6c34\u7dda\u90e8\u7f72\u57fa\u790e\u8a2d\u65bd\u8cc7\u6e90\u7684\u793a\u4f8b\u3002\n| \u968e\u6bb5     | \u8aaa\u660e                |\n|:---------------------|:-----------------------------------------------------------------|\n| 4-projects   | \u8a2d\u7f6e\u6587\u4ef6\u593e\u7d50\u69cb\u3001\u9805\u76ee\u548c\u57fa\u790e\u8a2d\u65bd\u6d41\u6c34\u7dda\u3002       |\n| 5-app-infra \uff08\u53ef\u9078\uff09 | \u4ee5\u57fa\u790e\u8a2d\u65bd\u6d41\u6c34\u7dda\u7232\u4f8b\uff0c\u4f7f\u7528 Compute Engine \u5be6\u4f8b\u90e8\u7f72\u5de5\u4f5c\u8ca0\u8f09\u9805\u76ee\u3002 |\n### \u61c9\u7528\u6d41\u6c34\u7dda\n\u61c9\u7528\u6d41\u6c34\u7dda\u8ca0\u8cac\u7232\u6bcf\u500b\u5de5\u4f5c\u8ca0\u8f09\uff08\u4f8b\u5982\u904b\u884c\u61c9\u7528\u696d\u52d9\u908f\u8f2f\u7684\u6620\u50cf\u6216 Kubernetes \u5bb9\u5668\uff09\u90e8\u7f72\u61c9\u7528\u5de5\u4ef6\u3002\u9019\u4e9b\u5de5\u4ef6\u6703\u90e8\u7f72\u5230\u57fa\u790e\u8a2d\u65bd\u6d41\u6c34\u7dda\u90e8\u7f72\u7684\u57fa\u790e\u8a2d\u65bd\u8cc7\u6e90\u4e2d\u3002\n\u4f01\u696d\u57fa\u790e\u85cd\u5716\u53ef\u8a2d\u7f6e\u57fa\u790e\u6d41\u6c34\u7dda\u548c\u57fa\u790e\u8a2d\u65bd\u6d41\u6c34\u7dda\uff0c\u4f46\u4e0d\u6703\u90e8\u7f72\u61c9\u7528\u6d41\u6c34\u7dda\u3002\u5982\u9700\u67e5\u770b\u793a\u4f8b\u61c9\u7528\u6d41\u6c34\u7dda\uff0c\u8acb\u53c3\u95b1 [\u4f01\u696d\u61c9\u7528\u85cd\u5716](https://cloud.google.com/architecture/enterprise-application-blueprint/architecture?hl=zh-cn) \u3002\n## \u4f7f\u7528 Cloud Build \u81ea\u52d5\u57f7\u884c\u6d41\u6c34\u7dda\n\u6b64\u85cd\u5716\u4f7f\u7528 Cloud Build \u81ea\u52d5\u57f7\u884c CI/CD \u6d41\u7a0b\u3002\u4e0b\u8868\u4ecb\u7d39\u4e86 [terraform-example-foundation](https://github.com/terraform-google-modules/terraform-example-foundation/tree/master) \u4ee3\u78bc\u5eab\u90e8\u7f72\u7684\u57fa\u790e\u6d41\u6c34\u7dda\u548c\u57fa\u790e\u8a2d\u65bd\u6d41\u6c34\u7dda\u4e2d\u5167\u7f6e\u7684\u63a7\u5236\u3002\u5982\u679c\u60a8\u8981\u4f7f\u7528\u5176\u4ed6 CI/CD \u81ea\u52d5\u5316\u5de5\u5177\u958b\u767c\u81ea\u5df1\u7684\u6d41\u6c34\u7dda\uff0c\u6211\u5011\u5efa\u8b70\u60a8\u61c9\u7528\u985e\u4f3c\u7684\u63a7\u5236\u3002\n| \u63a7\u5236        | \u8aaa\u660e                                                                                        |\n|:------------------------------------|:-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| \u62c6\u5206 build \u914d\u7f6e\u4ee5\u5728\u90e8\u7f72\u4e4b\u524d\u9a57\u8b49\u4ee3\u78bc | \u6b64\u85cd\u5716\u5c0d\u6574\u500b\u6d41\u6c34\u7dda\u4f7f\u7528\u5169\u500b Cloud Build build \u914d\u7f6e\u6587\u4ef6\uff0c\u4e26\u4e14\u8207\u67d0\u500b\u968e\u6bb5\u95dc\u806f\u7684\u6bcf\u500b\u4ee3\u78bc\u5eab\u6709\u5169\u500b\u8207\u9019\u4e9b build \u914d\u7f6e\u6587\u4ef6\u95dc\u806f\u7684 Cloud Build \u89f8\u767c\u5668\u3002\u5c07\u4ee3\u78bc\u63a8\u9001\u5230\u4ee3\u78bc\u5eab\u5206\u652f\u6642\uff0c\u7cfb\u7d71\u6703\u89f8\u767c build \u914d\u7f6e\u6587\u4ef6\u9996\u6b21\u904b\u884c cloudbuild-tf-plan.yaml\uff0c\u8a72\u547d\u4ee4\u6703\u91dd\u5c0d\u5206\u652f\u4f7f\u7528\u653f\u7b56\u6aa2\u67e5\u548c Terraform \u65b9\u6848\u9a57\u8b49\u4ee3\u78bc\uff0c\u7136\u5f8c cloudbuild-tf-apply.yaml \u5c0d\u8a72\u65b9\u6848\u7684\u7d50\u679c\u904b\u884c terraform apply\u3002   |\n| Terraform \u653f\u7b56\u6aa2\u67e5     | \u6b64\u85cd\u5716\u5305\u542b\u4e00\u7d44\u7531 Google Cloud CLI \u4e2d\u7684\u653f\u7b56\u9a57\u8b49\u5f37\u5236\u57f7\u884c\u7684 Open Policy Agent \u9650\u5236\u689d\u4ef6\u3002\u9019\u4e9b\u9650\u5236\u689d\u4ef6\u5b9a\u7fa9\u4e86\u6d41\u6c34\u7dda\u53ef\u4ee5\u90e8\u7f72\u7684\u53ef\u63a5\u53d7\u8cc7\u6e90\u914d\u7f6e\u3002\u5982\u679c\u4e00\u500b\u69cb\u5efa\u4e0d\u7b26\u5408\u7b2c\u4e00\u500b build \u914d\u7f6e\u4e2d\u7684\u653f\u7b56\uff0c\u5247\u7b2c\u4e8c\u500b build \u914d\u7f6e\u5c07\u4e0d\u6703\u90e8\u7f72\u4efb\u4f55\u8cc7\u6e90\u3002\u5728\u85cd\u5716\u4e2d\u5f37\u5236\u57f7\u884c\u7684\u653f\u7b56\u5fa9\u523b\u81ea GitHub \u4e0a\u7684 GoogleCloudPlatform/policy-library\u3002\u60a8\u53ef\u4ee5\u7232\u5eab\u7de8\u5beb\u5176\u4ed6\u653f\u7b56\uff0c\u5f37\u5236\u57f7\u884c\u81ea\u5b9a\u7fa9\u653f\u7b56\u4ee5\u6eff\u8db3\u60a8\u7684\u8981\u6c42\u3002 |\n| \u6700\u5c0f\u6b0a\u9650\u539f\u5247      | \u57fa\u790e\u6d41\u6c34\u7dda\u5728\u6bcf\u500b\u968e\u6bb5\u90fd\u6709\u4e0d\u540c\u670d\u52d9\u8cec\u865f\uff0c\u5141\u8a31\u653f\u7b56\u50c5\u6388\u4e88\u8a72\u968e\u6bb5\u76f8\u61c9\u7684\u6700\u4f4e\u6b0a\u9650 IAM \u89d2\u8272\u3002\u6bcf\u500b Cloud Build \u89f8\u767c\u5668\u90fd\u6703\u4f5c\u7232\u8a72\u968e\u6bb5\u7684\u7279\u5b9a\u670d\u52d9\u8cec\u865f\u904b\u884c\u3002\u4f7f\u7528\u4e0d\u540c\u7684\u8cec\u865f\u6709\u52a9\u65bc\u964d\u4f4e\u4fee\u6539\u4e00\u500b\u4ee3\u78bc\u5eab\u53ef\u80fd\u6703\u5f71\u97ff\u53e6\u4e00\u500b\u4ee3\u78bc\u5eab\u7ba1\u7406\u7684\u8cc7\u6e90\u9019\u7a2e\u98a8\u96aa\u3002\u5982\u9700\u77ad\u89e3\u61c9\u7528\u65bc\u6bcf\u500b\u670d\u52d9\u8cec\u865f\u7684\u7279\u5b9a IAM \u89d2\u8272\uff0c\u8acb\u53c3\u95b1\u5f15\u5c0e\u968e\u6bb5\u7684 sa.tf Terraform \u4ee3\u78bc\u3002              |\n| Cloud Build \u5c08\u7528\u6c60     | \u6b64\u85cd\u5716\u4f7f\u7528 Cloud Build \u5c08\u7528\u6c60\u3002 \u901a\u904e\u5c08\u7528\u6c60\uff0c\u60a8\u53ef\u4ee5\u9078\u64c7\u5f37\u5236\u57f7\u884c\u5176\u4ed6\u63a7\u5236\uff0c\u4f8b\u5982\u9650\u5236\u5c0d\u516c\u5171\u4ee3\u78bc\u5eab\u7684\u8a2a\u554f\u6216\u5728 VPC Service Controls \u908a\u754c\u5167\u904b\u884c Cloud Build\u3002                                                    |\n| Cloud Build \u81ea\u5b9a\u7fa9\u69cb\u5efa\u5668   | \u6b64\u85cd\u5716\u9700\u8981\u5275\u5efa\u81ea\u5df1\u7684\u81ea\u5b9a\u7fa9\u69cb\u5efa\u5668\u4f86\u904b\u884c Terraform\u3002\u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1 0-bootstrap/Dockerfile\u3002 \u6b64\u63a7\u5236\u6703\u5f37\u5236\u6d41\u6c34\u7dda\u5728\u904b\u884c\u6642\u4f7f\u7528\u4e00\u7d44\u56fa\u5b9a\u7248\u672c\u7684\u5df2\u77e5\u5eab\u3002                                                    |\n| \u90e8\u7f72\u5be9\u6279       | \u6216\u8005\uff0c\u60a8\u53ef\u4ee5\u5411 Cloud Build \u6dfb\u52a0\u624b\u52d5\u5be9\u6279\u968e\u6bb5\u3002\u6b64\u5be9\u6279\u6703\u5728\u89f8\u767c\u69cb\u5efa\u4e4b\u5f8c\u4e14\u5728\u904b\u884c\u69cb\u5efa\u4e4b\u524d\u6dfb\u52a0\u984d\u5916\u7684\u6aa2\u67e5\u9ede\uff0c\u4ee5\u4fbf\u7279\u6b0a\u7528\u6236\u53ef\u4ee5\u624b\u52d5\u5be9\u6279\u69cb\u5efa\u3002                                                        |\n## \u5206\u652f\u7b56\u7565\n\u6211\u5011\u5efa\u8b70\u4f7f\u7528 [\u6c38\u4e45\u6027\u5206\u652f](https://git-scm.com/book/en/v2/Git-Branching-Branching-Workflows) \u7b56\u7565\uff0c\u5c07\u4ee3\u78bc\u63d0\u4ea4\u5230 Git \u7cfb\u7d71\u4e26\u901a\u904e\u57fa\u790e\u6d41\u6c34\u7dda\u90e8\u7f72\u8cc7\u6e90\u3002\u4e0b\u5716\u63cf\u8ff0\u4e86\u6c38\u4e45\u6027\u5206\u652f\u7b56\u7565\u3002\n\u8a72\u5716\u63cf\u8ff0\u4e86 Git \u4e2d\u7684\u4e09\u500b\u6c38\u4e45\u6027\u5206\u652f\uff08\u958b\u767c\u3001\u975e\u751f\u7522\u548c\u751f\u7522\uff09\uff0c\u9019\u4e9b\u5206\u652f\u53cd\u6620\u4e86\u76f8\u61c9\u7684 Google Cloud \u74b0\u5883\u3002\u6b64\u5916\uff0c\u9084\u6709\u591a\u500b\u8207 Google Cloud \u74b0\u5883\u4e2d\u90e8\u7f72\u7684\u8cc7\u6e90\u4e0d\u5c0d\u61c9\u7684\u81e8\u6642\u529f\u80fd\u5206\u652f\u3002\n\u6211\u5011\u5efa\u8b70\u60a8\u5c0d Git \u7cfb\u7d71\u5f37\u5236\u57f7\u884c [\u62c9\u53d6\u8acb\u6c42 (PR)](https://git-scm.com/docs/git-request-pull) \u6d41\u7a0b\uff0c\u4ee5\u4fbf\u5408\u4f75\u5230\u6c38\u4e45\u6027\u5206\u652f\u7684\u4efb\u4f55\u4ee3\u78bc\u90fd\u5177\u6709\u5df2\u7372\u6279\u51c6\u7684 PR\u3002\n\u5982\u9700\u4f7f\u7528\u6b64\u6c38\u4e45\u6027\u5206\u652f\u7b56\u7565\u958b\u767c\u4ee3\u78bc\uff0c\u8acb\u9075\u5faa\u4ee5\u4e0b\u7c21\u8981\u6b65\u9a5f\uff1a\n- \u7576\u60a8\u958b\u767c\u65b0\u529f\u80fd\u6216\u4fee\u5fa9\u554f\u984c\u6642\uff0c\u8acb\u57fa\u65bc\u958b\u767c\u5206\u652f\u5275\u5efa\u4e00\u500b\u65b0\u7684\u5206\u652f\u3002\u7232\u5206\u652f\u4f7f\u7528\u547d\u540d\u6163\u4f8b\uff0c\u5305\u62ec\u66f4\u6539\u985e\u578b\u3001\u5de5\u55ae\u7de8\u865f\u6216\u5176\u4ed6\u6a19\u8b58\u7b26\u4ee5\u53ca\u76f4\u89c0\u6613\u61c2\u7684\u8aaa\u660e\uff0c\u4f8b\u5982`feature/123456-org-policies`\u3002\n- \u5b8c\u6210\u529f\u80fd\u5206\u652f\u4e2d\u7684\u5de5\u4f5c\u5f8c\uff0c\u5275\u5efa\u4e00\u500b\u91dd\u5c0d\u958b\u767c\u5206\u652f\u7684 PR\u3002\n- \u63d0\u4ea4 PR \u6642\uff0cPR \u6703\u89f8\u767c\u57fa\u790e\u6d41\u6c34\u7dda\u57f7\u884c`terraform plan`\u548c`terraform validate`\u4ee5\u66ab\u5b58\u4e26\u9a57\u8b49\u66f4\u6539\u3002\n- \u9a57\u8b49\u5c0d\u4ee3\u78bc\u7684\u66f4\u6539\u5f8c\uff0c\u5c07\u529f\u80fd\u6216\u554f\u984c\u4fee\u5fa9\u5408\u4f75\u5230\u958b\u767c\u5206\u652f\u4e2d\u3002\n- \u5408\u4f75\u904e\u7a0b\u6703\u89f8\u767c\u57fa\u790e\u6d41\u6c34\u7dda\u904b\u884c`terraform apply`\uff0c\u4ee5\u5c07\u958b\u767c\u5206\u652f\u4e2d\u7684\u6700\u65b0\u66f4\u6539\u90e8\u7f72\u5230\u958b\u767c\u74b0\u5883\u3002\n- \u4f7f\u7528\u8207\u60a8\u7684\u7528\u4f8b\u76f8\u95dc\u7684\u4efb\u4f55\u624b\u52d5\u5be9\u8988\u3001\u529f\u80fd\u6e2c\u8a66\u6216\u7aef\u5230\u7aef\u6e2c\u8a66\uff0c\u5be9\u8988\u958b\u767c\u74b0\u5883\u4e2d\u7684\u66f4\u6539\u3002\u7136\u5f8c\uff0c\u901a\u904e\u5275\u5efa\u4ee5\u975e\u751f\u7522\u5206\u652f\u7232\u76ee\u6a19\u7684 PR \u5c07\u66f4\u6539\u5347\u7d1a\u5230\u975e\u751f\u7522\u74b0\u5883\uff0c\u4f75\u5408\u4e26\u60a8\u7684\u66f4\u6539\u3002\n- \u8981\u5c07\u8cc7\u6e90\u90e8\u7f72\u5230\u751f\u7522\u74b0\u5883\uff0c\u8acb\u91cd\u8907\u8207\u7b2c 6 \u6b65\u76f8\u540c\u7684\u904e\u7a0b\uff1a\u6aa2\u67e5\u4e26\u9a57\u8b49\u5df2\u90e8\u7f72\u7684\u8cc7\u6e90\uff0c\u5275\u5efa\u4e00\u500b\u91dd\u5c0d\u751f\u7522\u5206\u652f\u7684 PR\uff0c\u7136\u5f8c\u9032\u884c\u5408\u4f75\u3002## \u5f8c\u7e8c\u6b65\u9a5f\n- \u77ad\u89e3 [\u64cd\u4f5c\u6700\u4f73\u5be6\u8e10](https://cloud.google.com/architecture/security-foundations/operation-best-practices?hl=zh-cn) \uff08\u672c\u7cfb\u5217\u7684\u4e0b\u4e00\u500b\u6587\u6a94\uff09\u3002\n# \u64cd\u4f5c\u6700\u4f73\u5be6\u8e10\n\u672c\u90e8\u5206\u4ecb\u7d39\u5728 Google Cloud \u74b0\u5883\u4e2d\u90e8\u7f72\u548c\u64cd\u4f5c\u5176\u4ed6\u5de5\u4f5c\u8ca0\u8f09\u6642\u5fc5\u9808\u8003\u616e\u7684\u64cd\u4f5c\u3002\u672c\u90e8\u5206\u4e26\u975e\u65e8\u5728\u8a73\u76e1\u7121\u907a\u5730\u4ecb\u7d39\u60a8\u7684\u96f2\u74b0\u5883\u4e2d\u7684\u6240\u6709\u64cd\u4f5c\uff0c\u800c\u662f\u4ecb\u7d39\u8207\u67b6\u69cb\u65b9\u9762\u7684\u5efa\u8b70\u548c\u85cd\u5716\u90e8\u7f72\u7684\u8cc7\u6e90\u76f8\u95dc\u7684\u6c7a\u7b56\u3002\n## \u66f4\u65b0\u57fa\u790e\u8cc7\u6e90\n\u96d6\u7136\u85cd\u5716\u7232\u60a8\u7684\u57fa\u790e\u74b0\u5883\u63d0\u4f9b\u4e86\u4e00\u500b\u5177\u6709\u67d0\u7a2e\u898b\u89e3\u7684\u8d77\u9ede\uff0c\u4f46\u60a8\u7684\u57fa\u790e\u8981\u6c42\u53ef\u80fd\u6703\u96a8\u7740\u6642\u9593\u7684\u63a8\u79fb\u800c\u589e\u52a0\u3002\u5b8c\u6210\u521d\u59cb\u90e8\u7f72\u5f8c\uff0c\u60a8\u53ef\u4ee5\u8abf\u6574\u914d\u7f6e\u8a2d\u7f6e\u6216\u69cb\u5efa\u65b0\u7684\u5171\u4eab\u670d\u52d9\uff0c\u4ee5\u4f9b\u6240\u6709\u5de5\u4f5c\u8ca0\u8f09\u4f7f\u7528\u3002\n\u5982\u9700\u4fee\u6539\u57fa\u790e\u8cc7\u6e90\uff0c\u6211\u5011\u5efa\u8b70\u60a8\u901a\u904e\u57fa\u790e\u6d41\u6c34\u7dda\u9032\u884c\u6240\u6709\u66f4\u6539\u3002\u67e5\u770b [\u5206\u652f\u7b56\u7565](https://cloud.google.com/architecture/security-foundations/deployment-methodology?hl=zh-cn#branching-strategy) \uff0c\u7c21\u8981\u4e86\u89e3\u7de8\u5beb\u4ee3\u78bc\u3001\u5408\u4f75\u4ee3\u78bc\u4ee5\u53ca\u89f8\u767c\u90e8\u7f72\u6d41\u6c34\u7dda\u7684\u6d41\u7a0b\u3002\n## \u78ba\u5b9a\u65b0\u5de5\u4f5c\u8ca0\u8f09\u9805\u76ee\u7684\u5c6c\u6027\n\u901a\u904e\u81ea\u52d5\u5316\u6d41\u6c34\u7dda\u7684\u9805\u76ee\u5de5\u5ee0\u6a21\u584a\u5275\u5efa\u65b0\u9805\u76ee\u6642\uff0c\u5fc5\u9808\u914d\u7f6e\u5404\u7a2e\u5c6c\u6027\u3002\u7232\u65b0\u5de5\u4f5c\u8ca0\u8f09\u8a2d\u8a08\u548c\u5275\u5efa\u9805\u76ee\u7684\u904e\u7a0b\u61c9\u5305\u542b\u91dd\u5c0d\u4ee5\u4e0b\u5404\u9805\u7684\u6c7a\u7b56\uff1a\n- \u8981\u5553\u7528\u54ea\u7a2e Google Cloud API\n- \u8981\u4f7f\u7528\u54ea\u7a2e\u5171\u4eab VPC\uff0c\u6216\u8005\u662f\u5426\u5275\u5efa\u65b0\u7684 VPC \u7db2\u7d61\n- \u8981\u7232\u6d41\u6c34\u7dda\u5275\u5efa\u7684\u521d\u59cb`project-service-account`\u5275\u5efa\u54ea\u4e9b IAM \u89d2\u8272\n- \u8981\u61c9\u7528\u54ea\u4e9b\u9805\u76ee\u6a19\u7c64\n- \u9805\u76ee\u8981\u90e8\u7f72\u5230\u54ea\u500b\u6587\u4ef6\u593e\n- \u8981\u4f7f\u7528\u54ea\u500b\u7d50\u7b97\u8cec\u865f\n- \u662f\u5426\u5c07\u9805\u76ee\u6dfb\u52a0\u5230 VPC Service Controls \u908a\u754c\n- \u662f\u5426\u7232\u9805\u76ee\u914d\u7f6e\u9810\u7b97\u548c\u7d50\u7b97\u63d0\u9192\u95be\u503c\n\u5982\u9700\u5168\u9762\u77ad\u89e3\u6bcf\u500b\u9805\u76ee\u7684\u53ef\u914d\u7f6e\u5c6c\u6027\uff0c\u8acb\u53c3\u95b1\u81ea\u52d5\u5316\u6d41\u6c34\u7dda\u4e2d\u7684 [\u9805\u76ee\u5de5\u5ee0\u7684\u8f38\u5165\u8b8a\u91cf](https://github.com/terraform-google-modules/terraform-example-foundation/tree/master/4-projects/modules/single_project#inputs) \u3002\n## \u5927\u898f\u6a21\u7ba1\u7406\u6b0a\u9650\n\u5728\u57fa\u790e\u4e0a\u90e8\u7f72\u5de5\u4f5c\u8ca0\u8f09\u9805\u76ee\u6642\uff0c\u60a8\u5fc5\u9808\u8003\u616e\u5982\u4f55\u5411\u9019\u4e9b\u9805\u76ee\u7684\u76ee\u6a19\u958b\u767c\u8005\u548c\u4f7f\u7528\u65b9\u6388\u4e88\u8a2a\u554f\u6b0a\u9650\u3002\u6211\u5011\u5efa\u8b70\u60a8\u5c07\u7528\u6236\u6dfb\u52a0\u5230\u7531\u73fe\u6709\u8eab\u4efd\u63d0\u4f9b\u65b9\u7ba1\u7406\u7684\u7fa3\u7d44\u4e2d\uff0c\u5c07\u8a72\u7fa3\u7d44\u8207 Cloud Identity \u540c\u6b65\uff0c\u7136\u5f8c\u5c07 IAM \u89d2\u8272\u61c9\u7528\u65bc\u8a72\u7fa3\u7d44\u3002\u59cb\u7d42\u7262\u8a18 [\u6700\u5c0f\u6b0a\u9650\u539f\u5247](https://cloud.google.com/iam/docs/using-iam-securely?hl=zh-cn#least_privilege) \u3002\n\u6211\u5011\u9084\u5efa\u8b70\u60a8\u4f7f\u7528 [IAM Recommender](https://cloud.google.com/policy-intelligence/docs/role-recommendations-overview?hl=zh-cn) \u4f86\u8b58\u5225\u6388\u4e88\u8d85\u6b0a\u9650\u89d2\u8272\u7684\u5141\u8a31\u653f\u7b56\u3002\u8a2d\u8a08\u4e00\u500b\u5b9a\u671f\u5be9\u8988\u5efa\u8b70\u6216\u81ea\u52d5\u5c07\u5efa\u8b70\u61c9\u7528\u65bc\u90e8\u7f72\u6d41\u6c34\u7dda\u7684\u6d41\u7a0b\u3002\n## \u5354\u8abf\u7db2\u7d61\u5718\u968a\u548c\u61c9\u7528\u5718\u968a\u4e4b\u9593\u7684\u66f4\u6539\n\u8a72\u85cd\u5716\u90e8\u7f72\u7684\u7db2\u7d61\u62d3\u64b2\u5047\u5b9a\u60a8\u6709\u4e00\u500b\u8ca0\u8cac\u7ba1\u7406\u7db2\u7d61\u8cc7\u6e90\u7684\u5718\u968a\uff0c\u4ee5\u53ca\u591a\u500b\u8ca0\u8cac\u90e8\u7f72\u5de5\u4f5c\u8ca0\u8f09\u57fa\u790e\u8a2d\u65bd\u8cc7\u6e90\u7684\u7368\u7acb\u5718\u968a\u3002\u7576\u5de5\u4f5c\u8ca0\u8f09\u5718\u968a\u90e8\u7f72\u57fa\u790e\u8a2d\u65bd\u6642\uff0c\u4ed6\u5011\u5fc5\u9808\u5275\u5efa\u9632\u706b\u7246\u898f\u5247\u4ee5\u5141\u8a31\u5176\u5de5\u4f5c\u8ca0\u8f09\u7684\u7d44\u4ef6\u4e4b\u9593\u7684\u9810\u671f\u8a2a\u554f\u8def\u5f91\uff0c\u4f46\u4ed6\u5011\u7121\u6b0a\u4fee\u6539\u7db2\u7d61\u9632\u706b\u7246\u653f\u7b56\u672c\u8eab\u3002\n\u898f\u5283\u5718\u968a\u5982\u4f55\u5354\u540c\u5de5\u4f5c\u4f86\u5354\u8abf\u66f4\u6539\u90e8\u7f72\u61c9\u7528\u6240\u9700\u7684\u96c6\u4e2d\u5f0f\u7db2\u7d61\u8cc7\u6e90\u3002\u4f8b\u5982\uff0c\u60a8\u53ef\u4ee5\u8a2d\u8a08\u4e00\u500b\u5de5\u4f5c\u8ca0\u8f09\u5718\u968a\u7232\u5176\u61c9\u7528\u8acb\u6c42 [\u6a19\u8a18](https://cloud.google.com/firewall/docs/tags-firewalls-overview?hl=zh-cn) \u7684\u6d41\u7a0b\u3002\u7136\u5f8c\uff0c\u7db2\u7d61\u5718\u968a\u5275\u5efa\u6a19\u8a18\u4e26\u5411\u7db2\u7d61\u9632\u706b\u7246\u653f\u7b56\u6dfb\u52a0\u898f\u5247\uff0c\u4ee5\u5141\u8a31\u6d41\u91cf\u5728\u5177\u6709\u6a19\u8a18\u7684\u8cc7\u6e90\u4e4b\u9593\u6d41\u52d5\uff0c\u7136\u5f8c\u5c07 [\u8981\u4f7f\u7528\u6a19\u8a18\u7684 IAM \u89d2\u8272](https://cloud.google.com/firewall/docs/tags-firewalls-overview?hl=zh-cn#iam) \u59d4\u6d3e\u7d66\u5de5\u4f5c\u8ca0\u8f09\u5718\u968a\u3002\n## \u4f7f\u7528 Active Assist \u7522\u54c1\u7d44\u5408\u512a\u5316\u74b0\u5883\n\u9664\u4e86 IAM Recommender \u4e4b\u5916\uff0cGoogle Cloud \u9084\u63d0\u4f9b [Active Assist](https://cloud.google.com/solutions/active-assist?hl=zh-cn) \u670d\u52d9\u7d44\u5408\uff0c\u4ee5\u63d0\u51fa\u6709\u95dc\u5982\u4f55\u512a\u5316\u74b0\u5883\u7684\u5efa\u8b70\u3002\u4f8b\u5982\uff0c [\u9632\u706b\u7246\u6578\u64da\u5206\u6790](https://cloud.google.com/network-intelligence-center/docs/firewall-insights/how-to/using-firewall-insights?hl=zh-cn) \u6216 [\u7121\u4eba\u4f7f\u7528\u7684\u9805\u76ee Recommender](https://cloud.google.com/recommender/docs/unattended-project-recommender?hl=zh-cn) \u63d0\u4f9b\u4e86\u5207\u5be6\u53ef\u884c\u7684\u5efa\u8b70\uff0c\u53ef\u5e6b\u52a9\u60a8\u52a0\u5f37\u5b89\u5168\u72c0\u6cc1\u3002\n\u8a2d\u8a08\u4e00\u500b\u5b9a\u671f\u5be9\u8988\u5efa\u8b70\u6216\u81ea\u52d5\u5c07\u5efa\u8b70\u61c9\u7528\u65bc\u90e8\u7f72\u6d41\u6c34\u7dda\u7684\u6d41\u7a0b\u3002\u78ba\u5b9a\u54ea\u4e9b\u5efa\u8b70\u61c9\u7531\u4e2d\u5fc3\u5718\u968a\u7ba1\u7406\uff0c\u54ea\u4e9b\u61c9\u7531\u5de5\u4f5c\u8ca0\u8f09\u6240\u6709\u8005\u8ca0\u8cac\uff0c\u4e26\u61c9\u7528 IAM \u89d2\u8272\u76f8\u61c9\u5730\u8a2a\u554f\u9019\u4e9b\u5efa\u8b70\u3002\n## \u8a31\u53ef\u7d44\u7e54\u653f\u7b56\u7684\u4f8b\u5916\u60c5\u6cc1\n\u8a72\u85cd\u5716\u6703\u5f37\u5236\u57f7\u884c\u4e00\u7d44\u7d44\u7e54\u653f\u7b56\u9650\u5236\u689d\u4ef6\uff0c\u96d6\u7136\u6211\u5011\u6703\u5728\u5927\u591a\u6578\u60c5\u6cc1\u4e0b\uff0c\u5411\u5927\u591a\u6578\u5ba2\u6236\u63a8\u85a6\u9019\u4e9b\u9650\u5236\u689d\u4ef6\uff0c\u4f46\u60a8\u7684\u5408\u6cd5\u4f7f\u7528\u5834\u666f\u53ef\u80fd\u9700\u8981\u60a8\u5ee3\u6cdb\u5be6\u65bd\u7684\u7d44\u7e54\u653f\u7b56\u6709\u4e00\u4e9b\u53d7\u9650\u7684\u4f8b\u5916\u3002\n\u4f8b\u5982\uff0c\u8a72\u85cd\u5716\u6703\u5f37\u5236\u57f7\u884c [iam.disableServiceAccountKeyCreation](https://cloud.google.com/resource-manager/docs/organization-policy/restricting-service-accounts?hl=zh-cn#disable_service_account_key_creation) \u9650\u5236\u689d\u4ef6\u3002\u6b64\u9650\u5236\u689d\u4ef6\u662f\u4e00\u9805\u91cd\u8981\u7684\u5b89\u5168\u63a7\u5236\uff0c\u56e0\u7232\u6cc4\u9732\u7684\u670d\u52d9\u8cec\u865f\u5bc6\u9470\u53ef\u80fd\u6703\u7522\u751f\u56b4\u91cd\u7684\u8ca0\u9762\u5f71\u97ff\uff0c\u4e26\u4e14\u5927\u591a\u6578\u5834\u666f\u90fd\u61c9\u4f7f\u7528 [\u66f4\u5b89\u5168\u7684\u670d\u52d9\u8cec\u865f\u5bc6\u9470\u66ff\u4ee3\u65b9\u6848](https://cloud.google.com/docs/authentication?hl=zh-cn#auth-decision-tree) \u9032\u884c\u8eab\u4efd\u9a57\u8b49\u3002\u4f46\u662f\uff0c\u53ef\u80fd\u5b58\u5728\u53ea\u80fd\u4f7f\u7528\u670d\u52d9\u8cec\u865f\u5bc6\u9470\u9032\u884c\u8eab\u4efd\u9a57\u8b49\u7684\u4f7f\u7528\u5834\u666f\uff0c\u4f8b\u5982\u672c\u5730\u670d\u52d9\u5668\u9700\u8981\u8a2a\u554f Google Cloud \u670d\u52d9\uff0c\u4f46\u7121\u6cd5\u4f7f\u7528\u5de5\u4f5c\u8ca0\u8f09\u8eab\u4efd\u806f\u5408\u3002\u5728\u9019\u7a2e\u5834\u666f\u4e2d\uff0c\u53ea\u8981\u5f37\u5236\u57f7\u884c\u4e86\u9644\u52a0\u88dc\u511f\u6027\u63a7\u5236\uff08\u4f8b\u5982 [\u7ba1\u7406\u670d\u52d9\u8cec\u865f\u5bc6\u9470\u7684\u6700\u4f73\u5be6\u8e10](https://cloud.google.com/iam/docs/best-practices-for-managing-service-account-keys?hl=zh-cn) \uff09\uff0c\u60a8\u5c31\u53ef\u4ee5\u6c7a\u5b9a\u5141\u8a31\u653f\u7b56\u4f8b\u5916\u3002\n\u56e0\u6b64\uff0c\u60a8\u61c9\u8a2d\u8a08\u4e00\u500b\u5de5\u4f5c\u8ca0\u8f09\u8acb\u6c42\u653f\u7b56\u4f8b\u5916\u7684\u6d41\u7a0b\uff0c\u4e26\u78ba\u4fdd\u8ca0\u8cac\u8a31\u53ef\u4f8b\u5916\u7684\u6c7a\u7b56\u8005\u5177\u5099\u76f8\u61c9\u7684\u6280\u8853\u77e5\u8b58\u4f86\u9a57\u8b49\u4f7f\u7528\u5834\u666f\u548c\u5c31\u662f\u5426\u5fc5\u9808\u5be6\u65bd\u9644\u52a0\u63a7\u5236\u4f86\u9032\u884c\u88dc\u511f\u63d0\u4f9b\u8aee\u8a62\u3002\u5411\u5de5\u4f5c\u8ca0\u8f09\u8a31\u53ef\u4f8b\u5916\u6642\uff0c\u8acb\u5728\u5118\u53ef\u80fd\u7a84\u7684\u7bc4\u570d\u5167\u4fee\u6539\u7d44\u7e54\u653f\u7b56\u9650\u5236\u689d\u4ef6\u3002\u60a8\u9084\u53ef\u4ee5\u5b9a\u7fa9\u4e00\u500b\u5c0d\u653f\u7b56\u8a31\u53ef\u4f8b\u5916\u6216\u5f37\u5236\u57f7\u884c\u7684\u6a19\u8a18\uff0c\u7136\u5f8c\u5c07\u8a72\u6a19\u8a18\u61c9\u7528\u65bc\u9805\u76ee\u548c\u6587\u4ef6\u593e\uff0c\u5f9e\u800c [\u6709\u689d\u4ef6\u5730\u5411\u7d44\u7e54\u653f\u7b56\u6dfb\u52a0\u9650\u5236\u689d\u4ef6](https://cloud.google.com/resource-manager/docs/organization-policy/tags-organization-policy?hl=zh-cn#conditionally_add_constraints_to_organization_policy) \u3002\n## \u4f7f\u7528 VPC Service Controls \u4fdd\u8b77\u60a8\u7684\u8cc7\u6e90\n\u8a72\u85cd\u5716\u5c07\u57fa\u672c\u7db2\u7d61\u548c\u53d7\u9650\u7db2\u7d61\u5206\u958b\uff0c\u5f9e\u800c\u5e6b\u52a9\u60a8\u7232 VPC Service Controls \u6e96\u5099\u74b0\u5883\u3002\u4f46\u662f\uff0c\u9ed8\u8a8d\u60c5\u6cc1\u4e0b\uff0cTerraform \u4ee3\u78bc\u4e0d\u6703\u5553\u7528 VPC Service Controls\uff0c\u56e0\u7232\u6b64\u5553\u7528\u904e\u7a0b\u53ef\u80fd\u6703\u4e2d\u65b7\u3002\n\u908a\u754c\u62d2\u7d55\u6e90\u81ea\u908a\u754c\uff08\u5305\u62ec\u63a7\u5236\u6aaf\u3001\u958b\u767c\u8005\u5de5\u4f5c\u7ad9\u548c\u7528\u65bc\u90e8\u7f72\u8cc7\u6e90\u7684\u57fa\u790e\u6d41\u6c34\u7dda\uff09\u5916\u90e8\u7684\u6d41\u91cf\u8a2a\u554f\u53d7\u9650\u7684 Google Cloud \u670d\u52d9\u3002\u5982\u679c\u60a8\u4f7f\u7528 VPC Service Controls\uff0c\u5247\u5fc5\u9808\u7232\u908a\u754c\u8a2d\u8a08\u4f8b\u5916\uff0c\u4ee5\u5141\u8a31\u60a8\u9810\u671f\u7684\u8a2a\u554f\u8def\u5f91\u3002\nVPC Service Controls \u908a\u754c\u7528\u65bc\u5728 Google Cloud \u7d44\u7e54\u548c\u5916\u90e8\u4f86\u6e90\u4e4b\u9593\u63d0\u4f9b\u6ef2\u6f0f\u63a7\u5236\u3002\u8a72\u908a\u754c\u4e26\u975e\u65e8\u5728\u66ff\u63db\u6216\u8907\u88fd\u7528\u65bc\u5c0d\u500b\u5225\u9805\u76ee\u6216\u8cc7\u6e90\u9032\u884c\u7cbe\u7d30\u8a2a\u554f\u6b0a\u9650\u63a7\u5236\u7684\u5141\u8a31\u653f\u7b56\u3002\u5728 [\u8a2d\u8a08\u548c\u69cb\u5efa\u908a\u754c](https://cloud.google.com/vpc-service-controls/docs/architect-perimeters?hl=zh-cn) \u6642\uff0c\u6211\u5011\u5efa\u8b70\u60a8\u4f7f\u7528\u901a\u7528\u7684\u7d71\u4e00\u908a\u754c\u4f86\u964d\u4f4e\u7ba1\u7406\u958b\u92b7\u3002\n\u5982\u679c\u60a8\u5fc5\u9808\u8a2d\u8a08\u591a\u500b\u908a\u754c\u4f86\u7cbe\u7d30\u63a7\u5236 Google Cloud \u7d44\u7e54\u4e2d\u7684\u670d\u52d9\u6d41\u91cf\uff0c\u6211\u5011\u5efa\u8b70\u60a8\u660e\u78ba\u5b9a\u7fa9\u7531\u66f4\u5fa9\u96dc\u7684\u908a\u754c\u7d50\u69cb\u89e3\u6c7a\u7684\u5a01\u8105\u4ee5\u53ca\u5b8c\u6210\u9810\u671f\u64cd\u4f5c\u6240\u9700\u7684\u908a\u754c\u4e4b\u9593\u7684\u8a2a\u554f\u8def\u5f91\u3002\n\u5982\u9700\u63a1\u7528 VPC Service Controls\uff0c\u8acb\u8a55\u4f30\u4ee5\u4e0b\u5404\u9805\uff1a\n- \u60a8\u7684\u54ea\u4e9b\u4f7f\u7528\u5834\u666f\u9700\u8981 VPC Service Controls\u3002\n- \u6240\u9700\u7684 Google Cloud \u670d\u52d9\u662f\u5426 [\u652f\u6301 VPC Service Controls](https://cloud.google.com/vpc-service-controls/docs/supported-products?hl=zh-cn) \u3002\n- \u5982\u4f55\u914d\u7f6e Breakglass \u8a2a\u554f\u6b0a\u9650\u4ee5\u4fee\u6539\u908a\u754c\uff0c\u4ee5\u9632\u5176\u4e2d\u65b7\u81ea\u52d5\u5316\u6d41\u6c34\u7dda\u3002\n- \u5982\u4f55\u4f7f\u7528 [\u5553\u7528 VPC Service Controls \u7684\u6700\u4f73\u5be6\u8e10](https://cloud.google.com/vpc-service-controls/docs/enable?hl=zh-cn) \u4f86\u8a2d\u8a08\u548c\u5be6\u73fe\u908a\u754c\u3002\n\u5553\u7528\u908a\u754c\u5f8c\uff0c\u6211\u5011\u5efa\u8b70\u60a8\u8a2d\u8a08\u4e00\u500b\u6301\u7e8c\u5c07\u65b0\u9805\u76ee\u6dfb\u52a0\u5230\u6b63\u78ba\u908a\u754c\u7684\u6d41\u7a0b\uff0c\u4ee5\u53ca\u4e00\u500b\u5728\u958b\u767c\u8005\u9047\u5230\u7576\u524d\u908a\u754c\u914d\u7f6e\u62d2\u7d55\u7684\u65b0\u4f7f\u7528\u5834\u666f\u6642\u8a2d\u8a08\u4f8b\u5916\u7684\u6d41\u7a0b\u3002\n## \u5728\u55ae\u7368\u7684\u7d44\u7e54\u4e2d\u6e2c\u8a66\u7d44\u7e54\u7bc4\u570d\u7684\u66f4\u6539\n\u6211\u5011\u5efa\u8b70\u60a8\u5207\u52ff\u5728\u672a\u7d93\u6e2c\u8a66\u7684\u60c5\u6cc1\u4e0b\u5c07\u66f4\u6539\u90e8\u7f72\u5230\u751f\u7522\u74b0\u5883\u3002\u5c0d\u65bc\u5de5\u4f5c\u8ca0\u8f09\u8cc7\u6e90\uff0c\u55ae\u7368\u7684\u958b\u767c\u3001\u975e\u751f\u7522\u548c\u751f\u7522\u74b0\u5883\u6709\u5229\u65bc\u5be6\u65bd\u6b64\u65b9\u6cd5\u3002\u4f46\u662f\uff0c\u7d44\u7e54\u7684\u67d0\u4e9b\u8cc7\u6e90\u6c92\u6709\u55ae\u7368\u7684\u74b0\u5883\u4f86\u65b9\u4fbf\u6e2c\u8a66\u3002\n\u5c0d\u65bc\u7d44\u7e54\u7d1a\u5c64\u7684\u66f4\u6539\u6216\u53ef\u80fd\u6703\u5f71\u97ff\u751f\u7522\u74b0\u5883\u7684\u5176\u4ed6\u66f4\u6539\uff08\u4f8b\u5982\u8eab\u4efd\u63d0\u4f9b\u65b9\u548c Cloud Identity \u4e4b\u9593\u7684\u914d\u7f6e\uff09\uff0c\u8acb\u8003\u616e\u5275\u5efa\u4e00\u500b\u55ae\u7368\u7684\u7d44\u7e54\u9032\u884c\u6e2c\u8a66\u3002\n## \u63a7\u5236\u5c0d\u865b\u64ec\u6a5f\u7684\u9060\u7a0b\u8a2a\u554f\n\u7531\u65bc\u6211\u5011\u5efa\u8b70\u60a8\u901a\u904e\u57fa\u790e\u6d41\u6c34\u7dda\u3001\u57fa\u790e\u8a2d\u65bd\u6d41\u6c34\u7dda\u548c\u61c9\u7528\u6d41\u6c34\u7dda\u4f86\u90e8\u7f72\u4e0d\u53ef\u8b8a\u57fa\u790e\u8a2d\u65bd\uff0c\u56e0\u6b64\u6211\u5011\u9084\u5efa\u8b70\u60a8\u50c5\u5728\u53d7\u9650\u6216\u4f8b\u5916\u4f7f\u7528\u5834\u666f\u4e0b\u6388\u6b0a\u958b\u767c\u8005\u901a\u904e SSH \u6216 RDP \u76f4\u63a5\u8a2a\u554f\u865b\u64ec\u6a5f\u3002\n\u5c0d\u65bc\u9700\u8981\u9060\u7a0b\u8a2a\u554f\u7684\u5834\u666f\uff0c\u6211\u5011\u5efa\u8b70\u60a8\u5118\u53ef\u80fd\u4f7f\u7528 [OS Login](https://cloud.google.com/compute/docs/oslogin?hl=zh-cn) \u7ba1\u7406\u7528\u6236\u8a2a\u554f\u3002\u6b64\u65b9\u6cd5\u4f7f\u7528\u8a17\u7ba1\u7684 Google Cloud \u670d\u52d9\u4f86\u5be6\u65bd\u8a2a\u554f\u6b0a\u9650\u63a7\u5236\u3001\u8cec\u865f\u751f\u547d\u9031\u671f\u7ba1\u7406\u3001\u5169\u6b65\u9a57\u8b49\u548c\u5be9\u8988\u65e5\u8a8c\u8a18\u9304\u3002\u6216\u8005\uff0c\u5982\u679c\u60a8\u5fc5\u9808\u5141\u8a31\u901a\u904e [\u5143\u6578\u64da\u4e2d\u7684 SSH \u5bc6\u9470](https://cloud.google.com/compute/docs/instances/access-overview?hl=zh-cn#ssh-access) \u6216 [RDP \u6191\u64da](https://cloud.google.com/compute/docs/instances/windows/generating-credentials?hl=zh-cn) \u9032\u884c\u8a2a\u554f\uff0c\u5247\u9700\u8ca0\u8cac\u7ba1\u7406\u6191\u64da\u751f\u547d\u9031\u671f\u548c\u5728 Google Cloud \u5916\u90e8\u5b89\u5168\u5b58\u5132\u6191\u64da\u3002\n\u5728\u4efb\u4f55\u60c5\u6cc1\u4e0b\uff0c\u5c0d\u865b\u64ec\u6a5f\u5177\u6709 SSH \u6216 RDP \u8a2a\u554f\u6b0a\u9650\u7684\u7528\u6236\u90fd\u53ef\u80fd\u5b58\u5728\u63d0\u6b0a\u98a8\u96aa\uff0c\u56e0\u6b64\u60a8\u5728\u8a2d\u8a08\u8a2a\u554f\u6a21\u578b\u6642\u61c9\u8003\u616e\u5230\u9019\u4e00\u9ede\u3002\u7528\u6236\u53ef\u4ee5\u4f7f\u7528\u95dc\u806f\u670d\u52d9\u8cec\u865f\u7684\u6b0a\u9650\u5728\u8a72\u865b\u64ec\u6a5f\u4e0a\u904b\u884c\u4ee3\u78bc\uff0c\u4e5f\u53ef\u4ee5 [\u67e5\u8a62\u5143\u6578\u64da\u670d\u52d9\u5668](https://cloud.google.com/compute/docs/metadata/overview?hl=zh-cn#metadata_security_considerations) \u4ee5\u67e5\u770b\u7528\u65bc\u5c0d API \u8acb\u6c42\u9032\u884c\u8eab\u4efd\u9a57\u8b49\u7684\u8a2a\u554f\u4ee4\u724c\u3002\u5982\u679c\u60a8\u4e0d\u662f\u6709\u610f\u8b93\u7528\u6236\u4f7f\u7528\u670d\u52d9\u8cec\u865f\u7684\u7279\u6b0a\u64cd\u4f5c\uff0c\u5247\u6b64\u8a2a\u554f\u53ef\u80fd\u662f\u63d0\u6b0a\u884c\u7232\u3002\n## \u901a\u904e\u898f\u5283\u9810\u7b97\u63d0\u9192\u4f86\u6e1b\u5c11\u8d85\u652f\n\u6b64\u85cd\u5716\u5be6\u65bd [Google Cloud \u67b6\u69cb\u6846\u67b6\uff1a\u8cbb\u7528\u512a\u5316](https://cloud.google.com/architecture/framework/cost-optimization?hl=zh-cn) \u4e2d\u5f15\u5165\u7684\u6700\u4f73\u5be6\u8e10\u4f86\u7ba1\u7406\u8cbb\u7528\uff0c\u5305\u62ec\uff1a\n- \u5728\u4f01\u696d\u57fa\u790e\u7684\u6240\u6709\u9805\u76ee\u4e2d\u4f7f\u7528\u540c\u4e00\u500b\u7d50\u7b97\u8cec\u865f\u3002\n- \u7232\u6bcf\u500b\u9805\u76ee\u5206\u914d\u4e00\u500b `billingcode` \u5143\u6578\u64da\u6a19\u7c64\uff0c\u7528\u65bc\u5728\u6210\u672c\u4e2d\u5fc3\u4e4b\u9593\u5206\u914d\u8cbb\u7528\u3002\n- \u8a2d\u7f6e\u9810\u7b97\u548c\u63d0\u9192\u95be\u503c\u3002\n\u60a8\u6709\u8cac\u4efb\u898f\u5283\u9810\u7b97\u4e26\u914d\u7f6e\u7d50\u7b97\u63d0\u9192\u3002\u7576\u9810\u6e2c\u652f\u51fa\u5c07\u6703\u9054\u5230\u9810\u7b97\u7684 120% \u6642\uff0c\u6b64\u85cd\u5716\u6703\u7232\u5de5\u4f5c\u8ca0\u8f09\u9805\u76ee [\u5275\u5efa\u9810\u7b97\u63d0\u9192](https://cloud.google.com/billing/docs/how-to/budgets?hl=zh-cn) \u3002\u9019\u7a2e\u65b9\u6cd5\u4f7f\u4e2d\u5fc3\u5718\u968a\u53ef\u4ee5\u8b58\u5225\u548c\u7de9\u89e3\u56b4\u91cd\u8d85\u652f\u7684\u7a81\u767c\u4e8b\u4ef6\u3002\u82e5\u6c92\u6709\u660e\u986f\u7684\u7406\u7531\uff0c\u652f\u51fa\u5927\u5e45\u589e\u52a0\u53ef\u80fd\u8868\u660e\u5b58\u5728\u5b89\u5168\u4e8b\u4ef6\uff0c\u61c9\u5f9e\u8cbb\u7528\u63a7\u5236\u548c\u5b89\u5168\u6027\u7684\u89d2\u5ea6\u958b\u5c55\u8abf\u67e5\u3002\n**\u6ce8\u610f\uff1a** \u9810\u7b97\u63d0\u9192\u6db5\u84cb\u7684\u901a\u77e5\u985e\u578b\u8207 [\u91cd\u8981\u806f\u7e6b\u4eba\u7684\u7d50\u7b97\u985e\u5225](https://cloud.google.com/resource-manager/docs/managing-notification-contacts?hl=zh-cn) \u4e0d\u540c\u3002\u9810\u7b97\u63d0\u9192\u8207\u60a8\u7232\u6bcf\u500b\u9805\u76ee\u5b9a\u7fa9\u7684\u9810\u7b97\u6d88\u8017\u6709\u95dc\u3002\u4f86\u81ea\u91cd\u8981\u806f\u7e6b\u4eba\u7684\u7d50\u7b97\u901a\u77e5\u8207\u50f9\u683c\u66f4\u65b0\u3001\u932f\u8aa4\u548c\u8d08\u91d1\u6709\u95dc\u3002\n\u6839\u64da\u60a8\u7684\u61c9\u7528\u5834\u666f\uff0c\u60a8\u53ef\u4ee5\u5c07\u9810\u7b97\u8a2d\u7f6e\u7232\u57fa\u65bc\u6574\u500b\u74b0\u5883\u6587\u4ef6\u593e\u6216\u8207\u7279\u5b9a\u6210\u672c\u4e2d\u5fc3\u76f8\u95dc\u7684\u6240\u6709\u9805\u76ee\uff0c\u800c\u4e0d\u662f\u7232\u6bcf\u500b\u9805\u76ee\u8a2d\u7f6e\u7cbe\u7d30\u7684\u9810\u7b97\u3002\u6211\u5011\u9084\u5efa\u8b70\u60a8\u5c07\u9810\u7b97\u548c\u63d0\u9192\u8a2d\u7f6e\u59d4\u8a17\u7d66\u53ef\u80fd\u7232\u65e5\u5e38\u76e3\u63a7\u8a2d\u7f6e\u66f4\u7cbe\u7d30\u7684\u63d0\u9192\u95be\u503c\u7684\u5de5\u4f5c\u8ca0\u8f09\u6240\u6709\u8005\u3002\n\u5982\u9700\u77ad\u89e3\u5982\u4f55\u69cb\u5efa FinOps \u529f\u80fd\uff0c\u5305\u62ec\u9810\u6e2c\u5de5\u4f5c\u8ca0\u8f09\u7684\u9810\u7b97\uff0c\u8acb\u53c3\u95b1 [Google Cloud \u4e0a\u7684 FinOps \u5165\u9580](https://services.google.com/fh/files/misc/cloud_finops_getting_started.pdf?hl=zh-cn) \u3002\n## \u5728\u5167\u90e8\u6210\u672c\u4e2d\u5fc3\u4e4b\u9593\u5206\u914d\u8cbb\u7528\n\u901a\u904e\u63a7\u5236\u6aaf\uff0c\u60a8\u53ef\u4ee5 [\u67e5\u770b\u7d50\u7b97\u5831\u544a](https://cloud.google.com/billing/docs/how-to/reports?hl=zh-cn) \uff0c\u4e26\u5f9e\u591a\u500b\u7dad\u5ea6\u67e5\u770b\u548c\u9810\u6e2c\u8cbb\u7528\u3002\u9664\u4e86\u9810\u5efa\u5831\u544a\u4e4b\u5916\uff0c\u6211\u5011\u9084\u5efa\u8b70\u60a8\u5c07\u7d50\u7b97\u6578\u64da\u5c0e\u51fa\u5230 `prj-c-billing-logs` \u9805\u76ee\u4e2d\u7684 BigQuery \u6578\u64da\u96c6\u3002\u85c9\u52a9\u5c0e\u51fa\u7684\u7d50\u7b97\u8a18\u9304\uff0c\u60a8\u53ef\u4ee5\u6839\u64da\u9805\u76ee\u6a19\u7c64\u5143\u6578\u64da\uff08\u5982 `billingcode` \uff09\u5728\u81ea\u5b9a\u7fa9\u7dad\u5ea6\uff08\u4f8b\u5982\u5167\u90e8\u6210\u672c\u4e2d\u5fc3\uff09\u5206\u914d\u8cbb\u7528\u3002\n\u8acb\u901a\u904e\u4ee5\u4e0b SQL \u67e5\u8a62\u793a\u4f8b\u77ad\u89e3\u6309 `billingcode` \u9805\u76ee\u6a19\u7c64\u5206\u7d44\u7684\u6240\u6709\u9805\u76ee\u7684\u8cbb\u7528\u3002\n```\n#standardSQLSELECT\u00a0 \u00a0(SELECT value from UNNEST(labels) where key = 'billingcode') AS costcenter,\u00a0 \u00a0service.description AS description,\u00a0 \u00a0SUM(cost) AS charges,\u00a0 \u00a0SUM((SELECT SUM(amount) FROM UNNEST(credits))) AS creditsFROM PROJECT_ID.DATASET_ID.TABLE_NAMEGROUP BY costcenter, descriptionORDER BY costcenter ASC, description ASC\n```\n\u5982\u9700\u8a2d\u7f6e\u6b64\u5c0e\u51fa\uff0c\u8acb\u53c3\u95b1 [\u5c07 Cloud Billing \u6578\u64da\u5c0e\u51fa\u5230 BigQuery](https://cloud.google.com/billing/docs/how-to/export-data-bigquery?hl=zh-cn) \u3002\n\u5982\u9700\u5728\u6210\u672c\u4e2d\u5fc3\u4e4b\u9593\u5efa\u7acb\u5167\u90e8\u8a18\u8cec\u6216\u8cbb\u7528\u5206\u6524\uff0c\u60a8\u6709\u8cac\u4efb\u5c07\u5f9e\u6b64\u67e5\u8a62\u4e2d\u7372\u5f97\u7684\u6578\u64da\u6574\u5408\u5230\u5167\u90e8\u6d41\u7a0b\u4e2d\u3002\n## \u5c07\u6aa2\u6e2c\u6027\u63a7\u5236\u4e2d\u7684\u767c\u73fe\u7d50\u679c\u6ce8\u5165\u5230\u73fe\u6709 SIEM \u4e2d\n\u96d6\u7136\u57fa\u790e\u8cc7\u6e90\u53ef\u5e6b\u52a9\u60a8\u914d\u7f6e\u5be9\u8988\u65e5\u8a8c\u548c\u5b89\u5168\u767c\u73fe\u7d50\u679c\u7684\u5f59\u7e3d\u76ee\u6a19\u4f4d\u7f6e\uff0c\u4f46\u60a8\u6709\u8cac\u4efb\u6c7a\u5b9a\u5982\u4f55\u4f7f\u7528\u9019\u4e9b\u4fe1\u865f\u3002\n\u5982\u679c\u60a8\u9700\u8981\u5c07\u6240\u6709\u4e91\u548c\u672c\u5730\u74b0\u5883\u4e2d\u7684\u65e5\u8a8c\u5f59\u7e3d\u5230\u73fe\u6709 SIEM \u4e2d\uff0c\u8acb\u6c7a\u5b9a\u5982\u4f55\u5c07 `prj-c-logging` \u9805\u76ee\u4e2d\u7684\u65e5\u8a8c\u548c Security Command Center \u4e2d\u7684\u767c\u73fe\u7d50\u679c\u6ce8\u5165\u5230\u73fe\u6709\u5de5\u5177\u548c\u6d41\u7a0b\u4e2d\u3002\u5982\u679c\u7531\u4e00\u500b\u5718\u968a\u8ca0\u8cac\u76e3\u63a7\u6574\u500b\u74b0\u5883\u7684\u5b89\u5168\u6027\uff0c\u5247\u53ef\u4ee5\u7232\u6240\u6709\u65e5\u8a8c\u548c\u767c\u73fe\u7d50\u679c\u5275\u5efa\u4e00\u500b\u5c0e\u51fa\uff1b\u4e5f\u53ef\u4ee5\u5275\u5efa\u591a\u500b\u5c0e\u51fa\uff0c\u7232\u8077\u8cac\u4e0d\u540c\u7684\u591a\u500b\u5718\u968a\u904e\u6ffe\u6240\u9700\u7684\u4e00\u7d44\u65e5\u8a8c\u548c\u767c\u73fe\u7d50\u679c\u3002\n\u6216\u8005\uff0c\u5982\u679c\u65e5\u8a8c\u91cf\u548c\u8cbb\u7528\u4ee4\u4eba\u671b\u800c\u537b\u6b65\uff0c\u60a8\u53ef\u4ee5\u50c5\u4fdd\u7559 Google Cloud \u4e2d\u7684 Google Cloud \u65e5\u8a8c\u548c\u767c\u73fe\u7d50\u679c\uff0c\u4ee5\u907f\u514d\u91cd\u8907\u3002\u5728\u9019\u7a2e\u60c5\u6cc1\u4e0b\uff0c\u8acb\u78ba\u4fdd\u60a8\u7684\u73fe\u6709\u5718\u968a\u64c1\u6709\u6b63\u78ba\u7684\u8a2a\u554f\u6b0a\u9650\u4e26\u7d93\u904e\u9069\u7576\u57f9\u8a13\uff0c\u4ee5\u4fbf\u76f4\u63a5\u5728 Google Cloud \u4e2d\u4f7f\u7528\u65e5\u8a8c\u548c\u767c\u73fe\u7d50\u679c\u3002\n- \u5c0d\u65bc\u5be9\u8988\u65e5\u8a8c\uff0c\u8acb\u8a2d\u8a08 [\u65e5\u8a8c\u8996\u5716](https://cloud.google.com/logging/docs/logs-views?hl=zh-cn#create_view) \u4ee5\u5411\u55ae\u500b\u5718\u968a\u6388\u4e88\u5c0d\u96c6\u4e2d\u5f0f\u65e5\u8a8c\u5b58\u5132\u6876\u4e2d\u7684\u4e00\u90e8\u5206\u65e5\u8a8c\u7684\u8a2a\u554f\u6b0a\u9650\uff0c\u800c\u4e0d\u662f\u5c07\u65e5\u8a8c\u8907\u88fd\u5230\u591a\u500b\u5b58\u5132\u6876\uff0c\u5f9e\u800c\u589e\u52a0\u65e5\u8a8c\u5b58\u5132\u8cbb\u7528\u3002\n- \u5c0d\u65bc\u5b89\u5168\u767c\u73fe\u7d50\u679c\uff0c\u8acb\u76f4\u63a5\u5728\u63a7\u5236\u6aaf\u4e2d\u7232 Security Command Center \u6388\u4e88 [\u6587\u4ef6\u593e\u7d1a\u5c64\u548c\u9805\u76ee\u7d1a\u5c64\u89d2\u8272](https://cloud.google.com/security-command-center/docs/access-control-org?hl=zh-cn#folder-level_and_project-level_roles) \uff0c\u4ee5\u4fbf\u5718\u968a\u50c5\u67e5\u770b\u548c\u7ba1\u7406\u4ed6\u5011\u6240\u8ca0\u8cac\u9805\u76ee\u7684\u5b89\u5168\u767c\u73fe\u7d50\u679c\u3002## \u6301\u7e8c\u958b\u767c\u60a8\u7684\u63a7\u5236\u5eab\n\u6b64\u85cd\u5716\u5f9e\u6aa2\u6e2c\u548c\u9632\u7bc4\u5a01\u8105\u7684\u63a7\u5236\u57fa\u6e96\u958b\u59cb\u3002\u5efa\u8b70\u60a8\u67e5\u770b\u9019\u4e9b\u63a7\u5236\uff0c\u4e26\u6839\u64da\u8981\u6c42\u6dfb\u52a0\u9644\u52a0\u63a7\u5236\u3002\u4e0b\u8868\u7e3d\u7d50\u4e86\u5f37\u5236\u57f7\u884c\u6cbb\u7406\u653f\u7b56\u7684\u6a5f\u5236\u4ee5\u53ca\u5982\u4f55\u6839\u64da\u5176\u4ed6\u8981\u6c42\u64f4\u5c55\u9019\u4e9b\u653f\u7b56\uff1a\n| \u85cd\u5716\u5f37\u5236\u57f7\u884c\u7684\u653f\u7b56\u63a7\u5236                     | \u95dc\u65bc\u64f4\u5c55\u9019\u4e9b\u63a7\u5236\u7684\u6307\u5357                          |\n|:----------------------------------------------------------------------------------------------------------|:----------------------------------------------------------------------------------------------------------------------------|\n| Security Command Center \u6703\u6aa2\u6e2c\u4f86\u81ea\u591a\u500b\u5b89\u5168\u4f86\u6e90\u7684\u6f0f\u6d1e\u548c\u5a01\u8105\u3002            | \u5b9a\u7fa9 Security Health Analytics \u7684\u81ea\u5b9a\u7fa9\u6a21\u584a\u548c Event Threat Detection \u7684\u81ea\u5b9a\u7fa9\u6a21\u584a\u3002           |\n| \u7d44\u7e54\u653f\u7b56\u670d\u52d9\u6703\u5c0d Google Cloud \u670d\u52d9\u5be6\u65bd\u4e00\u7d44\u5efa\u8b70\u7684\u7d44\u7e54\u653f\u7b56\u9650\u5236\u689d\u4ef6\u3002          | \u5f37\u5236\u57f7\u884c\u9810\u5efa\u7684\u53ef\u7528\u9650\u5236\u689d\u4ef6\u5217\u8868\u4e2d\u7684\u9644\u52a0\u9650\u5236\u689d\u4ef6\u6216\u5275\u5efa\u81ea\u5b9a\u7fa9\u9650\u5236\u689d\u4ef6\u3002              |\n| Open Policy Agent (OPA) \u653f\u7b56\u6703\u5728\u90e8\u7f72\u4e4b\u524d\u9a57\u8b49\u57fa\u790e\u6d41\u6c34\u7dda\u4e2d\u7684\u4ee3\u78bc\uff0c\u4ee5\u78ba\u8a8d\u53ef\u63a5\u53d7\u7684\u914d\u7f6e\u3002      | \u6839\u64da GoogleCloudPlatform/policy-library \u4e2d\u7684\u6307\u5c0e\u4fe1\u606f\u5236\u5b9a\u5176\u4ed6\u9650\u5236\u689d\u4ef6\u3002              |\n| \u57fa\u65bc\u65e5\u8a8c\u7684\u6307\u6a19\u548c\u6027\u80fd\u6307\u6a19\u63d0\u9192\u6703\u914d\u7f6e\u57fa\u65bc\u65e5\u8a8c\u7684\u6307\u6a19\uff0c\u4ee5\u91dd\u5c0d\u67d0\u4e9b\u654f\u611f\u8cc7\u6e90\u7684 IAM \u653f\u7b56\u548c\u914d\u7f6e\u66f4\u6539\u767c\u51fa\u63d0\u9192\u3002  | \u7232\u4e0d\u61c9\u5728\u60a8\u7684\u74b0\u5883\u4e2d\u767c\u751f\u7684\u65e5\u8a8c\u4e8b\u4ef6\u8a2d\u8a08\u5176\u4ed6\u57fa\u65bc\u65e5\u8a8c\u7684\u6307\u6a19\u548c\u63d0\u9192\u653f\u7b56\u3002               |\n| \u7528\u65bc\u81ea\u52d5\u65e5\u8a8c\u5206\u6790\u7684\u81ea\u5b9a\u7fa9\u89e3\u6c7a\u65b9\u6848\u6703\u5b9a\u671f\u67e5\u8a62\u65e5\u8a8c\u662f\u5426\u5b58\u5728\u53ef\u7591\u6d3b\u52d5\uff0c\u4e26\u5275\u5efa Security Command Center \u767c\u73fe\u7d50\u679c\u3002 | \u4f7f\u7528\u5b89\u5168\u65e5\u8a8c\u5206\u6790\u4f5c\u7232\u53c3\u8003\uff0c\u7de8\u5beb\u5176\u4ed6\u67e5\u8a62\u4f86\u7232\u8981\u76e3\u63a7\u7684\u5b89\u5168\u6027\u4e8b\u4ef6\u5275\u5efa\u767c\u73fe\u7d50\u679c\u3002             |\n| \u7528\u65bc\u97ff\u61c9\u8cc7\u7522\u8b8a\u5316\u7684\u81ea\u5b9a\u7fa9\u89e3\u6c7a\u65b9\u6848\u6703\u5275\u5efa Security Command Center \u767c\u73fe\u7d50\u679c\uff0c\u4e26\u53ef\u81ea\u52d5\u63a1\u53d6\u4fee\u5fa9\u63aa\u65bd\u3002   | \u5275\u5efa\u5176\u4ed6 Cloud Asset Inventory Feed \u4f86\u76e3\u63a7\u7279\u5b9a\u8cc7\u7522\u985e\u578b\u7684\u66f4\u6539\uff0c\u4e26\u4f7f\u7528\u81ea\u5b9a\u7fa9\u908f\u8f2f\u7de8\u5beb\u5176\u4ed6 Cloud Functions \u51fd\u6578\u4f86\u97ff\u61c9\u9055\u898f\u884c\u7232\u3002 |\n\u96a8\u7740\u60a8\u7684 Google Cloud \u8981\u6c42\u548c\u6210\u719f\u5ea6\u767c\u751f\u8b8a\u5316\uff0c\u9019\u4e9b\u63a7\u5236\u53ef\u80fd\u4e5f\u6703\u8b8a\u5316\u3002\n## \u4f7f\u7528 Cloud Key Management Service \u7ba1\u7406\u52a0\u5bc6\u5bc6\u9470\nGoogle Cloud \u7232\u6240\u6709\u5ba2\u6236\u5167\u5bb9\u63d0\u4f9b [\u9ed8\u8a8d\u975c\u614b\u52a0\u5bc6](https://cloud.google.com/docs/security/encryption/default-encryption?hl=zh-cn) \uff0c\u4f46\u4e5f\u63d0\u4f9b [Cloud Key Management Service (Cloud KMS)](https://cloud.google.com/kms/docs/key-management-service?hl=zh-cn) \uff0c\u4f7f\u60a8\u53ef\u4ee5\u984d\u5916\u63a7\u5236\u975c\u614b\u6578\u64da\u7684\u52a0\u5bc6\u5bc6\u9470\u3002\u6211\u5011\u5efa\u8b70\u60a8\u8a55\u4f30\u9ed8\u8a8d\u52a0\u5bc6\u662f\u5426\u8db3\u5920\uff0c\u6216\u8005\u662f\u5426\u5b58\u5728\u8b93\u60a8\u5fc5\u9808\u4f7f\u7528 Cloud KMS \u81ea\u884c\u7ba1\u7406\u5bc6\u9470\u7684\u5408\u898f\u6027\u8981\u6c42\u3002\u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1 [\u78ba\u5b9a\u5982\u4f55\u6eff\u8db3\u975c\u614b\u52a0\u5bc6\u7684\u5408\u898f\u6027\u8981\u6c42](https://cloud.google.com/architecture/landing-zones/decide-security?hl=zh-cn#encrypt-rest) \u3002\n\u6b64\u85cd\u5716\u5728\u516c\u5171\u6587\u4ef6\u593e\u4e2d\u63d0\u4f9b\u4e00\u500b `prj-c-kms` \u9805\u76ee\uff0c\u4e26\u5728\u6bcf\u500b\u74b0\u5883\u6587\u4ef6\u593e\u4e2d\u63d0\u4f9b\u4e00\u500b `prj-{env}-kms` \u9805\u76ee\u4f86\u96c6\u4e2d\u7ba1\u7406\u52a0\u5bc6\u5bc6\u9470\u3002\u901a\u904e\u6b64\u65b9\u6cd5\uff0c\u4e2d\u5fc3\u5718\u968a\u53ef\u4ee5\u5be9\u8988\u548c\u7ba1\u7406\u5de5\u4f5c\u8ca0\u8f09\u9805\u76ee\u4e2d\u8cc7\u6e90\u4f7f\u7528\u7684\u52a0\u5bc6\u5bc6\u9470\uff0c\u4ee5\u6eff\u8db3\u76e3\u7ba1\u548c\u5408\u898f\u6027\u8981\u6c42\u3002\n\u6839\u64da\u60a8\u7684\u904b\u71df\u6a21\u5f0f\uff0c\u60a8\u53ef\u80fd\u5e0c\u671b\u8b93\u4e00\u500b\u5718\u968a\u63a7\u5236 Cloud KMS \u7684\u4e00\u500b\u96c6\u4e2d\u5f0f\u9805\u76ee\u5be6\u4f8b\u3001\u5728\u6bcf\u500b\u74b0\u5883\u4e2d\u55ae\u7368\u7ba1\u7406\u52a0\u5bc6\u5bc6\u9470\uff0c\u6216\u8005\u63a1\u7528\u591a\u500b\u5206\u4f48\u5f0f\u5be6\u4f8b\uff0c\u4ee5\u4fbf\u5c07\u52a0\u5bc6\u5bc6\u9470\u7684\u8cac\u4efb\u59d4\u6d3e\u7d66\u76f8\u61c9\u7684\u5718\u968a\u3002\u6839\u64da\u9700\u8981\u4fee\u6539 Terraform \u4ee3\u78bc\u793a\u4f8b\uff0c\u4f7f\u4e4b\u9069\u61c9\u60a8\u7684\u904b\u71df\u6a21\u5f0f\u3002\n\uff08\u53ef\u9078\uff09\u60a8\u53ef\u4ee5\u5f37\u5236\u57f7\u884c [\u5ba2\u6236\u7ba1\u7406\u7684\u52a0\u5bc6\u5bc6\u9470 (CMEK) \u7d44\u7e54\u653f\u7b56](https://cloud.google.com/kms/docs/cmek-org-policy?hl=zh-cn) \uff0c\u8981\u6c42\u67d0\u4e9b\u8cc7\u6e90\u985e\u578b\u59cb\u7d42\u9700\u8981 CMEK \u5bc6\u9470\uff0c\u4e26\u4e14\u53ea\u80fd\u4f7f\u7528\u53ef\u4fe1\u9805\u76ee\u8a31\u53ef\u540d\u55ae\u4e2d\u7684 CMEK \u5bc6\u9470\u3002\n## \u4f7f\u7528 Secret Manager \u5b58\u5132\u548c\u5be9\u8988\u61c9\u7528\u6191\u64da\n\u6211\u5011\u5efa\u8b70\u60a8\u5207\u52ff\u5c07\u654f\u611f\u5bc6\u6587\uff08\u4f8b\u5982 API \u5bc6\u9470\u3001\u5bc6\u78bc\u548c\u79c1\u5bc6\u8b49\u66f8\uff09\u63d0\u4ea4\u5230\u6e90\u4ee3\u78bc\u5eab\u3002\u800c\u61c9\u5c07\u5bc6\u6587\u63d0\u4ea4\u5230 [Secret Manager](https://cloud.google.com/secret-manager/docs/overview?hl=zh-cn) \u4e26\u5411\u9700\u8981\u8a2a\u554f\u5bc6\u6587\u7684\u7528\u6236\u6216\u670d\u52d9\u8cec\u865f\u6388\u4e88 [Secret Manager Secret Accessor](https://cloud.google.com/secret-manager/docs/access-control?hl=zh-cn#secretmanager.secretAccessor) IAM \u89d2\u8272\u3002\u6211\u5011\u5efa\u8b70\u60a8\u5c07 IAM \u89d2\u8272\u6388\u4e88\u55ae\u500b\u5bc6\u6587\uff0c\u800c\u4e0d\u662f\u9805\u76ee\u4e2d\u7684\u6240\u6709\u5bc6\u6587\u3002\n\u60a8\u61c9\u8a72\u5118\u53ef\u80fd\u5728 CI/CD \u6d41\u6c34\u7dda\u4e2d\u81ea\u52d5\u751f\u6210\u751f\u7522\u5bc6\u6587\uff0c\u4e26\u4fdd\u8b49\u771f\u4eba\u7528\u6236\u7121\u6cd5\u8a2a\u554f\u9019\u4e9b\u5bc6\u6587\uff08\u9664\u975e\u51fa\u73fe Breakglass \u60c5\u6cc1\uff09\u3002\u5728\u9019\u7a2e\u60c5\u6cc1\u4e0b\uff0c\u8acb\u78ba\u4fdd\u60a8\u672a\u5411\u4efb\u4f55\u7528\u6236\u6216\u7fa3\u7d44\u6388\u4e88\u67e5\u770b\u9019\u4e9b\u5bc6\u6587\u7684 IAM \u89d2\u8272\u3002\n\u6b64\u85cd\u5716\u5728\u516c\u5171\u6587\u4ef6\u593e\u4e2d\u63d0\u4f9b\u4e00\u500b `prj-c-secrets` \u9805\u76ee\uff0c\u4e26\u5728\u6bcf\u500b\u74b0\u5883\u6587\u4ef6\u593e\u4e2d\u63d0\u4f9b\u4e00\u500b `prj-{env}-secrets` \u9805\u76ee\u4f86\u96c6\u4e2d\u7ba1\u7406\u5bc6\u6587\u3002\u901a\u904e\u6b64\u65b9\u6cd5\uff0c\u4e2d\u5fc3\u5718\u968a\u53ef\u4ee5\u5be9\u8988\u548c\u7ba1\u7406\u61c9\u7528\u4f7f\u7528\u7684\u5bc6\u6587\uff0c\u4ee5\u6eff\u8db3\u76e3\u7ba1\u548c\u5408\u898f\u6027\u8981\u6c42\u3002\n\u6839\u64da\u60a8\u7684\u904b\u71df\u6a21\u5f0f\uff0c\u60a8\u53ef\u80fd\u5e0c\u671b\u8b93\u4e00\u500b\u5718\u968a\u63a7\u5236 Secret Manager \u7684\u4e00\u500b\u96c6\u4e2d\u5f0f\u5be6\u4f8b\u3001\u5728\u6bcf\u500b\u74b0\u5883\u4e2d\u55ae\u7368\u7ba1\u7406\u5bc6\u6587\uff0c\u6216\u8005\u63a1\u7528 Secret Manager \u7684\u591a\u500b\u5206\u4f48\u5f0f\u5be6\u4f8b\uff0c\u4ee5\u4fbf\u6bcf\u500b\u5de5\u4f5c\u8ca0\u8f09\u5718\u968a\u90fd\u53ef\u4ee5\u7ba1\u7406\u81ea\u5df1\u7684\u5bc6\u6587\u3002\u6839\u64da\u9700\u8981\u4fee\u6539 Terraform \u4ee3\u78bc\u793a\u4f8b\uff0c\u4f7f\u4e4b\u9069\u61c9\u60a8\u7684\u904b\u71df\u6a21\u5f0f\u3002\n## \u898f\u5283\u5c0d\u9ad8\u7279\u6b0a\u8cec\u865f\u7684 Breakglass \u8a2a\u554f\u6b0a\u9650\n\u96d6\u7136\u6211\u5011\u5efa\u8b70\u901a\u904e\u57fa\u790e\u6d41\u6c34\u7dda\u90e8\u7f72\u7684\u53d7\u7248\u672c\u63a7\u5236\u7684 IaC \u4f86\u7ba1\u7406\u5c0d\u57fa\u790e\u8cc7\u6e90\u7684\u66f4\u6539\uff0c\u4f46\u53ef\u80fd\u5b58\u5728\u4f8b\u5916\u6216\u7dca\u6025\u60c5\u6cc1\uff0c\u5728\u9019\u4e9b\u60c5\u6cc1\u4e0b\uff0c\u9700\u8981\u7279\u6b0a\u8a2a\u554f\u6b0a\u9650\u624d\u80fd\u76f4\u63a5\u4fee\u6539\u74b0\u5883\u3002\u6211\u5011\u5efa\u8b70\u60a8\u898f\u5283 Breakglass \u8cec\u865f\uff08\u6709\u6642\u7a31\u7232 firecall \u6216\u7dca\u6025\u8cec\u865f\uff09\uff0c\u9019\u4e9b\u8cec\u865f\u5728\u767c\u751f\u7dca\u6025\u60c5\u6cc1\u6216\u81ea\u52d5\u5316\u904e\u7a0b\u4e2d\u65b7\u6642\u5c0d\u60a8\u7684\u74b0\u5883\u5177\u6709\u9ad8\u5ea6\u7279\u6b0a\u8a2a\u554f\u6b0a\u9650\u3002\n\u4e0b\u8868\u4ecb\u7d39\u4e86 Breakglass \u8cec\u865f\u7684\u4e00\u4e9b\u793a\u4f8b\u7528\u9014\u3002\n| Breakglass \u7528\u9014 | \u8aaa\u660e                           |\n|:------------------|:----------------------------------------------------------------------------------------------------------------|\n| \u8d85\u7d1a\u7528\u6236   | \u7dca\u6025\u8a2a\u554f\u8207 Cloud Identity \u642d\u914d\u4f7f\u7528\u7684 Super Admin \u89d2\u8272\uff0c\u4f8b\u5982\uff0c\u89e3\u6c7a\u8207\u8eab\u4efd\u806f\u5408\u6216\u591a\u91cd\u8eab\u4efd\u9a57\u8b49 (MFA) \u76f8\u95dc\u7684\u554f\u984c\u3002 |\n| \u7d44\u7e54\u7ba1\u7406\u54e1  | \u7dca\u6025\u8a2a\u554f Organization Administrator \u89d2\u8272\uff0c\u8a72\u89d2\u8272\u4e4b\u5f8c\u53ef\u4ee5\u5411\u7d44\u7e54\u4e2d\u4efb\u4f55\u5176\u4ed6 IAM \u89d2\u8272\u6388\u4e88\u8a2a\u554f\u6b0a\u9650\u3002     |\n| \u57fa\u790e\u6d41\u6c34\u7dda\u7ba1\u7406\u54e1 | \u63d0\u4f9b\u7dca\u6025\u8a2a\u554f\u6b0a\u9650\uff0c\u4ee5\u4fbf\u5728\u57fa\u790e\u6d41\u6c34\u7dda\u7684\u81ea\u52d5\u5316\u529f\u80fd\u4e2d\u65b7\u6642\uff0c\u4fee\u6539 Google Cloud \u548c\u5916\u90e8 Git \u4ee3\u78bc\u5eab\u4e0a CICD \u9805\u76ee\u4e2d\u7684\u8cc7\u6e90\u3002 |\n| \u904b\u71df\u6216 SRE  | \u904b\u71df\u6216 SRE \u5718\u968a\u9700\u8981\u7279\u6b0a\u8a2a\u554f\u6b0a\u9650\u4f86\u97ff\u61c9\u4e2d\u65b7\u6216\u7a81\u767c\u4e8b\u4ef6\u3002\u9019\u53ef\u80fd\u5305\u62ec\u91cd\u5553\u865b\u64ec\u6a5f\u6216\u6062\u5fa9\u6578\u64da\u7b49\u4efb\u52d9\u3002      |\n\u5141\u8a31 Breakglass \u8a2a\u554f\u6b0a\u9650\u7684\u6a5f\u5236\u53d6\u6c7a\u65bc\u60a8\u73fe\u6709\u7684\u5de5\u5177\u548c\u6d41\u7a0b\uff0c\u4f46\u4e00\u4e9b\u793a\u4f8b\u6a5f\u5236\u5982\u4e0b\uff1a\n- \u4f7f\u7528\u73fe\u6709\u7684\u7279\u6b0a\u8a2a\u554f\u6b0a\u9650\u7ba1\u7406\u5de5\u5177\u5c07\u7528\u6236\u81e8\u6642\u6dfb\u52a0\u5230\u9810\u5b9a\u7fa9\u4e86\u9ad8\u7279\u6b0a IAM \u89d2\u8272\u7684\u7fa3\u7d44\uff0c\u6216\u4f7f\u7528\u9ad8\u7279\u6b0a\u8cec\u865f\u7684\u6191\u64da\u3002\n- \u9810\u914d\u7f6e\u50c5\u7528\u65bc\u7ba1\u7406\u54e1\u7528\u9014\u7684\u8cec\u865f\u3002\u4f8b\u5982\uff0c\u958b\u767c\u8005 Dana \u53ef\u80fd\u5c07 dana@example.com \u8eab\u4efd\u7528\u65bc\u65e5\u5e38\u7528\u9014\uff0c\u5c07 admin-dana@example.com \u7528\u65bc Breakglass \u8a2a\u554f\u7528\u9014\u3002\n- \u4f7f\u7528 [\u5373\u6642\u7279\u6b0a\u8a2a\u554f\u6b0a\u9650](https://cloud.google.com/architecture/manage-just-in-time-privileged-access-to-project?hl=zh-cn) \u7b49\u61c9\u7528\uff0c\u9019\u4e9b\u61c9\u7528\u5141\u8a31\u958b\u767c\u8005\u81ea\u884c\u63d0\u5347\u7232\u7279\u6b0a\u66f4\u9ad8\u7684\u89d2\u8272\u3002\n\u7121\u8ad6\u60a8\u4f7f\u7528\u4f55\u7a2e\u6a5f\u5236\uff0c\u90fd\u61c9\u8003\u616e\u5982\u4f55\u5728\u904b\u71df\u5c64\u9762\u89e3\u6c7a\u4ee5\u4e0b\u554f\u984c\uff1a\n- \u5982\u4f55\u8a2d\u8a08 Breakglass \u8a2a\u554f\u6b0a\u9650\u7684\u7bc4\u570d\u548c\u7c92\u5ea6\uff1f\u4f8b\u5982\uff0c\u60a8\u53ef\u4ee5\u7232\u4e0d\u540c\u7684\u696d\u52d9\u90e8\u9580\u8a2d\u8a08\u4e0d\u540c\u7684 Breakglass \u6a5f\u5236\uff0c\u4ee5\u78ba\u4fdd\u5b83\u5011\u4e4b\u9593\u4e0d\u6703\u76f8\u4e92\u5e72\u64fe\u3002\n- \u60a8\u7684\u6a5f\u5236\u5982\u4f55\u9632\u6b62\u6feb\u7528\u884c\u7232\uff1f\u662f\u5426\u9700\u8981\u6279\u51c6\uff1f\u4f8b\u5982\uff0c\u60a8\u53ef\u80fd\u4f7f\u7528\u62c6\u5206\u64cd\u4f5c\uff0c\u4e00\u500b\u4eba\u4fdd\u5b58\u6191\u64da\uff0c\u53e6\u4e00\u500b\u4eba\u4fdd\u5b58 MFA \u4ee4\u724c\u3002\n- \u5982\u4f55\u5be9\u8988 Breakglass \u8a2a\u554f\u6b0a\u9650\u4f75\u767c\u51fa\u63d0\u9192\uff1f\u4f8b\u5982\uff0c\u60a8\u53ef\u4ee5\u5c07 [\u81ea\u5b9a\u7fa9 Event Threat Detection \u6a21\u584a](https://cloud.google.com/security-command-center/docs/custom-modules-etd-overview?hl=zh-cn) \u914d\u7f6e\u7232\u5728\u4f7f\u7528\u9810\u5b9a\u7fa9 Breakglass \u8cec\u865f\u6642\u5275\u5efa\u5b89\u5168\u767c\u73fe\u7d50\u679c\u3002\n- \u7a81\u767c\u4e8b\u4ef6\u7d50\u675f\u5f8c\uff0c\u5982\u4f55\u79fb\u9664 Breakglass \u8a2a\u554f\u6b0a\u9650\u4e26\u6062\u5fa9\u6b63\u5e38\u904b\u884c\uff1f\n\u5c0d\u65bc\u5e38\u898b\u7684\u63d0\u6b0a\u4efb\u52d9\u548c\u56de\u6efe\u66f4\u6539\uff0c\u6211\u5011\u5efa\u8b70\u60a8\u8a2d\u8a08\u81ea\u52d5\u5316\u5de5\u4f5c\u6d41\uff0c\u4ee5\u4fbf\u7528\u6236\u7121\u9700\u63d0\u5347\u5176\u7528\u6236\u8eab\u4efd\u7684\u6b0a\u9650\u5373\u53ef\u57f7\u884c\u76f8\u61c9\u64cd\u4f5c\u3002\u9019\u7a2e\u65b9\u6cd5\u53ef\u4ee5\u5e6b\u52a9\u6e1b\u5c11\u4eba\u7232\u932f\u8aa4\u4e26\u63d0\u9ad8\u5b89\u5168\u6027\u3002\n\u5c0d\u65bc\u9700\u8981\u5b9a\u671f\u5e72\u9810\u7684\u7cfb\u7d71\uff0c\u81ea\u52d5\u5316\u4fee\u5fa9\u53ef\u80fd\u662f\u6700\u4f73\u89e3\u6c7a\u65b9\u6848\u3002Google \u5efa\u8b70\u5ba2\u6236\u63a1\u7528\u96f6\u89f8\u6478\u751f\u7522\u65b9\u6cd5\uff0c\u4f7f\u7528\u81ea\u52d5\u5316\u3001 [\u5b89\u5168\u4ee3\u7406](https://google.github.io/building-secure-and-reliable-systems/raw/ch03.html) \u6216\u7d93\u904e\u5be9\u8988\u7684 Breakglass \u4f86\u57f7\u884c\u6240\u6709\u751f\u7522\u66f4\u6539\u3002Google \u7232\u5e0c\u671b\u63a1\u7528 Google SRE \u65b9\u6cd5\u7684\u5ba2\u6236\u63d0\u4f9b [SRE \u66f8\u7c4d](https://sre.google/books/?hl=zh-cn) \u3002\n## \u5f8c\u7e8c\u6b65\u9a5f\n- \u77ad\u89e3 [\u90e8\u7f72\u85cd\u5716](https://cloud.google.com/architecture/security-foundations/summary?hl=zh-cn) \uff08\u672c\u7cfb\u5217\u7684\u4e0b\u4e00\u500b\u6587\u6a94\uff09\u3002\n# \u90e8\u7f72\u85cd\u5716\n\u672c\u90e8\u5206\u4ecb\u7d39\u53ef\u7528\u65bc\u90e8\u7f72\u85cd\u5716\u3001\u85cd\u5716\u7684\u547d\u540d\u898f\u5247\u4ee5\u53ca\u85cd\u5716\u5efa\u8b70\u7684\u66ff\u4ee3\u65b9\u6848\u7684\u6d41\u7a0b\u3002\n## \u7d9c\u5408\u61c9\u7528\n\u5982\u9700\u6839\u64da\u6b64\u85cd\u4e2d\u7684\u6700\u4f73\u5be6\u8e10\u548c\u5efa\u8b70\u90e8\u7f72\u81ea\u5df1\u7684\u4f01\u696d\u57fa\u790e\uff0c\u8acb\u6309\u7167\u672c\u90e8\u5206\u7e3d\u7d50\u7684\u6982\u8981\u4efb\u52d9\u57f7\u884c\u64cd\u4f5c\u3002\u90e8\u7f72\u5305\u542b\u5fc5\u8981\u7684\u8a2d\u7f6e\u6b65\u9a5f\u3001\u901a\u904e GitHub \u4e0a\u7684 [terraform-example-foundation](https://github.com/terraform-google-modules/terraform-example-foundation) \u81ea\u52d5\u57f7\u884c\u7684\u90e8\u7f72\uff0c\u4ee5\u53ca\u521d\u59cb\u57fa\u790e\u90e8\u7f72\u5b8c\u6210\u5f8c\u5fc5\u9808\u624b\u52d5\u914d\u7f6e\u7684\u5176\u4ed6\u6b65\u9a5f\u3002\n| \u6d41\u7a0b            | \u6b65\u9a5f                                                                                                                                                                  |\n|:---------------------------------------------------|:--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| \u90e8\u7f72\u57fa\u790e\u6d41\u6c34\u7dda\u8cc7\u6e90\u7684\u524d\u63d0\u689d\u4ef6      | \u5728\u90e8\u7f72\u57fa\u790e\u6d41\u6c34\u7dda\u4e4b\u524d\uff0c\u8acb\u5b8c\u6210\u4ee5\u4e0b\u6b65\u9a5f\uff1a \u5275\u5efa Cloud Identity \u8cec\u865f\u4e26\u9a57\u8b49\u7db2\u57df\u6240\u6709\u6b0a\u3002 \u5411\u60a8\u7684 Google Cloud \u92b7\u552e\u5718\u968a\u7533\u8acb\u8cec\u55ae\u7d50\u7b97\u8cec\u865f\uff0c\u6216\u5275\u5efa\u81ea\u52a9\u7d50\u7b97\u8cec\u865f\u3002 \u5f37\u5236\u5c0d\u7ba1\u7406\u54e1\u8cec\u865f\u57f7\u884c\u5b89\u5168\u6700\u4f73\u5be6\u8e10\u3002 \u9a57\u8b49\u4e26\u8abf\u89e3\u4f7f\u7528\u65b9\u7528\u6236\u8cec\u865f\u7684\u554f\u984c\u3002 \u914d\u7f6e\u5916\u90e8\u8eab\u4efd\u63d0\u4f9b\u65b9\u4f5c\u7232\u53ef\u9760\u4f86\u6e90\u4ee5\u540c\u6b65\u7528\u6236\u8cec\u865f\u548c\u55ae\u9ede\u767b\u9304\u3002 \u9810\u914d\u904b\u884c\u85cd\u5716\u6240\u9700\u7684\u8a2a\u554f\u6b0a\u9650\u63a7\u5236\u7fa3\u7d44\u3002 \u78ba\u5b9a\u60a8\u5c07\u4f7f\u7528\u7684\u7db2\u7d61\u62d3\u64b2\u3002 \u78ba\u5b9a\u6e90\u4ee3\u78bc\u7ba1\u7406\u5de5\u5177\u3002terraform-example-foundation \u7684\u8aaa\u660e\u6703\u5beb\u5165\u5728 Cloud Source Repositories \u4e2d\u8a17\u7ba1\u7684 Git \u4ee3\u78bc\u5eab\u3002 \u78ba\u5b9a CI/CD \u81ea\u52d5\u5316\u5de5\u5177\u3002terraform-example-foundation \u6703\u7232\u4e0d\u540c\u7684\u81ea\u52d5\u5316\u5de5\u5177\u63d0\u4f9b\u4e0d\u540c\u7684\u6307\u4ee4\u96c6\u3002 \u5982\u9700\u9023\u63a5\u5230\u73fe\u6709\u7684\u672c\u5730\u74b0\u5883\uff0c\u8acb\u6e96\u5099\u4ee5\u4e0b\u5167\u5bb9\uff1a \u6839\u64da\u85cd\u5716\u6240\u9700\u7684\u7bc4\u570d\u7684\u6578\u91cf\u548c\u5927\u5c0f\u898f\u5283 IP \u5730\u5740\u5206\u914d\u3002 \u8a02\u8cfc\u5c08\u7528\u4e92\u9023\u9023\u63a5\u3002 |\n| \u5f9e GitHub \u90e8\u7f72 terraform-example-foundation \u7684\u6b65\u9a5f | \u6309\u7167\u6bcf\u500b\u968e\u6bb5\u5c0d\u61c9\u7684 README \u8aaa\u660e\u5f9e GitHub \u90e8\u7f72 terraform-example-foundation\uff1a \u66ab\u5b58 0-bootstrap \u4ee5\u5275\u5efa\u57fa\u790e\u6d41\u6c34\u7dda\u3002\u5982\u679c\u4f7f\u7528\u81ea\u52a9\u7d50\u7b97\u8cec\u865f\uff0c\u5247\u60a8\u5fc5\u9808\u7533\u8acb\u66f4\u591a\u9805\u76ee\u914d\u984d\uff0c\u7136\u5f8c\u624d\u80fd\u7e7c\u7e8c\u4e0b\u4e00\u968e\u6bb5\u3002 \u66ab\u5b58 1-org \u4ee5\u914d\u7f6e\u7d44\u7e54\u7d1a\u5c64\u8cc7\u6e90\u3002 \u66ab\u5b58 2-environments \u4ee5\u5275\u5efa\u74b0\u5883\u3002 \u66ab\u5b58 3-networks-dual-svpc or 3-networks-hub-and-spoke\uff0c\u4ee5\u5728\u9996\u9078\u62d3\u64b2\u4e2d\u5275\u5efa\u7db2\u7d61\u8cc7\u6e90\u3002 \u66ab\u5b58 4-projects \u4ee5\u5275\u5efa\u57fa\u790e\u8a2d\u65bd\u6d41\u6c34\u7dda\u3002 \uff08\u53ef\u9078\uff09\u66ab\u5b58 5-app-infra\uff0c\u4ee5\u7372\u53d6\u57fa\u790e\u8a2d\u65bd\u6d41\u6c34\u7dda\u7684\u793a\u4f8b\u7528\u6cd5\u3002                                                        |\n| IaC \u90e8\u7f72\u5f8c\u7684\u5176\u4ed6\u6b65\u9a5f        | \u90e8\u7f72 Terraform \u4ee3\u78bc\u5f8c\uff0c\u8acb\u5b8c\u6210\u4ee5\u4e0b\u64cd\u4f5c\uff1a \u5b8c\u6210\u672c\u5730\u914d\u7f6e\u66f4\u6539\u3002 \u6fc0\u6d3b Security Command Center \u9ad8\u7d1a\u65b9\u6848\u3002 \u5c07 Cloud Billing \u6578\u64da\u5c0e\u51fa\u5230 BigQuery\u3002 \u8a3b\u518a Cloud Customer Care \u65b9\u6848\u3002 \u5553\u7528 Access Transparency \u65e5\u8a8c\u3002 \u8207 Google Cloud \u5171\u4eab Cloud Identity \u4e2d\u7684\u6578\u64da\u3002 \u61c9\u7528\u975e IaC \u90e8\u7f72\u81ea\u52d5\u57f7\u884c\u7684 Cloud Identity \u7ba1\u7406\u63a7\u5236\u3002 \u8a55\u4f30\u54ea\u4e9b\u9762\u5411\u5177\u6709\u654f\u611f\u5de5\u4f5c\u8ca0\u8f09\u7684\u5ba2\u6236\u7684\u984d\u5916\u7ba1\u7406\u63a7\u5236\u9069\u5408\u60a8\u7684\u4f7f\u7528\u5834\u666f\u3002 \u67e5\u770b\u64cd\u4f5c\u6700\u4f73\u5be6\u8e10\uff0c\u4e26\u898f\u5283\u5982\u4f55\u5c07\u73fe\u6709\u64cd\u4f5c\u548c\u529f\u80fd\u9023\u63a5\u5230\u57fa\u790e\u8cc7\u6e90\u3002                                                        |\n## \u9762\u5411\u5177\u6709\u654f\u611f\u5de5\u4f5c\u8ca0\u8f09\u7684\u5ba2\u6236\u7684\u984d\u5916\u7ba1\u7406\u63a7\u5236\nGoogle Cloud \u63d0\u4f9b\u4e86\u984d\u5916\u7684\u7ba1\u7406\u63a7\u5236\uff0c\u53ef\u5e6b\u52a9\u60a8\u6eff\u8db3\u5b89\u5168\u6027\u548c\u5408\u898f\u6027\u8981\u6c42\u3002\u4f46\u662f\uff0c\u67d0\u4e9b\u63a7\u5236\u9700\u8981\u984d\u5916\u6210\u672c\u6216\u5728\u904b\u71df\u65b9\u9762\u7684\u6b0a\u8861\uff0c\u53ef\u80fd\u4e0d\u9069\u5408\u6bcf\u500b\u5ba2\u6236\u3002\u9019\u4e9b\u63a7\u5236\u9084\u9700\u8981\u91dd\u5c0d\u7279\u5b9a\u8981\u6c42\u63d0\u4f9b\u81ea\u5b9a\u7fa9\u8f38\u5165\uff0c\u9019\u4e9b\u8f38\u5165\u7121\u6cd5\u5728\u6240\u6709\u85cd\u5716\u4e2d\u901a\u904e\u9069\u5408\u6240\u6709\u5ba2\u6236\u7684\u9ed8\u8a8d\u503c\u4f86\u5be6\u73fe\u5b8c\u5168\u81ea\u52d5\u5316\u3002\n\u672c\u90e8\u5206\u4ecb\u7d39\u60a8\u96c6\u4e2d\u61c9\u7528\u65bc\u57fa\u790e\u7684\u5b89\u5168\u63a7\u5236\u3002\u672c\u90e8\u5206\u4e26\u975e\u65e8\u5728\u8a73\u76e1\u7121\u907a\u5730\u4ecb\u7d39\u53ef\u61c9\u7528\u65bc\u7279\u5b9a\u5de5\u4f5c\u8ca0\u8f09\u7684\u6240\u6709\u5b89\u5168\u63a7\u5236\u3002\u5982\u9700\u8a73\u7d30\u77ad\u89e3 Google \u7684\u5b89\u5168\u7522\u54c1\u548c\u89e3\u6c7a\u65b9\u6848\uff0c\u8acb\u53c3\u95b1 [Google Cloud \u5b89\u5168\u6027\u6700\u4f73\u5be6\u8e10\u4e2d\u5fc3](https://cloud.google.com/security/best-practices?hl=zh-cn) \u3002\n\u6839\u64da\u60a8\u7684\u5408\u898f\u6027\u8981\u6c42\u3001\u98a8\u96aa\u504f\u597d\u548c\u6578\u64da\u654f\u611f\u6027\uff0c\u8a55\u4f30\u4ee5\u4e0b\u63a7\u5236\u662f\u5426\u9069\u5408\u60a8\u7684\u57fa\u790e\u3002\n| \u63a7\u5236         | \u8aaa\u660e                                                                                                           |\n|:---------------------------------------|:----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| \u4f7f\u7528 VPC Service Controls \u4fdd\u8b77\u60a8\u7684\u8cc7\u6e90 | \u85c9\u52a9 VPC Service Controls\uff0c\u60a8\u53ef\u4ee5\u5b9a\u7fa9\u5b89\u5168\u653f\u7b56\uff0c\u4ee5\u963b\u6b62\u5c0d\u53d7\u4fe1\u4efb\u908a\u754c\u5916\u7684 Google \u7ba1\u7406\u7684\u670d\u52d9\u7684\u8a2a\u554f\u3001\u963b\u6b62\u5f9e\u4e0d\u53ef\u4fe1\u4f4d\u7f6e\u8a2a\u554f\u6578\u64da\uff0c\u4ee5\u53ca\u964d\u4f4e\u6578\u64da\u6ef2\u6f0f\u98a8\u96aa\u3002\u4f46\u662f\uff0c\u5728\u60a8\u5b9a\u7fa9\u7570\u5e38\u4ee5\u5141\u8a31\u9810\u671f\u7684\u8a2a\u554f\u6a21\u5f0f\u4e4b\u524d\uff0cVPC Service Controls \u53ef\u80fd\u6703\u5c0e\u81f4\u73fe\u6709\u670d\u52d9\u4e2d\u65b7\u3002\u8a55\u4f30\u7de9\u89e3\u6ef2\u6f0f\u98a8\u96aa\u7684\u50f9\u503c\u662f\u5426\u503c\u5f97\u91c7\u7528 VPC Service Controls \u6240\u5e36\u4f86\u7684\u8907\u96dc\u6027\u548c\u904b\u71df\u958b\u92b7\u3002\u6b64\u85cd\u5716\u6e96\u5099\u53d7\u9650\u7db2\u7d61\u548c\u53ef\u9078\u8b8a\u91cf\uff0c\u7528\u65bc\u914d\u7f6e VPC Service Controls\uff0c\u4f46\u5728\u60a8\u57f7\u884c\u8a2d\u8a08\u548c\u5553\u7528\u908a\u754c\u7684\u9644\u52a0\u6b65\u9a5f\u4e4b\u524d\uff0c\u908a\u754c\u4e0d\u6703\u5553\u7528\u3002 |\n| \u9650\u5236\u8cc7\u6e90\u4f4d\u7f6e       | \u60a8\u53ef\u80fd\u6709\u4e00\u4e9b\u76e3\u7ba1\u8981\u6c42\uff0c\u5373\u96f2\u8cc7\u6e90\u53ea\u80fd\u90e8\u7f72\u5728\u5df2\u7372\u6279\u51c6\u7684\u5730\u7406\u4f4d\u7f6e\u3002\u6b64\u7d44\u7e54\u653f\u7b56\u9650\u5236\u689d\u4ef6\u5f37\u5236\u8cc7\u6e90\u53ea\u80fd\u5728\u60a8\u5b9a\u7fa9\u7684\u4f4d\u7f6e\u5217\u8868\u4e2d\u90e8\u7f72\u3002                                                                               |\n| \u5553\u7528 Assured Workloads     | Assured Workloads \u63d0\u4f9b\u984d\u5916\u7684\u5408\u898f\u6027\u63a7\u5236\uff0c\u53ef\u5e6b\u52a9\u60a8\u6eff\u8db3\u7279\u5b9a\u76e3\u7ba1\u5236\u5ea6\u3002\u6b64\u85cd\u5716\u5728\u90e8\u7f72\u6d41\u6c34\u7dda\u4e2d\u63d0\u4f9b\u53ef\u9078\u8b8a\u91cf\u4ee5\u9032\u884c\u5553\u7528\u3002                                                                                |\n| \u5553\u7528\u6578\u64da\u8a2a\u554f\u65e5\u8a8c      | \u60a8\u53ef\u80fd\u9700\u8981\u8a18\u9304\u5c0d\u67d0\u4e9b\u654f\u611f\u6578\u64da\u6216\u8cc7\u6e90\u7684\u6240\u6709\u8a2a\u554f\u3002\u8a55\u4f30\u5de5\u4f5c\u8ca0\u8f09\u8655\u7406\u9700\u8981\u6578\u64da\u8a2a\u554f\u65e5\u8a8c\u7684\u654f\u611f\u6578\u64da\u7684\u4f4d\u7f6e\uff0c\u4f75\u7232\u8655\u7406\u654f\u611f\u6578\u64da\u7684\u6bcf\u9805\u670d\u52d9\u548c\u74b0\u5883\u5553\u7528\u65e5\u8a8c\u3002                                                                         |\n| \u5553\u7528 Access Approval     | Access Approval \u53ef\u78ba\u4fdd Cloud Customer Care \u548c\u5de5\u7a0b\u90e8\u9580\u6bcf\u6b21\u5728\u9700\u8981\u8a2a\u554f\u60a8\u7684\u5ba2\u6236\u5167\u5bb9\u6642\u5747\u9700\u8981\u60a8\u7684\u660e\u78ba\u6279\u51c6\u3002\u8a55\u4f30\u67e5\u770b Access Approval \u8acb\u6c42\u6240\u9700\u7684\u64cd\u4f5c\u6d41\u7a0b\uff0c\u4ee5\u6e1b\u5c11\u5728\u89e3\u6c7a\u652f\u6301\u7a81\u767c\u4e8b\u4ef6\u4e2d\u53ef\u80fd\u7684\u5ef6\u9072\u3002                                                              |\n| \u5553\u7528 Key Access Justifications   | \u85c9\u52a9 Key Access Justifications\uff0c\u60a8\u80fd\u5920\u4ee5\u7de8\u7a0b\u65b9\u5f0f\u63a7\u5236 Google \u80fd\u5426\u8a2a\u554f\u60a8\u7684\u52a0\u5bc6\u5bc6\u9470\uff0c\u5305\u62ec\u7528\u65bc\u81ea\u52d5\u5316\u64cd\u4f5c\u7684\u52a0\u5bc6\u5bc6\u9470\u548c Customer Care \u8a2a\u554f\u60a8\u7684\u5ba2\u6236\u5167\u5bb9\u6240\u7528\u7684\u52a0\u5bc6\u5bc6\u9470\u3002\u8a55\u4f30\u8207 Key Access Justifications \u76f8\u95dc\u7684\u8cbb\u7528\u548c\u904b\u71df\u958b\u92b7\uff0c\u4ee5\u53ca\u5b83\u5c0d Cloud External Key Manager (Cloud EKM) \u7684\u4f9d\u8cf4\u6027\u3002                                        |\n| \u505c\u7528 Cloud Shell      | Cloud Shell \u662f\u4e00\u500b\u5728\u7dda\u958b\u767c\u74b0\u5883\u3002\u6b64 shell \u8a17\u7ba1\u5728\u60a8\u7684\u74b0\u5883\u5916\u90e8\u7684 Google \u7ba1\u7406\u7684\u670d\u52d9\u5668\u4e0a\uff0c\u56e0\u6b64\u5b83\u4e0d\u53d7\u60a8\u53ef\u80fd\u5df2\u5728\u81ea\u5df1\u7684\u958b\u767c\u8005\u5de5\u4f5c\u7ad9\u4e0a\u5be6\u73fe\u7684\u63a7\u5236\u7684\u7d04\u675f\u3002\u5982\u679c\u8981\u56b4\u683c\u63a7\u5236\u958b\u767c\u8005\u53ef\u7528\u65bc\u8a2a\u554f\u96f2\u8cc7\u6e90\u7684\u5de5\u4f5c\u7ad9\uff0c\u8acb\u505c\u7528 Cloud Shell\u3002\u60a8\u9084\u53ef\u4ee5\u5728\u81ea\u5df1\u7684\u74b0\u5883\u4e2d\u8a55\u4f30 Cloud Workstations \u7684\u53ef\u914d\u7f6e\u5de5\u4f5c\u7ad9\u9078\u9805\u3002                                       |\n| \u9650\u5236\u5c0d Google Cloud \u63a7\u5236\u6aaf\u7684\u8a2a\u554f  | \u901a\u904e Google Cloud\uff0c\u60a8\u53ef\u4ee5\u6839\u64da\u7fa3\u7d44\u6210\u54e1\u8cc7\u683c\u3001\u53ef\u4fe1 IP \u5730\u5740\u7bc4\u570d\u548c\u8a2d\u5099\u9a57\u8b49\u7b49\u8a2a\u554f\u6b0a\u9650\u7d1a\u5225\u5c6c\u6027\u4f86\u9650\u5236\u5c0d Google Cloud \u63a7\u5236\u6aaf\u7684\u8a2a\u554f\u3002\u67d0\u4e9b\u5c6c\u6027\u9700\u8981\u984d\u5916\u8a02\u95b1 BeyondCorp Enterprise\u3002\u8acb\u5728\u66f4\u5927\u7684\u96f6\u4fe1\u4efb\u90e8\u7f72\u904e\u7a0b\u4e2d\uff0c\u8a55\u4f30\u60a8\u5c0d\u7528\u6236\u8a2a\u554f\u57fa\u65bc\u7db2\u7d61\u7684\u61c9\u7528\uff08\u4f8b\u5982\u63a7\u5236\u6aaf\uff09\u6240\u4fe1\u4efb\u7684\u8a2a\u554f\u6a21\u5f0f\u3002                                            |\n## \u547d\u540d\u6163\u4f8b\n\u6211\u5011\u5efa\u8b70\u60a8\u7232 Google Cloud \u8cc7\u6e90\u5236\u5b9a\u6a19\u6e96\u5316\u547d\u540d\u6163\u4f8b\u3002\u4e0b\u8868\u4ecb\u7d39\u4e86\u85cd\u5716\u4e2d\u8cc7\u6e90\u540d\u7a31\u7684\u5efa\u8b70\u6163\u4f8b\u3002\n| \u8cc7\u6e90       | \u547d\u540d\u6163\u4f8b                                                                                                                                                                                 |\n|:-----------------------------|:-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| \u6587\u4ef6\u593e      | fldr-environmentenvironment \u662f Google Cloud \u7d44\u7e54\u4e2d\u7684\u6587\u4ef6\u593e\u7d1a\u8cc7\u6e90\u7684\u8aaa\u660e\u3002\u4f8b\u5982 bootstrap\u3001common\u3001production\u3001nonproduction\u3001development \u6216 network\u3002\u4f8b\u5982\uff1afldr-production                                                                                                                                         |\n| \u9805\u76ee ID      | prj-environmentcode-description-randomid environmentcode \u662f\u74b0\u5883\u5b57\u6bb5\u7684\u7c21\u5beb\u5f62\u5f0f\uff08b\u3001c\u3001p\u3001n\u3001d \u6216 net \u4e4b\u4e00\uff09\u3002\u5171\u4eab VPC \u5bbf\u4e3b\u9805\u76ee\u4f7f\u7528\u95dc\u806f\u74b0\u5883\u7684 environmentcode\u3002\u8de8\u74b0\u5883\u5171\u4eab\u7684\u7db2\u7d61\u8cc7\u6e90\u7684\u9805\u76ee\uff08\u4f8b\u5982 interconnect \u9805\u76ee\uff09\u4f7f\u7528 net \u74b0\u5883\u4ee3\u78bc\u3002 description \u662f\u95dc\u65bc\u9805\u76ee\u7684\u5176\u4ed6\u4fe1\u606f\u3002\u60a8\u53ef\u4ee5\u4f7f\u7528\u7c21\u77ed\u6613\u61c2\u7684\u7e2e\u5beb\u8a5e\u3002 randomid \u662f\u4e00\u500b\u96a8\u6a5f\u5f8c\u7db4\uff0c\u7528\u65bc\u9632\u6b62\u5728\u5168\u5c40\u7bc4\u570d\u5167\u5fc5\u9808\u552f\u4e00\u7684\u8cc7\u6e90\u540d\u7a31\u885d\u7a81\uff0c\u4e26\u963b\u6b62\u731c\u6e2c\u8cc7\u6e90\u540d\u7a31\u7684\u653b\u64ca\u8005\u3002\u6b64\u85cd\u5716\u6703\u81ea\u52d5\u6dfb\u52a0\u56db\u500b\u5b57\u7b26\u7684\u96a8\u6a5f\u5b57\u6bcd\u6578\u5b57\u6a19\u8b58\u7b26\u3002 \u4f8b\u5982\uff1aprj-c-logging-a1b2                                                                |\n| VPC \u7db2\u7d61      | vpc-environmentcode-vpctype-vpcconfig environmentcode \u662f\u74b0\u5883\u5b57\u6bb5\u7684\u7c21\u5beb\u5f62\u5f0f\uff08b\u3001c\u3001p\u3001n\u3001d \u6216 net \u4e4b\u4e00\uff09\u3002 vpctype \u662f shared\u3001float \u6216 peer \u4e2d\u7684\u4e00\u500b\u3002 vpcconfig \u662f base \u6216 restricted\uff0c\u7528\u65bc\u6307\u793a\u8a72\u7db2\u7d61\u662f\u5426\u61c9\u8207 VPC Service Controls \u4e00\u8d77\u4f7f\u7528\u3002 \u4f8b\u5982\uff1avpc-p-shared-base                                                                                                                  |\n| \u5b50\u7db2       | sn-environmentcode-vpctype-vpcconfig-region{-description} environmentcode \u662f\u74b0\u5883\u5b57\u6bb5\u7684\u7c21\u5beb\u5f62\u5f0f\uff08b\u3001c\u3001p\u3001n\u3001d \u6216 net \u4e4b\u4e00\uff09\u3002 vpctype \u662f shared\u3001float \u6216 peer \u4e2d\u7684\u4e00\u500b\u3002 vpcconfig \u662f base \u6216 restricted\uff0c\u7528\u65bc\u6307\u793a\u8a72\u7db2\u7d61\u662f\u5426\u61c9\u8207 VPC Service Controls \u4e00\u8d77\u4f7f\u7528\u3002 region \u662f\u8cc7\u6e90\u6240\u5728\u7684\u4efb\u4f55\u6709\u6548 Google Cloud \u5340\u57df\u3002\u7232\u907f\u514d\u9054\u5230\u5b57\u7b26\u6578\u9650\u5236\uff0c\u6211\u5011\u5efa\u8b70\u79fb\u9664\u9023\u5b57\u7b26\u4e26\u4f7f\u7528\u67d0\u4e9b\u5340\u57df\u548c\u65b9\u5411\u7684\u7e2e\u5beb\u5f62\u5f0f\u3002\u4f8b\u5982\uff0cau\uff08\u6fb3\u5927\u5229\u4e9e\uff09\u3001na\uff08\u5317\u7f8e\u6d32\uff09\u3001sa\uff08\u5357\u7f8e\u6d32\uff09\u3001eu\uff08\u6b50\u6d32\uff09\u3001se\uff08\u6771\u5357\u65b9\uff09\u6216 ne\uff08\u6771\u5317\u65b9\uff09\u3002 description \u662f\u95dc\u65bc\u5b50\u7db2\u7684\u5176\u4ed6\u4fe1\u606f\u3002\u60a8\u53ef\u4ee5\u4f7f\u7528\u7c21\u77ed\u6613\u61c2\u7684\u7e2e\u5beb\u8a5e\u3002 \u4f8b\u5982\uff1asn-p-shared-restricted-uswest1                                     |\n| \u9632\u706b\u7246\u653f\u7b56     | fw-firewalltype-scope-environmentcode{-description} firewalltype \u662f hierarchical \u6216 network\u3002 scope \u662f global \u6216\u8cc7\u6e90\u6240\u5728\u7684 Google Cloud \u5340\u57df\u3002\u7232\u907f\u514d\u9054\u5230\u5b57\u7b26\u6578\u9650\u5236\uff0c\u6211\u5011\u5efa\u8b70\u79fb\u9664\u9023\u5b57\u7b26\u4e26\u4f7f\u7528\u67d0\u4e9b\u5340\u57df\u548c\u65b9\u5411\u7684\u7e2e\u5beb\u5f62\u5f0f\u3002\u4f8b\u5982\uff0cau\uff08\u6fb3\u5927\u5229\u4e9e\uff09\u3001na\uff08\u5317\u7f8e\u6d32\uff09\u3001sa\uff08\u5357\u7f8e\u6d32\uff09\u3001eu\uff08\u6b50\u6d32\uff09\u3001se\uff08\u6771\u5357\u65b9\uff09\u6216 ne\uff08\u6771\u5317\u65b9\uff09\u3002 environmentcode \u662f\u64c1\u6709\u653f\u7b56\u8cc7\u6e90\u7684\u74b0\u5883\u5b57\u6bb5\u7684\u7c21\u5beb\u5f62\u5f0f\uff08b\u3001c\u3001p\u3001n\u3001d \u6216 net \u4e4b\u4e00\uff09\u3002 description \u662f\u6709\u95dc\u5206\u5c64\u9632\u706b\u7246\u653f\u7b56\u7684\u5176\u4ed6\u4fe1\u606f\u3002\u60a8\u53ef\u4ee5\u4f7f\u7528\u7c21\u77ed\u6613\u61c2\u7684\u7e2e\u5beb\u8a5e\u3002 \u4f8b\u5982\uff1afw-hierarchical-global-c-01fw-network-uswest1-p-shared-base                                                |\n| Cloud Router     | cr-environmentcode-vpctype-vpcconfig-region{-description} environmentcode \u662f\u74b0\u5883\u5b57\u6bb5\u7684\u7c21\u5beb\u5f62\u5f0f\uff08b\u3001c\u3001p\u3001n\u3001d \u6216 net \u4e4b\u4e00\uff09\u3002 vpctype \u662f shared\u3001float \u6216 peer \u4e2d\u7684\u4e00\u500b\u3002 vpcconfig \u662f base \u6216 restricted\uff0c\u7528\u65bc\u6307\u793a\u8a72\u7db2\u7d61\u662f\u5426\u61c9\u8207 VPC Service Controls \u4e00\u8d77\u4f7f\u7528\u3002 region \u662f\u8cc7\u6e90\u6240\u5728\u7684\u4efb\u4f55\u6709\u6548 Google Cloud \u5340\u57df\u3002\u7232\u907f\u514d\u9054\u5230\u5b57\u7b26\u6578\u9650\u5236\uff0c\u6211\u5011\u5efa\u8b70\u79fb\u9664\u9023\u5b57\u7b26\u4e26\u4f7f\u7528\u67d0\u4e9b\u5340\u57df\u548c\u65b9\u5411\u7684\u7e2e\u5beb\u5f62\u5f0f\u3002\u4f8b\u5982\uff0cau\uff08\u6fb3\u5927\u5229\u4e9e\uff09\u3001na\uff08\u5317\u7f8e\u6d32\uff09\u3001sa\uff08\u5357\u7f8e\u6d32\uff09\u3001eu\uff08\u6b50\u6d32\uff09\u3001se\uff08\u6771\u5357\u65b9\uff09\u6216 ne\uff08\u6771\u5317\u65b9\uff09\u3002 description \u662f\u6709\u95dc Cloud Router \u7684\u984d\u5916\u4fe1\u606f\u3002\u60a8\u53ef\u4ee5\u4f7f\u7528\u7c21\u77ed\u6613\u61c2\u7684\u7e2e\u5beb\u8a5e\u3002 \u4f8b\u5982\uff1acr-p-shared-base-useast1-cr1                                   |\n| Cloud Interconnect \u9023\u63a5  | ic-dc-colo dc \u662f Cloud Interconnect \u9023\u63a5\u5230\u7684\u6578\u64da\u4e2d\u5fc3\u7684\u540d\u7a31\u3002 colo \u662f\u672c\u5730\u6578\u64da\u4e2d\u5fc3\u7684 Cloud Interconnect \u5c0d\u7b49\u4e92\u9023\u7684\u5c0d\u63a5\u7db2\u9ede\u540d\u7a31\u3002 \u4f8b\u5982\uff1aic-mydatacenter-lgazone1                                                                                                                                            |\n| Cloud Interconnect VLAN \u9023\u63a5 | vl-dc-colo-environmentcode-vpctype-vpcconfig-region{-description} dc \u662f Cloud Interconnect \u9023\u63a5\u5230\u7684\u6578\u64da\u4e2d\u5fc3\u7684\u540d\u7a31\u3002 colo \u662f\u672c\u5730\u6578\u64da\u4e2d\u5fc3\u7684 Cloud Interconnect \u5c0d\u7b49\u4e92\u9023\u7684\u5c0d\u63a5\u7db2\u9ede\u540d\u7a31\u3002 environmentcode \u662f\u74b0\u5883\u5b57\u6bb5\u7684\u7c21\u5beb\u5f62\u5f0f\uff08b\u3001c\u3001p\u3001n\u3001d \u6216 net \u4e4b\u4e00\uff09\u3002 vpctype \u662f shared\u3001float \u6216 peer \u4e2d\u7684\u4e00\u500b\u3002 vpcconfig \u662f base \u6216 restricted\uff0c\u7528\u65bc\u6307\u793a\u8a72\u7db2\u7d61\u662f\u5426\u61c9\u8207 VPC Service Controls \u4e00\u8d77\u4f7f\u7528\u3002 region \u662f\u8cc7\u6e90\u6240\u5728\u7684\u4efb\u4f55\u6709\u6548 Google Cloud \u5340\u57df\u3002\u7232\u907f\u514d\u9054\u5230\u5b57\u7b26\u6578\u9650\u5236\uff0c\u6211\u5011\u5efa\u8b70\u79fb\u9664\u9023\u5b57\u7b26\u4e26\u4f7f\u7528\u67d0\u4e9b\u5340\u57df\u548c\u65b9\u5411\u7684\u7e2e\u5beb\u5f62\u5f0f\u3002\u4f8b\u5982\uff0cau\uff08\u6fb3\u5927\u5229\u4e9e\uff09\u3001na\uff08\u5317\u7f8e\u6d32\uff09\u3001sa\uff08\u5357\u7f8e\u6d32\uff09\u3001eu\uff08\u6b50\u6d32\uff09\u3001se\uff08\u6771\u5357\u65b9\uff09\u6216 ne\uff08\u6771\u5317\u65b9\uff09\u3002 description \u662f\u6709\u95dc VLAN \u7684\u5176\u4ed6\u4fe1\u606f\u3002\u60a8\u53ef\u4ee5\u4f7f\u7528\u7c21\u77ed\u6613\u61c2\u7684\u7e2e\u5beb\u8a5e\u3002 \u4f8b\u5982\uff1avl-mydatacenter-lgazone1-p-shared-base-useast1-cr1 |\n| \u7d44       | grp-gcp-description@example.com \u5176\u4e2d\uff0cdescription \u662f\u6709\u95dc\u8a72\u7fa3\u7d44\u7684\u5176\u4ed6\u4fe1\u606f\u3002\u60a8\u53ef\u4ee5\u4f7f\u7528\u7c21\u77ed\u6613\u61c2\u7684\u7e2e\u5beb\u8a5e\u3002\u4f8b\u5982\uff1agrp-gcp-billingadmin@example.com                                                                                                                                                |\n| \u81ea\u5b9a\u7fa9\u89d2\u8272     | rl-description\u5176\u4e2d\uff0cdescription \u662f\u6709\u95dc\u89d2\u8272\u7684\u5176\u4ed6\u4fe1\u606f\u3002\u60a8\u53ef\u4ee5\u4f7f\u7528\u7c21\u77ed\u6613\u61c2\u7684\u7e2e\u5beb\u8a5e\u3002\u4f8b\u5982\uff1arl-customcomputeadmin                                                                                                                                                        |\n| \u670d\u52d9\u8cec\u865f      | sa-description@projectid.iam.gserviceaccount.com\u5176\u4e2d\uff1a description \u662f\u6709\u95dc\u670d\u52d9\u8cec\u865f\u7684\u5176\u4ed6\u4fe1\u606f\u3002\u60a8\u53ef\u4ee5\u4f7f\u7528\u7c21\u77ed\u6613\u61c2\u7684\u7e2e\u5beb\u8a5e\u3002 projectid \u662f\u5168\u5c40\u552f\u4e00\u7684\u9805\u76ee\u6a19\u8b58\u7b26\u3002 \u4f8b\u5982\uff1asa-terraform-net@prj-b-seed-a1b2.iam.gserviceaccount.com                                                                                                                            |\n| \u5b58\u5132\u6876      | bkt-projectid-description\u5176\u4e2d\uff1a projectid \u662f\u5168\u5c40\u552f\u4e00\u7684\u9805\u76ee\u6a19\u8b58\u7b26\u3002 description \u662f\u95dc\u65bc\u5b58\u5132\u6876\u7684\u5176\u4ed6\u4fe1\u606f\u3002\u60a8\u53ef\u4ee5\u4f7f\u7528\u7c21\u77ed\u6613\u61c2\u7684\u7e2e\u5beb\u8a5e\u3002 \u4f8b\u5982\uff1abkt-prj-c-infra-pipeline-a1b2-app-artifacts                                                                                                                                      |\n## \u9ed8\u8a8d\u5efa\u8b70\u7684\u66ff\u4ee3\u65b9\u6848\n\u6b64\u85cd\u5716\u4e2d\u5efa\u8b70\u7684\u6700\u4f73\u5be6\u8e10\u53ef\u80fd\u4e26\u4e0d\u9069\u7528\u65bc\u6240\u6709\u5ba2\u6236\u3002\u60a8\u53ef\u4ee5\u81ea\u5b9a\u7fa9\u4efb\u4f55\u5efa\u8b70\uff0c\u4ee5\u6eff\u8db3\u60a8\u7684\u7279\u5b9a\u8981\u6c42\u3002\u4e0b\u8868\u6839\u64da\u60a8\u73fe\u6709\u7684\u6280\u8853\u68e7\u548c\u5de5\u4f5c\u65b9\u5f0f\uff0c\u4ecb\u7d39\u4e86\u60a8\u53ef\u80fd\u9700\u8981\u7684\u4e00\u4e9b\u5e38\u898b\u8b8a\u9ad4\u3002\n| \u6c7a\u7b56\u5340\u57df                                      | \u53ef\u80fd\u7684\u66ff\u4ee3\u65b9\u6848                                                                                                                             |\n|:--------------------------------------------------------------------------------------------------------------------------------------------------------------|:--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| \u7d44\u7e54\uff1a\u6b64\u85cd\u5716\u4f7f\u7528\u55ae\u500b\u7d44\u7e54\u4f5c\u7232\u6240\u6709\u8cc7\u6e90\u7684\u6839\u7bc0\u9ede\u3002                            | \u78ba\u5b9a Google Cloud \u7740\u9678\u5340\u7684\u8cc7\u6e90\u5c64\u6b21\u7d50\u69cb\u4ecb\u7d39\u4e86\u53ef\u80fd\u504f\u597d\u591a\u500b\u7d44\u7e54\u7684\u5834\u666f\uff0c\u4f8b\u5982\uff1a \u60a8\u7684\u7d44\u7e54\u5305\u542b\u5c07\u4f86\u53ef\u80fd\u6703\u88ab\u51fa\u552e\u6216\u4f5c\u7232\u5b8c\u5168\u7368\u7acb\u7684\u5be6\u9ad4\u904b\u884c\u7684\u5b50\u516c\u53f8\u3002 \u60a8\u5e0c\u671b\u5728\u672a\u9023\u63a5\u5230\u73fe\u6709\u7d44\u7e54\u7684\u6c99\u76d2\u74b0\u5883\u4e2d\u9032\u884c\u5be6\u9a57\u3002                                                                                  |\n| \u6587\u4ef6\u593e\u7d50\u69cb\uff1a\u6b64\u85cd\u5716\u5177\u6709\u7c21\u55ae\u7684\u6587\u4ef6\u593e\u7d50\u69cb\uff0c\u5de5\u4f5c\u8ca0\u8f09\u5283\u5206\u5230\u9802\u5c64\u7684 production, non-production \u548c development \u6587\u4ef6\u593e\u4e2d\u3002            | \u78ba\u5b9a Google Cloud \u7740\u9678\u5340\u7684\u8cc7\u6e90\u5c64\u6b21\u7d50\u69cb\u4ecb\u7d39\u4e86\u5176\u4ed6\u65b9\u6cd5\uff0c\u53ef\u6839\u64da\u60a8\u5e0c\u671b\u7ba1\u7406\u8cc7\u6e90\u4e26\u7e7c\u627f\u653f\u7b56\u7684\u65b9\u5f0f\u8a2d\u8a08\u6587\u4ef6\u593e\u7d50\u69cb\uff0c\u4f8b\u5982\uff1a \u57fa\u65bc\u61c9\u7528\u74b0\u5883\u7684\u6587\u4ef6\u593e \u57fa\u65bc\u5340\u57df\u5be6\u9ad4\u6216\u5b50\u516c\u53f8\u7684\u6587\u4ef6\u593e \u57fa\u65bc\u8cac\u4efb\u6846\u67b6\u7684\u6587\u4ef6\u593e                                                                                   |\n| \u7d44\u7e54\u653f\u7b56\uff1a\u6b64\u85cd\u5716\u5728\u7d44\u7e54\u7bc0\u9ede\u4e0a\u5f37\u5236\u57f7\u884c\u6240\u6709\u7d44\u7e54\u653f\u7b56\u9650\u5236\u689d\u4ef6\u3002                         | \u60a8\u91dd\u5c0d\u696d\u52d9\u7684\u4e0d\u540c\u90e8\u5206\u53ef\u80fd\u5be6\u65bd\u4e86\u4e0d\u540c\u7684\u5b89\u5168\u653f\u7b56\u6216\u5de5\u4f5c\u65b9\u5f0f\u3002\u5728\u6b64\u5834\u666f\u4e2d\uff0c\u5728\u8cc7\u6e90\u5c64\u6b21\u7d50\u69cb\u7684\u8f03\u4f4e\u7bc0\u9ede\u4e0a\u5f37\u5236\u57f7\u884c\u7d44\u7e54\u653f\u7b56\u9650\u5236\u689d\u4ef6\u3002\u67e5\u770b\u53ef\u5e6b\u52a9\u6eff\u8db3\u60a8\u7684\u8981\u6c42\u7684\u7d44\u7e54\u653f\u7b56\u9650\u5236\u689d\u4ef6\u7684\u5b8c\u6574\u5217\u8868\u3002                                                                                     |\n| \u90e8\u7f72\u6d41\u6c34\u7dda\u5de5\u5177\uff1a\u85cd\u5716\u4f7f\u7528 Cloud Build \u904b\u884c\u81ea\u52d5\u5316\u6d41\u6c34\u7dda\u3002                          | \u60a8\u53ef\u80fd\u66f4\u50be\u5411\u65bc\u5c07\u5176\u4ed6\u7522\u54c1\u7528\u65bc\u90e8\u7f72\u6d41\u6c34\u7dda\uff0c\u4f8b\u5982 Terraform Enterprise\u3001GitLab Runners\u3001GitHub Actions \u6216 Jenkins\u3002 \u6b64\u85cd\u5716\u5305\u542b\u6bcf\u7a2e\u66ff\u4ee3\u7522\u54c1\u7684\u8aaa\u660e\u3002                                                                                             |\n| \u7528\u65bc\u90e8\u7f72\u7684\u4ee3\u78bc\u5eab\uff1a\u85cd\u5716\u4f7f\u7528 Cloud Source Repositories \u4f5c\u7232\u8a17\u7ba1\u5f0f\u5c08\u7528 Git \u4ee3\u78bc\u5eab\u3002                    | \u4f7f\u7528\u60a8\u504f\u597d\u7684\u7248\u672c\u63a7\u5236\u7cfb\u7d71\u4f86\u7ba1\u7406\u4ee3\u78bc\u5eab\uff0c\u4f8b\u5982 GitLab\u3001GitHub \u6216 Bitbucket\u3002\u5982\u679c\u60a8\u4f7f\u7528\u5728\u672c\u5730\u74b0\u5883\u4e2d\u8a17\u7ba1\u7684\u5c08\u7528\u4ee3\u78bc\u5eab\uff0c\u8acb\u914d\u7f6e\u5f9e\u4ee3\u78bc\u5eab\u5230 Google Cloud \u74b0\u5883\u7684\u5c08\u7528\u7db2\u7d61\u8def\u5f91\u3002                                                                                        |\n| \u8eab\u4efd\u63d0\u4f9b\u65b9\uff1a\u6b64\u85cd\u5716\u5047\u5b9a\u4f7f\u7528\u672c\u5730 Active Directory\uff0c\u4e26\u4f7f\u7528 Google Cloud Directory Sync \u5c07\u8eab\u4efd\u8207 Cloud Identity \u806f\u5408\u3002           | \u5982\u679c\u60a8\u5df2\u7d93\u5728\u4f7f\u7528 Google Workspace\uff0c\u5247\u53ef\u4ee5\u4f7f\u7528\u5df2\u5728 Google Workspace \u4e2d\u7ba1\u7406\u7684 Google \u8eab\u4efd\u3002\u5982\u679c\u60a8\u9084\u6c92\u6709\u8eab\u4efd\u63d0\u4f9b\u65b9\uff0c\u5247\u53ef\u4ee5\u76f4\u63a5\u5728 Cloud Identity \u4e2d\u5275\u5efa\u548c\u7ba1\u7406\u7528\u6236\u8eab\u4efd\u3002\u5982\u679c\u60a8\u5df2\u6709\u8eab\u4efd\u63d0\u4f9b\u65b9\uff08\u4f8b\u5982 Okta\u3001Ping \u6216 Azure Entra ID\uff09\uff0c\u5247\u53ef\u4ee5\u7ba1\u7406\u73fe\u6709\u8eab\u4efd\u63d0\u4f9b\u65b9\u4e2d\u7684\u7528\u6236\u8cec\u865f\uff0c\u4e26\u540c\u6b65\u5230 Cloud Identity\u3002\u5982\u679c\u60a8\u6709\u963b\u6b62\u4f7f\u7528 Cloud Identity \u7684\u6578\u64da\u4e3b\u6b0a\u6216\u5408\u898f\u6027\u8981\u6c42\uff0c\u4e26\u4e14\u5176\u4ed6 Google \u670d\u52d9\uff08\u4f8b\u5982 Google Ads \u6216 Google Marketing Platform\uff09\u4e0d\u9700\u8981\u8a17\u7ba1\u5f0f Google \u7528\u6236\u8eab\u4efd\uff0c\u5247\u60a8\u53ef\u80fd\u66f4\u50be\u5411\u65bc\u4f7f\u7528\u54e1\u5de5\u8eab\u4efd\u806f\u5408\u3002\u5728\u9019\u7a2e\u60c5\u6cc1\u4e0b\uff0c\u8acb\u6ce8\u610f\u652f\u6301\u7684\u670d\u52d9\u7684\u9650\u5236\u3002 |\n| \u591a\u500b\u5340\u57df\uff1a\u6b64\u85cd\u5716\u6703\u5c07\u5340\u57df\u7d1a\u8cc7\u6e90\u90e8\u7f72\u5230\u5169\u500b\u4e0d\u540c\u7684 Google Cloud \u5340\u57df\u4e2d\uff0c\u4ee5\u5e6b\u52a9\u5be6\u73fe\u5177\u6709\u9ad8\u53ef\u7528\u6027\u548c\u707d\u96e3\u6062\u5fa9\u8981\u6c42\u7684\u5de5\u4f5c\u8ca0\u8f09\u8a2d\u8a08\u3002          | \u5982\u679c\u60a8\u7684\u6700\u7d42\u7528\u6236\u4f4d\u65bc\u66f4\u591a\u5730\u7406\u4f4d\u7f6e\uff0c\u60a8\u53ef\u4ee5\u914d\u7f6e\u66f4\u591a Google Cloud \u5340\u57df\uff0c\u4ee5\u4fbf\u5275\u5efa\u66f4\u9760\u8fd1\u6700\u7d42\u7528\u6236\u4e14\u5ef6\u9072\u6642\u9593\u66f4\u77ed\u7684\u8cc7\u6e90\u3002\u5982\u679c\u60a8\u5177\u6709\u6578\u64da\u4e3b\u6b0a\u9650\u5236\uff0c\u6216\u8005\u53ef\u4ee5\u5728\u4e00\u500b\u5340\u57df\u4e2d\u6eff\u8db3\u53ef\u7528\u6027\u9700\u6c42\uff0c\u5247\u53ea\u80fd\u914d\u7f6e\u4e00\u500b Google Cloud \u5340\u57df\u3002                                                                             |\n| IP \u5730\u5740\u5206\u914d\uff1a\u6b64\u85cd\u5716\u63d0\u4f9b\u4e86\u4e00\u7d44 IP \u5730\u5740\u7bc4\u570d\u3002                             | \u60a8\u53ef\u80fd\u9700\u8981\u6839\u64da\u73fe\u6709\u6df7\u5408\u74b0\u5883\u4e2d\u7684 IP \u5730\u5740\u53ef\u7528\u6027\u4f86\u66f4\u6539\u4f7f\u7528\u7684\u7279\u5b9a IP \u5730\u5740\u7bc4\u570d\u3002\u5982\u679c\u60a8\u4fee\u6539\u4e86 IP \u5730\u5740\u7bc4\u570d\uff0c\u8acb\u4f7f\u7528\u85cd\u5716\u4f86\u6307\u5c0e\u6240\u9700\u7bc4\u570d\u7684\u6578\u91cf\u548c\u5927\u5c0f\uff0c\u4e26\u67e5\u770b Google Cloud \u7684\u6709\u6548 IP \u5730\u5740\u7bc4\u570d\u3002                                                                                    |\n| \u6df7\u5408\u7db2\u7d61\uff1a\u6b64\u85cd\u5716\u5728\u591a\u500b\u7269\u7406\u7ad9\u9ede\u548c Google Cloud \u5340\u57df\u4e2d\u4f7f\u7528\u5c08\u7528\u4e92\u9023\u4ee5\u5be6\u73fe\u6700\u5927\u5e36\u5bec\u548c\u53ef\u7528\u6027\u3002                  | \u6839\u64da\u60a8\u5c0d\u8cbb\u7528\u3001\u5e36\u5bec\u548c\u53ef\u9760\u6027\u7684\u8981\u6c42\uff0c\u60a8\u53ef\u4ee5\u6539\u7232\u914d\u7f6e\u5408\u4f5c\u4f19\u4f34\u4e92\u9023\u6216 Cloud VPN\u3002\u5982\u679c\u60a8\u9700\u8981\u5728\u5b8c\u6210\u5c08\u7528\u4e92\u9023\u4e4b\u524d\u958b\u59cb\u90e8\u7f72\u5177\u6709\u5c08\u7528\u9023\u63a5\u7684\u8cc7\u6e90\uff0c\u5247\u53ef\u4ee5\u5f9e Cloud VPN \u958b\u59cb\uff0c\u4e26\u5728\u7a0d\u5f8c\u66f4\u6539\u7232\u4f7f\u7528\u5c08\u7528\u4e92\u9023\u3002\u5982\u679c\u60a8\u7576\u524d\u6c92\u6709\u672c\u5730\u74b0\u5883\uff0c\u5247\u53ef\u80fd\u6839\u672c\u4e0d\u9700\u8981\u6df7\u5408\u7db2\u7d61\u3002                                                                      |\n| VPC Service Controls \u908a\u754c\uff1a\u85cd\u5716\u5efa\u8b70\u4f7f\u7528\u55ae\u500b\u908a\u754c\uff0c\u5176\u4e2d\u5305\u542b\u8207\u53d7\u9650 VPC \u7db2\u7d61\u95dc\u806f\u7684\u6240\u6709\u670d\u52d9\u9805\u76ee\u3002\u8207\u57fa\u672c VPC \u7db2\u7d61\u95dc\u806f\u7684\u9805\u76ee\u4e0d\u5305\u542b\u5728\u908a\u754c\u5167\u3002       | \u60a8\u7684\u7528\u4f8b\u53ef\u80fd\u9700\u8981\u7232\u4e00\u500b\u7d44\u7e54\u914d\u7f6e\u591a\u500b\u908a\u754c\uff0c\u6216\u8005\u60a8\u53ef\u80fd\u6c7a\u5b9a\u5b8c\u5168\u4e0d\u4f7f\u7528 VPC Service Controls\u3002\u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1\u78ba\u5b9a\u5982\u4f55\u901a\u904e Google API \u7de9\u89e3\u6578\u64da\u6ef2\u6f0f\u3002                                                                                            |\n| Secret Manager\uff1a\u85cd\u5716\u6703\u90e8\u7f72\u4e00\u500b\u9805\u76ee\uff0c\u4ee5\u5728 common \u6587\u4ef6\u593e\u4e2d\u4f7f\u7528 Secret Manager \u5b58\u5132\u7d44\u7e54\u7bc4\u570d\u7684\u5bc6\u6587\uff0c\u4e26\u5728\u6bcf\u500b\u74b0\u5883\u6587\u4ef6\u593e\u4e2d\u90e8\u7f72\u4e00\u500b\u9805\u76ee\uff0c\u4ee5\u7528\u65bc\u7279\u5b9a\u65bc\u74b0\u5883\u7684\u5bc6\u6587\u3002 | \u5982\u679c\u60a8\u6709\u4e00\u500b\u5718\u968a\u8ca0\u8cac\u7ba1\u7406\u548c\u5be9\u8988\u6574\u500b\u7d44\u7e54\u4e2d\u7684\u654f\u611f\u5bc6\u6587\uff0c\u60a8\u53ef\u80fd\u66f4\u9858\u610f\u50c5\u4f7f\u7528\u4e00\u500b\u9805\u76ee\u4f86\u7ba1\u7406\u5c0d Secret \u7684\u8a2a\u554f\u6b0a\u9650\u3002\u5982\u679c\u60a8\u5141\u8a31\u5de5\u4f5c\u8ca0\u8f09\u5718\u968a\u7ba1\u7406\u81ea\u5df1\u7684\u5bc6\u6587\uff0c\u5247\u4e0d\u5f97\u4f7f\u7528\u96c6\u4e2d\u7684\u9805\u76ee\u4f86\u7ba1\u7406\u5c0d\u5bc6\u6587\u7684\u8a2a\u554f\u6b0a\u9650\uff0c\u800c\u662f\u8b93\u5718\u968a\u5728\u5de5\u4f5c\u8ca0\u8f09\u9805\u76ee\u4e2d\u4f7f\u7528\u81ea\u5df1\u7684 Secret Manager \u5be6\u4f8b\u3002                                                                   |\n| Cloud KMS\uff1a\u85cd\u5716\u5c07\u90e8\u7f72\u4e00\u500b\u9805\u76ee\uff0c\u4ee5\u5728 common \u6587\u4ef6\u593e\u4e2d\u4f7f\u7528 Cloud KMS \u7ba1\u7406\u7d44\u7e54\u7bc4\u570d\u5167\u7684\u5bc6\u9470\uff0c\u4f75\u7232\u6bcf\u500b\u74b0\u5883\u6587\u4ef6\u593e\u5275\u5efa\u4e00\u500b\u9805\u76ee\uff0c\u4ee5\u7528\u65bc\u6bcf\u500b\u74b0\u5883\u4e2d\u7684\u5bc6\u9470\u3002    | \u5982\u679c\u60a8\u6709\u4e00\u500b\u5718\u968a\u8ca0\u8cac\u7ba1\u7406\u548c\u5be9\u8988\u6574\u500b\u7d44\u7e54\u4e2d\u7684\u52a0\u5bc6\u5bc6\u9470\uff0c\u60a8\u53ef\u80fd\u66f4\u9858\u610f\u50c5\u4f7f\u7528\u4e00\u500b\u9805\u76ee\u4f86\u7ba1\u7406\u5c0d\u5bc6\u9470\u7684\u8a2a\u554f\u6b0a\u9650\u3002\u96c6\u4e2d\u5f0f\u65b9\u6cd5\u53ef\u4ee5\u5e6b\u52a9\u6eff\u8db3 PCI \u5bc6\u9470\u76e3\u7ba1\u7b49\u5408\u898f\u6027\u8981\u6c42\u3002\u5982\u679c\u60a8\u5141\u8a31\u5de5\u4f5c\u8ca0\u8f09\u5718\u968a\u7ba1\u7406\u81ea\u5df1\u7684\u5bc6\u9470\uff0c\u5247\u4e0d\u5f97\u4f7f\u7528\u96c6\u4e2d\u7684\u9805\u76ee\u4f86\u7ba1\u7406\u5c0d\u5bc6\u9470\u7684\u8a2a\u554f\u6b0a\u9650\uff0c\u800c\u662f\u8b93\u5718\u968a\u5728\u5de5\u4f5c\u8ca0\u8f09\u9805\u76ee\u4e2d\u4f7f\u7528\u81ea\u5df1\u7684 Cloud KMS \u5be6\u4f8b\u3002                                                         |\n| \u805a\u5408\u65e5\u8a8c\u63a5\u6536\u5668\uff1a\u6b64\u85cd\u5716\u5728\u7d44\u7e54\u7bc0\u9ede\u4e0a\u914d\u7f6e\u4e00\u7d44\u65e5\u8a8c\u63a5\u6536\u5668\uff0c\u4ee5\u4fbf\u4e2d\u592e\u5b89\u5168\u5718\u968a\u53ef\u4ee5\u67e5\u770b\u6574\u500b\u7d44\u7e54\u7684\u5be9\u8988\u65e5\u8a8c\u3002               | \u60a8\u53ef\u80fd\u6709\u4e0d\u540c\u7684\u5718\u968a\u8ca0\u8cac\u5be9\u8988\u696d\u52d9\u7684\u4e0d\u540c\u90e8\u5206\uff0c\u4e26\u4e14\u9019\u4e9b\u5718\u968a\u53ef\u80fd\u9700\u8981\u4e0d\u540c\u7684\u65e5\u8a8c\u4f86\u5b8c\u6210\u5176\u5de5\u4f5c\u3002\u5728\u9019\u7a2e\u60c5\u6cc1\u4e0b\uff0c\u8acb\u5728\u9069\u7576\u7684\u6587\u4ef6\u593e\u548c\u9805\u76ee\u4e2d\u8a2d\u8a08\u591a\u500b\u805a\u5408\u63a5\u6536\u5668\uff0c\u4e26\u5275\u5efa\u904e\u6ffe\u5668\u4ee5\u4fbf\u6bcf\u500b\u5718\u968a\u50c5\u63a5\u6536\u5fc5\u8981\u7684\u65e5\u8a8c\uff0c\u6216\u8005\u8a2d\u8a08\u65e5\u8a8c\u8996\u5716\u4ee5\u5c0d\u5e38\u898b\u65e5\u8a8c\u5b58\u5132\u6876\u9032\u884c\u7cbe\u7d30\u8a2a\u554f\u6b0a\u9650\u63a7\u5236\u3002                                                                    |\n| \u76e3\u63a7\u7bc4\u570d\u9650\u5b9a\u9805\u76ee\uff1a\u6b64\u85cd\u5716\u7232\u6bcf\u500b\u74b0\u5883\u914d\u7f6e\u55ae\u500b\u76e3\u63a7\u7bc4\u570d\u9650\u5b9a\u9805\u76ee\u3002                         | \u60a8\u53ef\u4ee5\u914d\u7f6e\u7531\u4e0d\u540c\u5718\u968a\u7ba1\u7406\u7684\u66f4\u7cbe\u7d30\u7684\u7bc4\u570d\u9650\u5b9a\u9805\u76ee\uff0c\u7bc4\u570d\u9650\u5b9a\u7232\u5305\u542b\u6bcf\u500b\u5718\u968a\u7ba1\u7406\u7684\u61c9\u7528\u7684\u9805\u76ee\u96c6\u3002                                                                                                          |\n| \u57fa\u790e\u8a2d\u65bd\u6d41\u6c34\u7dda\u7684\u7c92\u5ea6\uff1a\u6b64\u85cd\u5716\u4f7f\u7528\u9019\u6a23\u7684\u6a21\u578b\uff0c\u5373\u6bcf\u500b\u696d\u52d9\u90e8\u9580\u90fd\u6709\u55ae\u7368\u7684\u57fa\u790e\u8a2d\u65bd\u6d41\u6c34\u7dda\u4f86\u7ba1\u7406\u5176\u5de5\u4f5c\u8ca0\u8f09\u9805\u76ee\u3002              | \u5982\u679c\u60a8\u6709\u4e2d\u5fc3\u5718\u968a\u8ca0\u8cac\u90e8\u7f72\u6240\u6709\u9805\u76ee\u548c\u57fa\u790e\u8a2d\u65bd\uff0c\u5247\u53ef\u80fd\u66f4\u50be\u5411\u65bc\u4f7f\u7528\u7531\u4e2d\u5fc3\u5718\u968a\u7ba1\u7406\u7684\u55ae\u500b\u57fa\u790e\u8a2d\u65bd\u6d41\u6c34\u7dda\u3002\u8a72\u4e2d\u5fc3\u5718\u968a\u53ef\u4ee5\u63a5\u53d7\u4f86\u81ea\u5de5\u4f5c\u8ca0\u8f09\u5718\u968a\u7684\u62c9\u53d6\u8acb\u6c42\uff0c\u4ee5\u4fbf\u5728\u9805\u76ee\u5275\u5efa\u4e4b\u524d\u9032\u884c\u5be9\u8988\u548c\u6279\u51c6\uff0c\u6216\u8005\u5718\u968a\u53ef\u4ee5\u81ea\u884c\u5275\u5efa\u62c9\u53d6\u8acb\u6c42\u4f86\u97ff\u61c9\u5de5\u55ae\u7cfb\u7d71\u3002\u5982\u679c\u5404\u5de5\u4f5c\u8ca0\u8f09\u5718\u968a\u80fd\u5920\u81ea\u5b9a\u7fa9\u81ea\u5df1\u7684\u6d41\u6c34\u7dda\uff0c\u4e26\u4e14\u60a8\u5e0c\u671b\u7232\u6d41\u6c34\u7dda\u8a2d\u8a08\u66f4\u7cbe\u7d30\u7684\u7279\u6b0a\u670d\u52d9\u8cec\u865f\uff0c\u5247\u60a8\u53ef\u80fd\u5e0c\u671b\u4f7f\u7528\u66f4\u7cbe\u7d30\u7684\u6d41\u6c34\u7dda\u3002                                           |\n| SIEM \u5c0e\u51fa\uff1a\u6b64\u85cd\u5716\u7ba1\u7406 Security Command Center \u4e2d\u7684\u6240\u6709\u5b89\u5168\u767c\u73fe\u7d50\u679c\u3002                       | \u78ba\u5b9a\u60a8\u8981\u5c07\u5b89\u5168\u767c\u73fe\u7d50\u679c\u5f9e Security Command Center \u5c0e\u51fa\u5230 Chronicle \u7b49\u5de5\u5177\u9084\u662f\u5c0e\u51fa\u5230\u73fe\u6709 SIEM\uff0c\u6216\u8005\u5718\u968a\u662f\u5426\u6703\u4f7f\u7528\u63a7\u5236\u6aaf\u4f86\u67e5\u770b\u548c\u7ba1\u7406\u5b89\u5168\u767c\u73fe\u7d50\u679c\u3002\u60a8\u53ef\u4ee5\u91dd\u5c0d\u5177\u6709\u4e0d\u540c\u7bc4\u570d\u548c\u8077\u8cac\u7684\u4e0d\u540c\u5718\u968a\u914d\u7f6e\u591a\u500b\u5177\u6709\u552f\u4e00\u904e\u6ffe\u689d\u4ef6\u7684\u5c0e\u51fa\u3002                                                                           |\n| \u4f86\u81ea\u672c\u5730\u7684 Google Cloud \u670d\u52d9\u7684 DNS \u67e5\u627e\uff1a\u8a72\u85cd\u5716\u7232\u6bcf\u500b\u5171\u4eab VPC \u914d\u7f6e\u552f\u4e00\u7684 Private Service Connect \u7aef\u9ede\uff0c\u9019\u6709\u52a9\u65bc\u5be6\u73fe\u5177\u6709\u591a\u500b VPC Service Controls \u908a\u754c\u7684\u8a2d\u8a08\u3002 | \u5982\u679c\u60a8\u4e0d\u9700\u8981\u591a\u500b VPC Service Control \u908a\u754c\uff0c\u5247\u53ef\u80fd\u4e0d\u9700\u8981\u5728\u6b64\u7c92\u5ea6\u7d1a\u5225\u5f9e\u672c\u5730\u74b0\u5883\u8def\u7531\u5230 Private Service Connect \u7aef\u9ede\u3002\u60a8\u53ef\u4ee5\u7c21\u5316\u6b64\u8a2d\u8a08\u4ee5\u4f7f\u7528\u5177\u6709\u76f8\u61c9 API \u8edf\u4ef6\u5305\u7684\u55ae\u500b Private Service Connect \u7aef\u9ede\u6216\u4f7f\u7528 private.googlepais.com \u548c restricted.googleapis.com \u7684\u901a\u7528\u7aef\u9ede\uff0c\u800c\u4e0d\u662f\u6309\u74b0\u5883\u5c07\u672c\u5730\u4e3b\u6a5f\u6620\u5c04\u5230 Private Service Connect \u7aef\u9ede\u3002                                                |\n## \u5f8c\u7e8c\u6b65\u9a5f\n- \u4f7f\u7528 GitHub \u4e0a\u7684 [Terraform \u793a\u4f8b\u57fa\u790e](https://github.com/terraform-google-modules/terraform-example-foundation/tree/master) \u5be6\u73fe\u85cd\u5716\u3002\n- \u53c3\u95b1 [Google Cloud \u67b6\u69cb\u6846\u67b6](https://cloud.google.com/architecture/framework?hl=zh-cn) \uff0c\u8a73\u7d30\u77ad\u89e3\u6700\u4f73\u5be6\u8e10\u8a2d\u8a08\u539f\u5247\u3002\n- \u67e5\u770b [\u85cd\u5716\u5eab](https://cloud.google.com/docs/terraform/blueprints/terraform-blueprints?hl=zh-cn) \uff0c\u4ee5\u5e6b\u52a9\u52a0\u5feb\u5e38\u898b\u4f01\u696d\u5de5\u4f5c\u8ca0\u8f09\u7684\u8a2d\u8a08\u548c\u69cb\u5efa\uff0c\u5305\u62ec\uff1a- [\u5c07 Google Cloud \u4e2d\u7684\u6578\u64da\u5c0e\u5165\u5b89\u5168\u7684 BigQuery \u6578\u64da\u5009\u5eab](https://cloud.google.com/architecture/confidential-data-warehouse-blueprint?hl=zh-cn) \n- [\u5c07\u5916\u90e8\u7db2\u7d61\u4e2d\u7684\u6578\u64da\u5c0e\u5165\u5b89\u5168\u7684 BigQuery \u6578\u64da\u5009\u5eab](https://cloud.google.com/architecture/secured-data-warehouse-blueprint-onprem?hl=zh-cn) \n- [\u4f7f\u7528 Cloud Functions \u90e8\u7f72\u5b89\u5168\u7684\u7121\u670d\u52d9\u5668\u67b6\u69cb](https://cloud.google.com/architecture/serverless-functions-blueprint?hl=zh-cn) \n- [\u4f7f\u7528 Cloud Run \u90e8\u7f72\u5b89\u5168\u7684\u7121\u670d\u52d9\u5668\u67b6\u69cb](https://cloud.google.com/architecture/serverless-blueprint?hl=zh-cn) \n- \u8acb\u53c3\u95b1\u5728\u76f8\u95dc\u74b0\u5883\u4e0a\u90e8\u7f72\u7684 [\u76f8\u95dc\u89e3\u6c7a\u65b9\u6848](https://cloud.google.com/solutions?hl=zh-cn) \u3002\n- \u5982\u9700\u8a2a\u554f\u6f14\u793a\u74b0\u5883\uff0c\u8acb\u901a\u904e [security-foundations-blueprint-support@google.com](mailto:security-foundations-blueprint-support@google.com) \u8207\u6211\u5011\u806f\u7e6b\u3002", "guide": "Docs"}