{"title": "Docs - Connect Google Virtual Private Clouds to Oracle Cloud Infrastructure using Equinix", "url": "https://cloud.google.com/architecture/vpc-to-oracle-through-equinix", "abstract": "# Docs - Connect Google Virtual Private Clouds to Oracle Cloud Infrastructure using Equinix\nLast reviewed 2023-08-27 UTC\nThis document discusses how to use [Equinix Network Edge](https://docs.equinix.com/en-us/Content/Interconnection/NE/landing-pages/NE-landing-main.htm) and [Partner Interconnect](/network-connectivity/docs/interconnect/concepts/partner-overview) to deploy private, multi-cloud connectivity between [Google Cloud Virtual Private Cloud (VPC)](/vpc/docs/overview) networks and Oracle\u00ae virtual cloud networks (VCNs).\nThis document is intended for cloud network engineers and operation professionals who want to interconnect their Google Cloud environment to an Oracle Cloud environment. It assumes that you're familiar with Virtual Private Cloud. It also assumes that you have a basic understanding of the following concepts:\n- Networking architecture\n- Configuring Google Cloud and Oracle Cloud\n- Equinix Platform solutions\n- Cisco CSR1000V settings\nIn this document the Cisco CSR1000V router is used as an Equinix Network Edge vRouter.\n", "content": "## Architecture\nTo connect your cloud networks between Google Cloud and Oracle Cloud through private connections, find a colocation facility where both cloud providers meet. This document uses the Equinix colocation facility located in Ashburn, Virginia.\nFor more information about colocation facilities with private connections to multiple cloud providers, see [Equinix Fabric](https://www.equinix.com/interconnection-services/equinix-fabric) .\nThe following diagram shows the network architecture described in this document.\nThe previous diagram displays how data from a Virtual Private Cloud routes through a colocation facility on its way to an Oracle Cloud instance.\nThere are various network architecture designs and considerations for production and non-production usages. This document discusses how to create redundant connections using a Cloud Router and [Partner Interconnect](/network-connectivity/docs/interconnect/concepts/partner-overview) through a pair of redundant Equinix Network Edge virtual routers (vRouters) to Oracle Cloud VCNs.\nFor more information on other network designs and considerations, see [Cloud Dedicated and Partner Interconnect Service Level Agreement (SLA)](/network-connectivity/docs/interconnect/sla) and [Google Cloud redundancy and SLA](/network-connectivity/docs/interconnect/concepts/partner-overview#redundancy) .\n## Objectives\n- Create a pair of partner Interconnect attachments.\n- Provision an Equinix Network Edge vRouter.\n- Connect the Equinix Network Edge vRouter to Partner Interconnect.\n- Create an [Oracle Cloud FastConnect](https://www.oracle.com/cloud/networking/fastconnect/) connection.\n- Connect the Equinix Network Edge vRouter to the Oracle Cloud FastConnect.## Costs\n**Important:** In this document, you use the following billable components of Google Cloud:- Compute Engine\n- Cloud Interconnect\nTo generate a cost estimate based on your projected usage,  use the [pricing calculator](/products/calculator) .\nUse the following links to learn about Oracle Cloud pricing details:\n- [Oracle Cost Estimator](https://www.oracle.com/cloud/costestimator.html) \n- [Oracle Compute pricing](https://www.oracle.com/cloud/compute/pricing.html) \n- [Oracle FastConnect pricing](https://www.oracle.com/cloud/networking/fastconnect-pricing.html) This document includes billable components of Equinix Platform. For further pricing information, contact your Equinix sales representative. Consider the [Equinix Network Edge trial](https://edgeservices.equinix.com/products?p_p_id=catalogportlet_WAR_emergingservicesportlets&p_p_lifecycle=0&p_p_state=normal&p_p_mode=view&_catalogportlet_WAR_emergingservicesportlets_productId=2c92a0ff68bf6b420168d0faa31b08c2&_catalogportlet_WAR_emergingservicesportlets_action=product/details) when working your way through this document.\nWhen you finish the tasks that are described in this document, you can avoid continued billing by deleting the resources that you created. For more information, see [Clean up](#clean-up) .\n## Before you begin\nEnsure you meet the prerequisites for each product.\n### Google Cloud\nIn the Google Cloud console, on the project selector page,   select or [create a Google Cloud project](/resource-manager/docs/creating-managing-projects) .\n**Note** : If you don't plan to keep the  resources that you create in this procedure, create a project instead of  selecting an existing project. After you finish these steps, you can  delete the project, removing all resources associated with the project.\n[Go to project selector](https://console.cloud.google.com/projectselector2/home/dashboard)\n[Make sure that billing is enabled for your Google Cloud project](/billing/docs/how-to/verify-billing-enabled#console) .\nEnable the Compute API.\n[Enable the API](https://console.cloud.google.com/flows/enableapi?apiid=compute.googleapis.com)\nIn the Google Cloud console, activate Cloud Shell.\n[Activate Cloud Shell](https://console.cloud.google.com/?cloudshell=true)\n### Oracle Cloud\nMake sure that you have the appropriate [OCI Identity and Access Management permissions](https://docs.oracle.com/en-us/iaas/Content/Identity/Concepts/overview.htm) to use Oracle FastConnect and Oracle Virtual Cloud Network.\n### Equinix\nIf you aren't an Equinix customer, you can use an Equinix [Network Edge free trial](https://edgeservices.equinix.com/products?p_p_id=catalogportlet_WAR_emergingservicesportlets&p_p_lifecycle=0&p_p_state=normal&p_p_mode=view&_catalogportlet_WAR_emergingservicesportlets_productId=2c92a0ff68bf6b420168d0faa31b08c2&_catalogportlet_WAR_emergingservicesportlets_action=product/details) .\n## Create a pair of Google Partner VLAN attachments\nFor Equinix to create a VLAN attachment on your behalf on your Virtual Private Cloud, you need to create a pairing key. To create that key, complete the following steps:\n- In the the Google Cloud console menu, under **Networking** ,select **Hybrid Connectivity** , then **Interconnect** .\n- Select **Partner Interconnect** , then click **Continue** .\n- Select **I already have a service provider** .\n- On the **Add Partner VLAN attachment** page, select **Create a redundant\npair of VLAN attachments (recommended)** .\n- Select the proper **Network** and **Region** to locate your Virtual Private Cloud for VLAN attachments. In this deployment, use`us-east4 (Virginia)`to Oracle Cloud at Equinix location **Ashburn** .\n- For **VLAN A** , select **Create new router** , name your **Cloud Router** , then click **Create** .- Name your **VLAN A attachment** , and choose an **MTU** . The Cloud Router ASN of`16550`is assigned by Google Cloud.\n- For **VLAN B** , select the Cloud Router you created for VLAN A, then name your VLAN B attachment. Choose the same MTU as VLAN A.\n- Click **Create** .\n- Copy the pairing keys for later use at the Equinix Fabric portal.\nA pair of VLAN attachments are created with a pairing key for each. The ending digit of the pairing key, either `/1` or `/2` , indicates the edge availability domain zone (zone 1 or zone 2) that the VLAN attachment belongs to. The process in the next section uses the pairing key of edge availability domain zone 1 to create the first VLAN attachment from Google Cloud over Partner Interconnect.\nFor more information, see [pairing keys](/network-connectivity/docs/interconnect/concepts/terminology#pairingkey) .\n## Provision the Equinix Network Edge vRouter\nThe Equinix Network Edge vRouter acts as an intermediary device between Google Cloud and Oracle Cloud infrastructure (OCI). Both Cloud Router and OCI Dynamic Routing Gateway (DRG) establish a BGP session to this Equinix Network Edge vRouter.\nUse the following steps to provision the Equinix Network Edge vRouter.\n- Access the [Equinix Fabric portal](https://fabric.equinix.com/) and log in.\n- In the **Network Edge** tab, click **Create Virtual Device** .\n- On the **Add New Edge Device** page, select a vendor package for your virtual device.\n- Select the **Cisco CSR 1000V** virtual router.\n- Click **Select and Continue** .\n- Choose the single device without redundancy deployment mode.- Select the high availability option with redundant devices.\n- Select the cluster option when setting up a production environment.\n- Click **Begin Creating Edge Device(s)** .\n### Add details about your Equinix account\nSelect your location and set device details.\n- In the Equinix Fabric portal, select **Location > Metro > Ashburn** . Then select your Equinix account for that location.\n- Click **Next: Device Details** .\n- For **Device Details** , choose the following:- **Device Configuration:** Select **Equinix-Configured** .\n- **Licensing:** Select **Subscription** .\n- **Device Resources:** Select **2 Cores, 4 GB Memory** .\n- **Software Package:** Select **Security** .\n- **Software Version:** Select the latest version.\n- **License Throughput:** Select the lowest option.\n- **Device Details:** Enter`equinix-gcp-multicloud`as the device name and`eqixgcpmulti`as the hostname prefix.\n- **Device Status Notifications:** Enter your email address.\n- **Term Length:** Select **One Month** (the default).\n- Leave the default options for the rest of the remaining fields.\n### Set up additional Equinix services\n- Click **Next: Additional Services** .\n- For **Additional Services** , choose an option from **WAN Interface\nAccess Control List** , and leave the default options for the rest of the remaining fields.\n- Click **Next: Review** .\n- In the **Review and Submit** page, review device information.\n- In **Terms and Conditions** , click **Review and Accept Order Terms** . If you accept the terms, click **Accept** .Accepting the terms enables the **Create Edge Device** button.\n- Click **Create Edge Device** .\n- After your device is created, you can go to the **Network Edge** tab and **Virtual Device Inventory** to check the status, as shown in the following screenshot: ## Connect the Equinix Network Edge vRouter to the Partner Interconnect\nIn the following steps, you supply the pairing keys you created in the previous section. These keys let Equinix complete the VLAN attachment creation.\nYou also connect the newly provisioned Equinix Network Edge vRouter to Partner Interconnect:\n- In the Equinix Fabric portal, click the **Connections** tab, and then click **Create Connection** .\n- In **Frequent Connections** , select the **Google Cloud Platform** service profile.\n- Click **Create Connection** in **Partner Interconnect Zone 1** . **Note:** You're only creating one VLAN attachment connection.\n- Make the following choices on the **Select Locations** page:- **Origin:** Select **Virtual Device** .\n- **Location:** Select **Ashburn** .\n- Select the virtual device you just created.\n- **Destination:** Select **Ashburn** .\n- Click **Next** .\n- Make the following choices on the **Connection Details** page:- **Virtual** **Connection Name:** Enter`equinix-gcp`.\n- **Google Pairing Key - Ends with /1:** Enter the Google Cloud VLAN attachment pairing key that you copied earlier.\n- Select a **Connection Speed** .\n- Click **Next** .\n- On the **Review** page, verify the connection details, the notification email address, and then click **Submit your Order** . Once the order is submitted, provisioning starts.Provisioning the connection to Google Cloud takes a couple minutes.\n### Activate the connection\nAfter the connection is provisioned by Equinix, you can go back to the Google Cloud console to activate your VLAN attachment:\n- In the console, on the **Networking** menu, select **Hybrid\nConnectivity** **>** **Interconnect** .\n- Select the VLAN attachment that you selected previously, its status should be **Activation needed** .\n- On the **VLAN attachment details** page: Click **Activate** , then click **Accept** .\n- Click **BGP session** .\n- On the **Edit BGP session** page, enter`61000`for **Peer ASN** .\n- Write down the **Cloud Router BGP IP** address (`169.254.113.49`, for example) and the **BGP Peer IP address** (`169.254.113.50`for example).\n### Configure the BGP connection\nIn the previous steps, you configured the Cloud Router BGP. In this step, you create a BGP configuration on the Equinix Network Edge vRouter side to establish a BGP session between Google Cloud Router and Equinix Network Edge vRouter:\n- In the Equinix Fabric portal, click **Network Edge** tab, then click **View Virtual Device Inventory** .\n- Select`equinix-gcp-multicloud`as your device.\n- In the **Connections** tab, select your Google Partner Interconnect connection.\n- Complete the following BGP session details with the data taken from Google Cloud console:- **Local ASN:** Enter`65100`. That is the same value as **Peer ASN** .\n- **Local IP Address:** Use the **BGP Peer IP** address (for example,`169.254.113.50/29`) that you wrote down previously. Add`/29`if not already present.\n- For **Remote ASN** , select **Google Cloud ASN** `16550`, assigned by Google Cloud.\n- For **Remote IP address** , use the Cloud Router BGP IP address (for example,`169.254.113.49`) that you wrote down previously.\n- For **BGP Authentication Key** , leave the field blank.\n- Click **Accept** .\n \nAfter a few minutes, the Equinix **Primary BGP Information** details dialog shows the status of the BGP session as **Established** . To verify that the BGP session for your Partner Interconnect is up, go to Google Cloud console.\n## Create an Oracle Cloud FastConnect connection\nThis section shows how to create an Oracle Cloud FastConnect connection with Equinix vRouter on the OCI side. These steps are subject to change without notice.\n- In the [Oracle Cloud FastConnect console](https://cloud.oracle.com/fastconnect) , select **Ashburn** as your region.\n- Create the Dynamic Routing Gateway (DRG):- Go to **Networking** .\n- Select **Dynamic Routing Gateway** and enter your options into the form.\n- Click **Create Dynamic Routing Gateway** .Wait until the DRG provisions before proceeding.\n- Attach the DRG to your VCN:- Select your previously created DRG.\n- Select **Create Virtual Cloud Network Attachment** .\n- Select your VCN within your desired compartment.\n- Click **Create Virtual Cloud Network Attachment** .\n- Create a connection:- Select **FastConnect Partner** .\n- Select **Equinix Fabric** .\n- Click **Next** . The **Create Connection** page appears.\n- Provide the following data in the **Create Connection** page:- Name your connection.\n- Select **Private Virtual Circuit** and the **DRG** that you created.\n- Select a **Bandwidth** of`1 Gbps`.\n- Configure **BGP Information** - Enter`65100`(the private ASN used by the Equinix vRouter) for **Customer BGP ASN** .\n- Enter`10.2.0.2/30`for **Customer BGP IPv4 Address** .\n- Enter`10.2.0.1/30`for **Oracle BGP IPv4 Address** .\n- Click **Create** . An Oracle Cloud ID (OCID) is created.\n- Copy the OCID for later use at the Equinix Fabric portal.The virtual circuit is now in the Pending Provider state.\nFor more information, see [Oracle Cloud Infrastructure FastConnect](https://www.oracle.com/cloud/networking/fastconnect/) .\n## Connect the Equinix Network Edge vRouter to the Oracle Cloud FastConnect\nIn this step, you'll create a virtual circuit from the Equinix Network Edge vRouter to the Oracle Cloud FastConnect connection which was created in the previous section.\n- Log in to the [Equinix Fabric portal](https://fabric.equinix.com/) .\n- Click the **Connections** tab, then click **Create Connection** .\n- Select **Oracle Cloud Infrastructure OCI \u2013 FastConnect Layer 2 service\nprofile** from the **Frequent Connections** menu.\n- Click **Create Connection** .Changes begin when the connection request is submitted.\n- On the **Select Locations** page:- **Origin:** Select **Virtual Device** .\n- **Location:** Select **Ashburn** , then find your virtual device.\n- **Destination:** Select **Ashburn** .\n- Click **Next** .\n- On the **Connection Details** page:- **Virtual** **Connection Name:** Enter`equinix-oci`.\n- **Virtual Circuit OCID:** Enter the OCID created from Oracle Cloud.\n- Click **Submit your Order** .\nOnce your connection is provisioned, continue to the next step to configure the BGP session. To refer to the BGP information, go to your Oracle Cloud console, and view the **Connection Detail** page in the **BGP Information** tab.\n### Configure the BGP connection on the Equinix Fabric portal\nTo refer to the BGP information mentioned in this section, go to your Oracle Cloud console, and view the **Connection Detail** page in the **BGP Information** tab.\nTo configure the BGP connection on the Equinix Fabric portal, use the following instructions:\n- In the Equinix Fabric portal, click **Network Edge** , then click **View\nVirtual Device Inventory** .\n- Select your device (`equinix-gcp-multicloud`).\n- In the **Connections** tab, select your Oracle Cloud FastConnect connection.\n- Complete the following BGP session with the data taken from the Oracle Cloud console:- For **Local ASN** , use`65100`.\n- For **Local IP Address** , use`10.2.0.2/30`.\n- For **Remote ASN** , use`31898`. Refer to **Oracle BGP ASN** on **BGP Information** from the Oracle Cloud console. This **Oracle BGP ASN** is assigned by Oracle Cloud.\n- For **Remote IP address** , use`10.2.0.1`. Remove the trailing`/30`.\n- For the **BGP Authentication Key** , leave it blank.\n- Click **Accept** .\nAfter a few minutes, the Equinix **Primary BGP Information** details dialog shows the status of the BGP session as **Established** . You can go to the Oracle Cloud Console to verify that the BGP session for your Oracle Cloud FastConnect is up.\n### Verify the BGP session status from Equinix Fabric Portal\nIn the Equinix Fabric Portal, select the following options on the Network Edge tab:\n- Select **Virtual Device Inventory** .\n- Select your device. Access the **Connections** page, select each connection, and then look for the following BGP configuration information:- Provisioning Status: Provisioned\n- BGP State: Established\n### Verify the connectivity between Google Cloud and Oracle Cloud\nTo verify the connectivity between Google Cloud and Oracle Cloud, provision a virtual machine (VM) in both Google Cloud and Oracle Cloud:\n- In Google Cloud console, start an SSH session from a [Google Cloud VM](https://console.cloud.google.com/?project=graphic-fiber-340423&tutorial=compute_short_quickstart&_ga=2.111139909.1156164342.1651507797-23645919.1634608669) .\n- Ping a remote [VM in Oracle Cloud](https://docs.oracle.com/en-us/iaas/Content/Compute/Tasks/launchinginstance.htm) .\nFor more information, see the [firewall rules](/vpc/docs/firewalls) on the VPC.\nAlso, see the ingress and egress rules sections of [security lists](https://docs.oracle.com/en-us/iaas/Content/Network/Concepts/securitylists.htm#Security_Lists) , [network security groups](https://docs.oracle.com/en-us/iaas/Content/Network/Concepts/networksecuritygroups.htm) , and [network ACLs](https://docs.public.oneportal.content.oci.oraclecloud.com/en-us/iaas/adbnetworkaccess/access-control-rules-autonomous.html) on the OCI VCN.\nTo make a second connection, repeat the steps for all but the Create a pair of Google Partner VLAN attachments objective that you completed.\n## Clean up\nTo avoid unnecessary charges to your Google Cloud, Equinix, or Oracle Cloud resources after completing your work, delete the following resources.\n### Delete the Equinix vRouter\n- In the **Equinix Fabric** portal, in the **Network Edge** tab, click **View Virtual Devices** , then select your virtual router.\n- In **Connections** tab of your virtual router, select the Google Cloud connection, and then click **Delete Connection** . Delete the second connection if any.\n- Select the Oracle Cloud FastConnect connection and click **Delete\nConnection** . Delete the second connection if any.\n- After all the connections have been deprovisioned, click the **Details** tab and on the bottom of the page, click **Delete Device** .\n### Delete the Google Cloud resources\nTo delete the Google Cloud resources that you created:\n- Delete VLAN attachment.\n- Delete Cloud Router.\n- Delete Virtual Private Cloud.\n- If you created a project, delete the project.\n### Delete the Oracle Cloud resources\nTo delete the Oracle Cloud resources that you created:\n- Delete FastConnect.\n- Delete the Dynamic Routing Gateway Attachment.\n- Delete the Dynamic Routing Gateway.\n- Delete the Virtual Cloud Network.\n- If you created a compartment, delete the compartment.## What's next\n- Learn about Equinix Fabric to Google Cloud: [Instruction](https://docs.equinix.com/en-us/Content/Interconnection/Fabric/connections/Fabric-connect-google.htm) | [Video](https://www.youtube.com/watch?v=R9EgD0N89aA) \n- Learn about Oracle to Google Cloud: [Instruction](https://equinixinc.sharepoint.com/:b:/r/sites/GSA_SVC/Shared%20Documents/POCs/Completed%20SVC%20Projects/2022/Q1/Multi-cloud%20GCI-OCI%20Tutorial/Multicloud_GCP_OCI%20V1.0.pdf?csf=1&web=1&e=dQM7u3) | [Video](https://www.youtube.com/watch?v=855ADxUVGTI) \n- For more reference architectures, diagrams, and best practices, explore the [Cloud Architecture Center](/architecture) .", "guide": "Docs"}