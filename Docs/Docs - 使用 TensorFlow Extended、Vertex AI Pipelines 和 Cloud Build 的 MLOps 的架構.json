{"title": "Docs - \u4f7f\u7528 TensorFlow Extended\u3001Vertex AI Pipelines \u548c Cloud Build \u7684 MLOps \u7684\u67b6\u69cb", "url": "https://cloud.google.com/architecture/architecture-for-mlops-using-tfx-kubeflow-pipelines-and-cloud-build?hl=zh-cn", "abstract": "# Docs - \u4f7f\u7528 TensorFlow Extended\u3001Vertex AI Pipelines \u548c Cloud Build \u7684 MLOps \u7684\u67b6\u69cb\nLast reviewed 2023-01-20 UTC\n\u672c\u6587\u6a94\u4ecb\u7d39\u4e86\u4f7f\u7528 [TensorFlow Extended (TFX)](https://www.tensorflow.org/tfx?hl=zh-cn) \u5eab\u7684\u6a5f\u5668\u5b78\u7fd2\u7cfb\u7d71\u7684\u6574\u9ad4\u67b6\u69cb\uff0c\u53e6\u5916\u9084\u4ecb\u7d39\u77ad\u5982\u4f55\u7232\u4f7f\u7528 [Cloud Build](https://cloud.google.com/build/docs?hl=zh-cn) \u548c [Vertex AI \u6d41\u6c34\u7dda](https://cloud.google.com/vertex-ai/docs/pipelines/introduction?hl=zh-cn) \u7684\u6a5f\u5668\u5b78\u7fd2\u7cfb\u7d71\u8a2d\u7f6e\u6301\u7e8c\u96c6\u6210 (CI)\u3001\u6301\u7e8c\u4ea4\u4ed8 (CD) \u548c\u6301\u7e8c\u8a13\u7df4 (CT)\u3002\n\u5728\u672c\u6587\u6a94\u4e2d\uff0c\u201c\u6a5f\u5668\u5b78\u7fd2\u7cfb\u7d71\u201d\u548c\u201c\u6a5f\u5668\u5b78\u7fd2\u6d41\u6c34\u7dda\u201d\u9019\u5169\u500b\u8853\u8a9e\u6307\u7684\u662f\u6a5f\u5668\u5b78\u7fd2\u6a21\u578b\u8a13\u7df4\u6d41\u6c34\u7dda\uff0c\u800c\u4e0d\u662f\u6a21\u578b\u8a55\u5206\u6216\u9810\u6e2c\u6d41\u6c34\u7dda\u3002\n\u672c\u6587\u6a94\u9069\u7528\u65bc\u60f3\u8981\u8abf\u6574 CI/CD \u505a\u6cd5\u4ee5\u5c07\u6a5f\u5668\u5b78\u7fd2\u89e3\u6c7a\u65b9\u6848\u9077\u79fb\u5230 Google Cloud \u4e0a\u7684\u751f\u7522\u74b0\u5883\uff0c\u4e26\u5e0c\u671b\u78ba\u4fdd\u6a5f\u5668\u5b78\u7fd2\u6d41\u6c34\u7dda\u7684\u8cea\u91cf\u3001\u53ef\u7dad\u8b77\u6027\u548c\u9069\u61c9\u6027\u7684\u6578\u64da\u79d1\u5b78\u5bb6\u548c\u6a5f\u5668\u5b78\u7fd2\u5de5\u7a0b\u5e2b\u3002\n\u672c\u6587\u6a94\u4ecb\u7d39\u4e86\u4ee5\u4e0b\u4e3b\u984c\uff1a\n- \u77ad\u89e3\u6a5f\u5668\u5b78\u7fd2\u4e2d\u7684 CI/CD \u548c\u81ea\u52d5\u5316\u3002\n- \u8a2d\u8a08\u4f7f\u7528 TFX \u7684\u96c6\u6210\u5f0f\u6a5f\u5668\u5b78\u7fd2\u6d41\u6c34\u7dda\u3002\n- \u4f7f\u7528 Vertex AI Pipelines \u7de8\u6392\u548c\u81ea\u52d5\u5316\u6a5f\u5668\u5b78\u7fd2\u6d41\u6c34\u7dda\u3002\n- \u7232\u4f7f\u7528 Cloud Build \u7684\u6a5f\u5668\u5b78\u7fd2\u6d41\u6c34\u7dda\u8a2d\u7f6e CI/CD \u7cfb\u7d71\u3002", "content": "## MLOps\n\u5982\u9700\u5728\u751f\u7522\u74b0\u5883\u4e2d\u96c6\u6210\u6a5f\u5668\u5b78\u7fd2\u7cfb\u7d71\uff0c \u60a8\u9700\u8981\u7de8\u6392\u6a5f\u5668\u5b78\u7fd2\u6d41\u6c34\u7dda\u4e2d\u7684\u6b65\u9a5f\u3002\u6b64\u5916\uff0c\u60a8\u9084\u9700\u8981\u81ea\u52d5\u57f7\u884c\u8a72\u6d41\u6c34\u7dda\uff0c\u4ee5\u6301\u7e8c\u8a13\u7df4\u6a21\u578b\u3002\u5982\u9700\u8a66\u9a57\u65b0\u7684\u60f3\u6cd5\u548c\u529f\u80fd\uff0c\u60a8\u9700\u8981\u5728\u6d41\u6c34\u7dda\u7684\u65b0\u5be6\u73fe\u4e2d\u63a1\u7528 CI/CD \u505a\u6cd5\u3002\u4ee5\u4e0b\u90e8\u5206\u7c21\u8981\u4ecb\u7d39\u4e86\u6a5f\u5668\u5b78\u7fd2\u4e2d\u7684 CI/CD \u548c CT\u3002\n### \u6a5f\u5668\u5b78\u7fd2\u6d41\u6c34\u7dda\u81ea\u52d5\u5316\n\u5728\u67d0\u4e9b\u7528\u4f8b\u4e2d\uff0c\u4ee5\u624b\u52d5\u65b9\u5f0f\u8655\u7406\u8a13\u7df4\u3001\u9a57\u8b49\u548c\u90e8\u7f72\u6a5f\u5668\u5b78\u7fd2\u6a21\u578b\u4fbf\u5df2\u8db3\u5920\u3002\u5982\u679c\u60a8\u7684\u5718\u968a\u53ea\u7ba1\u7406\u7232\u6578\u4e0d\u591a\u3001\u4e0d\u6703\u7d93\u5e38\u91cd\u65b0\u8a13\u7df4\u6216\u66f4\u6539\u7684\u6a5f\u5668\u5b78\u7fd2\u6a21\u578b\uff0c\u5247\u6b64\u624b\u52d5\u65b9\u5f0f\u662f\u6c92\u6709\u554f\u984c\u7684\u3002\u4f46\u4e8b\u5be6\u4e0a\uff0c\u6a21\u578b\u5728\u90e8\u7f72\u5230\u771f\u5be6\u74b0\u5883\u4e2d\u5f8c\u7d93\u5e38\u6703\u51fa\u73fe\u6545\u969c\uff0c\u56e0\u7232\u5b83\u5011\u4e0d\u80fd\u9069\u61c9\u74b0\u5883\u4e2d\u7684\u52d5\u614b\u8b8a\u5316\u6216\u63cf\u8ff0\u6b64\u985e\u52d5\u614b\u8b8a\u5316\u7684\u6578\u64da\u3002\n\u7232\u4e86\u4f7f\u6a5f\u5668\u5b78\u7fd2\u7cfb\u7d71\u9069\u61c9\u9019\u4e9b\u8b8a\u5316\uff0c\u60a8\u9700\u8981\u61c9\u7528\u4ee5\u4e0b MLOps \u6280\u8853\uff1a\n- \u81ea\u52d5\u57f7\u884c\u6a5f\u5668\u5b78\u7fd2\u6d41\u6c34\u7dda\u4ee5\u4f7f\u7528\u65b0\u6578\u64da\u91cd\u65b0\u8a13\u7df4\u65b0\u6a21\u578b\uff0c\u5f9e\u800c\u6355\u6349\u6240\u6709\u65b0\u8208\u6a21\u5f0f\u3002\u672c\u6587\u6a94\u7a0d\u5f8c\u5c07\u5728 [\u4f7f\u7528 Vertex AI Pipelines \u7684\u6a5f\u5668\u5b78\u7fd2](#ml-with-vertex-pipelines) \u90e8\u5206\u4e2d\u4ecb\u7d39 CT\u3002\n- \u8a2d\u7f6e\u6301\u7e8c\u4ea4\u4ed8\u7cfb\u7d71\uff0c\u4ee5\u983b\u7e41\u90e8\u7f72\u6574\u500b\u6a5f\u5668\u5b78\u7fd2\u6d41\u6c34\u7dda\u7684\u65b0\u5be6\u73fe\u3002\u672c\u6587\u6a94\u7a0d\u5f8c\u5c07\u5728 [Google Cloud \u4e0a\u6a5f\u5668\u5b78\u7fd2\u7684 CI/CD \u8a2d\u7f6e](#setting-up-ci-cd-for-ml-on-google-cloud) \u90e8\u5206\u4e2d\u4ecb\u7d39 CI/CD\u3002\n\u60a8\u53ef\u4ee5\u81ea\u52d5\u57f7\u884c\u6a5f\u5668\u5b78\u7fd2\u751f\u7522\u6d41\u6c34\u7dda\uff0c\u4ee5\u4f7f\u7528\u65b0\u6578\u64da\u91cd\u65b0\u8a13\u7df4\u6a21\u578b\u3002\u60a8\u53ef\u4ee5\u6839\u64da\u9700\u8981\u3001\u8a08\u5283\u3001\u65b0\u6578\u64da\u7684\u53ef\u7528\u6027\u3001\u6a21\u578b\u6027\u80fd\u4e0b\u964d\u60c5\u6cc1\u3001\u6578\u64da\u7d71\u8a08\u5c6c\u6027\u7684\u91cd\u5927\u8b8a\u52d5\u6216\u5176\u4ed6\u689d\u4ef6\u4f86\u89f8\u767c\u6d41\u6c34\u7dda\u3002\n### CI/CD \u6d41\u6c34\u7dda\u8207 CT \u6d41\u6c34\u7dda\u7684\u6bd4\u8f03\n\u65b0\u6578\u64da\u7684\u53ef\u7528\u6027\u662f\u91cd\u65b0\u8a13\u7df4\u6a5f\u5668\u5b78\u7fd2\u6a21\u578b\u7684\u4e00\u500b\u89f8\u767c\u56e0\u7d20\u3002\u6a5f\u5668\u5b78\u7fd2\u6d41\u6c34\u7dda\u7684\u65b0\u5be6\u73fe\uff08\u5305\u62ec\u65b0\u6a21\u578b\u67b6\u69cb\u3001\u7279\u5fb5\u5de5\u7a0b\u548c\u8d85\u53c3\u6578\uff09\u7684\u53ef\u7528\u6027\u662f\u91cd\u65b0\u57f7\u884c\u6a5f\u5668\u5b78\u7fd2\u6d41\u6c34\u7dda\u7684\u53e6\u4e00\u500b\u91cd\u8981\u89f8\u767c\u56e0\u7d20\u3002\u6a5f\u5668\u5b78\u7fd2\u6d41\u6c34\u7dda\u7684\u9019\u7a2e\u65b0\u5be6\u73fe\u4f5c\u7232\u65b0\u7248\u6a21\u578b\u9810\u6e2c\u670d\u52d9\uff0c\u4f8b\u5982\u4f7f\u7528 REST API \u63d0\u4f9b\u5728\u7dda\u670d\u52d9\u7684\u5fae\u670d\u52d9\u3002\u9019\u5169\u7a2e\u60c5\u6cc1\u7684\u5340\u5225\u5982\u4e0b\uff1a\n- \u5982\u679c\u4f7f\u7528\u65b0\u6578\u64da\u8a13\u7df4\u65b0\u6a5f\u5668\u5b78\u7fd2\u6a21\u578b\uff0c\u5247\u57f7\u884c\u4e4b\u524d\u90e8\u7f72\u7684 CT \u6d41\u6c34\u7dda\u3002\u4e0d\u6703\u90e8\u7f72\u4efb\u4f55\u65b0\u7684\u6d41\u6c34\u7dda\u6216\u7d44\u4ef6\uff1b\u53ea\u5728\u6d41\u6c34\u7dda\u7684\u6700\u5f8c\u63d0\u4f9b\u4e00\u500b\u65b0\u7684\u9810\u6e2c\u670d\u52d9\u6216\u65b0\u8a13\u7df4\u7684\u6a21\u578b\u3002\n- \u5982\u679c\u4f7f\u7528\u65b0\u5be6\u73fe\u8a13\u7df4\u65b0\u6a5f\u5668\u5b78\u7fd2\u6a21\u578b\uff0c\u5247\u901a\u904e CI/CD \u6d41\u6c34\u7dda\u90e8\u7f72\u65b0\u7684\u6d41\u6c34\u7dda\u3002\n\u7232\u4e86\u5feb\u901f\u90e8\u7f72\u65b0\u7684\u6a5f\u5668\u5b78\u7fd2\u6d41\u6c34\u7dda\uff0c\u60a8\u9700\u8981\u8a2d\u7f6e CI/CD \u6d41\u6c34\u7dda\u3002\u7576\u6709\u65b0\u5be6\u73fe\u53ef\u7528\u4e26\u7372\u51c6\u7528\u65bc\u5404\u7a2e\u74b0\u5883\uff08\u4f8b\u5982\u958b\u767c\u3001\u6e2c\u8a66\u3001\u6a21\u64ec\u3001\u9810\u751f\u7522\u3001canary \u548c\u751f\u7522\u74b0\u5883\uff09\u6642\uff0c\u6b64\u6d41\u6c34\u7dda\u8ca0\u8cac\u81ea\u52d5\u90e8\u7f72\u65b0\u7684\u6a5f\u5668\u5b78\u7fd2\u6d41\u6c34\u7dda\u548c\u7d44\u4ef6\u3002\n\u4e0b\u5716\u5c55\u793a\u4e86 CI/CD \u6d41\u6c34\u7dda\u8207\u6a5f\u5668\u5b78\u7fd2 CT \u6d41\u6c34\u7dda\u4e4b\u9593\u7684\u95dc\u4fc2\u3002\n**\u5716 1** . CI/CD \u548c\u6a5f\u5668\u5b78\u7fd2 CT \u6d41\u6c34\u7dda\u3002\n\u9019\u4e9b\u6d41\u6c34\u7dda\u7684\u8f38\u51fa\u5982\u4e0b\u6240\u793a\uff1a\n- \u5982\u679c\u63d0\u4f9b\u65b0\u5be6\u73fe\uff0c\u5247\u6210\u529f\u7684 CI/CD \u6d41\u6c34\u7dda\u5c07\u90e8\u7f72\u65b0\u7684\u6a5f\u5668\u5b78\u7fd2 CT \u6d41\u6c34\u7dda\u3002\n- \u5982\u679c\u63d0\u4f9b\u65b0\u6578\u64da\uff0c\u5247\u6210\u529f\u7684 CT \u6d41\u6c34\u7dda\u5c07\u8a13\u7df4\u65b0\u6a21\u578b\u4e26\u5c07\u5176\u90e8\u7f72\u7232\u9810\u6e2c\u670d\u52d9\u3002## \u8a2d\u8a08\u57fa\u65bc TFX \u7684\u6a5f\u5668\u5b78\u7fd2\u7cfb\u7d71\n\u4ee5\u4e0b\u90e8\u5206\u4ecb\u7d39\u5982\u4f55\u8a2d\u8a08\u4f7f\u7528 TensorFlow Extended (TFX) \u7684\u96c6\u6210\u5f0f\u6a5f\u5668\u5b78\u7fd2\u7cfb\u7d71\uff0c\u7232\u6a5f\u5668\u5b78\u7fd2\u7cfb\u7d71\u8a2d\u7f6e CI/CD \u6d41\u6c34\u7dda\u3002\u96d6\u7136\u6709\u591a\u500b\u6846\u67b6\u53ef\u7528\u65bc\u69cb\u5efa\u6a5f\u5668\u5b78\u7fd2\u6a21\u578b\uff0c\u4f46 TFX \u662f\u4e00\u500b\u96c6\u6210\u5f0f\u6a5f\u5668\u5b78\u7fd2\u5e73\u81fa\uff0c\u53ef\u7528\u65bc\u958b\u767c\u548c\u90e8\u7f72\u751f\u7522\u74b0\u5883\u4e2d\u7684\u6a5f\u5668\u5b78\u7fd2\u7cfb\u7d71\u3002 TFX \u6d41\u6c34\u7dda\u662f\u7528\u65bc\u5be6\u73fe\u6a5f\u5668\u5b78\u7fd2\u7cfb\u7d71\u7684\u4e00\u7cfb\u5217\u7d44\u4ef6\u3002\u6b64 TFX \u6d41\u6c34\u7dda\u5c08\u7528\u65bc\u5b8c\u6210\u53ef\u64f4\u7e2e\u7684\u9ad8\u6027\u80fd\u6a5f\u5668\u5b78\u7fd2\u4efb\u52d9\u3002\u9019\u4e9b\u4efb\u52d9\u5305\u62ec\u5efa\u6a21\u3001\u8a13\u7df4\u3001\u9a57\u8b49\u3001\u63d0\u4f9b\u63a8\u65b7\u548c\u7ba1\u7406\u90e8\u7f72\u3002TFX \u7684\u4e3b\u8981\u5eab\u5982\u4e0b\u6240\u793a\uff1a\n- [TensorFlow Data Validation (TFDV)](https://www.tensorflow.org/tfx/data_validation/get_started?hl=zh-cn) \uff1a\u7528\u65bc\u6aa2\u6e2c\u6578\u64da\u4e2d\u7684\u7570\u5e38\u503c\u3002\n- [TensorFlow Transform (TFT)](https://www.tensorflow.org/tfx/transform/get_started?hl=zh-cn) \uff1a\u7528\u65bc\u6578\u64da\u9810\u8655\u7406\u548c\u7279\u5fb5\u5de5\u7a0b\u3002\n- [TensorFlow Estimator \u548c Keras](https://www.tensorflow.org/overview/?hl=zh-cn) \uff1a\u7528\u65bc\u69cb\u5efa\u548c\u8a13\u7df4\u6a5f\u5668\u5b78\u7fd2\u6a21\u578b\u3002\n- [TensorFlow Model Analysis (TFMA)](https://www.tensorflow.org/tfx/model_analysis/get_started?hl=zh-cn) \uff1a\u7528\u65bc\u6a5f\u5668\u5b78\u7fd2\u6a21\u578b\u8a55\u4f30\u548c\u5206\u6790\u3002\n- [TensorFlow Serving (TFServing)](https://www.tensorflow.org/tfx/guide/serving?hl=zh-cn) \uff1a\u7528\u65bc\u4ee5 REST API \u548c gRPC API \u7684\u5f62\u5f0f\u63d0\u4f9b\u6a5f\u5668\u5b78\u7fd2\u6a21\u578b\u3002\n### TFX \u6a5f\u5668\u5b78\u7fd2\u7cfb\u7d71\u6982\u89bd\n\u4e0b\u5716\u5c55\u793a\u77ad\u5982\u4f55\u96c6\u6210\u5404\u7a2e TFX \u5eab\u4ee5\u7d44\u6210\u6a5f\u5668\u5b78\u7fd2\u7cfb\u7d71\u3002\n**\u5716 2** . \u4e00\u500b\u5178\u578b\u7684\u57fa\u65bc TFX \u7684\u6a5f\u5668\u5b78\u7fd2\u7cfb\u7d71\u3002\n\u5716 2 \u986f\u793a\u4e86\u4e00\u500b\u5178\u578b\u7684\u57fa\u65bc TFX \u7684\u6a5f\u5668\u5b78\u7fd2\u7cfb\u7d71\u3002\u60a8\u53ef\u4ee5\u624b\u52d5\u6216\u901a\u904e\u81ea\u52d5\u6d41\u6c34\u7dda\u5b8c\u6210\u4ee5\u4e0b\u6b65\u9a5f\uff1a\n- \u6578\u64da\u63d0\u53d6\uff1a\u7b2c\u4e00\u6b65\u662f\u5f9e\u6578\u64da\u6e90\u4e2d\u63d0\u53d6\u65b0\u7684\u8a13\u7df4\u6578\u64da\u3002\u6b64\u6b65\u9a5f\u7684\u8f38\u51fa\u662f\u7528\u65bc\u8a13\u7df4\u548c\u8a55\u4f30\u6a21\u578b\u7684\u6578\u64da\u6587\u4ef6\u3002\n- \u6578\u64da\u9a57\u8b49\uff1aTFDV \u6703\u6839\u64da\u9810\u671f\uff08\u539f\u59cb\uff09\u6578\u64da\u67b6\u69cb\u9a57\u8b49\u6578\u64da\u3002\u6578\u64da\u67b6\u69cb\u662f\u5728\u7cfb\u7d71\u90e8\u7f72\u4e4b\u524d\u7684\u958b\u767c\u968e\u6bb5\u5275\u5efa\u548c\u78ba\u5b9a\u7684\u3002\u6578\u64da\u9a57\u8b49\u6b65\u9a5f\u6703\u6aa2\u6e2c\u8207\u6578\u64da\u5206\u4f48\u548c\u67b6\u69cb\u504f\u5dee\u76f8\u95dc\u7684\u7570\u5e38\u503c\u3002\u6b64\u6b65\u9a5f\u7684\u8f38\u51fa\u662f\u7570\u5e38\u503c\uff08\u5982\u679c\u6709\uff09\uff0c\u4ee5\u53ca\u95dc\u65bc\u662f\u5426\u57f7\u884c\u4e0b\u6e38\u6b65\u9a5f\u7684\u6c7a\u7b56\u3002\n- \u6578\u64da\u8f49\u63db\uff1a\u9a57\u8b49\u6578\u64da\u5f8c\uff0c\u901a\u904e\u4f7f\u7528 TFT \u57f7\u884c\u6578\u64da\u8f49\u63db\u548c\u7279\u5fb5\u5de5\u7a0b\u64cd\u4f5c\u4f86\u62c6\u5206\u548c\u6e96\u5099\u7528\u65bc\u6a5f\u5668\u5b78\u7fd2\u4efb\u52d9\u7684\u6578\u64da\u3002\u6b64\u6b65\u9a5f\u7684\u8f38\u51fa\u662f\u7528\u65bc\u8a13\u7df4\u548c\u8a55\u4f30\u6a21\u578b\u7684\u6578\u64da\u6587\u4ef6\uff0c\u901a\u5e38\u8f49\u63db\u7232 [TFRecords](https://www.tensorflow.org/tutorials/load_data/tfrecord?hl=zh-cn) \u683c\u5f0f\u3002\u6b64\u5916\uff0c\u751f\u6210\u7684\u8f49\u63db\u5de5\u4ef6\u6709\u52a9\u65bc\u69cb\u5efa\u6a21\u578b\u8f38\u5165\u4e26\u5728\u8a13\u7df4\u5f8c\u5c07\u8f49\u63db\u904e\u7a0b\u5d4c\u5165\u5c0e\u51fa\u7684\u5df2\u4fdd\u5b58\u6a21\u578b\u4e2d\u3002\n- \u6a21\u578b\u8a13\u7df4\u548c\u8abf\u7bc0\uff1a\u5982\u9700\u5be6\u73fe\u548c\u8a13\u7df4\u6a5f\u5668\u5b78\u7fd2\u6a21\u578b\uff0c\u8acb\u5c0d\u524d\u4e00\u6b65\u9a5f\u751f\u6210\u7684\u8f49\u63db\u5f8c\u7684\u6578\u64da\u4f7f\u7528 [tf.estimator](https://www.tensorflow.org/api_docs/python/tf/estimator/Estimator?hl=zh-cn) \u6216 [tf.Keras](https://www.tensorflow.org/guide/keras?hl=zh-cn) API\u3002\u5982\u9700\u8981\u9078\u64c7\u80fd\u751f\u6210\u6700\u4f73\u6a21\u578b\u7684\u53c3\u6578\u8a2d\u7f6e\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528 [Keras \u8abf\u7bc0\u5668](https://keras.io/keras_tuner) \uff0c\u5b83\u662f Keras \u7684\u8d85\u53c3\u6578\u8abf\u7bc0\u5eab\u3002\u6216\u8005\uff0c\u60a8\u4e5f\u53ef\u4ee5\u4f7f\u7528\u5176\u4ed6\u670d\u52d9\uff0c\u4f8b\u5982 [Katib](https://www.kubeflow.org/docs/components/katib/hyperparameter/) \u3001 [Vertex AI Vizier](https://cloud.google.com/vertex-ai/docs/vizier/overview?hl=zh-cn) \u6216 [Vertex AI](https://cloud.google.com/vertex-ai/docs/training/hyperparameter-tuning-overview?hl=zh-cn) \u4e2d\u7684\u8d85\u53c3\u6578\u8abf\u7bc0\u5668\u3002\u6b64\u6b65\u9a5f\u7684\u8f38\u51fa\u662f\u4e00\u500b\u7528\u65bc\u8a55\u4f30\u7684\u4fdd\u5b58\u6a21\u578b\uff0c\u4ee5\u53ca\u53e6\u4e00\u500b\u7528\u65bc\u5728\u7dda\u63d0\u4f9b\u8a72\u6a21\u578b\u9810\u6e2c\u7684\u4fdd\u5b58\u6a21\u578b\u3002\n- \u6a21\u578b\u8a55\u4f30\u548c\u9a57\u8b49\uff1a\u5728\u8a13\u7df4\u6b65\u9a5f\u5b8c\u6210\u5f8c\u5c0e\u51fa\u6a21\u578b\u6642\uff0c\u5c07\u4ee5\u6e2c\u8a66\u6578\u64da\u96c6\u7232\u57fa\u790e\u4f7f\u7528 TFMA \u8a55\u4f30\u8a72\u6a21\u578b\u7684\u8cea\u91cf\u3002TFMA \u6703\u8a55\u4f30\u6574\u9ad4\u6a21\u578b\u8cea\u91cf\uff0c\u4e26\u78ba\u5b9a\u6578\u64da\u6a21\u578b\u7684\u54ea\u4e9b\u90e8\u5206\u672a\u57f7\u884c\u3002\u6b64\u8a55\u4f30\u6709\u52a9\u65bc\u78ba\u4fdd\u6a21\u578b\u50c5\u5728\u7b26\u5408\u8cea\u91cf\u6a19\u6e96\u7684\u60c5\u6cc1\u4e0b\u624d\u6703\u63a8\u85a6\u7528\u65bc\u670d\u52d9\u3002\u9019\u4e9b\u6a19\u6e96\u53ef\u4ee5\u52a0\u5165\u9762\u5c0d\u5404\u7a2e\u6578\u64da\u5b50\u96c6\uff08\u4f8b\u5982\uff0c\u53d7\u8846\u7279\u5fb5\u548c\u4f4d\u7f6e\uff09\u6027\u80fd\u8868\u73fe\u5c1a\u53ef\u7684\u8a55\u50f9\uff0c\u4ee5\u53ca\u8f03\u4ee5\u524d\u7684\u6a21\u578b\u6216\u57fa\u6e96\u6a21\u578b\u6027\u80fd\u6709\u6240\u63d0\u5347\u7684\u8a55\u50f9\u3002\u6b64\u6b65\u9a5f\u7684\u8f38\u51fa\u662f\u4e00\u7d44\u6027\u80fd\u6307\u6a19\uff0c\u4ee5\u53ca\u95dc\u65bc\u662f\u5426\u5c07\u8a72\u6a21\u578b\u6295\u5165\u751f\u7522\u7684\u6c7a\u7b56\u3002\n- \u63d0\u4f9b\u6a21\u578b\u9032\u884c\u9810\u6e2c\uff1a\u5728\u65b0\u8a13\u7df4\u7684\u6a21\u578b\u7d93\u904e\u9a57\u8b49\u5f8c\uff0c\u5c07\u5176\u90e8\u7f72\u7232\u5fae\u670d\u52d9\uff0c\u4ee5\u4f7f\u7528 TensorFlow Serving \u63d0\u4f9b\u5728\u7dda\u9810\u6e2c\u3002\u6b64\u6b65\u9a5f\u7684\u8f38\u51fa\u662f\u7d93\u904e\u8a13\u7df4\u7684\u6a5f\u5668\u5b78\u7fd2\u6a21\u578b\u7684\u9810\u6e2c\u670d\u52d9\u90e8\u7f72\u3002\u60a8\u53ef\u4ee5\u901a\u904e\u5728\u6a21\u578b\u8a3b\u518a\u8868\u4e2d\u5b58\u5132\u7d93\u904e\u8a13\u7df4\u7684\u6a21\u578b\u4f86\u66ff\u63db\u6b64\u6b65\u9a5f\u3002\u96a8\u5f8c\uff0c\u5c07\u5553\u52d5\u4e00\u500b\u55ae\u7368\u7684\u6a21\u578b\uff0c\u670d\u52d9 CI/CD \u6d41\u7a0b\u3002\n\u5982\u9700\u67e5\u770b TFX \u5eab\u7684\u4f7f\u7528\u793a\u4f8b\uff0c\u8acb\u53c3\u95b1\u5b98\u65b9 [TFX Keras \u7d44\u4ef6\u6559\u7a0b](https://www.tensorflow.org/tfx/tutorials/tfx/components_keras?hl=zh-cn) \u3002\n### Google Cloud \u4e0a\u7684 TFX \u6a5f\u5668\u5b78\u7fd2\u7cfb\u7d71\n\u5728\u751f\u7522\u74b0\u5883\u4e2d\uff0c\u7cfb\u7d71\u7684\u7d44\u4ef6\u5fc5\u9808\u5728\u53ef\u9760\u7684\u5e73\u81fa\u4e0a\u5927\u898f\u6a21\u904b\u884c\u3002\u4e0b\u5716\u5c55\u793a\u4e86 TFX \u6a5f\u5668\u5b78\u7fd2\u6d41\u6c34\u7dda\u7684\u5404\u500b\u6b65\u9a5f\u5982\u4f55\u4f7f\u7528\u8a17\u7ba1\u670d\u52d9\u5728 Google Cloud \u4e0a\u904b\u884c\uff0c\u5f9e\u800c\u78ba\u4fdd\u5728\u5de8\u5927\u898f\u6a21\u4e0b\u7684\u9748\u6d3b\u6027\u3001\u53ef\u9760\u6027\u548c\u6027\u80fd\u3002\n**\u5716 3** . Google Cloud \u4e0a\u57fa\u65bc TFX \u7684\u6a5f\u5668\u5b78\u7fd2\u7cfb\u7d71\n\u4e0b\u8868\u4ecb\u7d39\u4e86\u5716 3 \u6240\u793a\u7684\u4e3b\u8981 Google Cloud \u670d\u52d9\uff1a\n| \u6b65\u9a5f    | TFX \u5eab      | Google Cloud \u670d\u52d9  |\n|:-----------------|:---------------------------|:-------------------------|\n| \u6578\u64da\u63d0\u53d6\u548c\u9a57\u8b49 | TensorFlow Data Validation | Dataflow     |\n| \u6578\u64da\u8f49\u63db   | TensorFlow Transform  | Dataflow     |\n| \u6a21\u578b\u8a13\u7df4\u548c\u5fae\u8abf | TensorFlow     | Vertex AI Training  |\n| \u6a21\u578b\u8a55\u4f30\u548c\u9a57\u8b49 | TensorFlow Model Analysis | Dataflow     |\n| \u63d0\u4f9b\u6a21\u578b\u9032\u884c\u9810\u6e2c | TensorFlow Serving   | Vertex AI Prediction  |\n| \u6a21\u578b\u5b58\u5132   | \u4e0d\u9069\u7528      | Vertex AI Model Registry |\n- [Dataflow](https://cloud.google.com/dataflow/docs?hl=zh-cn) \u662f\u4e00\u7a2e\u5168\u8a17\u7ba1\u5f0f\u7121\u670d\u52d9\u5668\u7684\u53ef\u9760\u670d\u52d9\uff0c\u7528\u65bc\u5728 Google Cloud \u4e0a\u5927\u898f\u6a21\u904b\u884c [Apache Beam](https://beam.apache.org/) \u6d41\u6c34\u7dda\u3002Dataflow \u7528\u65bc\u8abf\u7bc0\u4ee5\u4e0b\u6d41\u7a0b\uff1a\n- \u8a08\u7b97\u7d71\u8a08\u4fe1\u606f\u4ee5\u9a57\u8b49\u50b3\u5165\u7684\u6578\u64da\u3002\n- \u57f7\u884c\u6578\u64da\u6e96\u5099\u548c\u8f49\u63db\u3002\n- \u91dd\u5c0d\u5927\u578b\u6578\u64da\u96c6\u8a55\u4f30\u6a21\u578b\u3002\n- \u8a08\u7b97\u8a55\u4f30\u6578\u64da\u96c6\u5404\u500b\u65b9\u9762\u7684\u6307\u6a19\u3002\n- [Cloud Storage](https://cloud.google.com/storage?hl=zh-cn) \u662f\u7528\u65bc\u4e8c\u9032\u5236\u5927\u578b\u5c0d\u8c61\u7684\u9ad8\u53ef\u7528\u6027\u548c\u6301\u4e45\u6027\u5b58\u5132\u7522\u54c1\u3002Cloud Storage \u8a17\u7ba1\u5728\u6a5f\u5668\u5b78\u7fd2\u6d41\u6c34\u7dda\u57f7\u884c\u904e\u7a0b\u4e2d\u751f\u6210\u7684\u5de5\u4ef6\uff0c\u5176\u4e2d\u5305\u62ec\uff1a\n- \u6578\u64da\u7570\u5e38\u503c\uff08\u5982\u679c\u6709\uff09\n- \u8f49\u63db\u5f8c\u7684\u6578\u64da\u548c\u5de5\u4ef6\n- \u5c0e\u51fa\uff08\u8a13\u7df4\uff09\u7684\u6a21\u578b\n- \u6a21\u578b\u8a55\u4f30\u6307\u6a19\n- [Vertex AI Training](https://cloud.google.com/vertex-ai/docs/training-overview?hl=zh-cn) \u662f\u4e00\u9805\u4ee3\u7ba1\u5f0f\u670d\u52d9\uff0c\u7528\u65bc\u5927\u898f\u6a21\u8a13\u7df4\u6a5f\u5668\u5b78\u7fd2\u6a21\u578b\u3002\u60a8\u53ef\u4ee5\u4f7f\u7528 TensorFlow\u3001scikit-learn\u3001XGBoost \u548c PyTorch \u7684 [\u9810\u69cb\u5efa\u5bb9\u5668](https://cloud.google.com/vertex-ai/docs/training/create-python-pre-built-container?hl=zh-cn) \u57f7\u884c\u6a21\u578b\u8a13\u7df4\u4f5c\u696d\u3002\u60a8\u9084\u53ef\u4ee5\u4f7f\u7528\u81ea\u5df1\u7684 [\u81ea\u5b9a\u7fa9\u5bb9\u5668](https://cloud.google.com/vertex-ai/docs/training/containers-overview?hl=zh-cn) \u904b\u884c\u4efb\u4f55\u6846\u67b6\u3002\u5c0d\u65bc [\u8a13\u7df4\u57fa\u790e\u67b6\u69cb](https://cloud.google.com/vertex-ai/docs/training/configure-compute?hl=zh-cn) \uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528\u52a0\u901f\u5668\u548c\u591a\u500b\u7bc0\u9ede\u9032\u884c\u5206\u4f48\u5f0f\u8a13\u7df4\u3002 \u6b64\u5916\uff0c\u6211\u5011\u9084\u63d0\u4f9b\u53ef\u64f4\u7e2e\u7684\u57fa\u65bc\u8c9d\u8449\u65af\u512a\u5316\u7684\u670d\u52d9\uff0c\u8a72\u670d\u52d9\u7528\u65bc [\u8d85\u53c3\u6578\u8abf\u7bc0](https://cloud.google.com/vertex-ai/docs/training/hyperparameter-tuning-overview?hl=zh-cn) \u3002\n- [Vertex AI Prediction](https://cloud.google.com/vertex-ai/docs/predictions/overview?hl=zh-cn) \u662f\u4e00\u9805\u4ee3\u7ba1\u5f0f\u670d\u52d9\uff0c\u7528\u65bc\u4f7f\u7528\u7d93\u904e\u8a13\u7df4\u7684\u6a21\u578b\u904b\u884c [\u6279\u91cf\u9810\u6e2c](https://cloud.google.com/vertex-ai/docs/predictions/get-predictions?hl=zh-cn#get_batch_predictions) \uff0c\u4ee5\u53ca\u901a\u904e\u4f7f\u7528 REST API \u5c07\u6a21\u578b\u90e8\u7f72\u7232\u5fae\u670d\u52d9\u4f86\u904b\u884c [\u5728\u7dda\u9810\u6e2c](https://cloud.google.com/vertex-ai/docs/predictions/get-predictions?hl=zh-cn#get_online_predictions) \u3002\u8a72\u670d\u52d9\u9084\u8207 [Vertex Explainable AI](https://cloud.google.com/vertex-ai/docs/explainable-ai/overview?hl=zh-cn) \u548c [Vertex AI Model Monitoring](https://cloud.google.com/vertex-ai/docs/model-monitoring/overview?hl=zh-cn) \u96c6\u6210\uff0c\u4ee5\u77ad\u89e3\u60a8\u7684\u6a21\u578b\u4e26\u5728\u4ee5\u4e0b\u60c5\u6cc1\u4e0b\u6536\u5230\u63d0\u9192\uff1a\u5b58\u5728\u7279\u5fb5\u6216\u7279\u5fb5\u6b78\u56e0\u504f\u5dee\u548c\u504f\u79fb\u3002\n- \u901a\u904e [Vertex AI Model Registry](https://cloud.google.com/vertex-ai/docs/model-registry/introduction?hl=zh-cn) \uff0c\u60a8\u53ef\u4ee5\u7ba1\u7406\u6a5f\u5668\u5b78\u7fd2\u6a21\u578b\u7684\u751f\u547d\u9031\u671f\u3002\u60a8\u53ef\u4ee5\u5c0d\u5c0e\u5165\u7684\u6a21\u578b\u9032\u884c\u7248\u672c\u63a7\u5236\uff0c\u4e26\u67e5\u770b\u5176\u6027\u80fd\u6307\u6a19\u3002\u7136\u5f8c\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528\u6a21\u578b\u9032\u884c\u6279\u91cf\u9810\u6e2c\uff0c\u6216\u4f7f\u7528 Vertex AI Prediction \u90e8\u7f72\u60a8\u7684\u6a21\u578b\u4ee5\u9032\u884c\u5728\u7dda\u50b3\u9001\u3002## \u4f7f\u7528 Vertex AI Pipelines \u7de8\u6392\u6a5f\u5668\u5b78\u7fd2\u7cfb\u7d71\n\u672c\u6587\u6a94\u4ecb\u7d39\u77ad\u5982\u4f55\u8a2d\u8a08\u57fa\u65bc TFX \u7684\u6a5f\u5668\u5b78\u7fd2\u7cfb\u7d71\uff0c\u4ee5\u53ca\u5982\u4f55\u5728 Google Cloud \u4e0a\u5927\u898f\u6a21\u904b\u884c\u8a72\u7cfb\u7d71\u7684\u6bcf\u500b\u7d44\u4ef6\u3002\u4e0d\u904e\uff0c\u60a8\u9700\u8981\u4e00\u500b\u7de8\u6392\u5668\u624d\u80fd\u5c07\u8a72\u7cfb\u7d71\u7684\u5404\u500b\u7d44\u4ef6\u9023\u63a5\u5728\u4e00\u8d77\u3002\u7de8\u6392\u5668\u6309\u9806\u5e8f\u904b\u884c\u6d41\u6c34\u7dda\uff0c\u4e26\u6839\u64da\u5b9a\u7fa9\u7684\u689d\u4ef6\u81ea\u52d5\u5f9e\u4e00\u500b\u6b65\u9a5f\u8f49\u79fb\u5230\u53e6\u4e00\u500b\u6b65\u9a5f\u3002\u4f8b\u5982\uff0c\u5982\u679c\u8a55\u4f30\u6307\u6a19\u9054\u5230\u9810\u5b9a\u7fa9\u7684\u95be\u503c\uff0c\u5247\u5b9a\u7fa9\u7684\u689d\u4ef6\u53ef\u80fd\u662f\u5728\u6a21\u578b\u8a55\u4f30\u6b65\u9a5f\u5b8c\u6210\u5f8c\u57f7\u884c\u6a21\u578b\u63d0\u4f9b\u6b65\u9a5f\u3002\u6b65\u9a5f\u9084\u53ef\u4ee5\u4e26\u884c\u904b\u884c\u4ee5\u7bc0\u7701\u6642\u9593\uff0c\u4f8b\u5982\u9a57\u8b49\u90e8\u7f72\u57fa\u790e\u67b6\u69cb\u548c\u8a55\u4f30\u6a21\u578b\u3002\u7de8\u6392\u6a5f\u5668\u5b78\u7fd2\u6d41\u6c34\u7dda\u5728\u958b\u767c\u548c\u751f\u7522\u968e\u6bb5\u90fd\u975e\u5e38\u6709\u7528\uff1a\n- \u5728\u958b\u767c\u968e\u6bb5\uff0c\u7de8\u6392\u53ef\u5e6b\u52a9\u6578\u64da\u79d1\u5b78\u5bb6\u904b\u884c\u6a5f\u5668\u5b78\u7fd2\u5be6\u9a57\uff0c\u7121\u9700\u624b\u52d5\u57f7\u884c\u6bcf\u500b\u6b65\u9a5f\u3002\n- \u5728\u751f\u7522\u968e\u6bb5\uff0c\u7de8\u6392\u53ef\u5e6b\u52a9\u6839\u64da\u8a08\u5283\u6216\u7279\u5b9a\u89f8\u767c\u689d\u4ef6\u81ea\u52d5\u57f7\u884c\u6a5f\u5668\u5b78\u7fd2\u6d41\u6c34\u7dda\u3002\n### \u4f7f\u7528 Vertex AI Pipelines \u7684\u6a5f\u5668\u5b78\u7fd2\n[Vertex AI Pipelines](https://cloud.google.com/vertex-ai/docs/pipelines/introduction?hl=zh-cn) \u662f\u4e00\u9805 Google Cloud \u4ee3\u7ba1\u5f0f\u670d\u52d9\uff0c\u53ef\u8b93\u60a8\u7de8\u6392\u548c\u81ea\u52d5\u5316\u6a5f\u5668\u5b78\u7fd2\u6d41\u6c34\u7dda\uff0c\u5176\u4e2d\u6d41\u6c34\u7dda\u7684\u6bcf\u500b\u7d44\u4ef6\u90fd\u53ef\u4ee5\u5728 Google Cloud \u6216\u5176\u4ed6\u96f2\u5e73\u81fa\u4e0a\u904b\u884c\u5bb9\u5668\u5316\u3002 \u751f\u6210\u7684\u6d41\u6c34\u7dda\u53c3\u6578\u548c\u5de5\u4ef6\u6703\u81ea\u52d5\u5b58\u5132\u5728 [Vertex ML Metadata](https://cloud.google.com/vertex-ai/docs/ml-metadata/introduction?hl=zh-cn) \u4e2d\uff0c\u5f9e\u800c\u5141\u8a31\u6cbf\u8972\u548c\u57f7\u884c\u8ddf\u8e64\u3002Vertex AI Pipelines \u670d\u52d9\u5305\u542b\u4ee5\u4e0b\u5167\u5bb9\uff1a\n- \u7528\u65bc\u7ba1\u7406\u548c\u8ddf\u8e64\u5be6\u9a57\u3001\u4f5c\u696d\u548c\u904b\u884c\u7684\u754c\u9762\u3002\n- \u7528\u65bc\u5b89\u6392\u591a\u500b\u6b65\u9a5f\u7684\u6a5f\u5668\u5b78\u7fd2\u5de5\u4f5c\u6d41\u7684\u5f15\u64ce\u3002\n- \u7528\u65bc\u5b9a\u7fa9\u548c\u8655\u7406\u6d41\u6c34\u7dda\u548c\u7d44\u4ef6\u7684 [Python SDK](https://www.kubeflow.org/docs/components/pipelines/v1/sdk/) \u3002\n- \u8207 [Vertex ML Metadata] \u96c6\u6210\uff0c\u4ee5\u4fdd\u5b58\u6709\u95dc\u57f7\u884c\u3001\u6a21\u578b\u3001\u6578\u64da\u96c6\u548c\u5176\u4ed6\u5de5\u4ef6\u7684\u4fe1\u606f\u3002\n\u4ee5\u4e0b\u662f\u5728 Vertex AI Pipelines \u4e0a\u57f7\u884c\u7684\u6d41\u6c34\u7dda\uff1a\n- \u4e00\u7d44\u5bb9\u5668\u5316\u6a5f\u5668\u5b78\u7fd2\u4efb\u52d9\u6216\u7d44\u4ef6\u3002\u6d41\u6c34\u7dda\u7d44\u4ef6\u662f\u6253\u5305\u7232 [Docker \u6620\u50cf](https://docs.docker.com/engine/reference/commandline/image/) \u7684\u7368\u7acb\u4ee3\u78bc\u3002 \u7d44\u4ef6\u5728\u6d41\u6c34\u7dda\u4e2d\u57f7\u884c\u4e00\u500b\u6b65\u9a5f\u3002\u5b83\u6703\u63a5\u53d7\u8f38\u5165\u53c3\u6578\u4e26\u751f\u6210\u5de5\u4ef6\u3002\n- \u901a\u904e Python [\u7db2\u57df\u7279\u5b9a\u7684\u8a9e\u8a00 (DSL)](https://wikipedia.org/wiki/Domain-specific_language) \u5b9a\u7fa9\u7684\u6a5f\u5668\u5b78\u7fd2\u4efb\u52d9\u7684\u5e8f\u5217\u898f\u7bc4\u3002\u901a\u904e\u5c07\u4e0a\u6e38\u6b65\u9a5f\u7684\u8f38\u51fa\u9023\u63a5\u5230\u4e0b\u6e38\u6b65\u9a5f\u7684\u8f38\u5165\uff0c\u96b1\u5f0f\u5b9a\u7fa9\u5de5\u4f5c\u6d41\u7684\u62d3\u64b2\u3002\u6d41\u6c34\u7dda\u5b9a\u7fa9\u4e2d\u7684\u6b65\u9a5f\u8abf\u7528\u6d41\u6c34\u7dda\u4e2d\u7684\u7d44\u4ef6\u3002\u5728\u8907\u96dc\u7684\u6d41\u6c34\u7dda\u4e2d\uff0c\u7d44\u4ef6\u53ef\u4ee5\u5faa\u74b0\u57f7\u884c\u591a\u6b21\uff0c\u4e5f\u53ef\u4ee5\u6839\u64da\u689d\u4ef6\u57f7\u884c\u3002\n- \u4e00\u7d44\u6d41\u6c34\u7dda\u8f38\u5165\u53c3\u6578\uff0c\u53c3\u6578\u503c\u50b3\u905e\u7d66\u6d41\u6c34\u7dda\u7d44\u4ef6\uff0c\u5305\u62ec\u904e\u6ffe\u6578\u64da\u7684\u6a19\u6e96\u4ee5\u53ca\u6d41\u6c34\u7dda\u751f\u6210\u7684\u5de5\u4ef6\u7684\u5b58\u5132\u4f4d\u7f6e\u3002\n\u4e0b\u5716\u986f\u793a Vertex AI Pipelines \u7684\u793a\u4f8b\u5716\u3002\n**\u5716 4** \uff1aVertex AI Pipelines \u7684\u793a\u4f8b\u5716\u3002\n### Kubeflow Pipelines SDK\n\u85c9\u52a9 [Kubeflow Pipelines SDK](https://www.kubeflow.org/docs/components/pipelines/v1/sdk/sdk-overview/) \uff0c\u60a8\u53ef\u4ee5\u5275\u5efa\u7d44\u4ef6\u3001\u5b9a\u7fa9\u5176\u7de8\u6392\u4e26\u5c07\u5b83\u5011\u4f5c\u7232\u6d41\u6c34\u7dda\u904b\u884c\u3002\u5c0d\u65bc\u5c07\u5728\u6d41\u6c34\u7dda\u4e2d\u8abf\u7528\u7684\u7d44\u4ef6\uff0c\u60a8\u9700\u8981\u5275\u5efa\u4e00\u500b\u7d44\u4ef6\u64cd\u4f5c \u3002\u60a8\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u65b9\u6cd5\u5275\u5efa\u7d44\u4ef6\u64cd\u4f5c\uff1a\n- \u5be6\u73fe [\u8f15\u91cf\u7d1a Python \u7d44\u4ef6](https://www.kubeflow.org/docs/pipelines/sdk/lightweight-python-components/) \uff1a\u6b64\u7d44\u4ef6\u4e0d\u9700\u8981\u60a8\u91dd\u5c0d\u6bcf\u6b21\u4ee3\u78bc\u66f4\u6539\u69cb\u5efa\u65b0\u7684\u5bb9\u5668\u6620\u50cf\uff0c\u76ee\u7684\u662f\u5728\u7b46\u8a18\u672c\u74b0\u5883\u4e2d\u9032\u884c\u5feb\u901f\u8fed\u4ee3\u3002\u60a8\u53ef\u4ee5\u4f7f\u7528 [kfp.components.create_component_from_func](https://www.kubeflow.org/docs/components/pipelines/v1/sdk/python-function-components/#getting-started-with-python-function-based-components) \u51fd\u6578\u6216\u4f7f\u7528 [@component \u4fee\u98fe\u5668](https://www.kubeflow.org/docs/components/pipelines/v1/sdk-v2/python-function-components/#getting-started-with-python-function-based-components) \u5f9e Python \u51fd\u6578\u5275\u5efa\u8f15\u91cf\u7d1a\u7d44\u4ef6\u3002\n- \u5275\u5efa [\u53ef\u91cd\u8907\u4f7f\u7528\u7684\u7d44\u4ef6](https://www.kubeflow.org/docs/components/pipelines/v1/sdk/component-development/) \uff1a\u6b64\u529f\u80fd\u9700\u8981\u60a8\u7684\u7d44\u4ef6\u5305\u542b component.yaml \u6587\u4ef6\u4e2d\u7684 [\u7d44\u4ef6\u898f\u7bc4](https://www.kubeflow.org/docs/components/pipelines/v1/sdk-v2/component-development/#creating-a-component-specification) \u3002\u7d44\u4ef6\u898f\u7bc4\u6839\u64da\u53c3\u6578\u3001\u8981\u57f7\u884c\u7684 Docker \u5bb9\u5668\u6620\u50cf\u7db2\u5740\u548c\u8f38\u51fa\u4f86\u63cf\u8ff0 Kubeflow \u6d41\u6c34\u7dda\u7684\u7d44\u4ef6\u3002\u7d44\u4ef6\u64cd\u4f5c\u662f\u5728\u6d41\u6c34\u7dda\u7de8\u8b6f\u671f\u9593\u4f7f\u7528 kfp.components.load_component \u51fd\u6578\u5f9e components.yaml \u6587\u4ef6\u81ea\u52d5\u5275\u5efa\u7684\u3002\u7d44\u4ef6\u898f\u7bc4 YAML \u6587\u4ef6\u53ef\u4ee5\u5728\u7d44\u7e54\u5167\u5171\u4eab\uff0c\u4e26\u5728\u4e0d\u540c\u7684\u6d41\u6c34\u7dda\u7de8\u6392\u4e2d\u91cd\u8907\u4f7f\u7528\u3002\n- \u4f7f\u7528 [\u9810\u5b9a\u7fa9\u7684 Google Cloud \u7d44\u4ef6](https://cloud.google.com/vertex-ai/docs/pipelines/gcpc-list?hl=zh-cn) \uff1aGoogle Cloud Pipeline Components SDK \u63d0\u4f9b\u4e86\u9810\u5b9a\u7fa9\u7684\u7d44\u4ef6\uff0c\u9019\u4e9b\u7d44\u4ef6\u901a\u904e\u63d0\u4f9b\u5fc5\u9700\u7684\u53c3\u6578\u5728 Google Cloud \u4e0a\u57f7\u884c\u5404\u7a2e\u4ee3\u7ba1\u5f0f\u670d\u52d9\u3002\u9019\u4e9b\u7d44\u4ef6\u53ef\u5e6b\u52a9\u60a8\u4f7f\u7528 BigQuery\u3001Dataflow\u3001Dataproc \u548c Vertex AI \u7b49\u670d\u52d9\u57f7\u884c\u4efb\u52d9\u3002\u7232\u4fbf\u65bc\u4f7f\u7528\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528 [google_cloud_pipeline_components SDK](https://pypi.org/project/google-cloud-pipeline-components/) \u52a0\u8f09\u9019\u4e9b\u7d44\u4ef6\u3002\u5176\u4ed6 [\u9810\u5b9a\u7fa9\u7684\u7d44\u4ef6](https://github.com/kubeflow/pipelines/tree/master/components) \u53ef\u7528\u65bc\u5728\u5176\u4ed6\u5e73\u81fa\u548c\u670d\u52d9\u4e0a\u57f7\u884c\u4f5c\u696d\u3002\n\u60a8\u9084\u53ef\u4ee5\u4f7f\u7528 [TFX \u6d41\u6c34\u7dda DSL](https://www.tensorflow.org/tfx/guide?hl=zh-cn#core_concepts) \u548c [TFX \u7d44\u4ef6](https://www.tensorflow.org/tfx/guide?hl=zh-cn#anatomy_of_a_component) \u3002TFX \u7d44\u4ef6\u5c01\u88dd\u4e86\u5143\u6578\u64da\u529f\u80fd\u3002\u9a45\u52d5\u7a0b\u5e8f\u901a\u904e\u67e5\u8a62\u5143\u6578\u64da\u5b58\u5132\u7a7a\u9593\u7232\u57f7\u884c\u7a0b\u5e8f\u63d0\u4f9b\u5143\u6578\u64da\u3002\u767c\u4f48\u8005\u63a5\u53d7\u57f7\u884c\u7a0b\u5e8f\u7684\u7d50\u679c\u4e26\u5c07\u5176\u5b58\u5132\u5728\u5143\u6578\u64da\u4e2d\u3002\u60a8\u9084\u53ef\u4ee5\u5be6\u73fe\u8207\u5143\u6578\u64da\u5177\u6709\u76f8\u540c\u96c6\u6210\u7684 [\u81ea\u5b9a\u7fa9\u7d44\u4ef6](https://www.tensorflow.org/tfx/guide/custom_component?hl=zh-cn) \u3002\u60a8\u53ef\u4ee5\u4f7f\u7528 [tfx.orchestration.experimental.KubeflowV2DagRunner](https://www.tensorflow.org/tfx/tutorials/tfx/gcp/vertex_pipelines_simple?hl=zh-cn#run_the_pipeline_on_vertex_pipelines) \u5c07 TFX \u6d41\u6c34\u7dda\u7de8\u8b6f\u5230\u8207 Vertex AI Pipelines \u517c\u5bb9\u7684 YAML \u4e2d\u3002\u7136\u5f8c\uff0c\u60a8\u53ef\u4ee5\u5c07\u8a72\u6587\u4ef6\u63d0\u4ea4\u5230 Vertex AI Pipelines \u4ee5\u57f7\u884c\u3002\n\u4e0b\u5716\u5c55\u793a\u4e86\u5bb9\u5668\u5316\u4efb\u52d9\u5982\u4f55\u5728 Vertex AI Pipelines \u4e2d\u8abf\u7528 BigQuery \u4f5c\u696d\u3001Vertex AI\uff08\u5206\u4f48\u5f0f\uff09\u8a13\u7df4\u4f5c\u696d\u548c Dataflow \u4f5c\u696d\u7b49\u5176\u4ed6\u670d\u52d9\u3002\n**\u5716 5** . \u8abf\u7528 Google Cloud \u4ee3\u7ba1\u5f0f\u670d\u52d9\u7684 Vertex AI Pipelines\u3002\n\u85c9\u52a9 Vertex AI Pipelines\uff0c\u60a8\u53ef\u4ee5\u901a\u904e\u57f7\u884c\u6240\u9700\u7684 Google Cloud \u670d\u52d9\u4f86\u7de8\u6392\u548c\u81ea\u52d5\u5316\u751f\u7522\u6a5f\u5668\u5b78\u7fd2\u6d41\u6c34\u7dda\u3002\u5728\u5716 5 \u4e2d\uff0cVertex ML Metadata \u7528\u4f5c Vertex AI Pipelines \u7684\u6a5f\u5668\u5b78\u7fd2\u5143\u6578\u64da\u5b58\u5132\u5340\u3002\n\u6d41\u6c34\u7dda\u7d44\u4ef6\u4e0d\u9650\u65bc\u5728 Google Cloud \u4e0a\u57f7\u884c\u8207 TFX \u76f8\u95dc\u7684\u670d\u52d9\u3002\u9019\u4e9b\u7d44\u4ef6\u9084\u53ef\u4ee5\u57f7\u884c\u4efb\u4f55\u8207\u6578\u64da\u548c\u8a08\u7b97\u76f8\u95dc\u7684\u670d\u52d9\uff0c\u5305\u62ec\u9069\u7528\u65bc SparkML \u4f5c\u696d\u7684 [Dataproc](https://cloud.google.com/dataproc?hl=zh-cn) \u3001 [AutoML](https://cloud.google.com/automl?hl=zh-cn) \u548c\u5176\u4ed6\u8a08\u7b97\u5de5\u4f5c\u8ca0\u8f09\u3002\n\u5728 Vertex AI Pipelines \u4e2d\u5c07\u4efb\u52d9\u5bb9\u5668\u5316\u5177\u6709\u4ee5\u4e0b\u512a\u52e2\uff1a\n- \u5c07\u57f7\u884c\u74b0\u5883\u8207\u4ee3\u78bc\u904b\u884c\u6642\u5206\u96e2\u958b\u4f86\u3002\n- \u5728\u958b\u767c\u74b0\u5883\u548c\u751f\u7522\u74b0\u5883\u4e4b\u9593\u63d0\u4f9b\u4ee3\u78bc\u7684\u53ef\u518d\u73fe\u6027\uff0c\u56e0\u7232\u60a8\u5728\u751f\u7522\u74b0\u5883\u4e2d\u6e2c\u8a66\u7684\u5167\u5bb9\u662f\u76f8\u540c\u7684\u3002\n- \u9694\u96e2\u6d41\u6c34\u7dda\u4e2d\u7684\u6bcf\u500b\u7d44\u4ef6\uff1b\u6bcf\u500b\u7d44\u4ef6\u90fd\u53ef\u4ee5\u64c1\u6709\u81ea\u5df1\u7684\u904b\u884c\u6642\u7248\u672c\u3001\u4e0d\u540c\u7684\u8a9e\u8a00\u548c\u4e0d\u540c\u7684\u5eab\u3002\n- \u6709\u52a9\u65bc\u69cb\u6210\u8907\u96dc\u7684\u6d41\u6c34\u7dda\u3002\n- \u8207 Vertex ML Metadata \u96c6\u6210\uff0c\u4ee5\u5be6\u73fe\u6d41\u6c34\u7dda\u57f7\u884c\u548c\u5de5\u4ef6\u7684\u53ef\u8ffd\u6eaf\u6027\u548c\u53ef\u518d\u73fe\u6027\u3002\n\u5982\u9700\u5168\u9762\u77ad\u89e3 Vertex AI Pipelines\uff0c\u8acb\u53c3\u95b1\u53ef\u7528\u7684 [\u7b46\u8a18\u672c\u793a\u4f8b](https://cloud.google.com/vertex-ai/docs/pipelines/notebooks?hl=zh-cn) \u5217\u8868\u3002\n### \u89f8\u767c\u548c\u5b89\u6392 Vertex AI Pipelines\n\u5c07\u6d41\u6c34\u7dda\u90e8\u7f72\u5230\u751f\u7522\u74b0\u5883\u6642\uff0c\u60a8\u9700\u8981\u6839\u64da [\u6a5f\u5668\u5b78\u7fd2\u6d41\u6c34\u7dda\u81ea\u52d5\u5316](#ml-pipeline-automation) \u90e8\u5206\u4e2d\u4ecb\u7d39\u7684\u65b9\u6848\u81ea\u52d5\u57f7\u884c\u8a72\u64cd\u4f5c\u3002\n[Vertex AI SDK](https://cloud.google.com/vertex-ai/docs/start/client-libraries?hl=zh-cn) \u53ef\u8b93\u60a8\u4ee5\u7de8\u7a0b\u65b9\u5f0f\u64cd\u4f5c\u6d41\u6c34\u7dda\u3002 [google.cloud.aiplatform.PipelineJob \u985e](https://cloud.google.com/python/docs/reference/aiplatform/latest/google.cloud.aiplatform.PipelineJob?hl=zh-cn) \u5305\u62ec\u7528\u65bc\u5275\u5efa\u5be6\u9a57\u4ee5\u53ca\u90e8\u7f72\u548c\u904b\u884c\u6d41\u6c34\u7dda\u7684 API\u3002\u56e0\u6b64\uff0c\u901a\u904e\u4f7f\u7528 SDK\uff0c\u60a8\u53ef\u4ee5\u5f9e\u5176\u4ed6\u670d\u52d9\u8abf\u7528 Vertex AI Pipelines \u4ee5\u5be6\u73fe\u8abf\u5ea6\u5668\u6216\u57fa\u65bc\u4e8b\u4ef6\u7684\u89f8\u767c\u5668\u3002\n**\u5716 6** . \u6f14\u793a\u4f7f\u7528 Pub/Sub \u548c Cloud Functions \u7684\u591a\u500b Vertex AI Pipelines \u89f8\u767c\u5668\u7684\u6d41\u7a0b\u5716\n\u5728\u5716 6 \u4e2d\uff0c\u60a8\u53ef\u4ee5\u770b\u5230\u4e00\u500b\u5982\u4f55\u89f8\u767c Vertex AI Pipelines \u670d\u52d9\u4f86\u57f7\u884c\u6d41\u6c34\u7dda\u7684\u793a\u4f8b\u3002\u6d41\u6c34\u7dda\u901a\u904e Cloud Functions \u4e2d\u7684 Vertex AI SDK \u89f8\u767c\u3002Cloud Functions \u672c\u8eab\u662f Pub/Sub \u7684\u8a02\u95b1\u8005\uff0c\u5b83\u6703\u6839\u64da\u65b0\u6d88\u606f\u89f8\u767c\u3002\u4efb\u4f55\u60f3\u8981\u89f8\u767c\u6d41\u6c34\u7dda\u57f7\u884c\u7684\u670d\u52d9\u90fd\u53ef\u4ee5\u5728\u76f8\u61c9\u7684 Pub/Sub \u4e3b\u984c\u4e0a\u767c\u4f48\u3002\u5728\u4e0a\u9762\u7684\u793a\u4f8b\u4e2d\uff0c\u6211\u5011\u6709 3 \u7a2e\u767c\u4f48\u670d\u52d9\uff1a\n- [Cloud Scheduler](https://cloud.google.com/scheduler?hl=zh-cn) \u6309\u6642\u9593\u8868\u767c\u4f48\u6d88\u606f\u4e26\u56e0\u6b64\u800c\u89f8\u767c\u6d41\u6c34\u7dda\u3002\n- [Cloud Composer](https://cloud.google.com/composer/docs?hl=zh-cn) \u5728\u8f03\u5927\u7684\u5de5\u4f5c\u6d41\uff08\u4f8b\u5982\u5728 BigQuery \u4e2d\u6ce8\u5165\u65b0\u6578\u64da\u5f8c\u89f8\u767c\u8a13\u7df4\u6d41\u6c34\u7dda\u7684\u6578\u64da\u6ce8\u5165\u5de5\u4f5c\u6d41\uff09\u4e2d\u767c\u4f48\u6d88\u606f\u3002\n- [Cloud Logging](https://cloud.google.com/logging?hl=zh-cn) \u6703\u6839\u64da\u7b26\u5408\u67d0\u4e9b\u904e\u6ffe\u689d\u4ef6\u7684\u65e5\u8a8c\u767c\u4f48\u6d88\u606f\u3002\u60a8\u53ef\u4ee5\u8a2d\u7f6e\u904e\u6ffe\u689d\u4ef6\u4ee5\u6aa2\u6e2c\u65b0\u6578\u64da\u662f\u5426\u5230\u9054\uff0c\u751a\u81f3\u6aa2\u6e2c [Vertex AI Model Monitoring](https://cloud.google.com/vertex-ai/docs/model-monitoring/using-model-monitoring?hl=zh-cn#monitor-job) \u670d\u52d9\u751f\u6210\u7684\u504f\u5dee\u548c\u504f\u79fb\u63d0\u9192\u3002## \u7232 Google Cloud \u4e0a\u7684\u6a5f\u5668\u5b78\u7fd2\u8a2d\u7f6e CI/CD\n\u85c9\u52a9 Vertex AI Pipelines\uff0c\u60a8\u53ef\u4ee5\u7de8\u6392\u6d89\u53ca\u591a\u500b\u6b65\u9a5f\uff08\u5305\u62ec\u6578\u64da\u9810\u8655\u7406\u3001\u6a21\u578b\u8a13\u7df4\u548c\u8a55\u4f30\u4ee5\u53ca\u6a21\u578b\u90e8\u7f72\uff09\u7684\u6a5f\u5668\u5b78\u7fd2\u7cfb\u7d71\u3002\u5728\u6578\u64da\u79d1\u5b78\u63a2\u7d22\u968e\u6bb5\uff0cVertex AI Pipelines \u53ef\u5e6b\u52a9\u6574\u500b\u7cfb\u7d71\u5feb\u901f\u9032\u884c\u5be6\u9a57\u3002\u5728\u751f\u7522\u968e\u6bb5\uff0cVertex AI Pipelines \u53ef\u8b93\u60a8\u6839\u64da\u65b0\u6578\u64da\u81ea\u52d5\u57f7\u884c\u6d41\u6c34\u7dda\uff0c\u4ee5\u8a13\u7df4\u6216\u91cd\u65b0\u8a13\u7df4\u6a5f\u5668\u5b78\u7fd2\u6a21\u578b\u3002\n### CI/CD \u67b6\u69cb\n\u4e0b\u5716\u7c21\u8981\u4ecb\u7d39\u4e86\u4f7f\u7528 Vertex AI Pipelines \u7684\u6a5f\u5668\u5b78\u7fd2\u7684 CI/CD\u3002\n**\u5716 7** \uff1a\u4f7f\u7528 Vertex AI Pipelines \u7684 CI/CD \u7c21\u8981\u6982\u89bd\u3002\n\u8a72\u67b6\u69cb\u7684\u6838\u5fc3\u662f [Cloud Build](https://cloud.google.com/build?hl=zh-cn) \u3002Cloud Build \u53ef\u4ee5\u5f9e [Cloud Source Repositories](https://cloud.google.com/source-repositories?hl=zh-cn) \u3001 [GitHub](https://github.com/) \u6216 [Bitbucket](https://bitbucket.org/) \u5c0e\u5165\u6e90\u4ee3\u78bc\uff0c\u7136\u5f8c\u6839\u64da\u60a8\u7684\u898f\u7bc4\u57f7\u884c\u69cb\u5efa\uff0c\u4e26\u751f\u6210\u8af8\u5982 Docker \u5bb9\u5668\u6216 Python tar \u6587\u4ef6\u7b49\u5de5\u4ef6\u3002\nCloud Build \u6309\u7167 [\u69cb\u5efa\u914d\u7f6e\u6587\u4ef6](https://cloud.google.com/build/docs/build-config?hl=zh-cn) ( `cloudbuild.yaml` ) \u4e2d\u5b9a\u7fa9\u7684\u4e00\u7cfb\u5217\u69cb\u5efa\u6b65\u9a5f\u57f7\u884c\u69cb\u5efa\u3002\u6bcf\u500b\u69cb\u5efa\u6b65\u9a5f\u90fd\u5728 Docker \u5bb9\u5668\u4e2d\u904b\u884c\u3002\u60a8\u53ef\u4ee5\u4f7f\u7528 Cloud Build \u63d0\u4f9b\u7684 [\u53d7\u652f\u6301\u7684\u69cb\u5efa\u6b65\u9a5f](https://cloud.google.com/build/docs/cloud-builders?hl=zh-cn#supported_builder_images_provided_by) \uff0c\u4e5f\u53ef\u4ee5 [\u7de8\u5beb\u81ea\u5df1\u7684\u69cb\u5efa\u6b65\u9a5f](https://cloud.google.com/build/docs/configuring-builds/use-community-and-custom-builders?hl=zh-cn#creating_a_custom_builder) \u3002\n\u7232\u60a8\u7684\u6a5f\u5668\u5b78\u7fd2\u7cfb\u7d71\u57f7\u884c\u6240\u9700 CI/CD \u7684 Cloud Build \u904e\u7a0b\u53ef [\u624b\u52d5\u57f7\u884c](https://cloud.google.com/build/docs/running-builds/submit-build-via-cli-api?hl=zh-cn) \uff0c\u4e5f\u53ef\u901a\u904e [\u81ea\u52d5\u69cb\u5efa\u89f8\u767c\u5668](https://cloud.google.com/build/docs/automating-builds/create-manage-triggers?hl=zh-cn) \u57f7\u884c\u3002\u6bcf\u7576\u6709\u66f4\u6539\u63a8\u9001\u5230\u69cb\u5efa\u4f5c\u696d\u7684\u6e90\u4ee3\u78bc\u6642\uff0c\u89f8\u767c\u5668\u90fd\u6703\u57f7\u884c\u60a8\u914d\u7f6e\u7684\u69cb\u5efa\u6b65\u9a5f\u3002\u60a8\u53ef\u4ee5\u5c07\u69cb\u5efa\u89f8\u767c\u5668\u8a2d\u7f6e\u7232\u5728\u66f4\u6539\u6e90\u4ee3\u78bc\u5eab\u6642\u57f7\u884c\u69cb\u5efa\u4f8b\u7a0b\uff0c\u6216\u50c5\u5728\u66f4\u6539\u7b26\u5408\u7279\u5b9a\u6a19\u6e96\u6642\u57f7\u884c\u69cb\u5efa\u4f8b\u7a0b\u3002\n\u6b64\u5916\uff0c\u60a8\u9084\u53ef\u4ee5\u8a2d\u7f6e\u7232\u97ff\u61c9\u4e0d\u540c\u89f8\u767c\u5668\u800c\u57f7\u884c\u7684\u69cb\u5efa\u4f8b\u7a0b\uff08Cloud Build \u914d\u7f6e\u6587\u4ef6\uff09\u3002\u4f8b\u5982\uff0c\u60a8\u53ef\u4ee5\u8a2d\u7f6e\u7232\u5728\u63d0\u4ea4\u5230\u958b\u767c\u5206\u652f\u6216\u63d0\u4ea4\u5230\u4e3b\u5206\u652f\u6642\u89f8\u767c\u7684\u69cb\u5efa\u4f8b\u7a0b\u3002\n\u60a8\u53ef\u4ee5\u4f7f\u7528\u914d\u7f6e\u8b8a\u91cf\u7684 [\u66ff\u63db\u8b8a\u91cf](https://cloud.google.com/build/docs/build-config?hl=zh-cn#substitutions) \u5728\u69cb\u5efa\u6642\u5b9a\u7fa9\u74b0\u5883\u8b8a\u91cf\u3002\u9019\u4e9b\u66ff\u4ee3\u8b8a\u91cf\u662f\u5f9e\u89f8\u767c\u7684\u69cb\u5efa\u4e2d\u6355\u7372\u7684\u3002\u9019\u4e9b\u8b8a\u91cf\u5305\u62ec `$COMMIT_SHA` \u3001 `$REPO_NAME` \u3001 `$BRANCH_NAME` \u3001 `$TAG_NAME` \u548c `$REVISION_ID` \u3002\u5176\u4ed6\u975e\u57fa\u65bc\u89f8\u767c\u5668\u7684\u8b8a\u91cf\u662f `$PROJECT_ID` \u548c `$BUILD_ID` \u3002\u5c0d\u65bc\u90a3\u4e9b\u76f4\u5230\u69cb\u5efa\u6642\u624d\u77e5\u9053\u503c\u7684\u8b8a\u91cf\uff0c\u6216\u8005\u4f7f\u7528\u4e0d\u540c\u7684\u8b8a\u91cf\u503c\u91cd\u8907\u4f7f\u7528\u73fe\u6709\u69cb\u5efa\u8acb\u6c42\u7684\u60c5\u6cc1\uff0c\u66ff\u4ee3\u8b8a\u91cf\u5f88\u6709\u7528\u3002\n### CI/CD \u5de5\u4f5c\u6d41\u7528\u4f8b\n\u6e90\u4ee3\u78bc\u5eab\u901a\u5e38\u5305\u542b\u4ee5\u4e0b\u5404\u9805\uff1a\n- \u5b9a\u7fa9\u4e86\u6d41\u6c34\u7dda\u5de5\u4f5c\u6d41\u7684 Python \u6d41\u6c34\u7dda\u5de5\u4f5c\u6d41\u6e90\u4ee3\u78bc\n- Python \u6d41\u6c34\u7dda\u7d44\u4ef6\u6e90\u4ee3\u78bc\u4ee5\u53ca\u4e0d\u540c\u6d41\u6c34\u7dda\u7d44\u4ef6\uff08\u4f8b\u5982\u6578\u64da\u9a57\u8b49\u3001\u6578\u64da\u8f49\u63db\u3001\u6a21\u578b\u8a13\u7df4\u3001\u6a21\u578b\u8a55\u4f30\u548c\u6a21\u578b\u63a8\u51fa\uff09\u7684\u76f8\u61c9\u7d44\u4ef6\u898f\u7bc4\u6587\u4ef6\u3002\n- \u5275\u5efa Docker \u5bb9\u5668\u6620\u50cf\u6240\u9700\u7684 Dockerfile\uff0c\u6bcf\u500b\u6d41\u6c34\u7dda\u7d44\u4ef6\u4e00\u500b Dockerfile\u3002\n- Python \u55ae\u5143\u6e2c\u8a66\u548c\u96c6\u6210\u6e2c\u8a66\uff0c\u7528\u65bc\u6e2c\u8a66\u5728\u7d44\u4ef6\u548c\u6574\u9ad4\u6d41\u6c34\u7dda\u4e2d\u5be6\u73fe\u7684\u65b9\u6cd5\u3002\n- \u5176\u4ed6\u8173\u672c\uff0c\u5305\u62ec`cloudbuild.yaml`\u6587\u4ef6\u3001\u6e2c\u8a66\u89f8\u767c\u5668\u548c\u6d41\u6c34\u7dda\u90e8\u7f72\u3002\n- \u914d\u7f6e\u6587\u4ef6\uff08\u4f8b\u5982`settings.yaml`\u6587\u4ef6\uff09\uff0c\u5305\u62ec\u6d41\u6c34\u7dda\u8f38\u5165\u53c3\u6578\u7684\u914d\u7f6e\u3002\n- \u7b46\u8a18\u672c\uff0c\u7528\u65bc\u5c0d\u6a21\u578b\u9032\u884c\u63a2\u7d22\u6027\u6578\u64da\u5206\u6790\u3001\u6a21\u578b\u5206\u6790\u548c\u4ea4\u4e92\u5f0f\u5be6\u9a57\u3002\n\u5728\u4ee5\u4e0b\u793a\u4f8b\u4e2d\uff0c\u7576\u958b\u767c\u8005\u5c07\u6e90\u4ee3\u78bc\u5f9e\u6578\u64da\u79d1\u5b78\u74b0\u5883\u63a8\u9001\u5230\u958b\u767c\u5206\u652f\u6642\u6703\u89f8\u767c\u69cb\u5efa\u4f8b\u7a0b\u3002\n**\u5716 8** . \u7531 Cloud Build \u57f7\u884c\u7684\u69cb\u5efa\u6b65\u9a5f\u793a\u4f8b\u3002\n\u5982\u5716 7 \u6240\u793a\uff0cCloud Build \u6703\u57f7\u884c\u4ee5\u4e0b\u69cb\u5efa\u6b65\u9a5f\uff1a\n- \u5c07\u6e90\u4ee3\u78bc\u5eab\u8907\u88fd\u5230`/workspace`\u76ee\u9304\u4e0b\u7684 Cloud Build \u904b\u884c\u6642\u74b0\u5883\u3002\n- \u904b\u884c\u55ae\u5143\u6e2c\u8a66\u548c\u96c6\u6210\u6e2c\u8a66\u3002\n- \uff08\u53ef\u9078\uff09\u904b\u884c\u975c\u614b\u4ee3\u78bc\u5206\u6790\uff0c\u4f8b\u5982 [Pylint](http://pylint.pycqa.org/en/latest/) \u3002\n- \u5982\u679c\u6e2c\u8a66\u901a\u904e\uff0c\u5247\u7232\u6bcf\u500b\u6d41\u6c34\u7dda\u7d44\u4ef6\u69cb\u5efa\u4e00\u500b Docker \u5bb9\u5668\u6620\u50cf\u3002\u9019\u4e9b\u6620\u50cf\u4f7f\u7528`$COMMIT_SHA`\u53c3\u6578\u9032\u884c\u6a19\u8a18\u3002\n- \u5c07 Docker \u5bb9\u5668\u6620\u50cf\u4e0a\u50b3\u5230 Artifact Registry\u3002\n- \u4f7f\u7528\u5df2\u5275\u5efa\u4e14\u5df2\u6a19\u8a18\u7684 Docker \u5bb9\u5668\u6620\u50cf\u66f4\u65b0\u6bcf\u500b`component.yaml`\u6587\u4ef6\u4e2d\u7684\u6620\u50cf\u7db2\u5740\u3002\n- \u7de8\u8b6f\u6d41\u6c34\u7dda\u5de5\u4f5c\u6d41\uff0c\u4ee5\u751f\u6210`pipeline.json`\u6587\u4ef6\u3002\n- \u5c07`pipeline.json`\u6587\u4ef6\u4e0a\u50b3\u5230 Artifact Registry\u3002\n- \uff08\u53ef\u9078\uff09\u5728\u96c6\u6210\u6e2c\u8a66\u6216\u751f\u7522\u57f7\u884c\u904e\u7a0b\u4e2d\uff0c\u4f7f\u7528\u53c3\u6578\u503c\u904b\u884c\u6d41\u6c34\u7dda\u3002\u57f7\u884c\u7684\u6d41\u6c34\u7dda\u6703\u751f\u6210\u4e00\u500b\u65b0\u6a21\u578b\uff0c\u9084\u53ef\u80fd\u5c07\u8a72\u6a21\u578b\u90e8\u7f72\u7232 Vertex AI Prediction \u4e0a\u7684 API\u3002\n\u5982\u9700\u67e5\u770b\u4f7f\u7528 Cloud Build \u7684 CI/CD \u7684\u751f\u7522\u5c31\u7dd2\u7aef\u5230\u7aef MLOps \u793a\u4f8b\uff0c\u8acb\u53c3\u95b1\u6211\u5011\u5728 GitHub \u4e0a\u7684 [\u5b98\u65b9\u6307\u5357](https://github.com/GoogleCloudPlatform/vertex-pipelines-end-to-end-samples) \u3002\n### \u5176\u4ed6\u6ce8\u610f\u4e8b\u9805\n\u7576\u60a8\u5728 Google Cloud \u4e0a\u8a2d\u7f6e\u6a5f\u5668\u5b78\u7fd2 CI/CD \u67b6\u69cb\u6642\uff0c\u8acb\u8003\u616e\u4ee5\u4e0b\u5e7e\u9ede\uff1a\n- \u5c0d\u65bc\u6578\u64da\u79d1\u5b78\u74b0\u5883\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528\u672c\u5730\u6a5f\u5668\uff0c\u6216 [Vertex AI Workbench](https://cloud.google.com/vertex-ai/docs/workbench/introduction?hl=zh-cn) \u3002\n- \u60a8\u53ef\u4ee5\u5c07\u81ea\u52d5\u57f7\u884c\u7684 Cloud Build \u6d41\u6c34\u7dda\u914d\u7f6e\u7232\u50c5\u5728\u4fee\u6539\u6587\u6a94\u6587\u4ef6\u6216\u5be6\u9a57\u7b46\u8a18\u672c\u7b49\u60c5\u6cc1\u4e0b [\u8df3\u904e\u89f8\u767c\u5668](https://cloud.google.com/build/docs/running-builds/automate-builds?hl=zh-cn#skipping_a_build_trigger) \u3002\n- \u60a8\u53ef\u4ee5\u5c07\u7528\u65bc\u96c6\u6210\u548c\u8ff4\u6b78\u6e2c\u8a66\u7684\u6d41\u6c34\u7dda\u4f5c\u7232\u69cb\u5efa\u6e2c\u8a66\u57f7\u884c\u3002\u5728\u5c07\u6d41\u6c34\u7dda\u90e8\u7f72\u5230\u76ee\u6a19\u74b0\u5883\u4e4b\u524d\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528 [wait()](https://cloud.google.com/python/docs/reference/aiplatform/latest/google.cloud.aiplatform.PipelineJob?hl=zh-cn#google_cloud_aiplatform_PipelineJob_wait) \u65b9\u6cd5\u7b49\u5f85\u63d0\u4ea4\u7684\u6d41\u6c34\u7dda\u904b\u884c\u5b8c\u6210\u3002\n- \u9664\u4f7f\u7528 Cloud Build \u5916\uff0c\u60a8\u9084\u53ef\u4ee5\u4f7f\u7528 [Jenkins](https://jenkins.io/) \u7b49\u5176\u4ed6\u69cb\u5efa\u7cfb\u7d71\u3002 [Google Cloud Marketplace](https://console.cloud.google.com/marketplace/details/google/jenkins?hl=zh-cn) \u4e0a\u63d0\u4f9b\u4e86\u73fe\u6210\u7684 Jenkins \u90e8\u7f72\u3002\n- \u60a8\u53ef\u4ee5\u5c07\u6d41\u6c34\u7dda\u914d\u7f6e\u7232\u6839\u64da\u4e0d\u540c\u7684\u89f8\u767c\u689d\u4ef6\u81ea\u52d5\u90e8\u7f72\u5230\u4e0d\u540c\u7684\u74b0\u5883\uff08\u5305\u62ec\u958b\u767c\u3001\u6e2c\u8a66\u548c\u9810\u6f14\u74b0\u5883\uff09\u3002\u6b64\u5916\uff0c\u60a8\u9084\u53ef\u4ee5\u624b\u52d5\u90e8\u7f72\u5230\u7279\u5b9a\u74b0\u5883\uff0c\u4f8b\u5982\u9810\u751f\u7522\u6216\u751f\u7522\u74b0\u5883\uff08\u901a\u5e38\u5728\u7372\u5f97\u767c\u4f48\u6279\u51c6\u5f8c\uff09\u3002\u60a8\u53ef\u4ee5\u91dd\u5c0d\u4e0d\u540c\u7684\u89f8\u767c\u689d\u4ef6\u6216\u76ee\u6a19\u74b0\u5883\u8a2d\u7f6e\u591a\u500b\u69cb\u5efa\u4f8b\u7a0b\u3002\n- \u60a8\u53ef\u4ee5\u5c07 [Apache Airflow](https://airflow.apache.org/) \uff08\u4e00\u7a2e\u5e38\u7528\u7684\u7de8\u6392\u548c\u8abf\u5ea6\u6846\u67b6\uff09\u7528\u65bc\u901a\u7528\u5de5\u4f5c\u6d41\uff0c\u8a72\u5de5\u4f5c\u6d41\u53ef\u4ee5\u4f7f\u7528\u5168\u8a17\u7ba1\u5f0f [Cloud Composer](https://cloud.google.com/composer/docs?hl=zh-cn) \u670d\u52d9\u904b\u884c\u3002\u5982\u9700\u8a73\u7d30\u77ad\u89e3\u5982\u4f55\u4f7f\u7528 Cloud Composer \u548c Cloud Build \u7de8\u6392\u6578\u64da\u6d41\u6c34\u7dda\uff0c\u8acb\u53c3\u95b1 [\u7232\u6578\u64da\u8655\u7406\u5de5\u4f5c\u6d41\u8a2d\u7f6e CI/CD \u6d41\u6c34\u7dda](https://cloud.google.com/solutions/cicd-pipeline-for-data-processing?hl=zh-cn) \u3002\n- \u7576\u60a8\u5c07\u65b0\u7248\u6a21\u578b\u90e8\u7f72\u5230\u751f\u7522\u74b0\u5883\u4e2d\u6642\uff0c\u8acb\u5c07\u5176\u90e8\u7f72\u7232 Canary \u7248\u672c\u4ee5\u77ad\u89e3\u5b83\u7684\u6027\u80fd\uff08CPU\u3001\u5167\u5b58\u548c\u78c1\u76e4\u4f7f\u7528\u60c5\u6cc1\uff09\u3002\u5728\u914d\u7f6e\u65b0\u6a21\u578b\u4ee5\u8655\u7406\u6240\u6709\u5be6\u6642\u6d41\u91cf\u4e4b\u524d\uff0c\u60a8\u9084\u53ef\u4ee5\u57f7\u884c A/B \u6e2c\u8a66\u3002\u914d\u7f6e\u65b0\u6a21\u578b\u4ee5\u8655\u7406 10% \u5230 20% \u7684\u5be6\u6642\u6d41\u91cf\u3002\u5982\u679c\u65b0\u6a21\u578b\u7684\u6027\u80fd\u512a\u65bc\u7576\u524d\u6a21\u578b\uff0c\u60a8\u53ef\u4ee5\u5c07\u65b0\u6a21\u578b\u914d\u7f6e\u7232\u8655\u7406\u6240\u6709\u6d41\u91cf\u3002\u5426\u5247\uff0c\u670d\u52d9\u7cfb\u7d71\u6703\u56de\u6efe\u5230\u7576\u524d\u7684\u6a21\u578b\u3002## \u5f8c\u7e8c\u6b65\u9a5f\n- \u8a73\u7d30\u77ad\u89e3 [\u5982\u4f55\u901a\u904e Cloud Build \u5be6\u73fe GitOps \u5f0f\u6301\u7e8c\u4ea4\u4ed8](https://cloud.google.com/kubernetes-engine/docs/tutorials/gitops-cloud-build?hl=zh-cn) \u3002\n- \u8a73\u7d30\u77ad\u89e3\u5982\u4f55 [\u7232\u6578\u64da\u8655\u7406\u5de5\u4f5c\u6d41\u8a2d\u7f6e CI/CD \u6d41\u6c34\u7dda](https://cloud.google.com/solutions/cicd-pipeline-for-data-processing?hl=zh-cn) \u3002\n- \u63a2\u7d22\u6709\u95dc Google Cloud \u7684\u53c3\u8003\u67b6\u69cb\u3001\u5716\u8868\u548c\u6700\u4f73\u5be6\u8e10\u3002\u67e5\u770b\u6211\u5011\u7684 [Cloud Architecture Center](https://cloud.google.com/architecture?hl=zh-cn) \u3002", "guide": "Docs"}