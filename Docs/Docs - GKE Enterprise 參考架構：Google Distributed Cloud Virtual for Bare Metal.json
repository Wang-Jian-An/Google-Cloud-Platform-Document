{"title": "Docs - GKE Enterprise \u53c3\u8003\u67b6\u69cb\uff1aGoogle Distributed Cloud Virtual for Bare Metal", "url": "https://cloud.google.com/architecture/ara-anthos-on-bare-metal?hl=zh-cn", "abstract": "# Docs - GKE Enterprise \u53c3\u8003\u67b6\u69cb\uff1aGoogle Distributed Cloud Virtual for Bare Metal\nLast reviewed 2023-08-15 UTC\n\u672c\u6307\u5357\u4ecb\u7d39\u4e86\u7528\u65bc\u90e8\u7f72 [GDCV for Bare Metal](https://cloud.google.com/anthos/clusters/docs/bare-metal/latest/concepts/about-bare-metal?hl=zh-cn) \u7684\u53c3\u8003\u67b6\u69cb\u3002\u672c\u6307\u5357\u9069\u7528\u65bc\u60f3\u8981\u5728\u9ad8\u53ef\u7528\u6027\u7684\u5730\u7406\u4f4d\u7f6e\u5197\u9918\u914d\u7f6e\u4e2d\uff0c\u5728\u88f8\u91d1\u5c6c\u5e73\u81fa\u4e0a\u90e8\u7f72 GKE Enterprise \u7684\u5e73\u81fa\u7ba1\u7406\u54e1\u3002\u7232\u4e86\u66f4\u597d\u5730\u77ad\u89e3\u672c\u6307\u5357\uff0c\u60a8\u61c9\u8a72\u719f\u6089 [GKE Enterprise \u6280\u8853\u6982\u89bd](https://cloud.google.com/anthos/docs/concepts/overview?hl=zh-cn) \u4e2d\u6240\u8ff0\u7684\u57fa\u672c GKE Enterprise \u6982\u5ff5\u3002\u60a8\u9084\u61c9\u8a72\u5c0d Kubernetes \u6982\u5ff5\u548c Google Kubernetes Engine (GKE) \u6709\u57fa\u672c\u7684\u77ad\u89e3\uff0c\u5982 [\u77ad\u89e3 Kubernetes \u57fa\u790e\u77e5\u8b58](https://kubernetes.io/docs/tutorials/kubernetes-basics/) \u548c [GKE \u6587\u6a94](https://cloud.google.com/kubernetes-engine/docs/concepts/kubernetes-engine-overview?hl=zh-cn) \u4e2d\u6240\u8ff0\u3002\n\u672c\u6307\u5357\u6709\u4e00\u500b [GitHub \u6e90\u4ee3\u78bc\u5eab](https://github.com/GoogleCloudPlatform/anthos-bare-metal-ref-arch) \uff0c\u5176\u4e2d\u5305\u542b\u53ef\u7528\u65bc\u90e8\u7f72\u6240\u8ff0\u67b6\u69cb\u7684\u8173\u672c\u3002\u672c\u6307\u5357\u9084\u4ecb\u7d39\u4e86\u9644\u5e36\u7528\u65bc\u5275\u5efa\u9019\u4e9b\u7d44\u4ef6\u7684\u8173\u672c\u548c\u6a21\u584a\u7684\u67b6\u69cb\u7d44\u4ef6\u3002\u6211\u5011\u5efa\u8b70\u60a8\u4f7f\u7528\u9019\u4e9b\u6587\u4ef6\u4f5c\u7232\u6a21\u677f\uff0c\u4ee5\u5275\u5efa\u4f7f\u7528\u7d44\u7e54\u7684\u6700\u4f73\u5be6\u8e10\u548c\u653f\u7b56\u7684\u6a21\u584a\u3002\n", "content": "## GDCV for Bare Metal \u67b6\u69cb\u6a21\u578b\n\u300aGKE Enterprise \u67b6\u69cb\u57fa\u790e\u6307\u5357\u300b\u6309\u5c64\u4ecb\u7d39\u5e73\u81fa\u67b6\u69cb\u3002\u6bcf\u500b\u5c64\u7684\u8cc7\u6e90\u63d0\u4f9b\u4e86\u4e00\u7d44\u7279\u5b9a\u7684\u529f\u80fd\u3002\u9019\u4e9b\u8cc7\u6e90\u7531\u4e00\u500b\u6216\u591a\u500b\u89d2\u8272\u64c1\u6709\u548c\u7ba1\u7406\u3002\u5982\u4e0b\u5716\u6240\u793a\uff0c\u9069\u7528\u65bc\u88f8\u91d1\u5c6c\u7684 GKE Enterprise \u5e73\u81fa\u67b6\u69cb\u5305\u542b\u4ee5\u4e0b\u5404\u5c64\u548c\u8cc7\u6e90\uff1a- **\u57fa\u790e\u67b6\u69cb** \uff1a\u6b64\u5c64\u5305\u62ec\u4f7f\u7528\u672c\u5730\u7d50\u69cb\u8655\u7406\u7684\u5b58\u5132\u3001\u8a08\u7b97\u548c\u7db2\u7d61\u64cd\u4f5c\u3002\n- **\u6578\u64da\u7ba1\u7406** \uff1a\u5728\u672c\u6307\u5357\u4e2d\uff0c\u6578\u64da\u7ba1\u7406\u5c64\u9700\u8981\u4e00\u500b SQL \u6578\u64da\u5eab\uff0c\u8a72\u6578\u64da\u5eab\u5728\u90e8\u7f72\u7684 Kubernetes \u96c6\u7fa3\u5916\u90e8\u9032\u884c\u7ba1\u7406\u3002\n- **\u5bb9\u5668\u7ba1\u7406\u5c64** \uff1a\u6b64\u5c64\u4f7f\u7528 [GKE \u96c6\u7fa3](https://cloud.google.com/anthos/clusters/docs?hl=zh-cn) \u3002\n- **\u670d\u52d9\u7ba1\u7406\u5c64** \uff1a\u6b64\u5c64\u4f7f\u7528 [Anthos Service Mesh](https://cloud.google.com/service-mesh/docs?hl=zh-cn) \u3002\n- **\u653f\u7b56\u7ba1\u7406\u5c64\uff1a** \u6b64\u5c64\u4f7f\u7528 [Config Sync](https://cloud.google.com/anthos-config-management/docs/config-sync-overview?hl=zh-cn) \u548c [Policy Controller](https://cloud.google.com/anthos-config-management/docs/concepts/policy-controller?hl=zh-cn) \u3002\n- **\u61c9\u7528\u7ba1\u7406\u5c64** \uff1a\u6b64\u5c64\u4f7f\u7528 [Cloud Build](https://cloud.google.com/build/docs?hl=zh-cn) \u548c [Cloud Source Repositories](https://cloud.google.com/source-repositories/docs?hl=zh-cn) \u3002\n- **\u53ef\u89c0\u6e2c\u6027\u5c64** \uff1a\u6b64\u5c64\u4f7f\u7528 [Google Cloud Observability](https://cloud.google.com/products/operations?hl=zh-cn) \u548c [Anthos Service Mesh](https://cloud.google.com/service-mesh/docs?hl=zh-cn) \u4fe1\u606f\u4e2d\u5fc3\u3002\n\u91dd\u5c0d\u4e0d\u540c\u7684\u751f\u547d\u9031\u671f\u74b0\u5883\uff08\u4f8b\u5982\u958b\u767c\u74b0\u5883\u3001\u9810\u6f14\u74b0\u5883\u548c\u751f\u7522\u74b0\u5883\uff09\u5728\u5806\u68e7\u4e2d\u91cd\u8907\u4e0a\u8ff0\u6bcf\u500b\u5c64\u3002\n\u4ee5\u4e0b\u5404\u90e8\u5206\u50c5\u5305\u542b\u7279\u5b9a\u65bc GDCV for Bare Metal \u7684\u5176\u4ed6\u4fe1\u606f\u3002\u5b83\u5011\u6839\u64da\u300aGKE Enterprise \u67b6\u69cb\u57fa\u790e\u6307\u5357\u300b\u4e2d\u5404\u81ea\u7684\u90e8\u5206\u69cb\u5efa\u3002\u5efa\u8b70\u60a8\u5728\u95b1\u8b80\u672c\u6587\u6642\u67e5\u770b\u8a72\u6307\u5357\u3002\n### \u7db2\u7d61\n\u5982\u9700\u8a73\u7d30\u77ad\u89e3\u7db2\u7d61\u8981\u6c42\uff0c\u8acb\u53c3\u95b1 [\u7db2\u7d61\u8981\u6c42](https://cloud.google.com/anthos/clusters/docs/bare-metal/latest/concepts/network-reqs?hl=zh-cn) \u3002\nGDCV for Bare Metal \u8ca0\u8f09\u5747\u8861\u5668\u6709\u5169\u500b\u53ef\u7528\u9078\u9805\uff1a\u6346\u7d81\u5f0f\u548c\u624b\u52d5\u3002\n\u5728\u6346\u7d81\u6a21\u5f0f\u4e0b\uff0c\u7cfb\u7d71\u6703\u5728\u5275\u5efa\u96c6\u7fa3\u671f\u9593\u90e8\u7f72 L4 \u8ca0\u8f09\u5747\u8861\u8edf\u4ef6\u3002\u8ca0\u8f09\u5747\u8861\u5668\u9032\u7a0b\u53ef\u4ee5\u5728\u5de5\u4f5c\u5668\u7bc0\u9ede\u7684\u5c08\u7528\u6c60\u4e2d\u904b\u884c\uff0c\u4e5f\u53ef\u4ee5\u5728\u8207\u63a7\u5236\u5e73\u9762\u76f8\u540c\u7684\u7bc0\u9ede\u4e0a\u904b\u884c\u3002\u5982\u9700\u901a\u544a\u865b\u64ec IP \u5730\u5740 (VIP)\uff0c\u6b64\u8ca0\u8f09\u5747\u8861\u5668\u6709\u5169\u500b\u9078\u9805\uff1a\n- [\u5730\u5740\u89e3\u6790\u5354\u8b70 (ARP)](https://wikipedia.org/wiki/Address_Resolution_Protocol) \uff1a\u9700\u8981\u904b\u884c\u8ca0\u8f09\u5747\u8861\u5668\u7684\u7bc0\u9ede\u4e4b\u9593\u7684\u7b2c 2 \u5c64\u9023\u63a5\u3002\n- [\u908a\u754c\u7db2\u95dc\u5354\u8b70 (BGP)](https://en.wikipedia.org/wiki/Border_Gateway_Protocol) \uff1a\u4f7f\u7528\u5c0d\u7b49\u4e92\u9023\u5c07\u96c6\u7fa3\u7db2\u7d61\uff08\u4e00\u500b\u81ea\u6cbb\u7cfb\u7d71\uff09\u8207\u53e6\u4e00\u500b\u81ea\u6cbb\u7cfb\u7d71\uff08\u5982\u5916\u90e8\u7db2\u7d61\uff09\u4e92\u9023\u3002\n\u5728\u624b\u52d5\u6a21\u5f0f\u4e0b\uff0c\u60a8\u53ef\u4ee5\u7232\u63a7\u5236\u5e73\u9762\u548c\u6578\u64da\u5e73\u9762\u6d41\u91cf\u914d\u7f6e\u81ea\u5df1\u7684\u8ca0\u8f09\u5747\u8861\u89e3\u6c7a\u65b9\u6848\u3002\u6709\u8a31\u591a\u786c\u4ef6\u548c\u8edf\u4ef6\u9078\u9805\u53ef\u7528\u65bc\u5916\u90e8\u8ca0\u8f09\u5747\u8861\u5668\u3002\u60a8\u5fc5\u9808\u5148\u7232\u63a7\u5236\u5e73\u9762\u8a2d\u7f6e\u5916\u90e8\u8ca0\u8f09\u5747\u8861\u5668\uff0c\u7136\u5f8c\u624d\u80fd\u5275\u5efa Bare Metal \u96c6\u7fa3\u3002\u5916\u90e8\u63a7\u5236\u5e73\u9762\u8ca0\u8f09\u5747\u8861\u5668\u4e5f\u53ef\u7528\u65bc\u6578\u64da\u5e73\u9762\u6d41\u91cf\uff0c\u60a8\u4e5f\u53ef\u4ee5\u7232\u6578\u64da\u5e73\u9762\u8a2d\u7f6e\u55ae\u7368\u7684\u8ca0\u8f09\u5747\u8861\u5668\u3002\u5982\u9700\u78ba\u5b9a\u53ef\u7528\u6027\uff0c\u8ca0\u8f09\u5747\u8861\u5668\u5fc5\u9808\u80fd\u5920\u6839\u64da\u53ef\u914d\u7f6e\u7684\u5c31\u7dd2\u6027\u6aa2\u67e5\u5c07\u6d41\u91cf\u5206\u914d\u5230\u7bc0\u9ede\u6c60\u3002\n\u5982\u9700\u8a73\u7d30\u77ad\u89e3 GDCV for Bare Metal \u7684\u8ca0\u8f09\u5747\u8861\u5668\uff0c\u8acb\u53c3\u95b1 [\u8ca0\u8f09\u5747\u8861\u5668\u6982\u89bd](https://cloud.google.com/anthos/clusters/docs/bare-metal/latest/installing/load-balance?hl=zh-cn) \u3002\n### \u96c6\u7fa3\u67b6\u69cb\nGDCV for Bare Metal \u652f\u6301\u591a\u7a2e\u90e8\u7f72\u6a21\u578b\uff0c\u4ee5\u6eff\u8db3\u4e0d\u540c\u7684\u53ef\u7528\u6027\u3001\u9694\u96e2\u548c\u8cc7\u6e90\u914d\u984d\u9700\u6c42\u3002 [\u9078\u64c7\u90e8\u7f72\u6a21\u578b](https://cloud.google.com/anthos/clusters/docs/bare-metal/latest/installing/install-prep?hl=zh-cn) \u4e2d\u8a0e\u8ad6\u4e86\u9019\u4e9b\u90e8\u7f72\u6a21\u578b\u3002\n### \u8eab\u4efd\u7ba1\u7406\nGDCV for Bare Metal \u4f7f\u7528 GKE Identity Service \u8207\u8eab\u4efd\u63d0\u4f9b\u65b9\u96c6\u6210\u3002\u5b83\u652f\u6301 [OpenID Connect (OIDC)](https://en.wikipedia.org/wiki/OpenID) \u548c [\u8f15\u91cf\u7d1a\u76ee\u9304\u8a2a\u554f\u5354\u8b70 (LDAP)](https://en.wikipedia.org/wiki/Lightweight_Directory_Access_Protocol) \u3002\u5c0d\u65bc\u61c9\u7528\u548c\u670d\u52d9\uff0cAnthos Service Mesh \u53ef\u7528\u65bc\u5404\u7a2e\u8eab\u4efd\u89e3\u6c7a\u65b9\u6848\u3002\n\u5982\u9700\u8a73\u7d30\u77ad\u89e3\u8eab\u4efd\u7ba1\u7406\uff0c\u8acb\u53c3\u95b1 [\u5728 GDCV for Bare Metal \u4e2d\u4f7f\u7528 OIDC \u9032\u884c\u8eab\u4efd\u7ba1\u7406](https://cloud.google.com/anthos/clusters/docs/bare-metal/latest/installing/identity-manage?hl=zh-cn) \u548c [\u4f7f\u7528 OIDC \u9032\u884c\u8eab\u4efd\u9a57\u8b49](https://cloud.google.com/anthos/clusters/docs/bare-metal/latest/installing/connect-oidc?hl=zh-cn) \u6216 [\u4f7f\u7528 LDAP \u8a2d\u7f6e Anthos Identity Service](https://cloud.google.com/anthos/identity/setup/ldap?hl=zh-cn) \u3002\n### \u5b89\u5168\u548c\u653f\u7b56\u7ba1\u7406\n\u5c0d\u65bc GDCV for Bare Metal \u5b89\u5168\u548c\u653f\u7b56\u7ba1\u7406\uff0c\u6211\u5011\u5efa\u8b70\u60a8\u4f7f\u7528 Config Sync \u548c Policy Controller\u3002 [Policy Controller](https://cloud.google.com/anthos-config-management/docs/concepts/policy-controller?hl=zh-cn) \u8b93\u60a8\u53ef\u4ee5\u5728\u96c6\u7fa3\u4e2d\u5275\u5efa\u548c\u5f37\u5236\u57f7\u884c\u653f\u7b56\u3002 [Config Sync](https://cloud.google.com/anthos-config-management/docs/config-sync-overview?hl=zh-cn) \u6703\u8a55\u4f30\u8b8a\u66f4\u4e26\u5c07\u5176\u61c9\u7528\u65bc\u6240\u6709\u96c6\u7fa3\uff0c\u4ee5\u9054\u5230\u9069\u7576\u7684\u72c0\u614b\u3002\n### \u670d\u52d9\n\u7576\u60a8\u4f7f\u7528 GDCV for Bare Metal \u7684\u6346\u7d81\u6a21\u5f0f\u9032\u884c\u8ca0\u8f09\u5747\u8861\u6642\uff0c\u53ef\u4ee5\u5275\u5efa [LoadBalancer \u985e\u578b](https://kubernetes.io/docs/concepts/services-networking/service/#loadbalancer) \u7684\u670d\u52d9\u3002\u7576\u60a8\u5275\u5efa\u9019\u4e9b\u670d\u52d9\u6642\uff0cGDCV for Bare Metal \u6703\u5c07\u5df2\u914d\u7f6e\u7684\u8ca0\u8f09\u5747\u8861\u5668 IP \u5730\u5740\u6c60\u4e2d\u7684 IP \u5730\u5740\u5206\u914d\u7d66\u8a72\u670d\u52d9\u3002 `LoadBalancer` \u670d\u52d9\u985e\u578b\u7528\u65bc\u516c\u958b\u96c6\u7fa3\u5916\u90e8\u7684 [\u5357\u5317\u6d41\u91cf](https://wikipedia.org/wiki/North-south_traffic) \u7684 Kubernetes \u670d\u52d9\u3002\u4f7f\u7528 GDCV for Bare Metal \u6642\uff0c\u9ed8\u8a8d\u60c5\u6cc1\u4e0b\u9084\u6703\u5728\u96c6\u7fa3\u4e2d\u5275\u5efa [IngressGateway](https://kubernetes.io/docs/concepts/services-networking/ingress/) \u3002\u60a8\u4e0d\u80fd\u5728\u624b\u52d5\u6a21\u5f0f\u4e2d\u7232 GDCV for Bare Metal \u5275\u5efa `LoadBalancer` \u985e\u578b\u7684\u670d\u52d9\u3002\u4f46\u662f\uff0c\u60a8\u53ef\u4ee5\u5275\u5efa\u4e00\u500b\u4f7f\u7528 `IngressGateway` \u7684 [Ingress](https://kubernetes.io/docs/concepts/services-networking/ingress/) \u5c0d\u8c61\uff0c\u6216\u5275\u5efa [NodePort](https://kubernetes.io/docs/concepts/services-networking/service/#nodeport) \u985e\u578b\u7684\u670d\u52d9\uff0c\u4e26\u624b\u52d5\u914d\u7f6e\u5916\u90e8\u8ca0\u8f09\u5e73\u8861\u5668\uff0c\u4ee5\u5c07 Kubernetes \u670d\u52d9\u7528\u4f5c\u5f8c\u7aef\u3002\n\u5c0d\u65bc\u670d\u52d9\u7ba1\u7406\uff08\u4e5f\u7a31\u7232 [\u6771\u897f\u6d41\u91cf](https://wikipedia.org/wiki/East-west_traffic) \uff09\uff0c\u5efa\u8b70\u60a8\u4f7f\u7528 Anthos Service Mesh\u3002Anthos Service Mesh \u57fa\u65bc Istio open API\uff0c\u53ef\u63d0\u4f9b\u7d71\u4e00\u53ef\u89c0\u5bdf\u6027\u3001\u8eab\u4efd\u9a57\u8b49\u3001\u52a0\u5bc6\u3001\u7cbe\u7d30\u7684\u6d41\u91cf\u63a7\u5236\u80fd\u529b\uff0c\u4ee5\u53ca\u5176\u4ed6\u7279\u5fb5\u8207\u529f\u80fd\u3002\u5982\u9700\u8a73\u7d30\u77ad\u89e3\u670d\u52d9\u7ba1\u7406\uff0c\u8acb\u53c3\u95b1 [Anthos Service Mesh](https://cloud.google.com/anthos/service-mesh?hl=zh-cn) \u3002\n### \u6301\u4e45\u6027\u548c\u72c0\u614b\u7ba1\u7406\nGDCV for Bare Metal \u4e3b\u8981\u4f9d\u8cf4\u65bc\u73fe\u6709\u7684\u57fa\u790e\u67b6\u69cb\u4f86\u5be6\u73fe\u81e8\u6642\u5b58\u5132\u3001\u5377\u5b58\u5132\u548c PersistentVolume \u5b58\u5132\u3002\u81e8\u6642\u6578\u64da\u4f7f\u7528\u5b89\u6392\u4e86 Kubernetes Pod \u7684\u7bc0\u9ede\u4e0a\u7684\u672c\u5730\u78c1\u76e4\u8cc7\u6e90\u3002\u5c0d\u65bc\u6c38\u4e45\u6027\u6578\u64da\uff0cGKE Enterprise \u8207 [\u5bb9\u5668\u5b58\u5132\u63a5\u53e3 (CSI)](https://kubernetes.io/blog/2019/01/15/container-storage-interface-ga/) \u517c\u5bb9\uff0c\u8a72\u63a5\u53e3\u662f\u4e00\u7a2e\u958b\u653e\u5f0f\u6a19\u6e96 API\uff0c\u8a31\u591a\u5b58\u5132\u4f9b\u61c9\u5546\u90fd\u53ef\u652f\u6301\u3002\u5c0d\u65bc\u751f\u7522\u5b58\u5132\uff0c\u6211\u5011\u5efa\u8b70\u5b89\u88dd GKE Enterprise Ready \u5b58\u5132\u5408\u4f5c\u4f19\u4f34\u63d0\u4f9b\u7684 CSI \u9a45\u52d5\u7a0b\u5e8f\u3002\u5982\u9700\u67e5\u770b GKE Enterprise Ready \u5b58\u5132\u5408\u4f5c\u4f19\u4f34\u7684\u5b8c\u6574\u5217\u8868\uff0c\u8acb\u53c3\u95b1 [GKE Enterprise Ready \u5b58\u5132\u5408\u4f5c\u4f19\u4f34](https://cloud.google.com/anthos/docs/resources/partner-storage?hl=zh-cn) \u3002\n\u5982\u9700\u8a73\u7d30\u77ad\u89e3\u5b58\u5132\uff0c\u8acb\u53c3\u95b1 [\u914d\u7f6e\u5b58\u5132](https://cloud.google.com/anthos/clusters/docs/bare-metal/latest/installing/storage?hl=zh-cn) \u3002\n### \u6578\u64da\u5eab\nGDCV for Bare Metal \u53ea\u63d0\u4f9b GKE Enterprise \u5e73\u81fa\u7684\u6a19\u6e96\u529f\u80fd\uff0c\u4e0d\u63d0\u4f9b\u5176\u4ed6\u7279\u5b9a\u65bc\u6578\u64da\u5eab\u7684\u529f\u80fd\u3002\u5927\u591a\u6578\u6578\u64da\u5eab\u90fd\u5728\u5916\u90e8\u6578\u64da\u7ba1\u7406\u7cfb\u7d71\u4e0a\u904b\u884c\u3002GKE Enterprise \u5e73\u81fa\u4e0a\u7684\u5de5\u4f5c\u8ca0\u8f09\u4e5f\u53ef\u4ee5\u914d\u7f6e\u7232\u9023\u63a5\u5230\u4efb\u4f55\u53ef\u8a2a\u554f\u7684\u5916\u90e8\u6578\u64da\u5eab\u3002\n### \u53ef\u89c0\u6e2c\u6027\nGoogle Cloud Observability \u6309\u7167\u8207 GKE \u96c6\u7fa3\u7684\u6536\u96c6\u548c\u76e3\u63a7\u653f\u7b56\u985e\u4f3c\u7684\u65b9\u5f0f\uff0c\u6536\u96c6\u6709\u95dc GDCV for Bare Metal \u96c6\u7fa3\u7684\u65e5\u8a8c\u548c\u76e3\u63a7\u6307\u6a19\u3002\u9ed8\u8a8d\u60c5\u6cc1\u4e0b\uff0c\u96c6\u7fa3\u65e5\u8a8c\u548c\u7cfb\u7d71\u7d44\u4ef6\u6307\u6a19\u6703\u767c\u9001\u5230 [Cloud Monitoring](https://cloud.google.com/monitoring/docs?hl=zh-cn) \u3002\u5982\u9700\u8b93 Google Cloud Observability \u6536\u96c6\u61c9\u7528\u65e5\u8a8c\u548c\u6307\u6a19\uff0c\u8acb\u5728\u96c6\u7fa3\u914d\u7f6e YAML \u6587\u4ef6\u4e2d\u5553\u7528 `clusterOperations.enableApplication` \u9078\u9805\u3002\n\u5982\u9700\u8a73\u7d30\u77ad\u89e3\u53ef\u89c0\u6e2c\u6027\uff0c\u8acb\u53c3\u95b1 [\u914d\u7f6e\u65e5\u8a8c\u8a18\u9304\u548c\u76e3\u63a7](https://cloud.google.com/anthos/clusters/docs/bare-metal/latest/how-to/log-monitoring?hl=zh-cn) \u3002\n## \u61c9\u7528\u5834\u666f\uff1aCymbal Bank \u90e8\u7f72\n\u5728\u672c\u6307\u5357\u4e2d\uff0c\u6211\u5011\u4f7f\u7528 [Cymbal Bank/Bank of Anthos](https://github.com/GoogleCloudPlatform/bank-of-anthos) \u61c9\u7528\u4f86\u6a21\u64ec GDCV for Bare Metal \u7684\u898f\u5283\u3001\u5e73\u81fa\u90e8\u7f72\u548c\u61c9\u7528\u90e8\u7f72\u6d41\u7a0b\u3002\n\u672c\u6587\u6a94\u7684\u5176\u9918\u90e8\u5206\u7531\u4e09\u90e8\u5206\u7d44\u6210\u3002 [\u898f\u5283](#planning) \u90e8\u5206\u6982\u8ff0\u4e86\u6839\u64da\u67b6\u69cb\u6a21\u578b\u90e8\u5206\u8a0e\u8ad6\u7684\u9078\u9805\u505a\u51fa\u7684\u6c7a\u7b56\u3002 [\u5e73\u81fa\u90e8\u7f72](#platform_deployment) \u90e8\u5206\u8a0e\u8ad6\u4e86\u6e90\u4ee3\u78bc\u5eab\u63d0\u4f9b\u7684\u7528\u65bc\u90e8\u7f72 GKE Enterprise \u5e73\u81fa\u7684\u8173\u672c\u548c\u6a21\u584a\u3002\u6700\u5f8c\u5728 [\u61c9\u7528\u90e8\u7f72](#application_deployment) \u90e8\u5206\uff0c\u5728\u5e73\u81fa\u4e0a\u90e8\u7f72 Cymbal Bank \u61c9\u7528\u3002\n\u672c GDCV for Bare Metal \u6307\u5357\u53ef\u7528\u65bc\u90e8\u7f72\u5230\u81ea\u884c\u7ba1\u7406\u7684\u4e3b\u6a5f\u6216 [Compute Engine \u5be6\u4f8b](https://cloud.google.com/compute/docs/instances?hl=zh-cn) \u4e0a\u3002\u901a\u904e\u4f7f\u7528 Google Cloud \u8cc7\u6e90\uff0c\u4efb\u4f55\u4eba\u90fd\u53ef\u4ee5\u5b8c\u6210\u672c\u6307\u5357\uff0c\u7121\u9700\u8a2a\u554f\u7269\u7406\u786c\u4ef6\u3002\u50c5\u51fa\u65bc\u6f14\u793a\u76ee\u7684\u4f7f\u7528 Compute Engine \u5be6\u4f8b\u3002\u8acb\u4e0d\u8981\u5c07\u9019\u4e9b\u5be6\u4f8b\u7528\u65bc\u751f\u7522\u5de5\u4f5c\u8ca0\u8f09\u3002\u7576\u53ef\u4ee5\u8a2a\u554f\u7269\u7406\u786c\u4ef6\u4e26\u4e14\u4f7f\u7528\u76f8\u540c\u7684 IP \u5730\u5740\u7bc4\u570d\u6642\uff0c\u60a8\u53ef\u4ee5\u6309\u539f\u6a23\u4f7f\u7528\u63d0\u4f9b\u7684\u6e90\u4ee3\u78bc\u5eab\u3002\u5982\u679c\u74b0\u5883\u8207 [\u898f\u5283](#planning) \u90e8\u5206\u6982\u8ff0\u7684\u74b0\u5883\u4e0d\u540c\uff0c\u60a8\u53ef\u4ee5\u4fee\u6539\u8173\u672c\u548c\u6a21\u584a\u4ee5\u9069\u61c9\u9019\u4e9b\u5dee\u7570\u3002 [\u95dc\u806f\u6e90\u4ee3\u78bc\u5eab](https://github.com/GoogleCloudPlatform/anthos-bare-metal-ref-arch) \u5305\u542b\u7269\u7406\u786c\u4ef6\u548c Compute Engine \u5be6\u4f8b\u5834\u666f\u7684\u8aaa\u660e\u3002\n### \u898f\u5283\n\u4e0b\u9762\u7684\u90e8\u5206\u8a73\u7d30\u4ecb\u7d39\u4e86\u5728\u898f\u5283\u548c\u8a2d\u8a08\u5e73\u81fa\u4ee5\u5728 GDCV for Bare Metal \u4e0a\u90e8\u7f72 Bank of GKE Enterprise \u61c9\u7528\u6642\u4f5c\u51fa\u7684\u67b6\u69cb\u6c7a\u7b56\u3002\u9019\u4e9b\u90e8\u5206\u91cd\u9ede\u4ecb\u7d39\u751f\u7522\u74b0\u5883\u3002\u5982\u9700\u69cb\u5efa\u958b\u767c\u6216\u9810\u6f14\u7b49\u7d1a\u5225\u66f4\u4f4e\u7684\u74b0\u5883\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528\u985e\u4f3c\u7684\u6b65\u9a5f\u3002\n\u5728 Google Cloud \u4e2d\u7232 GDCV for Bare Metal \u5275\u5efa\u9805\u76ee\u6642\uff0c\u9700\u8981\u4f7f\u7528 [\u8266\u968a\u5bbf\u4e3b\u9805\u76ee](https://cloud.google.com/anthos/fleet-management/docs/fleet-concepts?hl=zh-cn#fleet-host-project) \u3002\u5efa\u8b70\u7232\u6bcf\u500b\u74b0\u5883\u6216\u696d\u52d9\u529f\u80fd\u4f7f\u7528\u5176\u4ed6\u9805\u76ee\u3002\u901a\u904e\u6b64\u9805\u76ee\u914d\u7f6e\uff0c\u60a8\u53ef\u4ee5\u6839\u64da\u8207\u8cc7\u6e90\u9032\u884c\u4ea4\u4e92\u7684\u89d2\u8272\u4f86\u6574\u7406\u8cc7\u6e90\u3002\n\u4ee5\u4e0b\u5404\u90e8\u5206\u4ecb\u7d39\u63a8\u85a6\u7684\u9805\u76ee\u985e\u578b\u4ee5\u53ca\u8207\u4e4b\u95dc\u806f\u7684\u89d2\u8272\u3002\nHub \u9805\u76ee `hub-prod` \u9069\u7528\u65bc\u7db2\u7d61\u7ba1\u7406\u54e1\u89d2\u8272\u3002\u5728\u6b64\u9805\u76ee\u4e2d\uff0c\u672c\u5730\u6578\u64da\u4e2d\u5fc3\u4f7f\u7528\u60a8\u9078\u64c7\u7684\u6df7\u5408\u9023\u63a5\u5f62\u5f0f\u9023\u63a5\u5230 Google Cloud\u3002\u5982\u9700\u8a73\u7d30\u77ad\u89e3\u6df7\u5408\u9023\u63a5\u9078\u9805\uff0c\u8acb\u53c3\u95b1 [Google Cloud \u9023\u63a5](https://cloud.google.com/hybrid-connectivity?hl=zh-cn)\n[\u8266\u968a](https://cloud.google.com/anthos/fleet-management/docs?hl=zh-cn) \u5bbf\u4e3b\u9805\u76ee `fleet-prod` \u9069\u7528\u65bc\u5e73\u81fa\u7ba1\u7406\u54e1\u89d2\u8272\u3002\u9019\u662f GDCV for Bare Metal \u8a3b\u518a\u7684\u9805\u76ee\u3002\u8207\u5e73\u81fa\u76f8\u95dc\u7684 Google Cloud \u8cc7\u6e90\u4e5f\u99d0\u7559\u5728\u6b64\u9805\u76ee\u4e2d\u3002\u9019\u4e9b\u8cc7\u6e90\u5305\u62ec Google Cloud Observability\u3001Cloud Source Repositories \u7b49\u7b49\u3002\u7d66\u5b9a\u7684 Google Cloud \u9805\u76ee\u53ea\u80fd\u95dc\u806f\u55ae\u500b\u8266\u968a\uff08\u6216\u6c92\u6709\u8266\u968a\uff09\u3002\u6b64\u9650\u5236\u53ef\u5f37\u5316\u4f7f\u7528 Google Cloud \u9805\u76ee\u5728\u672a\u53d7\u6cbb\u7406\u6216\u672a\u4e00\u8d77\u4f7f\u7528\u7684\u8cc7\u6e90\u4e4b\u9593\u5be6\u73fe\u66f4\u5f37\u7684\u9694\u96e2\u3002\n\u61c9\u7528\u6216\u5718\u968a\u9805\u76ee `app-banking-prod` \u9069\u7528\u65bc\u958b\u767c\u8005\u89d2\u8272\u3002\u61c9\u7528\u5c08\u7528\u6216\u5718\u968a\u5c08\u7528\u7684 Google Cloud \u8cc7\u6e90\u99d0\u7559\u5728\u6b64\u9805\u76ee\u4e2d\u3002\u8a72\u9805\u76ee\u5305\u542b\u9664 GKE \u96c6\u7fa3\u4ee5\u5916\u7684\u6240\u6709\u7d44\u4ef6\u3002\u53ef\u80fd\u5b58\u5728\u6b64\u9805\u76ee\u985e\u578b\u7684\u591a\u500b\u5be6\u4f8b\uff0c\u5177\u9ad4\u53d6\u6c7a\u65bc\u5718\u968a\u6216\u61c9\u7528\u7684\u6578\u91cf\u3002\u901a\u904e\u7232\u4e0d\u540c\u7684\u5718\u968a\u5275\u5efa\u55ae\u7368\u7684\u9805\u76ee\uff0c\u60a8\u53ef\u4ee5\u55ae\u7368\u7ba1\u7406\u6bcf\u500b\u5718\u968a\u7684 IAM\u3001\u7d50\u7b97\u548c\u914d\u984d\u3002\n\u6bcf\u500b GDCV for Bare Metal \u96c6\u7fa3\u90fd\u9700\u8981\u4ee5\u4e0b IP \u5730\u5740\u5b50\u7db2\uff1a\n- \u7bc0\u9ede IP \u5730\u5740\n- Kubernetes Pod IP \u5730\u5740\n- Kubernetes \u670d\u52d9/\u96c6\u7fa3 IP \u5730\u5740\n- \u8ca0\u8f09\u5e73\u8861\u5668 IP \u5730\u5740\uff08\u6346\u7d81\u6a21\u5f0f\uff09\n\u5982\u9700\u5c0d\u6bcf\u500b\u96c6\u7fa3\u4e2d\u7684 Kubernetes Pod \u548c\u670d\u52d9\u5b50\u7db2\u4f7f\u7528\u76f8\u540c\u7684\u4e0d\u53ef\u8def\u7531 IP \u5730\u5740\u7bc4\u570d\uff0c\u8acb\u9078\u64c7 [\u5b64\u5cf6\u6a21\u5f0f\u7db2\u7d61\u6a21\u578b](https://cloud.google.com/anthos/clusters/docs/bare-metal/latest/reference/flat-vs-island-network?hl=zh-cn#island_mode_network_model) \u3002\u5728\u6b64\u914d\u7f6e\u4e2d\uff0cPod \u53ef\u4ee5\u76f4\u63a5\u5728\u96c6\u7fa3\u5167\u76f8\u4e92\u901a\u4fe1\uff0c\u4f46\u7121\u6cd5\u76f4\u63a5\u5f9e\u96c6\u7fa3\u5916\u90e8\u9032\u884c\u8a2a\u554f\uff08\u4f7f\u7528 Pod IP \u5730\u5740\uff09\u3002\u9019\u7a2e\u914d\u7f6e\u6703\u5728\u672a\u9023\u63a5\u5230\u5916\u90e8\u7db2\u7d61\u7684\u7db2\u7d61\u5167\u5f62\u6210\u4e00\u500b\u5b64\u5cf6\u3002\u96c6\u7fa3\u5728\u8a72\u5b64\u5cf6\u5167\u7684\u5404\u96c6\u7fa3\u7bc0\u9ede\u4e4b\u9593\u5f62\u6210\u4e00\u500b\u5b8c\u6574\u7684\u7bc0\u9ede\u5230\u7bc0\u9ede\u7db2\u683c\uff0c\u5f9e\u800c\u8b93 Pod \u80fd\u5920\u76f4\u63a5\u8a2a\u554f\u8a72\u96c6\u7fa3\u4e2d\u7684\u5176\u4ed6 Pod\u3002\n**IP \u5730\u5740\u5206\u914d**\n| \u96c6\u7fa3      | \u7bc0\u9ede   | Pod   | \u670d\u52d9   | \u8ca0\u8f09\u5747\u8861\u5668    |\n|:-------------------------|:--------------|:---------------|:-------------|:-----------------------|\n| metal-admin-dc1-000-prod | 10.185.0.0/24 | 192.168.0.0/16 | 10.96.0.0/12 | \u4e0d\u9069\u7528     |\n| metal-user-dc1a-000-prod | 10.185.1.0/24 | 192.168.0.0/16 | 10.96.0.0/12 | 10.185.1.3-10.185.1.10 |\n| metal-user-dc1b-000-prod | 10.185.2.0/24 | 192.168.0.0/16 | 10.96.0.0/12 | 10.185.2.3-10.185.2.10 |\n| metal-admin-dc2-000-prod | 10.195.0.0/24 | 192.168.0.0/16 | 10.96.0.0/12 | \u4e0d\u9069\u7528     |\n| metal-user-dc2a-000-prod | 10.195.1.0/24 | 192.168.0.0/16 | 10.96.0.0/12 | 10.195.1.3-10.195.1.10 |\n| metal-user-dc2b-000-prod | 10.195.2.0/24 | 192.168.0.0/16 | 10.96.0.0/12 | 10.195.2.3-10.195.2.10 |\n\u5728\u5b64\u5cf6\u6a21\u5f0f\u4e0b\uff0c\u8acb\u52d9\u5fc5\u78ba\u4fdd\u7232 Kubernetes Pod \u548c\u670d\u52d9\u9078\u64c7\u7684 IP \u5730\u5740\u5b50\u7db2\u672a\u88ab\u4f7f\u7528\u6216\u8005\u53ef\u5f9e\u7bc0\u9ede\u7db2\u7d61\u9032\u884c\u8def\u7531\u3002\n\u5982\u9700\u7232 GDCV for Bare Metal \u63d0\u4f9b\u7121\u9700\u914d\u7f6e\u7684\u96c6\u6210\u5f0f\u8ca0\u8f09\u5747\u8861\u5668\uff0c\u8acb\u5728\u6bcf\u500b\u96c6\u7fa3\u4e2d\u4f7f\u7528\u6346\u7d81\u5f0f\u8ca0\u8f09\u5747\u8861\u5668\u6a21\u5f0f\u3002\u7576\u5de5\u4f5c\u8ca0\u8f09\u904b\u884c `LoadBalancer` \u670d\u52d9\u6642\uff0c\u7cfb\u7d71\u6703\u5f9e\u8ca0\u8f09\u5e73\u8861\u5668\u6c60\u4e2d\u5206\u914d\u4e00\u500b IP \u5730\u5740\u3002\n\u5982\u9700\u8a73\u7d30\u77ad\u89e3\u6346\u7d81\u5f0f\u8ca0\u8f09\u5e73\u8861\u5668\u7684\u8981\u6c42\u548c\u914d\u7f6e\uff0c\u8acb\u53c3\u95b1 [\u8ca0\u8f09\u5e73\u8861\u5668\u6982\u89bd](https://cloud.google.com/anthos/clusters/docs/bare-metal/latest/installing/load-balance?hl=zh-cn) \u548c [\u914d\u7f6e\u6346\u7d81\u5f0f\u8ca0\u8f09\u5e73\u8861](https://cloud.google.com/anthos/clusters/docs/bare-metal/latest/installing/bundled-lb?hl=zh-cn) \u3002\n\u5c0d\u65bc\u751f\u7522\u74b0\u5883\uff0c\u6211\u5011\u5efa\u8b70\u5c07 [\u7ba1\u7406\u54e1\u548c\u7528\u6236\u96c6\u7fa3\u90e8\u7f72\u6a21\u578b](https://cloud.google.com/anthos/clusters/docs/bare-metal/latest/installing/install-prep?hl=zh-cn#admin_user_model) \u8207\u6bcf\u500b\u5730\u7406\u4f4d\u7f6e\u7684\u4e00\u500b\u7ba1\u7406\u54e1\u96c6\u7fa3\u548c\u5169\u500b\u7528\u6236\u96c6\u7fa3\u7d50\u5408\u4f7f\u7528\uff0c\u4ee5\u5be6\u73fe GDCV for Bare Metal \u7684\u6700\u5927\u5197\u9918\u548c\u5bb9\u932f\u80fd\u529b\u3002\n\u6211\u5011\u5efa\u8b70\u6bcf\u500b\u751f\u7522\u74b0\u5883\u81f3\u5c11\u4f7f\u7528\u56db\u500b\u7528\u6236\u96c6\u7fa3\u3002\u4f7f\u7528\u5169\u500b\u5730\u7406\u4f4d\u7f6e\u5197\u9918\u7684\u4f4d\u7f6e\uff0c\u6bcf\u500b\u4f4d\u7f6e\u5305\u542b\u5169\u500b\u5bb9\u932f\u96c6\u7fa3\u3002\u6bcf\u500b\u5bb9\u932f\u96c6\u7fa3\u90fd\u6709\u5197\u9918\u786c\u4ef6\u548c\u5197\u9918\u7db2\u7d61\u9023\u63a5\u3002\u6e1b\u5c11\u96c6\u7fa3\u6578\u91cf\u6703\u964d\u4f4e\u67b6\u69cb\u7684\u5197\u9918\u6216\u5bb9\u932f\u80fd\u529b\u3002\n\u7232\u5e6b\u52a9\u78ba\u4fdd\u9ad8\u53ef\u7528\u6027\uff0c\u6bcf\u500b\u96c6\u7fa3\u7684\u63a7\u5236\u5c64\u9762\u4f7f\u7528 3 \u500b\u7bc0\u9ede\u3002\u6bcf\u500b\u7528\u6236\u96c6\u7fa3\u81f3\u5c11\u6709\u4e09\u500b\u5de5\u4f5c\u5668\u7bc0\u9ede\uff0c\u60a8\u53ef\u4ee5\u5728\u9019\u4e9b\u7bc0\u9ede\u4e4b\u9593\u5206\u4f48\u5de5\u4f5c\u8ca0\u8f09\uff0c\u4ee5\u964d\u4f4e\u7bc0\u9ede\u96e2\u7dda\u6642\u7684\u5f71\u97ff\u3002\u5de5\u4f5c\u5668\u7bc0\u9ede\u7684\u6578\u91cf\u548c\u5927\u5c0f\u5728\u5f88\u5927\u7a0b\u5ea6\u4e0a\u53d6\u6c7a\u65bc\u96c6\u7fa3\u4e2d\u904b\u884c\u7684\u5de5\u4f5c\u8ca0\u8f09\u7684\u985e\u578b\u548c\u6578\u91cf\u3002\u5982\u9700\u67e5\u770b\u6bcf\u500b\u7bc0\u9ede\u7684\u5efa\u8b70\u5927\u5c0f\uff0c\u8acb\u53c3\u95b1 [\u7232 GDCV for Bare Metal \u914d\u7f6e\u786c\u4ef6](https://cloud.google.com/anthos/clusters/docs/bare-metal/latest/installing/hardware?hl=zh-cn) \u3002\n\u4e0b\u8868\u4ecb\u7d39\u4e86\u6b64\u4f7f\u7528\u5834\u666f\u4e2d\u63a8\u85a6\u7684 CPU \u6838\u5fc3\u3001\u5167\u5b58\u548c\u672c\u5730\u78c1\u76e4\u5b58\u5132\u7a7a\u9593\u7684\u7bc0\u9ede\u5bb9\u91cf\u3002\n| \u7bc0\u9ede\u985e\u578b | CPU/vCPU | \u5167\u5b58 | \u5b58\u5132 |\n|:-----------|:-----------|:-------|:--------|\n| \u63a7\u5236\u5e73\u9762 | 8 \u6838  | 32 GiB | 256 GiB |\n| \u5de5\u4f5c\u5668  | 8 \u6838  | 64 GiB | 512 GiB |\n\u5982\u9700\u8a73\u7d30\u77ad\u89e3\u6a5f\u5668\u524d\u63d0\u689d\u4ef6\u548c\u5bb9\u91cf\u8abf\u6574\uff0c\u8acb\u53c3\u95b1 [\u96c6\u7fa3\u7bc0\u9ede\u6a5f\u5668\u524d\u63d0\u689d\u4ef6](https://cloud.google.com/anthos/clusters/docs/bare-metal/latest/installing/node-machine-prerequisites?hl=zh-cn) \u3002\n\u5c0d\u65bc\u8eab\u4efd\u7ba1\u7406\uff0c\u6211\u5011\u5efa\u8b70\u901a\u904e GKE Identity Service \u8207 OIDC \u96c6\u6210\u3002\u5728\u6e90\u4ee3\u78bc\u5eab\u4e2d\u63d0\u4f9b\u7684\u793a\u4f8b\u4e2d\uff0c\u672c\u5730\u8eab\u4efd\u9a57\u8b49\u7528\u65bc\u7c21\u5316\u8981\u6c42\u3002\u5982\u679c OIDC \u53ef\u7528\uff0c\u60a8\u53ef\u4ee5\u4fee\u6539\u793a\u4f8b\u4ee5\u4f7f\u7528\u5b83\u3002\u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1 [\u5728 GDCV for Bare Metal \u4e2d\u4f7f\u7528 OIDC \u9032\u884c\u8eab\u4efd\u7ba1\u7406](https://cloud.google.com/anthos/clusters/docs/bare-metal/latest/installing/identity-manage?hl=zh-cn) \u3002\n\u5728 Cymbal Bank \u61c9\u7528\u5834\u666f\u4e2d\uff0cConfig Sync \u548c Policy Controller \u7528\u65bc\u653f\u7b56\u7ba1\u7406\u3002\u7cfb\u7d71\u6703\u5275\u5efa Cloud Source Repositories \u4ee3\u78bc\u5eab\u4f86\u5b58\u5132 Config Sync \u4f7f\u7528\u7684\u914d\u7f6e\u6578\u64da\u3002\u7528\u65bc\u5b89\u88dd\u548c\u7ba1\u7406 Config Sync \u548c Policy Controller \u7684 `ConfigManagement` Operator \u9700\u8981\u5177\u6709\u5c0d\u914d\u7f6e\u6e90\u4ee3\u78bc\u5eab\u7684\u53ea\u8b80\u6b0a\u9650\u3002\u5982\u9700\u6388\u4e88\u8a72\u8a2a\u554f\u6b0a\u9650\uff0c\u8acb\u4f7f\u7528\u53ef\u63a5\u53d7\u7684\u8eab\u4efd\u9a57\u8b49\u5f62\u5f0f\u3002\u6b64\u793a\u4f8b\u4f7f\u7528 Google \u670d\u52d9\u8cec\u865f\u3002\n\u5c0d\u65bc\u6b64\u4f7f\u7528\u5834\u666f\u4e2d\u7684\u670d\u52d9\u7ba1\u7406\uff0cAnthos Service Mesh \u7528\u65bc\u63d0\u4f9b\u5206\u4f48\u5f0f\u670d\u52d9\u7684\u69cb\u5efa\u57fa\u790e\u3002\u9ed8\u8a8d\u60c5\u6cc1\u4e0b\uff0c\u7cfb\u7d71\u9084\u6703\u5728\u8655\u7406\u6a19\u6e96 Kubernetes `Ingress` \u5c0d\u8c61\u7684\u96c6\u7fa3\u4e2d\u5275\u5efa `IngressGateway` \u3002\n\u7531\u65bc\u6c38\u4e45\u6027\u5b58\u5132\u5f88\u5927\u7a0b\u5ea6\u4e0a\u53d6\u6c7a\u65bc\u73fe\u6709\u57fa\u790e\u67b6\u69cb\uff0c\u56e0\u6b64\u8a72\u7528\u4f8b\u4e0d\u8981\u6c42\u4f7f\u7528\u5b83\u3002\u4f46\u662f\u5728\u5176\u4ed6\u60c5\u6cc1\u4e0b\uff0c\u6211\u5011\u5efa\u8b70\u60a8\u4f7f\u7528 [GKE Enterprise Ready \u5b58\u5132\u5408\u4f5c\u4f19\u4f34](https://cloud.google.com/anthos/docs/resources/partner-storage?hl=zh-cn) \u7684\u5b58\u5132\u65b9\u6848\u3002\u5982\u679c\u6709 CSI \u5b58\u5132\u9078\u9805\uff0c\u5247\u53ef\u4ee5\u6309\u7167\u4f9b\u61c9\u5546\u63d0\u4f9b\u7684\u8aaa\u660e\u5728\u96c6\u7fa3\u4e0a\u5b89\u88dd\u8a72\u9078\u9805\u3002\u5c0d\u65bc\u6982\u5ff5\u9a57\u8b49\u548c\u9ad8\u7d1a\u4f7f\u7528\u5834\u666f\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528 [\u672c\u5730\u5377](https://cloud.google.com/anthos/clusters/docs/bare-metal/latest/installing/storage?hl=zh-cn#local_volumes) \u3002\u4f46\u5c0d\u65bc\u5927\u591a\u6578\u61c9\u7528\u5834\u666f\uff0c\u6211\u5011\u4e0d\u5efa\u8b70\u5728\u751f\u7522\u74b0\u5883\u4e2d\u4f7f\u7528\u672c\u5730\u5377\u3002\nGDCV for Bare Metal \u4e0a\u7684\u8a31\u591a\u6709\u72c0\u614b\u61c9\u7528\u5c07\u6578\u64da\u5eab\u7528\u4f5c\u5176\u6c38\u4e45\u6027\u5b58\u5132\u3002\u6709\u72c0\u614b\u6578\u64da\u5eab\u61c9\u7528\u9700\u8981\u8a2a\u554f\u6578\u64da\u5eab\u624d\u80fd\u5411\u5ba2\u6236\u7aef\u63d0\u4f9b\u5176\u696d\u52d9\u908f\u8f2f\u3002GDCV for Bare Metal \u4f7f\u7528\u7684 Datastore \u985e\u578b\u6c92\u6709\u4efb\u4f55\u9650\u5236\u3002\u56e0\u6b64\uff0c\u6578\u64da\u5b58\u5132\u6c7a\u7b56\u61c9\u7531\u958b\u767c\u8005\u6216\u95dc\u806f\u7684\u6578\u64da\u7ba1\u7406\u5718\u968a\u505a\u51fa\u3002\u7531\u65bc\u4e0d\u540c\u7684\u61c9\u7528\u53ef\u80fd\u9700\u8981\u4e0d\u540c\u7684\u6578\u64da\u5b58\u5132\u5340\uff0c\u56e0\u6b64\u9019\u4e9b\u6578\u64da\u5b58\u5132\u5340\u4e5f\u53ef\u4e0d\u53d7\u9650\u5236\u5730\u4f7f\u7528\u3002\u6578\u64da\u5eab\u53ef\u4ee5\u5728\u96c6\u7fa3\u5167\u3001\u672c\u5730\u751a\u81f3\u96f2\u7aef\u9032\u884c\u7ba1\u7406\u3002\nCymbal Bank \u61c9\u7528\u662f\u4e00\u6b3e\u53ef\u8a2a\u554f\u5169\u500b PostgreSQL \u6578\u64da\u5eab\u7684\u6709\u72c0\u614b\u61c9\u7528\u3002\u6578\u64da\u5eab\u8a2a\u554f\u662f\u901a\u904e\u74b0\u5883\u8b8a\u91cf\u914d\u7f6e\u7684\u3002\u5373\u4f7f\u5f9e\u96c6\u7fa3\u5916\u90e8\u7ba1\u7406\u6578\u64da\u5eab\uff0c\u4e5f\u9700\u8981\u80fd\u5920\u5f9e\u904b\u884c\u5de5\u4f5c\u8ca0\u8f09\u7684\u7bc0\u9ede\u8a2a\u554f PostgreSQL \u6578\u64da\u5eab\u3002\u5728\u6b64\u793a\u4f8b\u4e2d\uff0c\u61c9\u7528\u6703\u8a2a\u554f\u73fe\u6709\u7684\u5916\u90e8 PostgreSQL \u6578\u64da\u5eab\u3002\u7576\u61c9\u7528\u5728\u5e73\u81fa\u4e0a\u904b\u884c\u6642\uff0c\u6578\u64da\u5eab\u662f\u5728\u5916\u90e8\u7ba1\u7406\u7684\u3002\u56e0\u6b64\uff0c\u6578\u64da\u5eab\u4e0d\u662f GKE Enterprise \u5e73\u81fa\u7684\u4e00\u90e8\u5206\u3002\u5982\u679c PostgreSQL \u6578\u64da\u5eab\u53ef\u7528\uff0c\u8acb\u4f7f\u7528\u8a72\u6578\u64da\u5eab\u3002\u5426\u5247\uff0c\u8acb\u7232 Cymbal Bank \u61c9\u7528\u5275\u5efa\u548c\u4f7f\u7528 Cloud SQL \u6578\u64da\u5eab\u3002\nCymbal Bank \u61c9\u7528\u5834\u666f\u4e2d\u7684\u6bcf\u500b\u96c6\u7fa3\u90fd\u914d\u7f6e\u7232\u8b93 Google Cloud Observability \u6536\u96c6\u7cfb\u7d71\u7d44\u4ef6\u548c\u61c9\u7528\u7684\u65e5\u8a8c\u53ca\u6307\u6a19\u3002\u60a8\u53ef\u4ee5\u5728 [Monitoring \u4fe1\u606f\u4e2d\u5fc3](https://console.cloud.google.com/monitoring/dashboards?hl=zh-cn) \u9801\u9762\u4e0a\u67e5\u770b\u7531 Google Cloud Console \u5b89\u88dd\u7a0b\u5e8f\u5275\u5efa\u7684\u591a\u500b Cloud Monitoring \u4fe1\u606f\u4e2d\u5fc3\u3002\u5982\u9700\u8a73\u7d30\u77ad\u89e3\u53ef\u89c0\u6e2c\u6027\uff0c\u8acb\u53c3\u95b1 [\u914d\u7f6e\u65e5\u8a8c\u8a18\u9304\u548c\u76e3\u63a7](https://cloud.google.com/anthos/clusters/docs/bare-metal/latest/how-to/log-monitoring?hl=zh-cn) \u4ee5\u53ca [\u9069\u7528\u65bc GDCV for Bare Metal \u7684\u65e5\u8a8c\u8a18\u9304\u548c\u76e3\u63a7\u7684\u5de5\u4f5c\u539f\u7406](https://cloud.google.com/anthos/clusters/docs/bare-metal/latest/how-to/log-monitoring?hl=zh-cn#stackdriver_gkeop) \u3002\n### \u5e73\u81fa\u90e8\u7f72\n\u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1 GitHub \u6e90\u4ee3\u78bc\u5eab\u4e2d\u6587\u6a94\u7684 [\u90e8\u7f72\u5e73\u81fa](https://github.com/GoogleCloudPlatform/anthos-bare-metal-ref-arch#deploy-the-platform) \u90e8\u5206\u3002\n### \u61c9\u7528\u90e8\u7f72\n\u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1 GitHub \u6e90\u4ee3\u78bc\u5eab\u4e2d\u6587\u6a94\u7684 [\u90e8\u7f72\u61c9\u7528](https://github.com/GoogleCloudPlatform/anthos-bare-metal-ref-arch#deploy-the-application) \u90e8\u5206\u3002\n## \u5f8c\u7e8c\u6b65\u9a5f\n- \u8a73\u7d30\u77ad\u89e3 [Anthos Service Mesh](https://cloud.google.com/anthos/service-mesh?hl=zh-cn) \u3001 [Config Sync](https://cloud.google.com/anthos-config-management/docs/config-sync-overview?hl=zh-cn) \u548c [Policy Controller](https://cloud.google.com/anthos-config-management/docs/concepts/policy-controller?hl=zh-cn) \u3002\n- \u77ad\u89e3\u4e00\u4e9b\u5176\u4ed6\u7684 GKE Enterprise \u53c3\u8003\u67b6\u69cb\u3002\n- \u901a\u904e [GKE Enterprise \u793a\u4f8b\u90e8\u7f72](https://console.cloud.google.com/marketplace/details/click-to-deploy-images/anthos-sample-deployment?hl=zh-cn) \u5728 Google Cloud \u4e0a\u8a66\u7528 GKE Enterprise\u3002\n- \u63a2\u7d22\u6709\u95dc Google Cloud \u7684\u53c3\u8003\u67b6\u69cb\u3001\u5716\u8868\u548c\u6700\u4f73\u5be6\u8e10\u3002\u67e5\u770b\u6211\u5011\u7684 [Cloud Architecture Center](https://cloud.google.com/architecture?hl=zh-cn) \u3002", "guide": "Docs"}