{"title": "Generative AI on Vertex AI - \u5275\u5efa MedLM \u63d0\u793a", "url": "https://cloud.google.com/vertex-ai/generative-ai/docs/medlm/medlm-prompts?hl=zh-cn", "abstract": "# Generative AI on Vertex AI - \u5275\u5efa MedLM \u63d0\u793a\n\u53ef\u7528\u7684 MedLM \u6a21\u578b MedLM-medium \u548c MedLM-large \u662f\u91ab\u5b78\u554f\u7b54\u548c\u7e3d\u7d50\u7684\u57fa\u790e\u6a21\u578b\u3002\u60a8\u53ef\u4ee5\u4f7f\u7528 Vertex AI \u4e0a\u7684\u751f\u6210\u5f0f AI MedLM API \u8a2a\u554f\u6a21\u578b\u3002\u672c\u9801\u9762\u7c21\u8981\u4ecb\u7d39\u4e86\u53ef\u7528\u7684 MedLM \u6a21\u578b\u3001\u7528\u65bc\u8207\u6a21\u578b\u4e92\u52d5\u7684 API\uff0c\u4ee5\u53ca\u7528\u65bc\u81ea\u5b9a\u7fa9\u5176\u884c\u7232\u7684\u65b9\u6cd5\u3002\n", "content": "## \u6e96\u5099\u5de5\u4f5c\n- \u67e5\u770b [MedLM \u6a21\u578b\u6982\u89bd](https://cloud.google.com/vertex-ai/generative-ai/docs/medlm/overview?hl=zh-cn) \uff0c\u77ad\u89e3\u5ba2\u6236\u8cac\u4efb\u3001\u76e3\u7ba1\u4fe1\u606f\u548c [Responsible AI](https://cloud.google.com/vertex-ai/generative-ai/docs/learn/responsible-ai?hl=zh-cn) \u6700\u4f73\u5be6\u8e10\u7b49\u4fe1\u606f\u3002\n- \u67e5\u770b MedLM \u6a21\u578b\u5361\u7247\uff0c\u77ad\u89e3\u6a21\u578b\u8a73\u7d30\u4fe1\u606f\uff0c\u4f8b\u5982 MedLM \u7684\u9810\u671f\u7528\u9014\u3001\u6578\u64da\u6982\u89bd\u548c\u5b89\u5168\u4fe1\u606f\u3002\u9ede\u64ca\u4ee5\u4e0b\u93c8\u63a5\u53ef\u4e0b\u8f09 MedLM \u6a21\u578b\u5361\u7247\u7684 PDF \u7248\u672c\uff1a [\u4e0b\u8f09 MedLM \u6a21\u578b\u5361\u7247](https://cloud.google.com/static/vertex-ai/generative-ai/docs/medlm/MedLM-model-card.pdf?hl=zh-cn) ## \u63d0\u793a\u8a2d\u8a08\n\u5982\u9700\u8207 MedLM \u6a21\u578b\u4ea4\u4e92\uff0c\u60a8\u9700\u8981\u767c\u9001\u81ea\u7136\u8a9e\u8a00\u6307\u4ee4\uff08\u4e5f\u7a31\u7232\u63d0\u793a\uff09\uff0c\u544a\u77e5\u6a21\u578b\u60a8\u5e0c\u671b\u5b83\u751f\u6210\u4ec0\u9ebc\u3002\u4f46\u662f\uff0cLLM \u6709\u6642\u53ef\u80fd\u6703\u4ee5\u4e0d\u53ef\u9810\u6e2c\u7684\u65b9\u5f0f\u904b\u884c\u3002\u63d0\u793a\u8a2d\u8a08\u662f\u53cd\u8986\u8a66\u9a57\u7684\u8fed\u4ee3\u904e\u7a0b\uff0c\u9700\u8981\u4e00\u5b9a\u7684\u6642\u9593\u548c\u5be6\u8e10\u624d\u80fd\u719f\u7df4\u3002\u5982\u9700\u77ad\u89e3\u63d0\u793a\u8a2d\u8a08\u7684\u901a\u7528\u7b56\u7565\uff0c\u8acb\u53c3\u95b1 [\u63d0\u793a\u8a2d\u8a08\u7c21\u4ecb](https://cloud.google.com/vertex-ai/generative-ai/docs/learn/introduction-prompt-design?hl=zh-cn) \u3002\u5982\u9700\u77ad\u89e3\u7279\u5b9a\u65bc\u4efb\u52d9\u7684\u6587\u672c\u63d0\u793a\u8a2d\u8a08\u6307\u5c0e\uff0c\u8acb\u53c3\u95b1 [\u8a2d\u8a08\u6587\u672c\u63d0\u793a](https://cloud.google.com/vertex-ai/generative-ai/docs/text/text-prompts?hl=zh-cn) \u3002\n## \u4f7f\u7528\u5834\u666f\n- **\u5f59\u7e3d** \uff1a\u5275\u5efa\u5305\u542b\u539f\u59cb\u6587\u672c\u4e2d\u76f8\u95dc\u4fe1\u606f\u7684\u7c21\u77ed\u6587\u6a94\u7248\u672c\u3002\u4f8b\u5982\uff0c\u60a8\u53ef\u80fd\u5e0c\u671b\u5f59\u7e3d\u63cf\u8ff0\u9580\u8a3a\u5c31\u8a3a\u7684\u91ab\u7642\u8a18\u9304\uff0c\u4e26\u63d0\u53d6\u7279\u5b9a\u6578\u64da\u9ede\u7684\u76f8\u95dc\u4fe1\u606f\u3002\n- **\u554f\u7b54** \uff1a\u4ee5\u6587\u5b57\u7684\u5f62\u5f0f\u56de\u7b54\u554f\u984c\u3002\u4f8b\u5982\uff0c\u60a8\u53ef\u80fd\u5e0c\u671b\u6839\u64da\u60a3\u8005\u7684\u5065\u5eb7\u72c0\u6cc1\u548c\u98f2\u98df\u504f\u597d\u751f\u6210\u91ab\u7642\u76ee\u6a19\u5168\u9762\u7684\u91ab\u5b78\u71df\u990a\u8a08\u5283\u3002## \u652f\u6301\u7684\u6a21\u578b\n- `medlm-medium`\n- `medlm-large`## \u958b\u59cb\u4f7f\u7528\n\u4ee5\u4e0b\u793a\u4f8b\u5c55\u793a\u77ad\u5982\u4f55\u901a\u904e\u4ee5\u4e0b\u754c\u9762\u958b\u59cb\u4f7f\u7528 MedLM API\uff1a\n- Vertex AI \u4e0a\u7684\u751f\u6210\u5f0f AI REST API\n- Python \u7248 Vertex AI SDK\n- Vertex AI Studio\n**\u6ce8\u610f\uff1a** \u751f\u6210\u7684\u8f38\u51fa\u4e26\u4e0d\u7e3d\u662f\u5b8c\u5168\u53ef\u9760\u7684\u3002\u7531\u65bc LLM \u548c\u751f\u6210 AI \u7684\u6027\u8cea\uff0c\u8f38\u51fa\u53ef\u80fd\u5305\u542b\u4e0d\u6b63\u78ba\u6216\u6709\u504f\u898b\u7684\u4fe1\u606f\uff0c\u56e0\u6b64\u61c9\u9032\u884c\u5be9\u8988\u3002\u6240\u6709\u7d9c\u8ff0\u6216\u7b54\u6848\u90fd\u61c9\u88ab\u8996\u7232\u8349\u7a3f\uff0c\u800c\u975e\u6700\u7d42\u7d50\u679c\u3002\n\u5728\u4f7f\u7528\u4efb\u4f55\u8acb\u6c42\u6578\u64da\u4e4b\u524d\uff0c\u8acb\u5148\u9032\u884c\u4ee5\u4e0b\u66ff\u63db\uff1a- ``\uff1a\u60a8\u7684 [\u9805\u76ee ID](https://cloud.google.com/resource-manager/docs/creating-managing-projects?hl=zh-cn#identifiers) \u3002\n- ``\uff1aMedLM \u6a21\u578b\uff0c`medlm-medium`\u6216`medlm-large`\u3002\nHTTP \u65b9\u6cd5\u548c\u7db2\u5740\uff1a\n```\nPOST https://us-central1-aiplatform.googleapis.com/v1/projects/PROJECT_ID/locations/us-central1/publishers/google/models/MEDLM_MODEL:predict\n```\n\u8acb\u6c42 JSON \u6b63\u6587\uff1a\n```\n{\n \"instances\": [ {\n  \"content\": \"Question: What causes you to get ringworm?\"\n }\n ],\n \"parameters\": {\n \"temperature\": 0,\n \"maxOutputTokens\": 256,\n \"topK\": 40,\n \"topP\": 0.95\n }\n}\n```\n\u5982\u9700\u767c\u9001\u8acb\u6c42\uff0c\u8acb\u9078\u64c7\u4ee5\u4e0b\u65b9\u5f0f\u4e4b\u4e00\uff1a\n **\u6ce8\u610f** \uff1a\u4ee5\u4e0b\u547d\u4ee4\u5047\u5b9a\u60a8\u5df2\u4f7f\u7528\u60a8\u7684\u7528\u6236\u8cec\u865f\u901a\u904e\u904b\u884c [gcloud init](https://cloud.google.com/sdk/gcloud/reference/init?hl=zh-cn) \u6216 [gcloud auth login](https://cloud.google.com/sdk/gcloud/reference/auth/login?hl=zh-cn) \u767b\u9304`gcloud`CLI\uff0c\u6216\u8005\u4f7f\u7528\u4e86 [Cloud Shell](https://cloud.google.com/shell/docs?hl=zh-cn) \uff0c\u9019\u6703\u4f7f\u60a8\u81ea\u52d5\u767b\u9304`gcloud`CLI\u3002\u60a8\u53ef\u4ee5\u904b\u884c [gcloud auth list](https://cloud.google.com/sdk/gcloud/reference/auth/list?hl=zh-cn) \u4f86\u6aa2\u67e5\u7576\u524d\u6d3b\u8e8d\u7684\u8cec\u865f\u3002\n\u5c07\u8acb\u6c42\u6b63\u6587\u4fdd\u5b58\u5728\u540d\u7232 `request.json` \u7684\u6587\u4ef6\u4e2d\u3002\u5728\u7d42\u7aef\u4e2d\u904b\u884c\u4ee5\u4e0b\u547d\u4ee4\uff0c\u5728\u7576\u524d\u76ee\u9304\u4e2d\u5275\u5efa\u6216\u8986\u84cb\u6b64\u6587\u4ef6\uff1a\n```\ncat > request.json << 'EOF'\n{\n \"instances\": [ {\n  \"content\": \"Question: What causes you to get ringworm?\"\n }\n ],\n \"parameters\": {\n \"temperature\": 0,\n \"maxOutputTokens\": 256,\n \"topK\": 40,\n \"topP\": 0.95\n }\n}\nEOF\n```\n\u7136\u5f8c\uff0c\u57f7\u884c\u4ee5\u4e0b\u547d\u4ee4\u4ee5\u767c\u9001 REST \u8acb\u6c42\uff1a\n```\ncurl -X POST \\ -H \"Authorization: Bearer $(gcloud auth print-access-token)\" \\ -H \"Content-Type: application/json; charset=utf-8\" \\ -d @request.json \\ \"https://us-central1-aiplatform.googleapis.com/v1/projects/PROJECT_ID/locations/us-central1/publishers/google/models/MEDLM_MODEL:predict\"\n``` **\u6ce8\u610f** \uff1a\u4ee5\u4e0b\u547d\u4ee4\u5047\u5b9a\u60a8\u5df2\u4f7f\u7528\u60a8\u7684\u7528\u6236\u8cec\u865f\u901a\u904e\u904b\u884c [gcloud init](https://cloud.google.com/sdk/gcloud/reference/init?hl=zh-cn) \u6216 [gcloud auth login](https://cloud.google.com/sdk/gcloud/reference/auth/login?hl=zh-cn) \u767b\u9304`gcloud`CLI\uff0c\u6216\u8005\u4f7f\u7528\u4e86 [Cloud Shell](https://cloud.google.com/shell/docs?hl=zh-cn) \uff0c\u9019\u6703\u4f7f\u60a8\u81ea\u52d5\u767b\u9304`gcloud`CLI\u3002\u60a8\u53ef\u4ee5\u904b\u884c [gcloud auth list](https://cloud.google.com/sdk/gcloud/reference/auth/list?hl=zh-cn) \u4f86\u6aa2\u67e5\u7576\u524d\u6d3b\u8e8d\u7684\u8cec\u865f\u3002\n\u5c07\u8acb\u6c42\u6b63\u6587\u4fdd\u5b58\u5728\u540d\u7232 `request.json` \u7684\u6587\u4ef6\u4e2d\u3002\u5728\u7d42\u7aef\u4e2d\u904b\u884c\u4ee5\u4e0b\u547d\u4ee4\uff0c\u5728\u7576\u524d\u76ee\u9304\u4e2d\u5275\u5efa\u6216\u8986\u84cb\u6b64\u6587\u4ef6\uff1a\n```\n@'\n{\n \"instances\": [ {\n  \"content\": \"Question: What causes you to get ringworm?\"\n }\n ],\n \"parameters\": {\n \"temperature\": 0,\n \"maxOutputTokens\": 256,\n \"topK\": 40,\n \"topP\": 0.95\n }\n}\n'@ | Out-File -FilePath request.json -Encoding utf8\n```\n\u7136\u5f8c\uff0c\u57f7\u884c\u4ee5\u4e0b\u547d\u4ee4\u4ee5\u767c\u9001 REST \u8acb\u6c42\uff1a\n```\n$cred = gcloud auth print-access-token$headers = @{ \"Authorization\" = \"Bearer $cred\" }Invoke-WebRequest ` -Method POST ` -Headers $headers ` -ContentType: \"application/json; charset=utf-8\" ` -InFile request.json ` -Uri \"https://us-central1-aiplatform.googleapis.com/v1/projects/PROJECT_ID/locations/us-central1/publishers/google/models/MEDLM_MODEL:predict\" | Select-Object -Expand Content\n```\n\u5728 [Colaboratory](https://colab.research.google.com/?hl=zh-cn) \u4e2d\u904b\u884c\u4ee5\u4e0b Python \u4ee3\u78bc\u3002\n```\n!pip install google-cloud-aiplatform# The following restarts the runtime.import IPythonapp = IPython.Application.instance()# Note that this will result in a pop-up telling you that the session has# crashed for an unknown reason. This can be safely ignored and you can continue# with the following cells after getting this message.app.kernel.do_shutdown(True)\n```\n\u5728\u60a8\u7684 Colaboratory \u7b46\u8a18\u672c\u4e2d\u904b\u884c\u4ee5\u4e0b\u4ee3\u78bc\u3002\u6839\u64da\u6307\u793a\u8f38\u5165\u60a8\u7684 Google Cloud \u9805\u76ee ID\u3002\u5982\u9700\u67e5\u627e\u9805\u76ee ID\uff0c\u8acb\u53c3\u95b1 [\u67e5\u627e\u9805\u76ee ID](https://support.google.com/googleapi/answer/7014113?hl=zh-cn) \u3002\n```\nfrom google.colab import auth as google_authimport vertexaifrom vertexai.preview.language_models import TextGenerationModelgoogle_auth.authenticate_user()# TODO: Replace with project ID from Cloud Console# (https://support.google.com/googleapi/answer/7014113)PROJECT_ID = 'my-project'vertexai.init(project=PROJECT_ID)parameters = {\u00a0 \u00a0 \"candidate_count\": 1,\u00a0 \u00a0 \"max_output_tokens\": 256,\u00a0 \u00a0 \"temperature\": 0.0,\u00a0 \u00a0 \"top_k\": 40,\u00a0 \u00a0 \"top_p\": 0.80,}model_instance = TextGenerationModel.from_pretrained(\"medlm-medium\")response = model_instance.predict(\u00a0 \u00a0 \"Question: What causes you to get ringworm?\",\u00a0 \u00a0 **parameters)print(f\"Response from Model: {response.text}\")\n```\u4f7f\u7528 Vertex AI Studio \u4f86\u8a2d\u8a08\u3001\u6e2c\u8a66\u548c\u81ea\u5b9a\u7fa9\u767c\u9001\u5230 MedLM API \u7684\u63d0\u793a\u3002\u5728\u4f7f\u7528 Vertex AI Studio for MedLM \u4e4b\u524d\uff0c\u8acb\u67e5\u770b [\u8a66\u7528 Vertex AI Studio](https://cloud.google.com/vertex-ai/generative-ai/docs/start/quickstarts/quickstart?hl=zh-cn) \u77ad\u89e3\u524d\u63d0\u689d\u4ef6\u3002\n\u5982\u9700\u5728 Google Cloud \u63a7\u5236\u6aaf\u4e2d\u4f7f\u7528 Vertex AI Studio \u6e2c\u8a66 MedLM \u63d0\u793a\uff0c\u8acb\u57f7\u884c\u4ee5\u4e0b\u64cd\u4f5c\uff1a- \u5728 Google Cloud \u63a7\u5236\u6aaf\u7684\u201c\u751f\u6210\u5f0f AI\u201d\u90e8\u5206\uff0c\u9032\u5165 Vertex AI Studio \u9801\u9762\u3002 [\u9032\u5165 Vertex AI Studio](https://console.cloud.google.com/vertex-ai/generative/language?hl=zh-cn) \n- \u9ede\u64ca **\u958b\u59cb\u4f7f\u7528** \u3002\n- \u9ede\u64ca **\u5275\u5efa\u63d0\u793a** \u3002\n- \u5728 **\u6a21\u578b** \u83dc\u55ae\u4e2d\uff0c\u9078\u64c7`MedLM-Medium`\u6216`MedLM-Large`\u3002\n- \u5728 **\u63d0\u793a** \u5b57\u6bb5\u4e2d\uff0c\u8f38\u5165\u60a8\u7684\u63d0\u793a\u3002\n- \uff08\u53ef\u9078\uff09\u60a8\u53ef\u4ee5\u8abf\u6574 **\u6eab\u5ea6** \u548c **\u8a5e\u5143\u9650\u5236** (Token limit) \u503c\uff0c\u4ee5\u8a66\u9a57\u5b83\u5011\u5982\u4f55\u5f71\u97ff\u56de\u7b54\u3002\u6211\u5011\u5efa\u8b70\u4f7f\u7528\u9ed8\u8a8d\u503c\u3002\u5982\u679c\u60a8\u4e0d\u78ba\u5b9a\u8981\u4f7f\u7528\u54ea\u4e9b\u503c\uff0c\u8acb\u4f7f\u7528\u9ed8\u8a8d\u503c\u3002\n- \u9ede\u64ca **\u63d0\u4ea4** \u4ee5\u751f\u6210\u97ff\u61c9\u3002\n- \uff08\u53ef\u9078\uff09\u5982\u9700\u4fdd\u5b58\u63d0\u793a\uff0c\u8acb\u9ede\u64ca **\u4fdd\u5b58** \u3002\n- \uff08\u53ef\u9078\uff09\u5982\u9700\u67e5\u770b\u63d0\u793a\u7684 Python \u4ee3\u78bc\u6216`curl`\u547d\u4ee4\uff0c\u8acb\u9ede\u64ca **\u7372\u53d6\u4ee3\u78bc** \u3002\n## \u554f\u7b54\u63d0\u793a\n\u4ee5\u4e0b\u90e8\u5206\u5305\u542b\u554f\u7b54\u63d0\u793a\u793a\u4f8b\u3002\u6bcf\u500b\u793a\u4f8b\u63d0\u793a\u90fd\u5305\u542b\u5efa\u8b70\u7684\u6a21\u578b\u548c\u53c3\u6578\u503c\u3002\n### \u9577\u7bc7\u554f\u7b54\n\u4ee5\u4e0b\u793a\u4f8b\u5c55\u793a\u4e86 MedLM API \u5982\u4f55\u56de\u7b54\u4ee5\u554f\u8a62\u5f62\u5f0f\u7de8\u5beb\u7684\u9577\u91ab\u5b78\u554f\u984c\u3002\n**\u6ce8\u610f\uff1a** \u751f\u6210\u7684\u8f38\u51fa\u4e26\u4e0d\u7e3d\u662f\u5b8c\u5168\u53ef\u9760\u7684\u3002\u7531\u65bc LLM \u548c\u751f\u6210 AI \u7684\u6027\u8cea\uff0c\u8f38\u51fa\u53ef\u80fd\u5305\u542b\u4e0d\u6b63\u78ba\u6216\u6709\u504f\u898b\u7684\u4fe1\u606f\uff0c\u56e0\u6b64\u61c9\u9032\u884c\u5be9\u8988\u3002\u6240\u6709\u7d9c\u8ff0\u6216\u7b54\u6848\u90fd\u61c9\u88ab\u8996\u7232\u8349\u7a3f\uff0c\u800c\u975e\u6700\u7d42\u7d50\u679c\u3002\n\u5728\u4f7f\u7528\u4efb\u4f55\u8acb\u6c42\u6578\u64da\u4e4b\u524d\uff0c\u8acb\u5148\u9032\u884c\u4ee5\u4e0b\u66ff\u63db\uff1a- ``\uff1a\u60a8\u7684 [\u9805\u76ee ID](https://cloud.google.com/resource-manager/docs/creating-managing-projects?hl=zh-cn#identifiers) \u3002\n- ``\uff1aMedLM \u6a21\u578b\uff0c`medlm-medium`\u6216`medlm-large`\u3002\nHTTP \u65b9\u6cd5\u548c\u7db2\u5740\uff1a\n```\nPOST https://us-central1-aiplatform.googleapis.com/v1/projects/PROJECT_ID/locations/us-central1/publishers/google/models/MEDLM_MODEL:predict\n```\n\u8acb\u6c42 JSON \u6b63\u6587\uff1a\n```\n{\n \"instances\": [ {\n  \"content\": \"Question: What causes you to get ringworm?\"\n }\n ],\n \"parameters\": {\n \"temperature\": 0,\n \"maxOutputTokens\": 256,\n \"topK\": 40,\n \"topP\": 0.95\n }\n}\n```\n\u5982\u9700\u767c\u9001\u8acb\u6c42\uff0c\u8acb\u9078\u64c7\u4ee5\u4e0b\u65b9\u5f0f\u4e4b\u4e00\uff1a\n **\u6ce8\u610f** \uff1a\u4ee5\u4e0b\u547d\u4ee4\u5047\u5b9a\u60a8\u5df2\u4f7f\u7528\u60a8\u7684\u7528\u6236\u8cec\u865f\u901a\u904e\u904b\u884c [gcloud init](https://cloud.google.com/sdk/gcloud/reference/init?hl=zh-cn) \u6216 [gcloud auth login](https://cloud.google.com/sdk/gcloud/reference/auth/login?hl=zh-cn) \u767b\u9304`gcloud`CLI\uff0c\u6216\u8005\u4f7f\u7528\u4e86 [Cloud Shell](https://cloud.google.com/shell/docs?hl=zh-cn) \uff0c\u9019\u6703\u4f7f\u60a8\u81ea\u52d5\u767b\u9304`gcloud`CLI\u3002\u60a8\u53ef\u4ee5\u904b\u884c [gcloud auth list](https://cloud.google.com/sdk/gcloud/reference/auth/list?hl=zh-cn) \u4f86\u6aa2\u67e5\u7576\u524d\u6d3b\u8e8d\u7684\u8cec\u865f\u3002\n\u5c07\u8acb\u6c42\u6b63\u6587\u4fdd\u5b58\u5728\u540d\u7232 `request.json` \u7684\u6587\u4ef6\u4e2d\u3002\u5728\u7d42\u7aef\u4e2d\u904b\u884c\u4ee5\u4e0b\u547d\u4ee4\uff0c\u5728\u7576\u524d\u76ee\u9304\u4e2d\u5275\u5efa\u6216\u8986\u84cb\u6b64\u6587\u4ef6\uff1a\n```\ncat > request.json << 'EOF'\n{\n \"instances\": [ {\n  \"content\": \"Question: What causes you to get ringworm?\"\n }\n ],\n \"parameters\": {\n \"temperature\": 0,\n \"maxOutputTokens\": 256,\n \"topK\": 40,\n \"topP\": 0.95\n }\n}\nEOF\n```\n\u7136\u5f8c\uff0c\u57f7\u884c\u4ee5\u4e0b\u547d\u4ee4\u4ee5\u767c\u9001 REST \u8acb\u6c42\uff1a\n```\ncurl -X POST \\ -H \"Authorization: Bearer $(gcloud auth print-access-token)\" \\ -H \"Content-Type: application/json; charset=utf-8\" \\ -d @request.json \\ \"https://us-central1-aiplatform.googleapis.com/v1/projects/PROJECT_ID/locations/us-central1/publishers/google/models/MEDLM_MODEL:predict\"\n``` **\u6ce8\u610f** \uff1a\u4ee5\u4e0b\u547d\u4ee4\u5047\u5b9a\u60a8\u5df2\u4f7f\u7528\u60a8\u7684\u7528\u6236\u8cec\u865f\u901a\u904e\u904b\u884c [gcloud init](https://cloud.google.com/sdk/gcloud/reference/init?hl=zh-cn) \u6216 [gcloud auth login](https://cloud.google.com/sdk/gcloud/reference/auth/login?hl=zh-cn) \u767b\u9304`gcloud`CLI\uff0c\u6216\u8005\u4f7f\u7528\u4e86 [Cloud Shell](https://cloud.google.com/shell/docs?hl=zh-cn) \uff0c\u9019\u6703\u4f7f\u60a8\u81ea\u52d5\u767b\u9304`gcloud`CLI\u3002\u60a8\u53ef\u4ee5\u904b\u884c [gcloud auth list](https://cloud.google.com/sdk/gcloud/reference/auth/list?hl=zh-cn) \u4f86\u6aa2\u67e5\u7576\u524d\u6d3b\u8e8d\u7684\u8cec\u865f\u3002\n\u5c07\u8acb\u6c42\u6b63\u6587\u4fdd\u5b58\u5728\u540d\u7232 `request.json` \u7684\u6587\u4ef6\u4e2d\u3002\u5728\u7d42\u7aef\u4e2d\u904b\u884c\u4ee5\u4e0b\u547d\u4ee4\uff0c\u5728\u7576\u524d\u76ee\u9304\u4e2d\u5275\u5efa\u6216\u8986\u84cb\u6b64\u6587\u4ef6\uff1a\n```\n@'\n{\n \"instances\": [ {\n  \"content\": \"Question: What causes you to get ringworm?\"\n }\n ],\n \"parameters\": {\n \"temperature\": 0,\n \"maxOutputTokens\": 256,\n \"topK\": 40,\n \"topP\": 0.95\n }\n}\n'@ | Out-File -FilePath request.json -Encoding utf8\n```\n\u7136\u5f8c\uff0c\u57f7\u884c\u4ee5\u4e0b\u547d\u4ee4\u4ee5\u767c\u9001 REST \u8acb\u6c42\uff1a\n```\n$cred = gcloud auth print-access-token$headers = @{ \"Authorization\" = \"Bearer $cred\" }Invoke-WebRequest ` -Method POST ` -Headers $headers ` -ContentType: \"application/json; charset=utf-8\" ` -InFile request.json ` -Uri \"https://us-central1-aiplatform.googleapis.com/v1/projects/PROJECT_ID/locations/us-central1/publishers/google/models/MEDLM_MODEL:predict\" | Select-Object -Expand Content\n```\n**\u6ce8\u610f\uff1a** \u751f\u6210\u7684\u8f38\u51fa\u4e26\u4e0d\u7e3d\u662f\u5b8c\u5168\u53ef\u9760\u7684\u3002\u7531\u65bc LLM \u548c\u751f\u6210 AI \u7684\u6027\u8cea\uff0c\u8f38\u51fa\u53ef\u80fd\u5305\u542b\u4e0d\u6b63\u78ba\u6216\u6709\u504f\u898b\u7684\u4fe1\u606f\uff0c\u56e0\u6b64\u61c9\u9032\u884c\u5be9\u8988\u3002\u6240\u6709\u7d9c\u8ff0\u6216\u7b54\u6848\u90fd\u61c9\u88ab\u8996\u7232\u8349\u7a3f\uff0c\u800c\u975e\u6700\u7d42\u7d50\u679c\u3002### \u9078\u64c7\u984c\u554f\u7b54\n\u4ee5\u4e0b\u793a\u4f8b\u5c55\u793a\u4e86 MedLM API \u5982\u4f55\u56de\u7b54\u91ab\u5b78\u9078\u64c7\u984c\u3002\u63d0\u793a\u5982\u4e0b\uff1a\n```\nInstructions: This text contains multiple-choice questions about medical knowledge. Solve each question step-by-step, starting by summarizing the available information. Select a single option from the four choices provided as the final answer.\nQuestion 1: Which medication causes the maximum increase in prolactin level?\n(A) Risperidone\n(B) Clozapine\n(C) Olanzapine\n(D) Aripiprazole\nExplanation: To solve this question, let's refer to authoritative sources. Clozapine generally does not elevate prolactin levels. Atypicals like olanzapine and aripiprazole cause little to no elevation. Risperidone, on the other hand, is known to result in a sustained elevated prolactin level. Therefore, risperidone is likely to cause the maximum increase in prolactin level.\nAnswer: (A)\nQuestion 2: What is the recommended age for routine screening mammography?\n(A) 20 years\n(B) 30 years\n(C) 40 years\n(D) 50 years\nExplanation: The age of routine screening may vary depending on the country. In the United States, according to the American Cancer Society, it is recommended to start routine screening mammography at 40 years of age. In Europe, it is typically closer to 50 years. For a patient based in the US, the best answer is 40 years.\nAnswer: (C)\nQuestion 3: A 65-year-old male experiences severe back pain and paralysis in his left lower limb. Imaging studies show compression of nerve elements at the intervertebral foramen between vertebrae L5 and S1. Which structure is most likely causing this compression?\n(A) Anulus fibrosus\n(B) Nucleus pulposus\n(C) Posterior longitudinal ligament\n(D) Anterior longitudinal ligament\nExplanation: This man's symptoms and imaging findings are consistent with a herniated intervertebral disk. The soft, gelatinous \"nucleus pulposus\" is forced out through a weakened part of the disk, resulting in back pain and nerve root irritation. In this case, the impingement is resulting in paralysis, which should be considered a medical emergency. Overall, the structure that is causing the compression and symptoms is the nucleus pulposus.\nAnswer: (B)\nQuestion 4: Which cells in the lungs are also known as APUD cells?\n(A) Dendritic cells\n(B) Type I pneumocytes\n(C) Type II pneumocytes\n(D) Neuroendocrine cells\nExplanation: Neuroendocrine cells, also known as Kultschitsky-type cells, Feyrter cells, and APUD cells, are found in the basal layer of the surface epithelium and in the bronchial glands.\nAnswer: (D)\nQuestion 5: Which microorganism indicates remote contamination of water?\n(A) Streptococci\n(B) Staphylococci\n(C) Clostridium perfringens\n(D) Vibrio\nExplanation: The presence of Clostridium perfringens in water indicates remote contamination because it is a spore-forming bacterium that can survive in the environment for extended periods of time.\nAnswer: (C)\n```\n**\u6ce8\u610f\uff1a** \u751f\u6210\u7684\u8f38\u51fa\u4e26\u4e0d\u7e3d\u662f\u5b8c\u5168\u53ef\u9760\u7684\u3002\u7531\u65bc LLM \u548c\u751f\u6210 AI \u7684\u6027\u8cea\uff0c\u8f38\u51fa\u53ef\u80fd\u5305\u542b\u4e0d\u6b63\u78ba\u6216\u6709\u504f\u898b\u7684\u4fe1\u606f\uff0c\u56e0\u6b64\u61c9\u9032\u884c\u5be9\u8988\u3002\u6240\u6709\u7d9c\u8ff0\u6216\u7b54\u6848\u90fd\u61c9\u88ab\u8996\u7232\u8349\u7a3f\uff0c\u800c\u975e\u6700\u7d42\u7d50\u679c\u3002\n\u5728\u4f7f\u7528\u4efb\u4f55\u8acb\u6c42\u6578\u64da\u4e4b\u524d\uff0c\u8acb\u5148\u9032\u884c\u4ee5\u4e0b\u66ff\u63db\uff1a- ``\uff1a\u60a8\u7684 [\u9805\u76ee ID](https://cloud.google.com/resource-manager/docs/creating-managing-projects?hl=zh-cn#identifiers) \u3002\n- ``\uff1aMedLM \u6a21\u578b\uff0c`medlm-medium`\u6216`medlm-large`\u3002\nHTTP \u65b9\u6cd5\u548c\u7db2\u5740\uff1a\n```\nPOST https://us-central1-aiplatform.googleapis.com/v1/projects/PROJECT_ID/locations/us-central1/publishers/google/models/MEDLM_MODEL:predict\n```\n\u8acb\u6c42 JSON \u6b63\u6587\uff1a\n```\n{\n \"instances\": [ {\n  \"content\": \"Instructions: The following are multiple choice questions about medical knowledge. Solve them in a step-by-step fashion, starting by summarizing the available information. Output a single option from the four options as the final answer. \\n \\nQuestion: Maximum increase in prolactin level is caused by: \\n(A) Risperidone (B) Clozapine (C) Olanzapine (D) Aripiprazole \\nExplanation: Let's solve this step-by-step, referring to authoritative sources as needed. Clozapine generally does not raise prolactin levels. Atypicals such as olanzapine and aripiprazole cause small if no elevation. Risperidone is known to result in a sustained elevated prolactin level. Therefore risperidone is likely to cause the maximum increase in prolactin level. \\nAnswer: (A) \\n \\nQuestion: What is the age of routine screening mammography? \\n(A) 20 years (B) 30 years (C) 40 years (D) 50 years \\nExplanation: Let's solve this step-by-step, referring to authoritative sources as needed. The age of routine screening depends on the country you are interested in and varies widely. For the US, it is 40 years of age according to the American Cancer Society. In Europe, it is typically closer to 50 years. For a patient based in the US, the best answer is 40 years. \\nAnswer: (C) \\n \\nQuestion: A 65-year-old male complains of severe back pain and inability to move his left lower limb. Radiographic studies demonstrate the compression of nerve elements at the intervertebral foramen between vertebrae L5 and S1. Which structure is most likely responsible for this space-occupying lesion? \\n(A) Anulus fibrosus (B) Nucleus pulposus (C) Posterior longitudinal ligament (D) Anterior longitudinal ligament \\nExplanation: Let's solve this step-by-step, referring to authoritative sources as needed. This man describes a herniated invertebral disk through a tear in the surrounding annulus fibrosus. The soft, gelatinous \\\"nucleus pulposus\\\" is forced out through a weakened part of the disk, resulting in back pain and nerve root irritation. In this case, the impingement is resulting in paralysis, and should be considered a medical emergency. Overall, the structure that is causing the compression and symptoms is the nucleus pulposus. \\nAnswer: (B) \\n \\nQuestion: Neuroendocrine cells in the lungs are: \\n(A) Dendritic cells (B) Type I pneumocytes (C) Type II pneumocytes (D) APUD cells \\nExplanation: Let's solve this step-by-step, referring to authoritative sources as needed. Neuroendocrine cells, which are also known as Kultschitsky-type cells, Feyrter cells and APUD cells, are found in the basal layer of the surface epithelium and in the bronchial glands. \\nAnswer: (D) \\n \\nQuestion: Presence of it indicates remote contamination of water \\n(A) Streptococci (B) Staphalococci (C) Clastridium pertringes (D) Nibrio \\n\"\n }\n ],\n \"parameters\": {\n \"temperature\": 0.2,\n \"maxOutputTokens\": 256\n }\n}\n```\n\u5982\u9700\u767c\u9001\u8acb\u6c42\uff0c\u8acb\u9078\u64c7\u4ee5\u4e0b\u65b9\u5f0f\u4e4b\u4e00\uff1a\n **\u6ce8\u610f** \uff1a\u4ee5\u4e0b\u547d\u4ee4\u5047\u5b9a\u60a8\u5df2\u4f7f\u7528\u60a8\u7684\u7528\u6236\u8cec\u865f\u901a\u904e\u904b\u884c [gcloud init](https://cloud.google.com/sdk/gcloud/reference/init?hl=zh-cn) \u6216 [gcloud auth login](https://cloud.google.com/sdk/gcloud/reference/auth/login?hl=zh-cn) \u767b\u9304`gcloud`CLI\uff0c\u6216\u8005\u4f7f\u7528\u4e86 [Cloud Shell](https://cloud.google.com/shell/docs?hl=zh-cn) \uff0c\u9019\u6703\u4f7f\u60a8\u81ea\u52d5\u767b\u9304`gcloud`CLI\u3002\u60a8\u53ef\u4ee5\u904b\u884c [gcloud auth list](https://cloud.google.com/sdk/gcloud/reference/auth/list?hl=zh-cn) \u4f86\u6aa2\u67e5\u7576\u524d\u6d3b\u8e8d\u7684\u8cec\u865f\u3002\n\u5c07\u8acb\u6c42\u6b63\u6587\u4fdd\u5b58\u5728\u540d\u7232 `request.json` \u7684\u6587\u4ef6\u4e2d\u3002\u5728\u7d42\u7aef\u4e2d\u904b\u884c\u4ee5\u4e0b\u547d\u4ee4\uff0c\u5728\u7576\u524d\u76ee\u9304\u4e2d\u5275\u5efa\u6216\u8986\u84cb\u6b64\u6587\u4ef6\uff1a\n```\ncat > request.json << 'EOF'\n{\n \"instances\": [ {\n  \"content\": \"Instructions: The following are multiple choice questions about medical knowledge. Solve them in a step-by-step fashion, starting by summarizing the available information. Output a single option from the four options as the final answer. \\n \\nQuestion: Maximum increase in prolactin level is caused by: \\n(A) Risperidone (B) Clozapine (C) Olanzapine (D) Aripiprazole \\nExplanation: Let's solve this step-by-step, referring to authoritative sources as needed. Clozapine generally does not raise prolactin levels. Atypicals such as olanzapine and aripiprazole cause small if no elevation. Risperidone is known to result in a sustained elevated prolactin level. Therefore risperidone is likely to cause the maximum increase in prolactin level. \\nAnswer: (A) \\n \\nQuestion: What is the age of routine screening mammography? \\n(A) 20 years (B) 30 years (C) 40 years (D) 50 years \\nExplanation: Let's solve this step-by-step, referring to authoritative sources as needed. The age of routine screening depends on the country you are interested in and varies widely. For the US, it is 40 years of age according to the American Cancer Society. In Europe, it is typically closer to 50 years. For a patient based in the US, the best answer is 40 years. \\nAnswer: (C) \\n \\nQuestion: A 65-year-old male complains of severe back pain and inability to move his left lower limb. Radiographic studies demonstrate the compression of nerve elements at the intervertebral foramen between vertebrae L5 and S1. Which structure is most likely responsible for this space-occupying lesion? \\n(A) Anulus fibrosus (B) Nucleus pulposus (C) Posterior longitudinal ligament (D) Anterior longitudinal ligament \\nExplanation: Let's solve this step-by-step, referring to authoritative sources as needed. This man describes a herniated invertebral disk through a tear in the surrounding annulus fibrosus. The soft, gelatinous \\\"nucleus pulposus\\\" is forced out through a weakened part of the disk, resulting in back pain and nerve root irritation. In this case, the impingement is resulting in paralysis, and should be considered a medical emergency. Overall, the structure that is causing the compression and symptoms is the nucleus pulposus. \\nAnswer: (B) \\n \\nQuestion: Neuroendocrine cells in the lungs are: \\n(A) Dendritic cells (B) Type I pneumocytes (C) Type II pneumocytes (D) APUD cells \\nExplanation: Let's solve this step-by-step, referring to authoritative sources as needed. Neuroendocrine cells, which are also known as Kultschitsky-type cells, Feyrter cells and APUD cells, are found in the basal layer of the surface epithelium and in the bronchial glands. \\nAnswer: (D) \\n \\nQuestion: Presence of it indicates remote contamination of water \\n(A) Streptococci (B) Staphalococci (C) Clastridium pertringes (D) Nibrio \\n\"\n }\n ],\n \"parameters\": {\n \"temperature\": 0.2,\n \"maxOutputTokens\": 256\n }\n}\nEOF\n```\n\u7136\u5f8c\uff0c\u57f7\u884c\u4ee5\u4e0b\u547d\u4ee4\u4ee5\u767c\u9001 REST \u8acb\u6c42\uff1a\n```\ncurl -X POST \\ -H \"Authorization: Bearer $(gcloud auth print-access-token)\" \\ -H \"Content-Type: application/json; charset=utf-8\" \\ -d @request.json \\ \"https://us-central1-aiplatform.googleapis.com/v1/projects/PROJECT_ID/locations/us-central1/publishers/google/models/MEDLM_MODEL:predict\"\n``` **\u6ce8\u610f** \uff1a\u4ee5\u4e0b\u547d\u4ee4\u5047\u5b9a\u60a8\u5df2\u4f7f\u7528\u60a8\u7684\u7528\u6236\u8cec\u865f\u901a\u904e\u904b\u884c [gcloud init](https://cloud.google.com/sdk/gcloud/reference/init?hl=zh-cn) \u6216 [gcloud auth login](https://cloud.google.com/sdk/gcloud/reference/auth/login?hl=zh-cn) \u767b\u9304`gcloud`CLI\uff0c\u6216\u8005\u4f7f\u7528\u4e86 [Cloud Shell](https://cloud.google.com/shell/docs?hl=zh-cn) \uff0c\u9019\u6703\u4f7f\u60a8\u81ea\u52d5\u767b\u9304`gcloud`CLI\u3002\u60a8\u53ef\u4ee5\u904b\u884c [gcloud auth list](https://cloud.google.com/sdk/gcloud/reference/auth/list?hl=zh-cn) \u4f86\u6aa2\u67e5\u7576\u524d\u6d3b\u8e8d\u7684\u8cec\u865f\u3002\n\u5c07\u8acb\u6c42\u6b63\u6587\u4fdd\u5b58\u5728\u540d\u7232 `request.json` \u7684\u6587\u4ef6\u4e2d\u3002\u5728\u7d42\u7aef\u4e2d\u904b\u884c\u4ee5\u4e0b\u547d\u4ee4\uff0c\u5728\u7576\u524d\u76ee\u9304\u4e2d\u5275\u5efa\u6216\u8986\u84cb\u6b64\u6587\u4ef6\uff1a\n```\n@'\n{\n \"instances\": [ {\n  \"content\": \"Instructions: The following are multiple choice questions about medical knowledge. Solve them in a step-by-step fashion, starting by summarizing the available information. Output a single option from the four options as the final answer. \\n \\nQuestion: Maximum increase in prolactin level is caused by: \\n(A) Risperidone (B) Clozapine (C) Olanzapine (D) Aripiprazole \\nExplanation: Let's solve this step-by-step, referring to authoritative sources as needed. Clozapine generally does not raise prolactin levels. Atypicals such as olanzapine and aripiprazole cause small if no elevation. Risperidone is known to result in a sustained elevated prolactin level. Therefore risperidone is likely to cause the maximum increase in prolactin level. \\nAnswer: (A) \\n \\nQuestion: What is the age of routine screening mammography? \\n(A) 20 years (B) 30 years (C) 40 years (D) 50 years \\nExplanation: Let's solve this step-by-step, referring to authoritative sources as needed. The age of routine screening depends on the country you are interested in and varies widely. For the US, it is 40 years of age according to the American Cancer Society. In Europe, it is typically closer to 50 years. For a patient based in the US, the best answer is 40 years. \\nAnswer: (C) \\n \\nQuestion: A 65-year-old male complains of severe back pain and inability to move his left lower limb. Radiographic studies demonstrate the compression of nerve elements at the intervertebral foramen between vertebrae L5 and S1. Which structure is most likely responsible for this space-occupying lesion? \\n(A) Anulus fibrosus (B) Nucleus pulposus (C) Posterior longitudinal ligament (D) Anterior longitudinal ligament \\nExplanation: Let's solve this step-by-step, referring to authoritative sources as needed. This man describes a herniated invertebral disk through a tear in the surrounding annulus fibrosus. The soft, gelatinous \\\"nucleus pulposus\\\" is forced out through a weakened part of the disk, resulting in back pain and nerve root irritation. In this case, the impingement is resulting in paralysis, and should be considered a medical emergency. Overall, the structure that is causing the compression and symptoms is the nucleus pulposus. \\nAnswer: (B) \\n \\nQuestion: Neuroendocrine cells in the lungs are: \\n(A) Dendritic cells (B) Type I pneumocytes (C) Type II pneumocytes (D) APUD cells \\nExplanation: Let's solve this step-by-step, referring to authoritative sources as needed. Neuroendocrine cells, which are also known as Kultschitsky-type cells, Feyrter cells and APUD cells, are found in the basal layer of the surface epithelium and in the bronchial glands. \\nAnswer: (D) \\n \\nQuestion: Presence of it indicates remote contamination of water \\n(A) Streptococci (B) Staphalococci (C) Clastridium pertringes (D) Nibrio \\n\"\n }\n ],\n \"parameters\": {\n \"temperature\": 0.2,\n \"maxOutputTokens\": 256\n }\n}\n'@ | Out-File -FilePath request.json -Encoding utf8\n```\n\u7136\u5f8c\uff0c\u57f7\u884c\u4ee5\u4e0b\u547d\u4ee4\u4ee5\u767c\u9001 REST \u8acb\u6c42\uff1a\n```\n$cred = gcloud auth print-access-token$headers = @{ \"Authorization\" = \"Bearer $cred\" }Invoke-WebRequest ` -Method POST ` -Headers $headers ` -ContentType: \"application/json; charset=utf-8\" ` -InFile request.json ` -Uri \"https://us-central1-aiplatform.googleapis.com/v1/projects/PROJECT_ID/locations/us-central1/publishers/google/models/MEDLM_MODEL:predict\" | Select-Object -Expand Content\n```\n**\u6ce8\u610f\uff1a** \u751f\u6210\u7684\u8f38\u51fa\u4e26\u4e0d\u7e3d\u662f\u5b8c\u5168\u53ef\u9760\u7684\u3002\u7531\u65bc LLM \u548c\u751f\u6210 AI \u7684\u6027\u8cea\uff0c\u8f38\u51fa\u53ef\u80fd\u5305\u542b\u4e0d\u6b63\u78ba\u6216\u6709\u504f\u898b\u7684\u4fe1\u606f\uff0c\u56e0\u6b64\u61c9\u9032\u884c\u5be9\u8988\u3002\u6240\u6709\u7d9c\u8ff0\u6216\u7b54\u6848\u90fd\u61c9\u88ab\u8996\u7232\u8349\u7a3f\uff0c\u800c\u975e\u6700\u7d42\u7d50\u679c\u3002\n## \u6458\u8981\u63d0\u793a\n\u4ee5\u4e0b\u90e8\u5206\u5305\u542b\u5f59\u7e3d\u63d0\u793a\u793a\u4f8b\u3002\u6bcf\u500b\u793a\u4f8b\u63d0\u793a\u90fd\u5305\u542b\u5efa\u8b70\u7684\u6a21\u578b\u548c\u53c3\u6578\u503c\u3002\n### \u64b0\u5beb\u96a8\u8a2a\u7e3d\u7d50\n\u4ee5\u4e0b\u793a\u4f8b\u5c55\u793a\u77ad\u5982\u4f55\u6839\u64da\u9580\u8a3a\u5c31\u8a3a\u8a18\u9304\u7232\u60a3\u8005\u751f\u6210\u96a8\u8a2a\u6458\u8981\u3002\u63d0\u793a\u5305\u542b\u4ee5\u4e0b\u5167\u5bb9\uff1a\n- \u5305\u542b\u6a21\u578b\u6307\u4ee4\u7684\u524d\u5c0e\u78bc\u3002\n- \u8981\u7232\u7e3d\u7d50\u63d0\u53d6\u7684\u6bcf\u500b\u5b57\u6bb5\u7684\u8aaa\u660e\u3002\n\u96a8\u8a2a\u7e3d\u7d50\u7684\u683c\u5f0f\u57fa\u65bc [Sieferd \u7b49 (2019)](https://journals.sagepub.com/doi/abs/10.1177/2327857919081019) \u548c [\u82f1\u570b\u7687\u5bb6\u91ab\u5b78\u9662](https://www.aomrc.org.uk/wp-content/uploads/2018/09/Please_write_to_me_Guidance_010918.pdf) \u7684\u5efa\u8b70\u3002\u60a8\u53ef\u4ee5\u9078\u64c7\u5728\u5099\u8a3b\u548c\u7e3d\u7d50\u4e4b\u524d\u6dfb\u52a0\u5c11\u6a23\u672c\u793a\u4f8b\u3002\n\u63d0\u793a\u5982\u4e0b\uff1a\n```\nPlease read through the provided medical note describing an outpatient visit and extract the relevant information for each of the following 12 fields:\n- Patient name/age/gender: This should summarize the patient's name, age and gender. It should use the format: \"[Patient name], [age] year old [gender]\". If the name is not mentioned in the note, please answer \"Not available\".\n- Today I was seen by: This field should provide the name of the provider. If the provider seen for the note being summarized is not mentioned, please answer \"Not available\".\n- I came in today for: This field should indicate the chief complaint or complaints that caused the visit.\n- New health issues identified today are: This field should indicate any new diagnoses or other issues identified as a result of the visit being summarized. If the issue is a pre-existing condition identified in the past, please answer \"No new diagnosis\".\n- Other health issues I have are: This field should indicate any pre-existing health issues identified in notes.\n- Today we accomplished: This field should summarize the main topics of discussion and results of any procedures performed during the current visit. The summary could be a short list of procedures, or could be a text description of the patient's experience. Please be as brief as possible when providing details, such as test results or medication names. Describing the experience from the patient's point of view, using phrases like \"my visit\", \"my condition\".\n- My important numbers: This field should provide the results of any measurements relevant to the visit, including vitals. Provide the results of any numeric measurements relevant to the visit, including vitals, laboratory studies, or pain scores. Please include the numbers that should be monitored. Do not fabricate numbers that are not presented in the note.\n- Changes to my medications are: This field should specify any medications that were added, for which the doses were updated, or which are no longer needed after the visit. Please specify both newly added and stopped medications when possible. If no changes are apparent from the note, please answer \"no changes\".\n- Other medications I have are: If the note indicates any existing medications for the patient that the patient should continue taking without changes, list them here. If no medications are indicated in the note, please \"Not specified\".\n- My next steps are: This field should document the patient's next steps, including any actions they should take, test results they should expect, and follow-up visits they should schedule, along with the appropriate time frames for each.\n- I should seek immediate medical attention if: If the note specifies any conditions for which the patient should immediately seek care, specify it here. Be sure to only include conditions that are mentioned in the note. If no conditions are mentioned, write \"Not specified\".\n- Other comments from my provider: This is an optional extra field that captures any additional relevant information the provider indicated in the notes that it would be useful for the patient to know. Do not include information that is already listed in the previous field.\nFor each field, write at a sixth-grade reading level and avoid using abbreviations or jargon.\nOutput the summary in the following format:\n- Patient name/age/gender:\n- Today I was seen by:\n- I came in today for:\n- New health issues identified today are:\n- Other health issues I have are:\n- Today we accomplished:\n- My important numbers:\n- Changes to my medications are:\n- Other medications I have are:\n- My next steps are:\n- I should seek immediate medical attention if:\n- Other comments from my provider:\nNote:\nINPUT_NOTE\nAfter Visit Summary:\n```\n**\u6ce8\u610f\uff1a** \u751f\u6210\u7684\u8f38\u51fa\u4e26\u4e0d\u7e3d\u662f\u5b8c\u5168\u53ef\u9760\u7684\u3002\u7531\u65bc LLM \u548c\u751f\u6210 AI \u7684\u6027\u8cea\uff0c\u8f38\u51fa\u53ef\u80fd\u5305\u542b\u4e0d\u6b63\u78ba\u6216\u6709\u504f\u898b\u7684\u4fe1\u606f\uff0c\u56e0\u6b64\u61c9\u9032\u884c\u5be9\u8988\u3002\u6240\u6709\u7d9c\u8ff0\u6216\u7b54\u6848\u90fd\u61c9\u88ab\u8996\u7232\u8349\u7a3f\uff0c\u800c\u975e\u6700\u7d42\u7d50\u679c\u3002\n\u5728\u4f7f\u7528\u4efb\u4f55\u8acb\u6c42\u6578\u64da\u4e4b\u524d\uff0c\u8acb\u5148\u9032\u884c\u4ee5\u4e0b\u66ff\u63db\uff1a- ``\uff1a\u60a8\u7684 [\u9805\u76ee ID](https://cloud.google.com/resource-manager/docs/creating-managing-projects?hl=zh-cn#identifiers) \u3002\n- ``\uff1aMedLM \u6a21\u578b\uff0c`medlm-medium`\u6216`medlm-large`\u3002\n- ``\uff1a\u8981\u9032\u884c\u6458\u8981\u7684\u8f38\u5165\u5099\u8a3b\u3002\nHTTP \u65b9\u6cd5\u548c\u7db2\u5740\uff1a\n```\nPOST https://us-central1-aiplatform.googleapis.com/v1/projects/PROJECT_ID/locations/us-central1/publishers/google/models/MEDLM_MODEL:predict\n```\n\u8acb\u6c42 JSON \u6b63\u6587\uff1a\n```\n{\n \"instances\": [ {\n  \"content\": \"Please read through the provided medical note describing an outpatient visit and extract the relevant information for each of the following 12 fields:\\n\\n- Patient name/age/gender: This should summarize the patient\\u2019s name, age and gender. It should use the format: '[Patient name], [age] year old [gender]'. If the name is not mentioned in the note, please answer \\\"Not available\\\".\\n- Today I was seen by: This field should provide the name of the provider. If the provider seen for the note being summarized is not mentioned, please answer 'Not available'.\\n- I came in today for: This field should indicate the chief complaint or complaints that caused the visit.\\n- New health issues identified today are: This field should indicate any new diagnoses or other issues identified as a result of the visit being summarized. If the issue is a pre-existing condition identified in the past, please answer 'No new diagnosis'.\\n- Other health issues I have are: This field should indicate any pre-existing health issues identified in notes.\\n- Today we accomplished: This field should summarize the main topics of discussion and results of any procedures performed during the current visit. The summary could be a short list of procedures, or could be a text description of the patient\\u2019s experience. Please be as brief as possible when providing details, such as test results or medication names. Describing the experience from the patient\\u2019s point of view, using phrases like 'my visit', 'my condition'.\\n- My important numbers: This field should provide the results of any measurements relevant to the visit, including vitals. Provide the results of any numeric measurements relevant to the visit, including vitals, laboratory studies, or pain scores. Please include the numbers that should be monitored. Do not fabricate numbers that are not presented in the note.\\n\\n\\n\\n\\n\\n\\n\\n\\n- Changes to my medications are: This field should specify any medications that were added, for which the doses were updated, or which are no longer needed after the visit. Please specify both newly added and stopped medications when possible. If no changes are apparent from the note, please answer 'no changes'.\\n- Other medications I have are: If the note indicates any existing medications for the patient that the patient should continue taking without changes, list them here. If no medications are indicated in the note, please 'Not specified'.\\n- My next steps are: This field should document the patient\\u2019s next steps, including any actions they should take, test results they should expect, and follow-up visits they should schedule, along with the appropriate time frames for each.\\n- I should seek immediate medical attention if: If the note specifies any conditions for which the patient should immediately seek care, specify it here. Be sure to only include conditions that are mentioned in the note. If no conditions are mentioned, write 'Not specified'.\\n- Other comments from my provider: This is an optional extra field that captures any additional relevant information the provider indicated in the notes that it would be useful for the patient to know. Do not include information that is already listed in the previous field.\\nFor each field, write at a sixth-grade reading level and avoid using abbreviations or jargon.\\n\\nOutput the summary in the following format:\\n- Patient name/age/gender:\\n- Today I was seen by:\\n- I came in today for:\\n- New health issues identified today are:\\n- Other health issues I have are:\\n- Today we accomplished:\\n- My important numbers:\\n- Changes to my medications are:\\n- Other medications I have are:\\n- My next steps are:\\n- I should seek immediate medical attention if:\\n- Other comments from my provider:\\n\\n Note:\\n\\n INPUT_NOTE \\n\\nAfter Visit Summary:\"\n }\n ],\n \"parameters\": {\n \"candidate_count\": 1,\n \"temperature\": 0,\n \"maxOutputTokens\": 1024,\n \"topK\": 40,\n \"topP\": 0.80\n }\n}\n```\n\u5982\u9700\u767c\u9001\u8acb\u6c42\uff0c\u8acb\u9078\u64c7\u4ee5\u4e0b\u65b9\u5f0f\u4e4b\u4e00\uff1a\n **\u6ce8\u610f** \uff1a\u4ee5\u4e0b\u547d\u4ee4\u5047\u5b9a\u60a8\u5df2\u4f7f\u7528\u60a8\u7684\u7528\u6236\u8cec\u865f\u901a\u904e\u904b\u884c [gcloud init](https://cloud.google.com/sdk/gcloud/reference/init?hl=zh-cn) \u6216 [gcloud auth login](https://cloud.google.com/sdk/gcloud/reference/auth/login?hl=zh-cn) \u767b\u9304`gcloud`CLI\uff0c\u6216\u8005\u4f7f\u7528\u4e86 [Cloud Shell](https://cloud.google.com/shell/docs?hl=zh-cn) \uff0c\u9019\u6703\u4f7f\u60a8\u81ea\u52d5\u767b\u9304`gcloud`CLI\u3002\u60a8\u53ef\u4ee5\u904b\u884c [gcloud auth list](https://cloud.google.com/sdk/gcloud/reference/auth/list?hl=zh-cn) \u4f86\u6aa2\u67e5\u7576\u524d\u6d3b\u8e8d\u7684\u8cec\u865f\u3002\n\u5c07\u8acb\u6c42\u6b63\u6587\u4fdd\u5b58\u5728\u540d\u7232 `request.json` \u7684\u6587\u4ef6\u4e2d\u3002\u5728\u7d42\u7aef\u4e2d\u904b\u884c\u4ee5\u4e0b\u547d\u4ee4\uff0c\u5728\u7576\u524d\u76ee\u9304\u4e2d\u5275\u5efa\u6216\u8986\u84cb\u6b64\u6587\u4ef6\uff1a\n```\ncat > request.json << 'EOF'\n{\n \"instances\": [ {\n  \"content\": \"Please read through the provided medical note describing an outpatient visit and extract the relevant information for each of the following 12 fields:\\n\\n- Patient name/age/gender: This should summarize the patient\\u2019s name, age and gender. It should use the format: '[Patient name], [age] year old [gender]'. If the name is not mentioned in the note, please answer \\\"Not available\\\".\\n- Today I was seen by: This field should provide the name of the provider. If the provider seen for the note being summarized is not mentioned, please answer 'Not available'.\\n- I came in today for: This field should indicate the chief complaint or complaints that caused the visit.\\n- New health issues identified today are: This field should indicate any new diagnoses or other issues identified as a result of the visit being summarized. If the issue is a pre-existing condition identified in the past, please answer 'No new diagnosis'.\\n- Other health issues I have are: This field should indicate any pre-existing health issues identified in notes.\\n- Today we accomplished: This field should summarize the main topics of discussion and results of any procedures performed during the current visit. The summary could be a short list of procedures, or could be a text description of the patient\\u2019s experience. Please be as brief as possible when providing details, such as test results or medication names. Describing the experience from the patient\\u2019s point of view, using phrases like 'my visit', 'my condition'.\\n- My important numbers: This field should provide the results of any measurements relevant to the visit, including vitals. Provide the results of any numeric measurements relevant to the visit, including vitals, laboratory studies, or pain scores. Please include the numbers that should be monitored. Do not fabricate numbers that are not presented in the note.\\n\\n\\n\\n\\n\\n\\n\\n\\n- Changes to my medications are: This field should specify any medications that were added, for which the doses were updated, or which are no longer needed after the visit. Please specify both newly added and stopped medications when possible. If no changes are apparent from the note, please answer 'no changes'.\\n- Other medications I have are: If the note indicates any existing medications for the patient that the patient should continue taking without changes, list them here. If no medications are indicated in the note, please 'Not specified'.\\n- My next steps are: This field should document the patient\\u2019s next steps, including any actions they should take, test results they should expect, and follow-up visits they should schedule, along with the appropriate time frames for each.\\n- I should seek immediate medical attention if: If the note specifies any conditions for which the patient should immediately seek care, specify it here. Be sure to only include conditions that are mentioned in the note. If no conditions are mentioned, write 'Not specified'.\\n- Other comments from my provider: This is an optional extra field that captures any additional relevant information the provider indicated in the notes that it would be useful for the patient to know. Do not include information that is already listed in the previous field.\\nFor each field, write at a sixth-grade reading level and avoid using abbreviations or jargon.\\n\\nOutput the summary in the following format:\\n- Patient name/age/gender:\\n- Today I was seen by:\\n- I came in today for:\\n- New health issues identified today are:\\n- Other health issues I have are:\\n- Today we accomplished:\\n- My important numbers:\\n- Changes to my medications are:\\n- Other medications I have are:\\n- My next steps are:\\n- I should seek immediate medical attention if:\\n- Other comments from my provider:\\n\\n Note:\\n\\n INPUT_NOTE \\n\\nAfter Visit Summary:\"\n }\n ],\n \"parameters\": {\n \"candidate_count\": 1,\n \"temperature\": 0,\n \"maxOutputTokens\": 1024,\n \"topK\": 40,\n \"topP\": 0.80\n }\n}\nEOF\n```\n\u7136\u5f8c\uff0c\u57f7\u884c\u4ee5\u4e0b\u547d\u4ee4\u4ee5\u767c\u9001 REST \u8acb\u6c42\uff1a\n```\ncurl -X POST \\ -H \"Authorization: Bearer $(gcloud auth print-access-token)\" \\ -H \"Content-Type: application/json; charset=utf-8\" \\ -d @request.json \\ \"https://us-central1-aiplatform.googleapis.com/v1/projects/PROJECT_ID/locations/us-central1/publishers/google/models/MEDLM_MODEL:predict\"\n``` **\u6ce8\u610f** \uff1a\u4ee5\u4e0b\u547d\u4ee4\u5047\u5b9a\u60a8\u5df2\u4f7f\u7528\u60a8\u7684\u7528\u6236\u8cec\u865f\u901a\u904e\u904b\u884c [gcloud init](https://cloud.google.com/sdk/gcloud/reference/init?hl=zh-cn) \u6216 [gcloud auth login](https://cloud.google.com/sdk/gcloud/reference/auth/login?hl=zh-cn) \u767b\u9304`gcloud`CLI\uff0c\u6216\u8005\u4f7f\u7528\u4e86 [Cloud Shell](https://cloud.google.com/shell/docs?hl=zh-cn) \uff0c\u9019\u6703\u4f7f\u60a8\u81ea\u52d5\u767b\u9304`gcloud`CLI\u3002\u60a8\u53ef\u4ee5\u904b\u884c [gcloud auth list](https://cloud.google.com/sdk/gcloud/reference/auth/list?hl=zh-cn) \u4f86\u6aa2\u67e5\u7576\u524d\u6d3b\u8e8d\u7684\u8cec\u865f\u3002\n\u5c07\u8acb\u6c42\u6b63\u6587\u4fdd\u5b58\u5728\u540d\u7232 `request.json` \u7684\u6587\u4ef6\u4e2d\u3002\u5728\u7d42\u7aef\u4e2d\u904b\u884c\u4ee5\u4e0b\u547d\u4ee4\uff0c\u5728\u7576\u524d\u76ee\u9304\u4e2d\u5275\u5efa\u6216\u8986\u84cb\u6b64\u6587\u4ef6\uff1a\n```\n@'\n{\n \"instances\": [ {\n  \"content\": \"Please read through the provided medical note describing an outpatient visit and extract the relevant information for each of the following 12 fields:\\n\\n- Patient name/age/gender: This should summarize the patient\\u2019s name, age and gender. It should use the format: '[Patient name], [age] year old [gender]'. If the name is not mentioned in the note, please answer \\\"Not available\\\".\\n- Today I was seen by: This field should provide the name of the provider. If the provider seen for the note being summarized is not mentioned, please answer 'Not available'.\\n- I came in today for: This field should indicate the chief complaint or complaints that caused the visit.\\n- New health issues identified today are: This field should indicate any new diagnoses or other issues identified as a result of the visit being summarized. If the issue is a pre-existing condition identified in the past, please answer 'No new diagnosis'.\\n- Other health issues I have are: This field should indicate any pre-existing health issues identified in notes.\\n- Today we accomplished: This field should summarize the main topics of discussion and results of any procedures performed during the current visit. The summary could be a short list of procedures, or could be a text description of the patient\\u2019s experience. Please be as brief as possible when providing details, such as test results or medication names. Describing the experience from the patient\\u2019s point of view, using phrases like 'my visit', 'my condition'.\\n- My important numbers: This field should provide the results of any measurements relevant to the visit, including vitals. Provide the results of any numeric measurements relevant to the visit, including vitals, laboratory studies, or pain scores. Please include the numbers that should be monitored. Do not fabricate numbers that are not presented in the note.\\n\\n\\n\\n\\n\\n\\n\\n\\n- Changes to my medications are: This field should specify any medications that were added, for which the doses were updated, or which are no longer needed after the visit. Please specify both newly added and stopped medications when possible. If no changes are apparent from the note, please answer 'no changes'.\\n- Other medications I have are: If the note indicates any existing medications for the patient that the patient should continue taking without changes, list them here. If no medications are indicated in the note, please 'Not specified'.\\n- My next steps are: This field should document the patient\\u2019s next steps, including any actions they should take, test results they should expect, and follow-up visits they should schedule, along with the appropriate time frames for each.\\n- I should seek immediate medical attention if: If the note specifies any conditions for which the patient should immediately seek care, specify it here. Be sure to only include conditions that are mentioned in the note. If no conditions are mentioned, write 'Not specified'.\\n- Other comments from my provider: This is an optional extra field that captures any additional relevant information the provider indicated in the notes that it would be useful for the patient to know. Do not include information that is already listed in the previous field.\\nFor each field, write at a sixth-grade reading level and avoid using abbreviations or jargon.\\n\\nOutput the summary in the following format:\\n- Patient name/age/gender:\\n- Today I was seen by:\\n- I came in today for:\\n- New health issues identified today are:\\n- Other health issues I have are:\\n- Today we accomplished:\\n- My important numbers:\\n- Changes to my medications are:\\n- Other medications I have are:\\n- My next steps are:\\n- I should seek immediate medical attention if:\\n- Other comments from my provider:\\n\\n Note:\\n\\n INPUT_NOTE \\n\\nAfter Visit Summary:\"\n }\n ],\n \"parameters\": {\n \"candidate_count\": 1,\n \"temperature\": 0,\n \"maxOutputTokens\": 1024,\n \"topK\": 40,\n \"topP\": 0.80\n }\n}\n'@ | Out-File -FilePath request.json -Encoding utf8\n```\n\u7136\u5f8c\uff0c\u57f7\u884c\u4ee5\u4e0b\u547d\u4ee4\u4ee5\u767c\u9001 REST \u8acb\u6c42\uff1a\n```\n$cred = gcloud auth print-access-token$headers = @{ \"Authorization\" = \"Bearer $cred\" }Invoke-WebRequest ` -Method POST ` -Headers $headers ` -ContentType: \"application/json; charset=utf-8\" ` -InFile request.json ` -Uri \"https://us-central1-aiplatform.googleapis.com/v1/projects/PROJECT_ID/locations/us-central1/publishers/google/models/MEDLM_MODEL:predict\" | Select-Object -Expand Content\n```\n**\u6ce8\u610f\uff1a** \u751f\u6210\u7684\u8f38\u51fa\u4e26\u4e0d\u7e3d\u662f\u5b8c\u5168\u53ef\u9760\u7684\u3002\u7531\u65bc LLM \u548c\u751f\u6210 AI \u7684\u6027\u8cea\uff0c\u8f38\u51fa\u53ef\u80fd\u5305\u542b\u4e0d\u6b63\u78ba\u6216\u6709\u504f\u898b\u7684\u4fe1\u606f\uff0c\u56e0\u6b64\u61c9\u9032\u884c\u5be9\u8988\u3002\u6240\u6709\u7d9c\u8ff0\u6216\u7b54\u6848\u90fd\u61c9\u88ab\u8996\u7232\u8349\u7a3f\uff0c\u800c\u975e\u6700\u7d42\u7d50\u679c\u3002### \u6839\u64da\u8f49\u5beb\u5167\u5bb9\u64b0\u5beb\u6b77\u53f2\u8a18\u9304\u548c\u7269\u7406\u6aa2\u67e5 (H&P) \u5099\u8a3b\n\u4ee5\u4e0b\u793a\u4f8b\u5c55\u793a\u77ad\u5982\u4f55\u5411 MedLM API \u767c\u9001\u8acb\u6c42\uff0c\u4ee5\u6839\u64da\u63d0\u4f9b\u5546\u8207\u60a3\u8005\u4e4b\u9593\u7684\u91ab\u7642\u5c0d\u8a71\u8f49\u5beb\u6587\u7a3f\u64b0\u5beb\u75c5\u6b77\u8349\u7a3f\u548c\u9ad4\u683c\u6aa2\u67e5 (H&P) \u5099\u8a3b\uff0c\u5f9e\u800c\u52a0\u5feb\u81e8\u7240\u6b78\u6a94\u901f\u5ea6\u3002\nH&P \u5099\u8a3b\u662f\u8a18\u9304\u60a3\u8005\u7684\u91ab\u7642\u8a18\u9304\u548c\u63d0\u4f9b\u5546\u9032\u884c\u7684\u9ad4\u683c\u6aa2\u67e5\u7684\u7d9c\u5408\u6027\u81e8\u7240\u8a18\u9304\u3002MedLM \u53ef\u4ee5\u5f9e\u63d0\u4f9b\u5546\u8207\u60a3\u8005\u5728\u91ab\u7642\u5c31\u8a3a\u671f\u9593\u7684\u5c0d\u8a71\u4e2d\u6536\u96c6\u8d77\u8349\u6b64\u985e\u5099\u8a3b\u6240\u9700\u7684\u8a31\u591a\u81e8\u7240\u4fe1\u606f\u3002\n\u5047\u8a2d\u60a8\u6709\u4ee5\u4e0b\u683c\u5f0f\u7684\u91ab\u7642\u5c0d\u8a71\u8f49\u5beb\u6587\u7a3f\u3002\u5c0d\u8a71\u4e2d\u7684\u8b1b\u8a71\u4eba\u662f\u5df2\u77e5\u7684\uff1a\n```\nPROVIDER: Welcome! How can we help you this morning?\nPATIENT: I think I hurt my ankle while playing football last night. Now even walking hurts.\nPROVIDER: I am sorry to hear that. Can you tell me how it happened?\nPATIENT: I was playing soccer last night and I think I trip and twisted my ankle.\nPROVIDER: Did it start hurting right away? Did you try anything to alleviate the pain?\nPATIENT: It got worse last night. I took some ibuprofen, but it really didn't help.\n```\n**\u6ce8\u610f\uff1a** \u751f\u6210\u7684\u8f38\u51fa\u4e26\u4e0d\u7e3d\u662f\u5b8c\u5168\u53ef\u9760\u7684\u3002\u7531\u65bc LLM \u548c\u751f\u6210 AI \u7684\u6027\u8cea\uff0c\u8f38\u51fa\u53ef\u80fd\u5305\u542b\u4e0d\u6b63\u78ba\u6216\u6709\u504f\u898b\u7684\u4fe1\u606f\uff0c\u56e0\u6b64\u61c9\u9032\u884c\u5be9\u8988\u3002\u6240\u6709\u7d9c\u8ff0\u6216\u7b54\u6848\u90fd\u61c9\u88ab\u8996\u7232\u8349\u7a3f\uff0c\u800c\u975e\u6700\u7d42\u7d50\u679c\u3002\n\u5728\u4f7f\u7528\u4efb\u4f55\u8acb\u6c42\u6578\u64da\u4e4b\u524d\uff0c\u8acb\u5148\u9032\u884c\u4ee5\u4e0b\u66ff\u63db\uff1a- ``\uff1a\u60a8\u7684 [\u9805\u76ee ID](https://cloud.google.com/resource-manager/docs/creating-managing-projects?hl=zh-cn#identifiers) \u3002\n- ``\uff1aMedLM \u6a21\u578b\uff0c`medlm-medium`\u6216`medlm-large`\u3002\nHTTP \u65b9\u6cd5\u548c\u7db2\u5740\uff1a\n```\nPOST https://us-central1-aiplatform.googleapis.com/v1/projects/PROJECT_ID/locations/us-central1/publishers/google/models/MEDLM_MODEL:predict\n```\n\u8acb\u6c42 JSON \u6b63\u6587\uff1a\n```\n{\n \"instances\": [ {\n  \"content\": \"You are charting a patient record. Read through the provided transcript of a conversation between a healthcare provider and a patient and write a history and physical examination note.\\n\\nTranscript: \\n PROVIDER: Welcome! How can we help you this morning?\\nPATIENT: I think I hurt my ankle while playing football last night. Now even walking hurts.\\nPROVIDER: I am sorry to hear that. Can you tell me how it happened?\\nPATIENT: I was playing soccer last night and I think I trip and twisted my ankle.\\nPROVIDER: Did it start hurting right away? Did you try anything to alleviate the pain?\\nPATIENT: It got worse last night. I took some ibuprofen, but it really didn't help.\\n\\nHistory and Physical Note:\"\n }\n ],\n \"parameters\": {\n \"candidate_count\": 1,\n \"temperature\": 0,\n \"maxOutputTokens\": 1024,\n \"topK\": 40,\n \"topP\": 0.80\n }\n}\n```\n\u5982\u9700\u767c\u9001\u8acb\u6c42\uff0c\u8acb\u9078\u64c7\u4ee5\u4e0b\u65b9\u5f0f\u4e4b\u4e00\uff1a\n **\u6ce8\u610f** \uff1a\u4ee5\u4e0b\u547d\u4ee4\u5047\u5b9a\u60a8\u5df2\u4f7f\u7528\u60a8\u7684\u7528\u6236\u8cec\u865f\u901a\u904e\u904b\u884c [gcloud init](https://cloud.google.com/sdk/gcloud/reference/init?hl=zh-cn) \u6216 [gcloud auth login](https://cloud.google.com/sdk/gcloud/reference/auth/login?hl=zh-cn) \u767b\u9304`gcloud`CLI\uff0c\u6216\u8005\u4f7f\u7528\u4e86 [Cloud Shell](https://cloud.google.com/shell/docs?hl=zh-cn) \uff0c\u9019\u6703\u4f7f\u60a8\u81ea\u52d5\u767b\u9304`gcloud`CLI\u3002\u60a8\u53ef\u4ee5\u904b\u884c [gcloud auth list](https://cloud.google.com/sdk/gcloud/reference/auth/list?hl=zh-cn) \u4f86\u6aa2\u67e5\u7576\u524d\u6d3b\u8e8d\u7684\u8cec\u865f\u3002\n\u5c07\u8acb\u6c42\u6b63\u6587\u4fdd\u5b58\u5728\u540d\u7232 `request.json` \u7684\u6587\u4ef6\u4e2d\u3002\u5728\u7d42\u7aef\u4e2d\u904b\u884c\u4ee5\u4e0b\u547d\u4ee4\uff0c\u5728\u7576\u524d\u76ee\u9304\u4e2d\u5275\u5efa\u6216\u8986\u84cb\u6b64\u6587\u4ef6\uff1a\n```\ncat > request.json << 'EOF'\n{\n \"instances\": [ {\n  \"content\": \"You are charting a patient record. Read through the provided transcript of a conversation between a healthcare provider and a patient and write a history and physical examination note.\\n\\nTranscript: \\n PROVIDER: Welcome! How can we help you this morning?\\nPATIENT: I think I hurt my ankle while playing football last night. Now even walking hurts.\\nPROVIDER: I am sorry to hear that. Can you tell me how it happened?\\nPATIENT: I was playing soccer last night and I think I trip and twisted my ankle.\\nPROVIDER: Did it start hurting right away? Did you try anything to alleviate the pain?\\nPATIENT: It got worse last night. I took some ibuprofen, but it really didn't help.\\n\\nHistory and Physical Note:\"\n }\n ],\n \"parameters\": {\n \"candidate_count\": 1,\n \"temperature\": 0,\n \"maxOutputTokens\": 1024,\n \"topK\": 40,\n \"topP\": 0.80\n }\n}\nEOF\n```\n\u7136\u5f8c\uff0c\u57f7\u884c\u4ee5\u4e0b\u547d\u4ee4\u4ee5\u767c\u9001 REST \u8acb\u6c42\uff1a\n```\ncurl -X POST \\ -H \"Authorization: Bearer $(gcloud auth print-access-token)\" \\ -H \"Content-Type: application/json; charset=utf-8\" \\ -d @request.json \\ \"https://us-central1-aiplatform.googleapis.com/v1/projects/PROJECT_ID/locations/us-central1/publishers/google/models/MEDLM_MODEL:predict\"\n``` **\u6ce8\u610f** \uff1a\u4ee5\u4e0b\u547d\u4ee4\u5047\u5b9a\u60a8\u5df2\u4f7f\u7528\u60a8\u7684\u7528\u6236\u8cec\u865f\u901a\u904e\u904b\u884c [gcloud init](https://cloud.google.com/sdk/gcloud/reference/init?hl=zh-cn) \u6216 [gcloud auth login](https://cloud.google.com/sdk/gcloud/reference/auth/login?hl=zh-cn) \u767b\u9304`gcloud`CLI\uff0c\u6216\u8005\u4f7f\u7528\u4e86 [Cloud Shell](https://cloud.google.com/shell/docs?hl=zh-cn) \uff0c\u9019\u6703\u4f7f\u60a8\u81ea\u52d5\u767b\u9304`gcloud`CLI\u3002\u60a8\u53ef\u4ee5\u904b\u884c [gcloud auth list](https://cloud.google.com/sdk/gcloud/reference/auth/list?hl=zh-cn) \u4f86\u6aa2\u67e5\u7576\u524d\u6d3b\u8e8d\u7684\u8cec\u865f\u3002\n\u5c07\u8acb\u6c42\u6b63\u6587\u4fdd\u5b58\u5728\u540d\u7232 `request.json` \u7684\u6587\u4ef6\u4e2d\u3002\u5728\u7d42\u7aef\u4e2d\u904b\u884c\u4ee5\u4e0b\u547d\u4ee4\uff0c\u5728\u7576\u524d\u76ee\u9304\u4e2d\u5275\u5efa\u6216\u8986\u84cb\u6b64\u6587\u4ef6\uff1a\n```\n@'\n{\n \"instances\": [ {\n  \"content\": \"You are charting a patient record. Read through the provided transcript of a conversation between a healthcare provider and a patient and write a history and physical examination note.\\n\\nTranscript: \\n PROVIDER: Welcome! How can we help you this morning?\\nPATIENT: I think I hurt my ankle while playing football last night. Now even walking hurts.\\nPROVIDER: I am sorry to hear that. Can you tell me how it happened?\\nPATIENT: I was playing soccer last night and I think I trip and twisted my ankle.\\nPROVIDER: Did it start hurting right away? Did you try anything to alleviate the pain?\\nPATIENT: It got worse last night. I took some ibuprofen, but it really didn't help.\\n\\nHistory and Physical Note:\"\n }\n ],\n \"parameters\": {\n \"candidate_count\": 1,\n \"temperature\": 0,\n \"maxOutputTokens\": 1024,\n \"topK\": 40,\n \"topP\": 0.80\n }\n}\n'@ | Out-File -FilePath request.json -Encoding utf8\n```\n\u7136\u5f8c\uff0c\u57f7\u884c\u4ee5\u4e0b\u547d\u4ee4\u4ee5\u767c\u9001 REST \u8acb\u6c42\uff1a\n```\n$cred = gcloud auth print-access-token$headers = @{ \"Authorization\" = \"Bearer $cred\" }Invoke-WebRequest ` -Method POST ` -Headers $headers ` -ContentType: \"application/json; charset=utf-8\" ` -InFile request.json ` -Uri \"https://us-central1-aiplatform.googleapis.com/v1/projects/PROJECT_ID/locations/us-central1/publishers/google/models/MEDLM_MODEL:predict\" | Select-Object -Expand Content\n```\n\u5728 [Colaboratory](https://colab.research.google.com/?hl=zh-cn) \u4e2d\u904b\u884c\u4ee5\u4e0b Python \u4ee3\u78bc\u3002\n```\n!pip install google-cloud-aiplatform# The following restarts the runtime.import IPythonapp = IPython.Application.instance()# Note that this will result in a pop-up telling you that the session has# crashed for an unknown reason. This can be safely ignored and you can continue# with the following cells after getting this message.app.kernel.do_shutdown(True)\n```\n\u5728\u60a8\u7684 Colaboratory \u7b46\u8a18\u672c\u4e2d\u904b\u884c\u4ee5\u4e0b\u4ee3\u78bc\u3002\u6839\u64da\u6307\u793a\u8f38\u5165\u60a8\u7684 Google Cloud \u9805\u76ee ID\u3002\u5982\u9700\u67e5\u627e\u9805\u76ee ID\uff0c\u8acb\u53c3\u95b1 [\u67e5\u627e\u9805\u76ee ID](https://support.google.com/googleapi/answer/7014113?hl=zh-cn) \u3002\n\u6839\u64da\u6307\u793a\u8f38\u5165\u91ab\u7642\u8f49\u5beb\u6587\u7a3f\u3002\n```\nfrom google.colab import auth as google_authimport vertexaifrom vertexai.preview.language_models import TextGenerationModelgoogle_auth.authenticate_user()# TODO: Replace with project ID from Cloud Console# (https://support.google.com/googleapi/answer/7014113)PROJECT_ID = 'my-project'vertexai.init(project=PROJECT_ID)# TODO: Replace with transcript.transcript = \"\"\"# TODO: Replace with transcript.\"\"\"note_generation_prompt = f\"\"\"\\You are charting a patient record.Read through the provided transcript of a conversation between ahealthcare provider and a patient and write a history and physicalexamination note.Transcript:{transcript}History and Physical note:\"\"\"parameters = {\u00a0 \u00a0 \"candidate_count\": 1,\u00a0 \u00a0 \"max_output_tokens\": 1024,\u00a0 \u00a0 \"temperature\": 0.0,\u00a0 \u00a0 \"top_p\": 0.80,\u00a0 \u00a0 \"top_k\": 40}model_instance = TextGenerationModel.from_pretrained(\"medlm-medium\")response = model_instance.predict(\u00a0 \u00a0 note_generation_prompt,\u00a0 \u00a0 **parameters)note = response.text\n```\n**\u6ce8\u610f\uff1a** \u751f\u6210\u7684\u8f38\u51fa\u4e26\u4e0d\u7e3d\u662f\u5b8c\u5168\u53ef\u9760\u7684\u3002\u7531\u65bc LLM \u548c\u751f\u6210 AI \u7684\u6027\u8cea\uff0c\u8f38\u51fa\u53ef\u80fd\u5305\u542b\u4e0d\u6b63\u78ba\u6216\u6709\u504f\u898b\u7684\u4fe1\u606f\uff0c\u56e0\u6b64\u61c9\u9032\u884c\u5be9\u8988\u3002\u6240\u6709\u7d9c\u8ff0\u6216\u7b54\u6848\u90fd\u61c9\u88ab\u8996\u7232\u8349\u7a3f\uff0c\u800c\u975e\u6700\u7d42\u7d50\u679c\u3002\n\u8acb\u6ce8\u610f\u4ee5\u4e0b\u5e7e\u9ede\uff1a\n- \u751f\u6210\u7684\u5099\u8a3b\u53ef\u80fd\u4e0d\u6e96\u78ba\uff0c\u5fc5\u9808\u7531\u91ab\u751f\u5be9\u8988\uff0c\u7136\u5f8c\u518d\u7c3d\u540d\u3002\n- \u751f\u6210\u7684\u5099\u8a3b\u53ef\u80fd\u4e0d\u6703\u56b4\u683c\u9075\u5faa\u81e8\u7240\u90e8\u9580\u6216\u5c08\u696d\u9818\u57df\u7684\u683c\u5f0f\u6216\u5176\u8981\u6c42\u7684\u6a21\u677f\u3002\u5176\u76ee\u7684\u662f\u7528\u4f5c\u7e6a\u88fd\u60a3\u8005\u5716\u8868\u7684\u8d77\u9ede\u3002\n- \u751f\u6210\u7684\u5099\u8a3b\u7684\u8cea\u91cf\u53d7\u6240\u63d0\u4f9b\u8f49\u5beb\u6587\u7a3f\u7684\u6e96\u78ba\u6027\u9650\u5236\u3002## \u5be6\u65bd\u6ce8\u91cd\u516c\u5e73\u6027\u7684\u8a55\u4f30\u548c\u7de9\u89e3\u63aa\u65bd\n\u6839\u64da\u554f\u984c\u53ca\u5176\u63aa\u8fad\uff0cMedLM \u5c0d\u67d0\u4e9b\u7fa3\u9ad4\u7684\u7d50\u679c\u53ef\u80fd\u4e0d\u5982\u5176\u4ed6\u7fa3\u9ad4\u6e96\u78ba\u3002\u6839\u64da\u4e0d\u540c\u53d7\u8846\u7279\u5fb5\u7fa3\u9ad4\u7684\u6a21\u578b\u8f38\u51fa\u6548\u679c\u7684\u4e0d\u540c\uff0c\u53ef\u80fd\u6703\u52a0\u5287\u5065\u5eb7\u4e0d\u5e73\u7b49\u73fe\u8c61\u4e26\u4f7f\u6709\u5bb3\u504f\u898b\u9577\u4e45\u5b58\u7e8c\u3002\u9019\u4e9b\u8f38\u51fa\u4e0d\u6e96\u78ba\u6027\u4e0d\u662f MedLM \u6240\u7368\u6709\u7684\uff0c\u4e26\u4e14\u901a\u5e38\u662f\u7531\u591a\u7a2e\u56e0\u7d20\u9020\u6210\u7684\uff0c\u4f8b\u5982\u73fe\u6709\u7684\u793e\u6703\u548c\u7d50\u69cb\u4e0d\u5e73\u7b49\u3001\u91ab\u5b78\u8aa4\u89e3\u3001\u8ca0\u9762\u6210\u898b\u4ee5\u53ca\u8a13\u7df4\u6578\u64da\u7f3a\u4e4f\u591a\u6a23\u6027\u3002\n\u8003\u616e\u5be6\u65bd\u4ee5\u516c\u5e73\u7232\u4e2d\u5fc3\u7684\u8a55\u4f30\u548c\u7de9\u89e3\u63aa\u65bd\u3002\u5176\u4e2d\u5305\u62ec\uff1a\n- \u91dd\u5c0d\u4e0d\u540c\u4eba\u7fa3\uff08\u4f8b\u5982\u7a2e\u65cf\u548c\u6c11\u65cf\u3001\u793e\u6703\u7d93\u6fdf\u72c0\u6cc1 [SES]\u3001\u5730\u7406\u4f4d\u7f6e\u3001\u6027\u5225\u8a8d\u540c\u3001\u6027\u53d6\u5411\u3001\u5e74\u9f61\u3001\u8a9e\u8a00\u504f\u597d\u3001\u7a2e\u59d3\u7b49\uff09\u8a55\u4f30\u6a21\u578b\u6027\u80fd\u548c\u884c\u7232\u3002\n- \u7372\u53d6\u6027\u80fd\u53cd\u994b\u3002\n- \u8b93\u8de8\u5b78\u79d1\u5c08\u5bb6\u548c\u5916\u90e8\u5408\u4f5c\u4f19\u4f34\u53c3\u8207\u4e92\u52d5\uff0c\u4ed6\u5011\u81f4\u529b\u65bc\u5b9a\u7fa9\u548c\u89e3\u6c7a\u5065\u5eb7\u7684\u793e\u6703\u548c\u7d50\u69cb\u65b9\u9762\u554f\u984c\u3002\n- \u6301\u7e8c\u958b\u5c55\u76e3\u63a7\u5de5\u4f5c\uff0c\u4ee5\u8a55\u4f30\u548c\u89e3\u6c7a\u504f\u898b\u554f\u984c\u3002\n\u6839\u64da\u60a8\u7684\u4f7f\u7528\u5834\u666f\uff0c\u8003\u616e\u901a\u904e\u5074\u91cd\u65bc\u516c\u5e73\u7684\u8aaa\u660e\u4f86\u64f4\u5145\u63d0\u793a\uff0c\u9019\u6a23\u53ef\u4ee5\u63d0\u9ad8 MedLM \u8f38\u51fa\u5728\u504f\u898b\u548c\u516c\u5e73\u65b9\u9762\u7684\u8cea\u91cf\u3002\n\u4f8b\u5982\uff0c\u5c07\u4ee5\u4e0b\u6587\u672c\u653e\u5728\u63d0\u793a\u7684\u958b\u982d\u6642\uff0c\u53ef\u63d0\u9ad8\u91dd\u5c0d\u7a2e\u65cf\u91ab\u5b78\u554f\u984c\u7684\u7d50\u679c\u8cea\u91cf\uff0c\u5982 [Omiye \u7b49\u4eba\uff082023 \u5e74\uff09](https://www.nature.com/articles/s41746-023-00939-z) \u6240\u793a\uff1a\n```\nYou are a medical knowledge assistant who provides useful, complete, and\nscientifically-grounded answers to queries. Your answers are unbiased and\nup-to-date, and you follow the latest clinical guidelines. You are aware that\nguidelines may have changed recently in order to address bias and inaccurate\ninformation about disadvantaged groups. You are committed to providing the best\npossible care to all patients, regardless of their race, gender, or\ngeographical location. You are always learning and growing, and you are open to\nfeedback. Only account for race, gender, or geographical location in your\nanswer if you are 100% sure it is correct and unbiased, with no possibility of\nmaking a mistake or providing a response based on outdated guidelines.\n```\n\u66f4\u6539\u63d0\u793a\u6703\u5f71\u97ff\u6a21\u578b\u8f38\u51fa\uff0c\u56e0\u6b64\u5efa\u8b70\u9032\u884c\u5168\u9762\u8a55\u4f30\uff0c\u4ee5\u78ba\u4fdd\u5176\u4ed6\u65b9\u9762\u7684\u6027\u80fd\u4e0d\u53d7\u5f71\u97ff\u3002\n\u6709\u95dc\u6a21\u578b\u6027\u80fd\u7684\u5176\u4ed6\u6ce8\u610f\u4e8b\u9805\uff0c\u8acb\u53c3\u95b1 [MedLM \u6a21\u578b\u5361\u7247](https://cloud.google.com/static/vertex-ai/generative-ai/docs/medlm/MedLM-model-card.pdf?hl=zh-cn) \u3002", "guide": "Generative AI on Vertex AI"}