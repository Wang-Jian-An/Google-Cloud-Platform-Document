{"title": "Generative AI on Vertex AI - \u5f9e Gemini on Google AI \u9077\u79fb\u5230 Vertex AI", "url": "https://cloud.google.com/vertex-ai/generative-ai/docs/migrate/migrate-google-ai?hl=zh-cn", "abstract": "# Generative AI on Vertex AI - \u5f9e Gemini on Google AI \u9077\u79fb\u5230 Vertex AI\n\u5982\u679c\u60a8\u525b\u958b\u59cb\u4f7f\u7528 Gemini\uff0c\u5247\u4f7f\u7528\u91dd\u5c0d [Google AI Studio](https://ai.google.dev/tutorials/ai-studio_quickstart?hl=zh-cn) \u7684 [\u5feb\u901f\u5165\u9580](https://ai.google.dev/tutorials/python_quickstart?hl=zh-cn) \u548c [\u65b9\u6848](https://ai.google.dev/pricing?hl=zh-cn) \u662f\u6700\u5feb\u7684\u5165\u9580\u65b9\u6cd5\u3002\n\u4f46\u662f\uff0c\u96a8\u7740\u60a8\u7684\u751f\u6210\u5f0f AI \u89e3\u6c7a\u65b9\u6848\u7684\u6210\u719f\uff0c\u60a8\u53ef\u80fd\u9700\u8981\u4e00\u500b\u7528\u65bc\u7aef\u5230\u7aef\u5730\u69cb\u5efa\u548c\u90e8\u7f72\u751f\u6210 AI \u61c9\u7528\u548c\u89e3\u6c7a\u65b9\u6848\u7684\u5e73\u81fa\u3002Google Cloud \u63d0\u4f9b\u4e86\u4e00\u500b\u5168\u9762\u7684\u5de5\u5177\u751f\u614b\u7cfb\u7d71\uff0c\u4f7f\u958b\u767c\u8005\u80fd\u5920\u5145\u5206\u5229\u7528\u751f\u6210\u5f0f AI \u7684\u5f37\u5927\u529b\u91cf\uff08\u5f9e\u61c9\u7528\u90e8\u7f72\u7684\u521d\u59cb\u968e\u6bb5\u5230\u5927\u898f\u6a21\u7ba1\u7406\u8907\u96dc\u7684\u6578\u64da\uff09\u3002Google Cloud \u7684 Vertex AI \u5e73\u81fa\u63d0\u4f9b\u4e86\u4e00\u5957 MLOps \u5de5\u5177\uff0c\u53ef\u7c21\u5316 AI \u6a21\u578b\u7684\u4f7f\u7528\u3001\u90e8\u7f72\u548c\u76e3\u63a7\uff0c\u4ee5\u63d0\u9ad8\u6548\u7387\u548c\u53ef\u9760\u6027\u3002\n\u6b64\u5916\uff0c\u8207\u6578\u64da\u5eab\u3001DevOps \u5de5\u5177\u3001\u65e5\u8a8c\u8a18\u9304\u3001\u76e3\u63a7\u548c IAM \u7684\u96c6\u6210\u63d0\u4f9b\u4e86\u4e00\u7a2e\u5168\u9762\u7684\u7ba1\u7406\u751f\u6210\u5f0f AI \u751f\u547d\u9031\u671f\u7684\u65b9\u6cd5\u3002\n\u4ee5\u4e0b\u662f\u4e00\u4e9b\u975e\u5e38\u9069\u5408 Google Cloud \u7522\u54c1\u7684\u5e38\u898b\u7528\u4f8b\u3002\n- \u5c07\u60a8\u7684\u61c9\u7528\u548c\u89e3\u6c7a\u65b9\u6848\u751f\u7522\u5316\u3002 [Cloud Functions](https://cloud.google.com/functions/docs/concepts/overview?hl=zh-cn) \u548c [Cloud Run](https://cloud.google.com/run/docs/overview/what-is-cloud-run?hl=zh-cn) \u7b49\u7522\u54c1\u53ef\u8b93\u60a8\u90e8\u7f72\u5177\u6709\u4f01\u696d\u7d1a\u898f\u6a21\u3001\u5b89\u5168\u6027\u548c\u96b1\u79c1\u6027\u7684\u61c9\u7528\u3002\u5982\u9700\u8a73\u7d30\u77ad\u89e3\u5b89\u5168\u548c\u96b1\u79c1\u6b0a\uff0c\u8acb\u53c3\u95b1 [Google Cloud \u4e0a\u7684\u5b89\u5168\u6027\u3001\u96b1\u79c1\u6b0a\u548c\u96f2\u5408\u898f\u6027](https://cloud.google.com/security?hl=zh-cn) \u6307\u5357\u3002\n- \u4f7f\u7528 Vertex AI \u5be6\u73fe\u5f9e\u8abf\u512a\u5230\u5411\u91cf\u76f8\u4f3c\u5ea6\u641c\u7d22\u4ee5\u53ca\u6a5f\u5668\u5b78\u7fd2\u6d41\u6c34\u7dda\u7684\u7aef\u5230\u7aef MLOps \u529f\u80fd\u3002\n- \u85c9\u52a9 [Cloud Functions](https://cloud.google.com/functions/docs/concepts/overview?hl=zh-cn) \u6216 [Cloud Run](https://cloud.google.com/run/docs/overview/what-is-cloud-run?hl=zh-cn) \uff0c\u4f7f\u7528\u4e8b\u4ef6\u9a45\u52d5\u578b\u67b6\u69cb\u4f86\u89f8\u767c LLM \u8abf\u7528\u3002\n- \u4f7f\u7528 [Cloud Logging](https://cloud.google.com/logging/docs?hl=zh-cn) \u548c [BigQuery](https://cloud.google.com/logging/docs/export/bigquery?hl=zh-cn) \u76e3\u63a7\u61c9\u7528\u7684\u4f7f\u7528\u60c5\u6cc1\u3002\n- \u4f7f\u7528 [BigQuery](https://cloud.google.com/bigquery/docs?hl=zh-cn) \u3001 [Cloud Storage](https://cloud.google.com/storage/docs/introduction?hl=zh-cn) \u548c [Cloud SQL](https://cloud.google.com/sql?hl=zh-cn) \u7b49\u670d\u52d9\u5927\u898f\u6a21\u5b58\u5132\u5177\u6709\u4f01\u696d\u7d1a\u5b89\u5168\u6027\u7684\u6578\u64da\u3002\n- \u901a\u904e\u5728\u96f2\u7aef\u4f7f\u7528 [BigQuery](https://cloud.google.com/bigquery/docs?hl=zh-cn) \u6216 [Cloud Storage](https://cloud.google.com/storage/docs/introduction?hl=zh-cn) \u57f7\u884c\u6aa2\u7d22\u589e\u5f37\u751f\u6210 (RAG)\u3002\n- \u5275\u5efa\u548c\u5b89\u6392\u6578\u64da\u6d41\u6c34\u7dda\u3002\u60a8\u53ef\u4ee5\u4f7f\u7528 [Cloud Scheduler](https://cloud.google.com/scheduler/docs/overview?hl=zh-cn) [\u5b89\u6392\u4f5c\u696d](https://cloud.google.com/scheduler/docs/schedule-run-cron-job?hl=zh-cn) \u3002\n- \u5c07 LLM \u61c9\u7528\u65bc\u60a8\u5728\u96f2\u7aef\u7684\u6578\u64da\u3002\u5982\u679c\u60a8\u5c07\u6578\u64da\u5b58\u5132\u5728 Cloud Storage \u6216 BigQuery \u4e2d\uff0c\u5247\u53ef\u4ee5\u63d0\u793a\u8a72\u6578\u64da\u751f\u6210 LLM\u3002\u4f8b\u5982\uff0c\u63d0\u53d6\u4fe1\u606f\uff0c\u7e3d\u7d50\u6216\u63d0\u51fa\u6709\u95dc\u8a72\u4fe1\u606f\u7684\u554f\u984c\u3002\n- \u5229\u7528 Google Cloud \u7684 [\u6578\u64da\u6cbb\u7406/\u99d0\u7559](https://cloud.google.com/learn/what-is-data-governance?hl=zh-cn) \u653f\u7b56\u4f86\u7ba1\u7406\u6578\u64da\u751f\u547d\u9031\u671f\u3002", "content": "## Google AI \u8207 Vertex AI \u7684\u5340\u5225\n\u4e0b\u8868\u7e3d\u7d50\u4e86 Google AI \u8207 Vertex AI \u4e4b\u9593\u7684\u4e3b\u8981\u5340\u5225\uff0c\u53ef\u5e6b\u52a9\u60a8\u78ba\u5b9a\u9069\u5408\u60a8\u7684\u61c9\u7528\u5834\u666f\u7684\u9078\u9805\uff1a\n| \u7279\u6027     | Google AI Gemini API        | Google Cloud Vertex AI Gemini API         |\n|:---------------------|:---------------------------------------------------|:---------------------------------------------------------------------|\n| \u6700\u65b0\u7684 Gemini \u6a21\u578b | Gemini Pro \u548c Gemini Ultra       | Gemini Pro \u548c Gemini Ultra           |\n| \u8a3b\u518a     | Google \u8cec\u865f          | Google Cloud \u8cec\u865f\uff08\u5177\u6709\u689d\u6b3e\u5354\u8b70\u548c\u7d50\u7b97\uff09        |\n| Authentication  | API \u5bc6\u9470           | Google Cloud \u670d\u52d9\u8cec\u865f            |\n| \u754c\u9762\u5e73\u81fa    | Google AI Studio         | Vertex AI Studio              |\n| API \u548c SDK   | Python\u3001Node.js\u3001Android\uff08Kotlin/Java\uff09\u3001Swift\u3001Go | SDK \u652f\u6301 Python\u3001Node.js\u3001Java\u3001Go         |\n| \u514d\u8cbb\u5c64\u7d1a    | \u662f             | \u9762\u5411\u65b0\u7528\u6236\u7684 300 \u7f8e\u5143 Google Cloud \u8d08\u91d1        |\n| \u914d\u984d\uff08\u6bcf\u5206\u9418\u8acb\u6c42\u6578\uff09 | 60\uff08\u53ef\u4ee5\u7533\u8acb\u589e\u52a0\u914d\u984d\uff09        | \u8acb\u6c42\u589e\u52a0\uff08\u9ed8\u8a8d\u503c\uff1a60\uff09            |\n| \u4f01\u696d\u652f\u6301\u670d\u52d9   | \u5426             | \u5ba2\u6236\u52a0\u5bc6\u5bc6\u9470 \u865b\u64ec\u79c1\u6709\u4e91 \u6578\u64da\u99d0\u7559 Access Transparency    |\n| MLOps    | \u5426             | Vertex AI \u4e0a\u7684\u5b8c\u6574 MLOps\uff08\u793a\u4f8b\uff1a\u6a21\u578b\u8a55\u4f30\u3001\u6a21\u578b\u76e3\u63a7\u3001Model Registry\uff09 |\n\u4ee5\u4e0b\u662f\u5728\u9077\u79fb\u6642\u9700\u8981\u6ce8\u610f\u7684\u5176\u4ed6\u6ce8\u610f\u4e8b\u9805\uff1a\n- \u60a8\u53ef\u4ee5\u4f7f\u7528\u73fe\u6709\u7684 Google Cloud \u9805\u76ee\uff08\u5373\u7528\u65bc\u751f\u6210 API \u5bc6\u9470\u7684\u9805\u76ee\uff09\uff0c\u4e5f\u53ef\u4ee5 [\u5275\u5efa\u65b0\u7684 Google Cloud \u9805\u76ee](https://cloud.google.com/resource-manager/docs/creating-managing-projects?hl=zh-cn) \u3002\n- Google AI Studio \u548c Vertex AI \u652f\u6301\u7684\u5340\u57df\u53ef\u80fd\u6703\u6709\u6240\u4e0d\u540c\u3002\u8acb\u53c3\u95b1 [Google Cloud \u4e0a\u7684\u751f\u6210\u5f0f AI \u652f\u6301\u7684\u5340\u57df](https://cloud.google.com/vertex-ai/docs/generative-ai/learn/locations-genai?hl=zh-cn) \u5217\u8868\u3002\n- \u60a8\u5728 Google AI Studio \u4e2d\u5275\u5efa\u7684\u4efb\u4f55\u6a21\u578b\u90fd\u9700\u8981\u5728 Vertex AI \u4e2d\u91cd\u65b0\u8a13\u7df4\u3002## \u5f9e Gemini on Google AI \u9077\u79fb\u5230 Vertex AI\n\u672c\u90e8\u5206\u4ecb\u7d39\u5982\u4f55\u5f9e\u4f7f\u7528 Google AI Gemini \u9077\u79fb\u5230 Google Cloud \u7684 Vertex AI Gemini\u3002\n### \u958b\u59cb\u4f7f\u7528 Vertex AI Studio\n\u5982\u9700\u901a\u904e Vertex AI \u958b\u59cb\u4f7f\u7528 Gemini\uff0c\u6700\u7c21\u55ae\u7684\u65b9\u6cd5\u662f\u4f7f\u7528 Vertex AI Studio\u3002\n- \u5982\u679c\u60a8\u4e4b\u524d\u901a\u904e Google AI Studio \u5275\u5efa\u4e86 API \u5bc6\u9470\uff0c\u5247\u7cfb\u7d71\u5df2\u7232\u60a8\u5275\u5efa\u4e00\u500b Google Cloud \u9805\u76ee\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528\u540c\u4e00\u9805\u76ee\u3002\u5982\u9700\u67e5\u627e\u60a8\u7684 Google Cloud \u9805\u76ee\uff0c\u8acb\u8f49\u5230 Google AI Studio \u4e0a\u7684 [API \u5bc6\u9470](https://makersuite.google.com/app/apikey?hl=zh-cn) \u3002\n- \u5426\u5247\uff0c\u60a8\u9700\u8981\u5275\u5efa\u4e00\u500b Google Cloud \u9805\u76ee\u4e26\u5553\u7528 Vertex AI API\u3002 \u5982\u9700\u76f8\u95dc\u8aaa\u660e\uff0c\u8acb\u53c3\u95b1 [\u8a2d\u7f6e\u9805\u76ee](https://cloud.google.com/vertex-ai/docs/start/cloud-environment?hl=zh-cn) \u6307\u5357\u3002\n- \u524d\u5f80 [Google Cloud \u63a7\u5236\u6aaf](https://console.cloud.google.com/?hl=zh-cn) \u3002\n- \u5728\u60a8\u7684 Google Cloud \u9805\u76ee\u4e0a [\u5553\u7528\u7d50\u7b97\u529f\u80fd](https://cloud.google.com/billing/docs/how-to/modify-project?hl=zh-cn#how-to-enable-billing) \uff08\u5982\u679c\u5c1a\u672a\u5553\u7528\uff09\u3002Google Cloud \u7684\u65b0\u7528\u6236\u5c07\u7372\u5f97 [300 \u7f8e\u5143] \u8d08\u91d1\u3002\n- \u901a\u904e\u6b64\u93c8\u63a5\u8f49\u5230 [Vertex AI Studio](https://console.cloud.google.com/vertex-ai/generative?hl=zh-cn) \u3002\u60a8\u9084\u53ef\u4ee5\u5728\u641c\u7d22\u6b04\u4e2d\u641c\u7d22\u201cVertex AI Studio\u201d\u3002\n\u73fe\u5728\uff0c\u60a8\u53ef\u4ee5\u958b\u59cb\u4f7f\u7528 Vertex AI Studio \u4e86\u3002\u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u8a2a\u554f [Vertex AI Studio \u6587\u6a94](https://cloud.google.com/vertex-ai/docs/generative-ai/learn/generative-ai-studio?hl=zh-cn) \u3002\n### Python\uff1a\u9077\u79fb\u5230 Vertex AI Gemini API\n\u4ee5\u4e0b\u90e8\u5206\u986f\u793a\u4e86\u4ee3\u78bc\u6bb5\uff0c\u53ef\u5e6b\u52a9\u60a8\u9077\u79fb Python \u4ee3\u78bc\u4ee5\u4f7f\u7528 Vertex AI Gemini API\u3002\n\u5728 Vertex AI \u4e0a\uff0c\u60a8\u4e0d\u9700\u8981 API \u5bc6\u9470\u3002\u4e0d\u904e\uff0cGemini on Vertex AI \u6703\u4f7f\u7528 IAM \u8a2a\u554f\u6b0a\u9650\u9032\u884c\u7ba1\u7406\uff0c\u8a72\u8a2a\u554f\u6b0a\u9650\u63a7\u5236\u7528\u6236\u3001\u7fa3\u7d44\u6216\u670d\u52d9\u8cec\u865f\u901a\u904e Vertex AI SDK \u8abf\u7528 Gemini API \u7684\u6b0a\u9650\u3002\n\u8eab\u4efd\u9a57\u8b49\u6709\u591a\u7a2e\u65b9\u5f0f\u3002\u60a8\u53ef\u4ee5\u6309\u7167\u6b64 [\u6c7a\u7b56\u6a39\u7232\u60a8\u7684\u61c9\u7528\u5834\u666f\u9078\u64c7\u5408\u9069\u7684\u8eab\u4efd\u9a57\u8b49\u65b9\u6cd5](https://cloud.google.com/docs/authentication?hl=zh-cn#auth-decision-tree) \u3002\n\u5982\u9700\u5c0d Vertex AI \u9032\u884c\u63a8\u7406\u8abf\u7528\uff0c\u60a8\u9084\u5fc5\u9808\u78ba\u4fdd\u5df2\u5553\u7528 [Vertex AI User](https://cloud.google.com/vertex-ai/docs/general/access-control?hl=zh-cn#aiplatform.user) \u3002\n| Google AI                                                  | Vertex AI                                                                   |\n|:----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|:----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| # To install the Python SDK, use this CLI command: # pip install google-generativeai from google.generativeai import GenerativeModel from google.colab import userdata genai.configure(userdata.get('API_KEY')) | # To install the Python SDK, use this CLI command: # pip install google-cloud-aiplatform import vertexai from vertexai.preview.generative_models import GenerativeModel, Image PROJECT_ID = \"\" REGION = \"\" # e.g. us-central1 vertexai.init(project=PROJECT_ID, location=REGION) |\n| Google AI                                    | Vertex AI                                    |\n|:------------------------------------------------------------------------------------------------------------------------------------------------------|:------------------------------------------------------------------------------------------------------------------------------------------------------|\n| model = GenerativeModel('gemini-pro') response = model.generate_content('The opposite of hot is') print(response.text) # The opposite of hot is cold. | model = GenerativeModel('gemini-pro') response = model.generate_content('The opposite of hot is') print(response.text) # The opposite of hot is cold. |\n| Google AI                                                           | Vertex AI                                                          |\n|:---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|:-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| import PIL.Image multimodal_model = GenerativeModel('gemini-pro-vision') image = PIL.Image.open('image.jpg') response = multimodal_model.generate_content(['What is this picture?', image]) print(response.text) # A cat is shown in this picture. | multimodal_model = GenerativeModel(\"gemini-pro-vision\") image = Image.load_from_file(\"image.jpg\") response = multimodal_model.generate_content([\"What is shown in this image?\", image]) print(response.text) # A cat is shown in this picture. |\n| Google AI                                      | Vertex AI                                      |\n|:----------------------------------------------------------------------------------------------------------------------------------------------------------------|:----------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| model = GenerativeModel('gemini-pro') chat = model.start_chat() print(chat.send_message(\"How are you?\").text) print(chat.send_message(\"What can you do?\").text) | model = GenerativeModel(\"gemini-pro\") chat = model.start_chat() print(chat.send_message(\"How are you?\").text) print(chat.send_message(\"What can you do?\").text) |\n### \u5c07\u63d0\u793a\u9077\u79fb\u5230 Vertex AI Studio\n\u60a8\u7684 Google AI Studio \u63d0\u793a\u6578\u64da\u4fdd\u5b58\u5728 Google \u96f2\u7aef\u786c\u76e4\u6587\u4ef6\u593e\u4e2d\u3002\u672c\u90e8\u5206\u4ecb\u7d39\u77ad\u5982\u4f55\u5c07\u63d0\u793a\u9077\u79fb\u5230 Vertex AI Studio\u3002\n- \u6253\u958b [Google \u96f2\u7aef\u786c\u76e4](https://drive.google.com?hl=zh-cn) \u3002\n- \u5c0e\u822a\u5230\u5b58\u5132\u63d0\u793a\u7684 **AI_Studio** \u6587\u4ef6\u593e\u3002\n- \u5c07\u6240\u6709\u63d0\u793a\u5f9e Google \u96f2\u7aef\u786c\u76e4\u4e0b\u8f09\u5230\u672c\u5730\u6587\u4ef6\u3002\u78ba\u4fdd\u63d0\u793a\u63a1\u7528 JSON \u683c\u5f0f\u3002\n- \u5728 Google Cloud \u63a7\u5236\u6aaf\u4e2d\u6253\u958b [Vertex AI Generative AI Studio](https://console.cloud.google.com/vertex-ai/generative?hl=zh-cn) \u3002\n- \u5728 **\u8a9e\u8a00** \u5361\u7247\u4e0a\uff0c\u9ede\u64ca **\u6253\u958b** \u3002\n- \u9ede\u64ca **\u6211\u7684\u63d0\u793a** \u6a19\u7c64\u9801\u3002\n- \u9ede\u64ca **\u5c0e\u5165\u63d0\u793a** \u3002\n- \u9078\u64c7\u63d0\u793a\u7684\u672c\u5730\u76ee\u9304\u6216\u63d0\u793a\u5217\u8868\u3002\u5982\u9700\u6279\u91cf\u4e0a\u50b3\u63d0\u793a\uff0c\u8acb\u5c07\u5176\u4f5c\u7232 JSON \u6587\u4ef6\u4e2d\u7684\u63d0\u793a\u5217\u8868\u6dfb\u52a0\u3002\n- \u9ede\u64ca **\u4e0a\u50b3** \u3002\u63d0\u793a\u6703\u4e0a\u50b3\u5230 **\u6211\u7684\u63d0\u793a** \u6a19\u7c64\u9801\u3002\n### \u5c07\u8a13\u7df4\u6578\u64da\u4e0a\u50b3\u5230 Vertex AI Studio\n\u5982\u9700\u5c07\u8a13\u7df4\u6578\u64da\u9077\u79fb\u5230 Vertex AI\uff0c\u60a8\u9700\u8981\u5c07\u6578\u64da\u4e0a\u50b3\u5230 Google Cloud Storage \u5b58\u5132\u6876\u3002\u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1 [\u8abf\u6574\u8a9e\u8a00\u57fa\u790e\u6a21\u578b](https://cloud.google.com/vertex-ai/docs/generative-ai/models/tune-models?hl=zh-cn) \u3002\n## \u522a\u9664\u672a\u4f7f\u7528\u7684 API \u5bc6\u9470\n\u5982\u679c\u60a8\u4e0d\u518d\u9700\u8981\u4f7f\u7528 Google AI Gemini API \u5bc6\u9470\uff0c\u8acb\u9075\u5faa\u5b89\u5168\u6027\u6700\u4f73\u505a\u6cd5\u4e26 [\u5c07\u5176\u522a\u9664](https://developers.google.com/maps/api-security-best-practices?hl=zh-cn#deleting-unused-apikeys) \u3002\n## \u5f8c\u7e8c\u6b65\u9a5f\n- \u4f7f\u7528 [Generative AI Studio](https://cloud.google.com/vertex-ai/generative-ai/docs/start/quickstarts/quickstart?hl=zh-cn) \u6216 [Vertex AI API](https://cloud.google.com/vertex-ai/generative-ai/docs/start/quickstarts/api-quickstart?hl=zh-cn) \u5617\u8a66\u5b78\u7fd2\u5feb\u901f\u5165\u9580\u6559\u7a0b\u3002", "guide": "Generative AI on Vertex AI"}