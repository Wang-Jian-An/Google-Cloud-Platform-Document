{"title": "Generative AI on Vertex AI - \u6e2c\u8a66\u4ee3\u78bc\u751f\u6210\u63d0\u793a", "url": "https://cloud.google.com/vertex-ai/generative-ai/docs/code/test-code-generation-prompts?hl=zh-cn", "abstract": "# Generative AI on Vertex AI - \u6e2c\u8a66\u4ee3\u78bc\u751f\u6210\u63d0\u793a\n\u8981\u8a2d\u8a08\u51fa\u6548\u679c\u826f\u597d\u7684\u63d0\u793a\uff0c\u53ef\u4ee5\u6e2c\u8a66\u4e0d\u540c\u7248\u672c\u7684\u63d0\u793a\uff0c\u4e26\u5617\u8a66\u4f7f\u7528\u63d0\u793a\u53c3\u6578\uff0c\u4ee5\u78ba\u5b9a\u54ea\u7a2e\u65b9\u5f0f\u80fd\u7372\u5f97\u6700\u4f73\u97ff\u61c9\u3002\u60a8\u53ef\u4ee5\u4f7f\u7528 Codey API \u4ee5\u7de8\u7a0b\u65b9\u5f0f\u6e2c\u8a66\u63d0\u793a\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528 Vertex AI Studio \u5728 Google Cloud \u63a7\u5236\u6aaf\u4e2d\u6e2c\u8a66\u63d0\u793a\u3002\n", "content": "## \u6e2c\u8a66\u4ee3\u78bc\u751f\u6210\u63d0\u793a\n\u5982\u9700\u6e2c\u8a66\u4ee3\u78bc\u751f\u6210\u63d0\u793a\uff0c\u8acb\u9078\u64c7\u4ee5\u4e0b\u65b9\u6cd5\u4e4b\u4e00\u3002\n\u5982\u9700\u4f7f\u7528 Vertex AI API \u6e2c\u8a66\u4ee3\u78bc\u751f\u6210\u63d0\u793a\uff0c\u8acb\u5411\u767c\u4f48\u65b9\u6a21\u578b\u7aef\u9ede\u767c\u9001 POST \u8acb\u6c42\u3002\n\u5728\u4f7f\u7528\u4efb\u4f55\u8acb\u6c42\u6578\u64da\u4e4b\u524d\uff0c\u8acb\u5148\u9032\u884c\u4ee5\u4e0b\u66ff\u63db\uff1a- \uff1a\u60a8\u7684 [\u9805\u76ee ID](https://cloud.google.com/resource-manager/docs/creating-managing-projects?hl=zh-cn#identifiers) \u3002\n- \uff1a\u5c0d\u65bc\u4ee3\u78bc\u6a21\u578b\uff0c`prefix`\u8868\u793a\u4e00\u689d\u6709\u610f\u7fa9\u7684\u7de8\u7a0b\u4ee3\u78bc\u7684\u958b\u982d\uff0c\u6216\u63cf\u8ff0\u8981\u751f\u6210\u7684\u4ee3\u78bc\u7684\u81ea\u7136\u8a9e\u8a00\u63d0\u793a\u3002\n- \uff1a\u6eab\u5ea6 (temperature) \u5728\u751f\u6210\u97ff\u61c9\u671f\u9593\u7528\u65bc\u63a1\u6a23\u3002\u6eab\u5ea6\u53ef\u4ee5\u63a7\u5236\u8a5e\u5143\u9078\u64c7\u7684\u96a8\u6a5f\u6027\u3002\u8f03\u4f4e\u7684\u6eab\u5ea6\u6709\u5229\u65bc\u9700\u8981\u66f4\u5c11\u958b\u653e\u6027\u6216\u5275\u9020\u6027\u56de\u8986\u7684\u63d0\u793a\uff0c\u800c\u8f03\u9ad8\u7684\u6eab\u5ea6\u53ef\u4ee5\u5e36\u4f86\u66f4\u5177\u591a\u6a23\u6027\u6216\u5275\u9020\u6027\u7684\u7d50\u679c\u3002\u6eab\u5ea6\u7232`0`\u8868\u793a\u59cb\u7d42\u9078\u64c7\u6982\u7387\u6700\u9ad8\u7684\u8a5e\u5143\u3002\u5728\u9019\u7a2e\u60c5\u6cc1\u4e0b\uff0c\u7d66\u5b9a\u63d0\u793a\u7684\u56de\u8986\u5927\u591a\u662f\u78ba\u5b9a\u7684\uff0c\u4f46\u53ef\u80fd\u4ecd\u7136\u6709\u5c11\u91cf\u8b8a\u5316\u3002\n- \uff1a\u97ff\u61c9\u4e2d\u53ef\u751f\u6210\u7684\u8a5e\u5143\u6578\u91cf\u4e0a\u9650\u3002\u8a5e\u5143\u7d04\u7232 4 \u500b\u5b57\u7b26\u3002100 \u500b\u8a5e\u5143\u5c0d\u61c9\u5927\u7d04 60-80 \u500b\u55ae\u8a5e\u3002\u6307\u5b9a\u8f03\u4f4e\u7684\u503c\u53ef\u7372\u5f97\u8f03\u77ed\u7684\u56de\u8986\uff0c\u6307\u5b9a\u8f03\u9ad8\u7684\u503c\u53ef\u7372\u5f97\u53ef\u80fd\u8f03\u9577\u7684\u56de\u8986\u3002\n- \uff1a\u8981\u8fd4\u56de\u7684\u97ff\u61c9\u8b8a\u9ad4\u7248\u672c\u6578\u91cf\u3002 \u6709\u6548\u503c\u7684\u7bc4\u570d\u662f 1 \u5230 4 \u4e4b\u9593\u7684`int`\u3002\nHTTP \u65b9\u6cd5\u548c\u7db2\u5740\uff1a\n```\nPOST https://us-central1-aiplatform.googleapis.com/v1/projects/PROJECT_ID/locations/us-central1/publishers/google/models/code-bison:predict\n```\n\u8acb\u6c42 JSON \u6b63\u6587\uff1a\n```\n{\n \"instances\": [ { \"prefix\": \"PREFIX\" }\n ],\n \"parameters\": {\n \"temperature\": TEMPERATURE,\n \"maxOutputTokens\": MAX_OUTPUT_TOKENS,\n \"candidateCount\": CANDIDATE_COUNT\n }\n}\n```\n\u5982\u9700\u767c\u9001\u8acb\u6c42\uff0c\u8acb\u9078\u64c7\u4ee5\u4e0b\u65b9\u5f0f\u4e4b\u4e00\uff1a\n **\u6ce8\u610f** \uff1a\u4ee5\u4e0b\u547d\u4ee4\u5047\u5b9a\u60a8\u5df2\u4f7f\u7528\u60a8\u7684\u7528\u6236\u8cec\u865f\u901a\u904e\u904b\u884c [gcloud init](https://cloud.google.com/sdk/gcloud/reference/init?hl=zh-cn) \u6216 [gcloud auth login](https://cloud.google.com/sdk/gcloud/reference/auth/login?hl=zh-cn) \u767b\u9304`gcloud`CLI\uff0c\u6216\u8005\u4f7f\u7528\u4e86 [Cloud Shell](https://cloud.google.com/shell/docs?hl=zh-cn) \uff0c\u9019\u6703\u4f7f\u60a8\u81ea\u52d5\u767b\u9304`gcloud`CLI\u3002\u60a8\u53ef\u4ee5\u904b\u884c [gcloud auth list](https://cloud.google.com/sdk/gcloud/reference/auth/list?hl=zh-cn) \u4f86\u6aa2\u67e5\u7576\u524d\u6d3b\u8e8d\u7684\u8cec\u865f\u3002\n\u5c07\u8acb\u6c42\u6b63\u6587\u4fdd\u5b58\u5728\u540d\u7232 `request.json` \u7684\u6587\u4ef6\u4e2d\uff0c\u7136\u5f8c\u57f7\u884c\u4ee5\u4e0b\u547d\u4ee4\uff1a\n```\ncurl -X POST \\ -H \"Authorization: Bearer $(gcloud auth print-access-token)\" \\ -H \"Content-Type: application/json; charset=utf-8\" \\ -d @request.json \\ \"https://us-central1-aiplatform.googleapis.com/v1/projects/PROJECT_ID/locations/us-central1/publishers/google/models/code-bison:predict\"\n``` **\u6ce8\u610f** \uff1a\u4ee5\u4e0b\u547d\u4ee4\u5047\u5b9a\u60a8\u5df2\u4f7f\u7528\u60a8\u7684\u7528\u6236\u8cec\u865f\u901a\u904e\u904b\u884c [gcloud init](https://cloud.google.com/sdk/gcloud/reference/init?hl=zh-cn) \u6216 [gcloud auth login](https://cloud.google.com/sdk/gcloud/reference/auth/login?hl=zh-cn) \u767b\u9304`gcloud`CLI\uff0c\u6216\u8005\u4f7f\u7528\u4e86 [Cloud Shell](https://cloud.google.com/shell/docs?hl=zh-cn) \uff0c\u9019\u6703\u4f7f\u60a8\u81ea\u52d5\u767b\u9304`gcloud`CLI\u3002\u60a8\u53ef\u4ee5\u904b\u884c [gcloud auth list](https://cloud.google.com/sdk/gcloud/reference/auth/list?hl=zh-cn) \u4f86\u6aa2\u67e5\u7576\u524d\u6d3b\u8e8d\u7684\u8cec\u865f\u3002\n\u5c07\u8acb\u6c42\u6b63\u6587\u4fdd\u5b58\u5728\u540d\u7232 `request.json` \u7684\u6587\u4ef6\u4e2d\uff0c\u7136\u5f8c\u57f7\u884c\u4ee5\u4e0b\u547d\u4ee4\uff1a\n```\n$cred = gcloud auth print-access-token$headers = @{ \"Authorization\" = \"Bearer $cred\" }Invoke-WebRequest ` -Method POST ` -Headers $headers ` -ContentType: \"application/json; charset=utf-8\" ` -InFile request.json ` -Uri \"https://us-central1-aiplatform.googleapis.com/v1/projects/PROJECT_ID/locations/us-central1/publishers/google/models/code-bison:predict\" | Select-Object -Expand Content\n```\n\u60a8\u61c9\u8a72\u6536\u5230\u985e\u4f3c\u4ee5\u4e0b\u5167\u5bb9\u7684 JSON \u97ff\u61c9\u3002\u5982\u9700\u77ad\u89e3\u5982\u4f55\u5b89\u88dd\u6216\u66f4\u65b0 Python\uff0c\u8acb\u53c3\u95b1 [\u5b89\u88dd Python \u7248 Vertex AI SDK](https://cloud.google.com/vertex-ai/docs/start/use-vertex-ai-python-sdk?hl=zh-cn) \u3002   \u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1 [   Python API \u53c3\u8003\u6587\u6a94](https://cloud.google.com/python/docs/reference/aiplatform/latest?hl=zh-cn) \u3002\n [\u5728 GitHub \u4e0a\u67e5\u770b](https://github.com/GoogleCloudPlatform/python-docs-samples/blob/HEAD/generative_ai/code_generation_function.py) \n```\nfrom vertexai.language_models import CodeGenerationModeldef generate_a_function(temperature: float = 0.5) -> object:\u00a0 \u00a0 \"\"\"Example of using Codey for Code Generation to write a function.\"\"\"\u00a0 \u00a0 # TODO developer - override these parameters as needed:\u00a0 \u00a0 parameters = {\u00a0 \u00a0 \u00a0 \u00a0 \"temperature\": temperature, \u00a0# Temperature controls the degree of randomness in token selection.\u00a0 \u00a0 \u00a0 \u00a0 \"max_output_tokens\": 256, \u00a0# Token limit determines the maximum amount of text output.\u00a0 \u00a0 }\u00a0 \u00a0 code_generation_model = CodeGenerationModel.from_pretrained(\"code-bison@001\")\u00a0 \u00a0 response = code_generation_model.predict(\u00a0 \u00a0 \u00a0 \u00a0 prefix=\"Write a function that checks if a year is a leap year.\", **parameters\u00a0 \u00a0 )\u00a0 \u00a0 print(f\"Response from Model: {response.text}\")\u00a0 \u00a0 return response\n```\u5728\u5617\u8a66\u6b64\u793a\u4f8b\u4e4b\u524d\uff0c\u8acb\u6309\u7167 [\u300a\u751f\u6210\u5f0f AI \u5feb\u901f\u5165\u9580\uff1a\u4f7f\u7528\u5ba2\u6236\u7aef\u5eab\u300b](https://cloud.google.com/vertex-ai/docs/start/client-libraries?hl=zh-cn) \u4e2d\u7684 Node.js \u8a2d\u7f6e\u8aaa\u660e\u57f7\u884c\u64cd\u4f5c\u3002\u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1 [\u751f\u6210\u5f0f AI Node.js API \u53c3\u8003\u6587\u6a94](https://cloud.google.com/nodejs/docs/reference/aiplatform/latest?hl=zh-cn) \u3002\n\u5982\u9700\u5411\u751f\u6210\u5f0f AI \u9032\u884c\u8eab\u4efd\u9a57\u8b49\uff0c\u8acb\u8a2d\u7f6e\u61c9\u7528\u9ed8\u8a8d\u6191\u64da\u3002\u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1 [\u7232\u672c\u5730\u958b\u767c\u74b0\u5883\u8a2d\u7f6e\u8eab\u4efd\u9a57\u8b49](https://cloud.google.com/docs/authentication/provide-credentials-adc?hl=zh-cn#local-dev) \u3002\n [\u5728 GitHub \u4e0a\u67e5\u770b](https://github.com/GoogleCloudPlatform/nodejs-docs-samples/blob/HEAD/ai-platform/snippets/predict-code-generation-function.js) \n```\n/**\u00a0* TODO(developer): Uncomment these variables before running the sample.\\\u00a0* (Not necessary if passing values as arguments)\u00a0*/// const project = 'YOUR_PROJECT_ID';// const location = 'YOUR_PROJECT_LOCATION';const aiplatform = require('@google-cloud/aiplatform');// Imports the Google Cloud Prediction service clientconst {PredictionServiceClient} = aiplatform.v1;// Import the helper module for converting arbitrary protobuf.Value objects.const {helpers} = aiplatform;// Specifies the location of the api endpointconst clientOptions = {\u00a0 apiEndpoint: 'us-central1-aiplatform.googleapis.com',};const publisher = 'google';const model = 'code-bison@001';// Instantiates a clientconst predictionServiceClient = new PredictionServiceClient(clientOptions);async function callPredict() {\u00a0 // Configure the parent resource\u00a0 const endpoint = `projects/${project}/locations/${location}/publishers/${publisher}/models/${model}`;\u00a0 const prompt = {\u00a0 \u00a0 prefix: 'Write a function that checks if a year is a leap year.',\u00a0 };\u00a0 const instanceValue = helpers.toValue(prompt);\u00a0 const instances = [instanceValue];\u00a0 const parameter = {\u00a0 \u00a0 temperature: 0.5,\u00a0 \u00a0 maxOutputTokens: 256,\u00a0 };\u00a0 const parameters = helpers.toValue(parameter);\u00a0 const request = {\u00a0 \u00a0 endpoint,\u00a0 \u00a0 instances,\u00a0 \u00a0 parameters,\u00a0 };\u00a0 // Predict request\u00a0 const [response] = await predictionServiceClient.predict(request);\u00a0 console.log('Get code generation response');\u00a0 const predictions = response.predictions;\u00a0 console.log('\\tPredictions :');\u00a0 for (const prediction of predictions) {\u00a0 \u00a0 console.log(`\\t\\tPrediction : ${JSON.stringify(prediction)}`);\u00a0 }}callPredict();\n```\u5728\u5617\u8a66\u6b64\u793a\u4f8b\u4e4b\u524d\uff0c\u8acb\u6309\u7167 [\u300a\u751f\u6210\u5f0f AI \u5feb\u901f\u5165\u9580\uff1a\u4f7f\u7528\u5ba2\u6236\u7aef\u5eab\u300b](https://cloud.google.com/vertex-ai/docs/start/client-libraries?hl=zh-cn) \u4e2d\u7684 Java \u8a2d\u7f6e\u8aaa\u660e\u57f7\u884c\u64cd\u4f5c\u3002\u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1 [\u751f\u6210\u5f0f AI Java API \u53c3\u8003\u6587\u6a94](https://cloud.google.com/java/docs/reference/google-cloud-aiplatform/latest/com.google.cloud.aiplatform.v1?hl=zh-cn) \u3002\n\u5982\u9700\u5411\u751f\u6210\u5f0f AI \u9032\u884c\u8eab\u4efd\u9a57\u8b49\uff0c\u8acb\u8a2d\u7f6e\u61c9\u7528\u9ed8\u8a8d\u6191\u64da\u3002\u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1 [\u7232\u672c\u5730\u958b\u767c\u74b0\u5883\u8a2d\u7f6e\u8eab\u4efd\u9a57\u8b49](https://cloud.google.com/docs/authentication/provide-credentials-adc?hl=zh-cn#local-dev) \u3002\n [\u5728 GitHub \u4e0a\u67e5\u770b](https://github.com/GoogleCloudPlatform/java-docs-samples/blob/HEAD/aiplatform/src/main/java/aiplatform/PredictCodeGenerationFunctionSample.java) \n```\nimport com.google.cloud.aiplatform.v1beta1.EndpointName;import com.google.cloud.aiplatform.v1beta1.PredictResponse;import com.google.cloud.aiplatform.v1beta1.PredictionServiceClient;import com.google.cloud.aiplatform.v1beta1.PredictionServiceSettings;import com.google.protobuf.InvalidProtocolBufferException;import com.google.protobuf.Value;import com.google.protobuf.util.JsonFormat;import java.io.IOException;import java.util.ArrayList;import java.util.List;public class PredictCodeGenerationFunctionSample {\u00a0 public static void main(String[] args) throws IOException {\u00a0 \u00a0 // TODO(developer): Replace this variable before running the sample.\u00a0 \u00a0 String project = \"YOUR_PROJECT_ID\";\u00a0 \u00a0 // Learn how to create prompts to work with a code model to generate code:\u00a0 \u00a0 // https://cloud.google.com/vertex-ai/docs/generative-ai/code/code-generation-prompts\u00a0 \u00a0 String instance = \"{ \\\"prefix\\\": \\\"Write a function that checks if a year is a leap year.\\\"}\";\u00a0 \u00a0 String parameters = \"{\\n\" + \" \u00a0\\\"temperature\\\": 0.5,\\n\" + \" \u00a0\\\"maxOutputTokens\\\": 256,\\n\" + \"}\";\u00a0 \u00a0 String location = \"us-central1\";\u00a0 \u00a0 String publisher = \"google\";\u00a0 \u00a0 String model = \"code-bison@001\";\u00a0 \u00a0 predictFunction(instance, parameters, project, location, publisher, model);\u00a0 }\u00a0 // Use Codey for Code Generation to generate a code function\u00a0 public static void predictFunction(\u00a0 \u00a0 \u00a0 String instance,\u00a0 \u00a0 \u00a0 String parameters,\u00a0 \u00a0 \u00a0 String project,\u00a0 \u00a0 \u00a0 String location,\u00a0 \u00a0 \u00a0 String publisher,\u00a0 \u00a0 \u00a0 String model)\u00a0 \u00a0 \u00a0 throws IOException {\u00a0 \u00a0 final String endpoint = String.format(\"%s-aiplatform.googleapis.com:443\", location);\u00a0 \u00a0 PredictionServiceSettings predictionServiceSettings =\u00a0 \u00a0 \u00a0 \u00a0 PredictionServiceSettings.newBuilder().setEndpoint(endpoint).build();\u00a0 \u00a0 // Initialize client that will be used to send requests. This client only needs to be created\u00a0 \u00a0 // once, and can be reused for multiple requests.\u00a0 \u00a0 try (PredictionServiceClient predictionServiceClient =\u00a0 \u00a0 \u00a0 \u00a0 PredictionServiceClient.create(predictionServiceSettings)) {\u00a0 \u00a0 \u00a0 final EndpointName endpointName =\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 EndpointName.ofProjectLocationPublisherModelName(project, location, publisher, model);\u00a0 \u00a0 \u00a0 Value instanceValue = stringToValue(instance);\u00a0 \u00a0 \u00a0 List<Value> instances = new ArrayList<>();\u00a0 \u00a0 \u00a0 instances.add(instanceValue);\u00a0 \u00a0 \u00a0 Value parameterValue = stringToValue(parameters);\u00a0 \u00a0 \u00a0 PredictResponse predictResponse =\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 predictionServiceClient.predict(endpointName, instances, parameterValue);\u00a0 \u00a0 \u00a0 System.out.println(\"Predict Response\");\u00a0 \u00a0 \u00a0 System.out.println(predictResponse);\u00a0 \u00a0 }\u00a0 }\u00a0 // Convert a Json string to a protobuf.Value\u00a0 static Value stringToValue(String value) throws InvalidProtocolBufferException {\u00a0 \u00a0 Value.Builder builder = Value.newBuilder();\u00a0 \u00a0 JsonFormat.parser().merge(value, builder);\u00a0 \u00a0 return builder.build();\u00a0 }}\n```\u5982\u9700\u5728 Google Cloud \u63a7\u5236\u6aaf\u4e2d\u4f7f\u7528 Vertex AI Studio \u6e2c\u8a66\u4ee3\u78bc\u751f\u6210\u63d0\u793a\uff0c\u8acb\u57f7\u884c\u4ee5\u4e0b\u64cd\u4f5c\uff1a- \u5728 Google Cloud \u63a7\u5236\u6aaf\u7684\u201c\u751f\u6210\u5f0f AI\u201d\u90e8\u5206\uff0c\u9032\u5165 **Vertex AI Studio** \u3002 [\u9032\u5165 Vertex AI Studio](https://console.cloud.google.com/vertex-ai/generative/language?hl=zh-cn) \n- \u9ede\u64ca **\u958b\u59cb\u4f7f\u7528** \u3002\n- \u9ede\u64caadd **\u5275\u5efa\u63d0\u793a** \u3002\n- \u5728 **\u6a21\u578b** \u4e2d\uff0c\u9078\u64c7\u540d\u7a31\u4ee5`code-bison`\u958b\u982d\u7684\u6a21\u578b\u3002`code-bison`\u5f8c\u9762\u7684\u4e09\u4f4d\u6578\u8868\u793a\u6a21\u578b\u7684\u7248\u672c\u865f\u3002\u4f8b\u5982\uff0c`code-bison@001`\u662f\u4ee3\u78bc\u751f\u6210\u6a21\u578b\u7684\u7248\u672c\u4e00\u7684\u540d\u7a31\u3002\n- \u5728 **\u63d0\u793a** \u4e2d\uff0c\u8f38\u5165\u4ee3\u78bc\u751f\u6210\u63d0\u793a\u3002\n- \u8abf\u6574 **\u6eab\u5ea6** \u548c **\u8a5e\u5143\u9650\u5236** \uff0c\u4ee5\u8a66\u9a57\u5b83\u5011\u5982\u4f55\u5f71\u97ff\u97ff\u61c9\u3002\u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1 [\u4ee3\u78bc\u751f\u6210\u6a21\u578b\u53c3\u6578](https://cloud.google.com/vertex-ai/generative-ai/docs/learn/models?hl=zh-cn#code-generation-prompt-parameters) \u3002\n- \u9ede\u64ca **\u63d0\u4ea4** \u4ee5\u751f\u6210\u97ff\u61c9\u3002\n- \u5982\u679c\u60a8\u60f3\u4fdd\u5b58\u63d0\u793a\uff0c\u8acb\u9ede\u64casave_alt **\u4fdd\u5b58** \n- \u9ede\u64cacode **\u67e5\u770b\u4ee3\u78bc** \u4ee5\u67e5\u770b\u63d0\u793a\u7684 Python \u4ee3\u78bc\u6216 curl \u547d\u4ee4\n```\nMODEL_ID=\"code-bison\"PROJECT_ID=PROJECT_IDcurl \\-X POST \\-H \"Authorization: Bearer $(gcloud auth print-access-token)\" \\-H \"Content-Type: application/json\" \\https://us-central1-aiplatform.googleapis.com/v1/projects/${PROJECT_ID}/locations/us-central1/publishers/google/models/${MODEL_ID}:predict -d \\$\"{\u00a0 'instances': [\u00a0 \u00a0 { 'prefix': 'Write a function that checks if a year is a leap year.' }\u00a0 ],\u00a0 'parameters': {\u00a0 \u00a0 'temperature': 0.2,\u00a0 \u00a0 'maxOutputTokens': 1024,\u00a0 \u00a0 'candidateCount': 1\u00a0 }}\"\n```\n\u5982\u9700\u8a73\u7d30\u77ad\u89e3\u4ee3\u78bc\u751f\u6210\u63d0\u793a\u8a2d\u8a08\uff0c\u8acb\u53c3\u95b1 [\u5275\u5efa\u4ee3\u78bc\u751f\u6210\u63d0\u793a](https://cloud.google.com/vertex-ai/generative-ai/docs/code/code-generation-prompts?hl=zh-cn) \u3002\n## \u6d41\u5f0f\u50b3\u8f38\u4f86\u81ea\u4ee3\u78bc\u6a21\u578b\u7684\u97ff\u61c9\n\u5982\u9700\u4f7f\u7528 REST API \u67e5\u770b\u793a\u4f8b\u4ee3\u78bc\u8acb\u6c42\u548c\u97ff\u61c9\uff0c\u8acb\u53c3\u95b1 [\u4f7f\u7528\u6d41\u5f0f\u50b3\u8f38 REST API \u7684\u793a\u4f8b](https://cloud.google.com/vertex-ai/generative-ai/docs/learn/streaming?hl=zh-cn#rest) \u3002\n\u5982\u9700\u4f7f\u7528 Python \u7248 Vertex AI SDK \u67e5\u770b\u793a\u4f8b\u4ee3\u78bc\u8acb\u6c42\u548c\u97ff\u61c9\uff0c\u8acb\u53c3\u95b1 [\u4f7f\u7528 Python \u7248 Vertex AI SDK \u9032\u884c\u6d41\u5f0f\u50b3\u8f38\u7684\u793a\u4f8b](https://cloud.google.com/vertex-ai/generative-ai/docs/learn/streaming?hl=zh-cn#sdk) \u3002\n## \u5f8c\u7e8c\u6b65\u9a5f\n- \u77ad\u89e3\u5982\u4f55 [\u5275\u5efa\u4ee3\u78bc\u804a\u5929\u63d0\u793a](https://cloud.google.com/vertex-ai/generative-ai/docs/code/code-chat-prompts?hl=zh-cn) \u3002\n- \u77ad\u89e3\u5982\u4f55 [\u5275\u5efa\u4ee3\u78bc\u88dc\u5168\u63d0\u793a](https://cloud.google.com/vertex-ai/generative-ai/docs/code/code-completion-prompts?hl=zh-cn) \u3002\n- \u77ad\u89e3 [\u8ca0\u8cac\u4efb\u7684 AI \u6700\u4f73\u5be6\u8e10\u548c Vertex AI \u7684\u5b89\u5168\u904e\u6ffe\u689d\u4ef6](https://cloud.google.com/vertex-ai/generative-ai/docs/learn/responsible-ai?hl=zh-cn) \u3002", "guide": "Generative AI on Vertex AI"}