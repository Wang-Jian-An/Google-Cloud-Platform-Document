{"title": "Generative AI on Vertex AI - PaLM 2 \u6a21\u578b\u7684\u57fa\u672c\u97ff\u61c9", "url": "https://cloud.google.com/vertex-ai/generative-ai/docs/grounding/ground-language-models?hl=zh-cn", "abstract": "# Generative AI on Vertex AI - PaLM 2 \u6a21\u578b\u7684\u57fa\u672c\u97ff\u61c9\n**\u9810\u89bd** \u6b64\u529f\u80fd\u7232\u9810\u89bd\u7248\uff0c\u53d7 [GCP \u670d\u52d9\u5c08\u7528\u689d\u6b3e](https://cloud.google.com/terms/service-terms?hl=zh-cn) \u7684\u6b63\u5f0f\u767c\u4f48\u524d\u7522\u54c1\u689d\u6b3e\u7d04\u675f\u3002\u6211\u5011\u5c0d\u6b63\u5f0f\u767c\u4f48\u524d\u7522\u54c1\u548c\u529f\u80fd\u7684\u652f\u6301\u53ef\u80fd\u6bd4\u8f03\u6709\u9650\uff0c\u4e26\u4e14\u5c0d\u6b63\u5f0f\u767c\u4f48\u524d\u7522\u54c1\u548c\u529f\u80fd\u7684\u66f4\u6539\u53ef\u80fd\u8207\u5176\u4ed6\u6b63\u5f0f\u767c\u4f48\u524d\u7248\u672c\u4e0d\u517c\u5bb9\u3002\u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1 [\u767c\u4f48\u968e\u6bb5\u8aaa\u660e](https://cloud.google.com/products?hl=zh-cn#product-launch-stages) \u3002  \u6b64\u5916\uff0c\u4f7f\u7528 PaLM API on Vertex AI \u5373\u8868\u793a\u60a8\u540c\u610f\u751f\u6210\u5f0f AI \u9810\u89bd\u7248 [\u689d\u6b3e\u53ca\u689d\u4ef6](https://cloud.google.com/trustedtester/aitos?hl=zh-CN) \uff08\u201c\u9810\u89bd\u7248\u689d\u6b3e\u201d\uff09\u3002\u5c0d\u65bc\u975e\u6b63\u5f0f\u7248 PaLM API on Vertex AI\uff0c\u60a8\u53ef\u4ee5\u6309\u7167\u300a\u96f2\u7aef\u6578\u64da\u8655\u7406\u9644\u9304\u300b\u4e2d\u7684\u8aaa\u660e\u8655\u7406\u500b\u4eba\u6578\u64da\uff0c\u4f46\u53d7\u5230\u5354\u8b70\u4e2d\u7684\u9069\u7528\u9650\u5236\u548c\u7fa9\u52d9\uff08\u5982\u201c\u9810\u89bd\u7248\u689d\u6b3e\u201d\u4e2d\u6240\u5b9a\u7fa9\uff09\u7684\u7d04\u675f\u3002\n\u672c\u9801\u9762\u4ecb\u7d39\u77ad\u5982\u4f55\u4f7f\u7528 Google Cloud \u63a7\u5236\u6aaf\u548c Vertex AI API \u5c07\u6a21\u578b\u56de\u7b54\u9023\u63a5\u5230 Vertex AI Search \u6578\u64da\u5b58\u5132\u5340\u3002\n", "content": "## \u6e96\u5099\u5de5\u4f5c\n\u5982\u9700\u5728 Vertex AI \u4e0a\u7684\u751f\u6210\u5f0f AI \u4e2d\u4f7f\u7528\u6a21\u578b\u9023\u63a5\uff0c\u60a8\u9700\u8981\u6eff\u8db3\u4e00\u4e9b\u524d\u63d0\u689d\u4ef6\u3002\u5176\u4e2d\u5305\u62ec\u5275\u5efa Vertex AI Search \u6578\u64da\u6e90\u3001\u7232\u6578\u64da\u5b58\u5132\u5340\u5553\u7528\u4f01\u696d\u7248\uff0c\u4ee5\u53ca\u5c07\u6578\u64da\u5b58\u5132\u5340\u95dc\u806f\u5230 Vertex AI Search \u4e2d\u7684\u61c9\u7528\u3002\u6578\u64da\u6e90\u7528\u4f5c\u5728 Vertex AI \u4e0a\u7684\u751f\u6210\u5f0f AI \u4e2d\u9023\u63a5 `text-bison` \u548c `chat-bison` \u7684\u57fa\u790e\u3002\nVertex AI Search \u53ef\u5e6b\u52a9\u60a8\u6839\u64da\u60a8\u63d0\u4f9b\u7684\u6578\u64da\u958b\u59cb\u9032\u884c\u9ad8\u8cea\u91cf\u7684\u641c\u7d22\u6216\u63a8\u85a6\u3002\u5982\u9700\u8a73\u7d30\u77ad\u89e3 Vertex AI Search\uff0c\u8acb\u53c3\u95b1 [Vertex AI Search \u7c21\u4ecb](https://cloud.google.com/generative-ai-app-builder/docs/enterprise-search-introduction?hl=zh-cn) \u3002\n### \u5553\u7528 Vertex AI Search\n- \u5728 Google Cloud \u63a7\u5236\u6aaf\u4e2d\uff0c\u9032\u5165 **Search & Conversation** \u9801\u9762\u3002 [Search & Conversation](https://console.cloud.google.com/gen-app-builder/engines?hl=zh-cn) \n- \u95b1\u8b80\u4e26\u540c\u610f\u670d\u52d9\u689d\u6b3e\uff0c\u7136\u5f8c\u9ede\u64ca **\u7e7c\u7e8c\u4e26\u6fc0\u6d3b API** \u3002 **\u91cd\u8981\u63d0\u793a\uff1a** \u5c0d\u65bc\u8981\u8207 Vertex AI Search \u642d\u914d\u4f7f\u7528\u7684\u6bcf\u500b\u9805\u76ee\uff0c\u60a8\u5fc5\u9808\u63a5\u53d7 Discovery Solutions \u6578\u64da\u4f7f\u7528\u689d\u6b3e\u3002\n### \u5728 Vertex AI Search \u4e2d\u5275\u5efa\u6578\u64da\u5b58\u5132\u5340\n\u5982\u9700\u5c07\u6a21\u578b\u9023\u63a5\u5230\u6e90\u6578\u64da\uff0c\u60a8\u9700\u8981\u6e96\u5099\u597d\u6578\u64da\u4e26\u5c07\u5176\u4fdd\u5b58\u5230 Vertex AI Search\u3002\u7232\u6b64\uff0c\u60a8\u9700\u8981 [\u5728 Vertex AI Search \u4e2d\u5275\u5efa\u6578\u64da\u5b58\u5132\u5340](https://cloud.google.com/generative-ai-app-builder/docs/create-datastore-ingest?hl=zh-cn#datastores-engines) \u3002\n\u5982\u679c\u60a8\u5f9e\u982d\u958b\u59cb\uff0c\u5247\u9700\u8981\u6e96\u5099\u6578\u64da\u4ee5\u6ce8\u5165\u5230 Vertex AI Search \u4e2d\u3002\u5982\u9700\u958b\u59cb\u64cd\u4f5c\uff0c\u8acb\u53c3\u95b1 [\u6e96\u5099\u6578\u64da\u4ee5\u9032\u884c\u6ce8\u5165](https://cloud.google.com/generative-ai-app-builder/docs/prepare-data?hl=zh-cn) \u3002\u6ce8\u5165\u904e\u7a0b\u53ef\u80fd\u9700\u8981\u5e7e\u5206\u9418\u5230\u5e7e\u5c0f\u6642\u624d\u80fd\u5b8c\u6210\uff0c\u5177\u9ad4\u53d6\u6c7a\u65bc\u6578\u64da\u7684\u5927\u5c0f\u3002\u53ea\u6709\u975e\u7d50\u69cb\u5316\u6578\u64da\u5b58\u5132\u5340\u652f\u6301\u9023\u63a5\u529f\u80fd\u3002 \u6e96\u5099\u597d\u8981\u6ce8\u5165\u7684\u6578\u64da\u5f8c\uff0c\u60a8\u53ef\u4ee5 [\u5275\u5efa\u641c\u7d22\u6578\u64da\u5b58\u5132\u5340](https://cloud.google.com/generative-ai-app-builder/docs/create-data-store-es?hl=zh-cn) \u3002\u6210\u529f\u5275\u5efa\u6578\u64da\u5b58\u5132\u5340\u5f8c\uff0c [\u5275\u5efa\u641c\u7d22\u61c9\u7528](https://cloud.google.com/generative-ai-app-builder/docs/create-engine-es?hl=zh-cn) \u4ee5\u95dc\u806f\u5230\u8a72\u5b58\u5132\u5340\u4e26 [\u5553\u7528\u4f01\u696d\u7248](https://cloud.google.com/generative-ai-app-builder/docs/enterprise-edition?hl=zh-cn) \u3002\n## \u9023\u63a5 text-bison \u6a21\u578b\n\u9023\u63a5\u529f\u80fd\u9069\u7528\u65bc `text-bison` \u548c `chat-bison` \u6a21\u578b\u3002\u4ee5\u4e0b\u793a\u4f8b\u4f7f\u7528 `text-bison` \u57fa\u790e\u6a21\u578b\u3002\n\u5982\u679c\u4f7f\u7528 API\uff0c\u8acb\u5728\u8abf\u7528\u9810\u6e2c\u6642\u9023\u63a5 `text-bison` \u3002\u7232\u6b64\uff0c\u8acb\u6dfb\u52a0\u53ef\u9078\u7684 `groundingConfig` \u4e26\u5f15\u7528\u6578\u64da\u5b58\u5132\u5340\u4f4d\u7f6e\u548c\u6578\u64da\u5b58\u5132\u5340 ID\u3002\n\u5982\u679c\u60a8\u4e0d\u77e5\u9053\u6578\u64da\u5b58\u5132\u5340 ID\uff0c\u8acb\u6309\u4ee5\u4e0b\u6b65\u9a5f\u64cd\u4f5c\uff1a\n- \u5728 Google Cloud \u63a7\u5236\u6aaf\u4e2d\uff0c\u8f49\u5230 **Vertex AI Search** \u9801\u9762\uff0c\u7136\u5f8c\u5728\u5c0e\u822a\u83dc\u55ae\u4e2d\u9ede\u64ca **\u6578\u64da\u5b58\u5132\u5340** \u3002  <a{: class=\"button button-primary\" l10n-attrs-original-order=\"href,target,class,track-name,track-type\" l10n-encrypted-href=\"BU2UnTd/bvXw0I31NoHStFtigmNHgUGOXn/QVSGplOhB4J1rwNxdLslXsSNCBkPOFvWIDj0tv6yobddHSWXSow==\" target=\"console\" track-name=\"consoleLink\" track-type=\"tasks\" }=\"\">\u8f49\u5230\u201c\u6578\u64da\u5b58\u5132\u5340\u201d\u9801\u9762</a{:>\n- \u9ede\u64ca\u60a8\u7684\u6578\u64da\u5b58\u5132\u5340\u7684\u540d\u7a31\u3002\n- \u5728\u6578\u64da\u5b58\u5132\u5340\u7684 **\u6578\u64da** \u9801\u9762\u4e0a\uff0c\u7372\u53d6\u6578\u64da\u5b58\u5132\u5340 ID\u3002\n\u5982\u9700\u4f7f\u7528 Vertex AI API \u6e2c\u8a66\u6587\u672c\u63d0\u793a\uff0c\u8acb\u5411\u767c\u4f48\u65b9\u6a21\u578b\u7aef\u9ede\u767c\u9001 POST \u8acb\u6c42\u3002\n\u5728\u4f7f\u7528\u4efb\u4f55\u8acb\u6c42\u6578\u64da\u4e4b\u524d\uff0c\u8acb\u5148\u9032\u884c\u4ee5\u4e0b\u66ff\u63db\uff1a- \uff1a\u60a8\u7684 [\u9805\u76ee ID](https://cloud.google.com/resource-manager/docs/creating-managing-projects?hl=zh-cn#identifiers) \u3002\n- \uff1a\u63d0\u793a\u662f\u63d0\u4ea4\u5230\u8a9e\u8a00\u6a21\u578b\u7528\u4ee5\u63a5\u6536\u56de\u5fa9\u7684\u81ea\u7136\u8a9e\u8a00\u8acb\u6c42\u3002\u63d0\u793a\u53ef\u4ee5\u5305\u542b\u554f\u984c\u3001\u8aaa\u660e\u3001\u8a9e\u5883\u4fe1\u606f\u3001\u793a\u4f8b\u548c\u6587\u672c\uff0c\u4f9b\u6a21\u578b\u5b8c\u6210\u6216\u7e7c\u7e8c\u3002 \uff08\u8acb\u52ff\u7232\u6b64\u8655\u7684\u63d0\u793a\u6dfb\u52a0\u5f15\u865f\u3002\uff09\n- \uff1a\u6eab\u5ea6 (temperature) \u5728\u751f\u6210\u56de\u8986\u671f\u9593\u7528\u65bc\u63a1\u6a23\uff0c\u5728\u61c9\u7528`topP`\u548c`topK`\u6642\u6703\u751f\u6210\u56de\u8986\u3002\u6eab\u5ea6\u53ef\u4ee5\u63a7\u5236\u8a5e\u5143\u9078\u64c7\u7684\u96a8\u6a5f\u6027\u3002 \u8f03\u4f4e\u7684\u6eab\u5ea6\u6709\u5229\u65bc\u9700\u8981\u66f4\u5c11\u958b\u653e\u6027\u6216\u5275\u9020\u6027\u56de\u8986\u7684\u63d0\u793a\uff0c\u800c\u8f03\u9ad8\u7684\u6eab\u5ea6\u53ef\u4ee5\u5e36\u4f86\u66f4\u5177\u591a\u6a23\u6027\u6216\u5275\u9020\u6027\u7684\u7d50\u679c\u3002\u6eab\u5ea6\u7232`0`\u8868\u793a\u59cb\u7d42\u9078\u64c7\u6982\u7387\u6700\u9ad8\u7684\u8a5e\u5143\u3002\u5728\u9019\u7a2e\u60c5\u6cc1\u4e0b\uff0c\u7d66\u5b9a\u63d0\u793a\u7684\u56de\u8986\u5927\u591a\u662f\u78ba\u5b9a\u7684\uff0c\u4f46\u53ef\u80fd\u4ecd\u7136\u6709\u5c11\u91cf\u8b8a\u5316\u3002\u5982\u679c\u6a21\u578b\u8fd4\u56de\u7684\u56de\u7b54\u904e\u65bc\u7c60\u7d71\u3001\u904e\u65bc\u7c21\u77ed\uff0c\u6216\u8005\u6a21\u578b\u7d66\u51fa\u5f8c\u5099\u56de\u7b54\uff0c\u8acb\u5617\u8a66\u63d0\u9ad8\u6eab\u5ea6\u3002\n- \uff1a\u97ff\u61c9\u4e2d\u53ef\u751f\u6210\u7684\u8a5e\u5143\u6578\u91cf\u4e0a\u9650\u3002\u8a5e\u5143\u7d04\u7232 4 \u500b\u5b57\u7b26\u3002100 \u500b\u8a5e\u5143\u5c0d\u61c9\u5927\u7d04 60-80 \u500b\u55ae\u8a5e\u3002\u6307\u5b9a\u8f03\u4f4e\u7684\u503c\u53ef\u7372\u5f97\u8f03\u77ed\u7684\u56de\u7b54\uff0c\u6307\u5b9a\u8f03\u9ad8\u7684\u503c\u53ef\u7372\u5f97\u53ef\u80fd\u8f03\u9577\u7684\u56de\u7b54\u3002\n- \uff1aTop-P \u53ef\u66f4\u6539\u6a21\u578b\u9078\u64c7\u8f38\u51fa\u8a5e\u5143\u7684\u65b9\u5f0f\u3002\u7cfb\u7d71\u6703\u6309\u7167\u6982\u7387\u5f9e\u6700\u9ad8\uff08\u898b top-K\uff09\u5230\u6700\u4f4e\u7684\u9806\u5e8f\u9078\u64c7\u8a5e\u5143\uff0c\u76f4\u5230\u6240\u9078\u8a5e\u5143\u7684\u6982\u7387\u7e3d\u548c\u7b49\u65bc top-P \u7684\u503c\u3002\u4f8b\u5982\uff0c\u5982\u679c\u8a5e\u5143 A\u3001B \u548c C \u7684\u6982\u7387\u5206\u5225\u7232 0.3\u30010.2 \u548c 0.1\uff0c\u4e26\u4e14 top-P \u503c\u7232`0.5`\uff0c\u5247\u6a21\u578b\u5c07\u9078\u64c7 A \u6216 B \u4f5c\u7232\u4e0b\u4e00\u500b\u8a5e\u5143\uff08\u901a\u904e\u6eab\u5ea6\u78ba\u5b9a\uff09\uff0c\u4e26\u6703\u6392\u9664 C\uff0c\u5c07\u5176\u4f5c\u7232\u5019\u9078\u8a5e\u5143\u3002\u6307\u5b9a\u8f03\u4f4e\u7684\u503c\u53ef\u7372\u5f97\u96a8\u6a5f\u7a0b\u5ea6\u8f03\u4f4e\u7684\u56de\u7b54\uff0c\u6307\u5b9a\u8f03\u9ad8\u7684\u503c\u53ef\u7372\u5f97\u96a8\u6a5f\u7a0b\u5ea6\u8f03\u9ad8\u7684\u56de\u7b54\u3002\n- \uff1aTop-K \u53ef\u66f4\u6539\u6a21\u578b\u9078\u64c7\u8f38\u51fa\u8a5e\u5143\u7684\u65b9\u5f0f\u3002\u5982\u679c top-K \u8a2d\u7232`1`\uff0c\u8868\u793a\u6240\u9078\u8a5e\u5143\u662f\u6a21\u578b\u8a5e\u5f59\u8868\u7684\u6240\u6709\u8a5e\u5143\u4e2d\u6982\u7387\u6700\u9ad8\u7684\u8a5e\u5143\uff08\u4e5f\u7a31\u7232\u8caa\u5fc3\u89e3\u78bc\uff09\u3002\u5982\u679c top-K \u8a2d\u7232`3`\uff0c\u5247\u8868\u793a\u7cfb\u7d71\u5c07\u5f9e 3 \u500b\u6982\u7387\u6700\u9ad8\u7684\u8a5e\u5143\uff08\u901a\u904e\u6eab\u5ea6\u78ba\u5b9a\uff09\u4e2d\u9078\u64c7\u4e0b\u4e00\u500b\u8a5e\u5143\u3002\u5728\u6bcf\u500b\u8a5e\u5143\u9078\u64c7\u6b65\u9a5f\u4e2d\uff0c\u7cfb\u7d71\u90fd\u6703\u5c0d\u6982\u7387\u6700\u9ad8\u7684 top-K \u8a5e\u5143\u9032\u884c\u63a1\u6a23\u3002\u7136\u5f8c\uff0c\u7cfb\u7d71\u6703\u6839\u64da top-P \u9032\u4e00\u6b65\u904e\u6ffe\u8a5e\u5143\uff0c\u4e26\u4f7f\u7528\u6eab\u5ea6\u63a1\u6a23\u9078\u64c7\u6700\u7d42\u7684\u8a5e\u5143\u3002\u6307\u5b9a\u8f03\u4f4e\u7684\u503c\u53ef\u7372\u5f97\u96a8\u6a5f\u7a0b\u5ea6\u8f03\u4f4e\u7684\u56de\u7b54\uff0c\u6307\u5b9a\u8f03\u9ad8\u7684\u503c\u53ef\u7372\u5f97\u96a8\u6a5f\u7a0b\u5ea6\u8f03\u9ad8\u7684\u56de\u7b54\u3002\n- \uff1a\u6a21\u578b\u9023\u63a5\u5230\u7684\u6578\u64da\u6e90\u985e\u578b\u3002\u50c5\u652f\u6301 Vertex AI Search\u3002\n- \uff1aVertex AI Search \u6578\u64da\u5b58\u5132\u5340 ID \u8def\u5f91\u3002 \u5fc5\u9808\u63a1\u7528\u4ee5\u4e0b\u683c\u5f0f\u3002\u4f7f\u7528\u7232\u4f4d\u7f6e\u548c\u96c6\u5408\u63d0\u4f9b\u7684\u503c\uff1a `projects/{project_id}/locations/global/collections/default_collection/dataStores/{data_store_id}`\u6ce8\u610f\uff1a\u6b64\u6578\u64da\u5b58\u5132\u5340 ID \u8def\u5f91\u4e2d\u7684\u9805\u76ee ID \u662f\u60a8\u7684 Vertex AI Search \u9805\u76ee ID\u3002\nHTTP \u65b9\u6cd5\u548c\u7db2\u5740\uff1a\n```\nPOST https://us-central1-aiplatform.googleapis.com/v1/projects/PROJECT_ID/locations/us-central1/publishers/google/models/text-bison:predict\n```\n\u8acb\u6c42 JSON \u6b63\u6587\uff1a\n```\n{\n \"instances\": [ { \"prompt\": \"PROMPT\"}\n ],\n \"parameters\": {\n \"temperature\": TEMPERATURE,\n \"maxOutputTokens\": MAX_OUTPUT_TOKENS,\n \"topP\": TOP_P,\n \"topK\": TOP_K,\n \"groundingConfig\": {\n  \"sources\": [   {\n    \"type\": \"VERTEX_AI_SEARCH\",\n    \"vertexAiSearchDatastore\": \"VERTEX_AI_SEARCH_DATA_STORE\"\n   }\n  ]\n }\n }\n}\n```\n\u5982\u9700\u767c\u9001\u8acb\u6c42\uff0c\u8acb\u9078\u64c7\u4ee5\u4e0b\u65b9\u5f0f\u4e4b\u4e00\uff1a\n **\u6ce8\u610f** \uff1a\u4ee5\u4e0b\u547d\u4ee4\u5047\u5b9a\u60a8\u5df2\u4f7f\u7528\u60a8\u7684\u7528\u6236\u8cec\u865f\u901a\u904e\u904b\u884c [gcloud init](https://cloud.google.com/sdk/gcloud/reference/init?hl=zh-cn) \u6216 [gcloud auth login](https://cloud.google.com/sdk/gcloud/reference/auth/login?hl=zh-cn) \u767b\u9304`gcloud`CLI\uff0c\u6216\u8005\u4f7f\u7528\u4e86 [Cloud Shell](https://cloud.google.com/shell/docs?hl=zh-cn) \uff0c\u9019\u6703\u4f7f\u60a8\u81ea\u52d5\u767b\u9304`gcloud`CLI\u3002\u60a8\u53ef\u4ee5\u904b\u884c [gcloud auth list](https://cloud.google.com/sdk/gcloud/reference/auth/list?hl=zh-cn) \u4f86\u6aa2\u67e5\u7576\u524d\u6d3b\u8e8d\u7684\u8cec\u865f\u3002\n\u5c07\u8acb\u6c42\u6b63\u6587\u4fdd\u5b58\u5728\u540d\u7232 `request.json` \u7684\u6587\u4ef6\u4e2d\uff0c\u7136\u5f8c\u57f7\u884c\u4ee5\u4e0b\u547d\u4ee4\uff1a\n```\ncurl -X POST \\ -H \"Authorization: Bearer $(gcloud auth print-access-token)\" \\ -H \"Content-Type: application/json; charset=utf-8\" \\ -d @request.json \\ \"https://us-central1-aiplatform.googleapis.com/v1/projects/PROJECT_ID/locations/us-central1/publishers/google/models/text-bison:predict\"\n``` **\u6ce8\u610f** \uff1a\u4ee5\u4e0b\u547d\u4ee4\u5047\u5b9a\u60a8\u5df2\u4f7f\u7528\u60a8\u7684\u7528\u6236\u8cec\u865f\u901a\u904e\u904b\u884c [gcloud init](https://cloud.google.com/sdk/gcloud/reference/init?hl=zh-cn) \u6216 [gcloud auth login](https://cloud.google.com/sdk/gcloud/reference/auth/login?hl=zh-cn) \u767b\u9304`gcloud`CLI\uff0c\u6216\u8005\u4f7f\u7528\u4e86 [Cloud Shell](https://cloud.google.com/shell/docs?hl=zh-cn) \uff0c\u9019\u6703\u4f7f\u60a8\u81ea\u52d5\u767b\u9304`gcloud`CLI\u3002\u60a8\u53ef\u4ee5\u904b\u884c [gcloud auth list](https://cloud.google.com/sdk/gcloud/reference/auth/list?hl=zh-cn) \u4f86\u6aa2\u67e5\u7576\u524d\u6d3b\u8e8d\u7684\u8cec\u865f\u3002\n\u5c07\u8acb\u6c42\u6b63\u6587\u4fdd\u5b58\u5728\u540d\u7232 `request.json` \u7684\u6587\u4ef6\u4e2d\uff0c\u7136\u5f8c\u57f7\u884c\u4ee5\u4e0b\u547d\u4ee4\uff1a\n```\n$cred = gcloud auth print-access-token$headers = @{ \"Authorization\" = \"Bearer $cred\" }Invoke-WebRequest ` -Method POST ` -Headers $headers ` -ContentType: \"application/json; charset=utf-8\" ` -InFile request.json ` -Uri \"https://us-central1-aiplatform.googleapis.com/v1/projects/PROJECT_ID/locations/us-central1/publishers/google/models/text-bison:predict\" | Select-Object -Expand Content\n```\n\u60a8\u61c9\u8a72\u6536\u5230\u985e\u4f3c\u4ee5\u4e0b\u5167\u5bb9\u7684 JSON \u97ff\u61c9\u3002\u5982\u9700\u901a\u904e Vertex AI Studio \u69cb\u5efa\u6a21\u578b\uff0c\u8acb\u6309\u7167\u4ee5\u4e0b\u8aaa\u660e\u64cd\u4f5c\u3002\n- \u5728 Model Garden \u4e2d\u9078\u64c7 **PaLM 2 for Text Bison** \u6216 **PaLM 2 for Chat Bison** \u6a21\u578b\u5361\u7247\u3002<a{: class=\"button button-primary\" l10n-attrs-original-order=\"href,target,class,track-name,track-type\" l10n-encrypted-href=\"kDsq5VTi6ASK/vNFlrWmnltigmNHgUGOXn/QVSGplOi71dheYhG9dKuv3\"B><B><R><b></b>.\n- \u5728\u6a21\u578b\u5361\u7247\u4e2d\uff0c\u9ede\u64ca **\u6253\u958b\u63d0\u793a\u8a2d\u8a08** \u3002\u7cfb\u7d71\u6703\u6253\u958b Vertex AI Studio\u3002\n- \u5f9e\u53c3\u6578\u9762\u677f\u4e2d\u9078\u64c7 **\u9ad8\u7d1a** \u3002\n- \u5207\u63db **\u5553\u7528\u9023\u63a5** \u9078\u9805\uff0c\u7136\u5f8c\u9078\u64c7 **\u81ea\u5b9a\u7fa9** \u3002\n- \u5f9e\u9023\u63a5\u4f86\u6e90\u4e0b\u62c9\u83dc\u55ae\u4e2d\uff0c\u9078\u64c7 **Vertex AI Search** \u3002\n- \u8f38\u5165\u5167\u5bb9\u7684 Vertex AI Search \u6578\u64da\u5b58\u5132\u5340\u8def\u5f91\u3002\u8def\u5f91\u61c9\u63a1\u7528\u4ee5\u4e0b\u683c\u5f0f\uff1a`projects/{project_id}/locations/global/collections/default_collection/dataStores/{data_store_id}`\u3002\n- \u8f38\u5165\u60a8\u7684\u63d0\u793a\uff0c\u7136\u5f8c\u9ede\u64ca **\u63d0\u4ea4** \u3002\u5982\u9700\u77ad\u89e3\u5982\u4f55\u5b89\u88dd\u6216\u66f4\u65b0 Python\uff0c\u8acb\u53c3\u95b1 [\u5b89\u88dd Python \u7248 Vertex AI SDK](https://cloud.google.com/vertex-ai/docs/start/use-vertex-ai-python-sdk?hl=zh-cn) \u3002   \u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1 [   Python API \u53c3\u8003\u6587\u6a94](https://cloud.google.com/python/docs/reference/aiplatform/latest?hl=zh-cn) \u3002\n [\u5728 GitHub \u4e0a\u67e5\u770b](https://github.com/GoogleCloudPlatform/python-docs-samples/blob/HEAD/generative_ai/grounding.py) \n```\nfrom typing import Optionalimport vertexaifrom vertexai.language_models import (\u00a0 \u00a0 GroundingSource,\u00a0 \u00a0 TextGenerationModel,\u00a0 \u00a0 TextGenerationResponse,)def grounding(\u00a0 \u00a0 project_id: str,\u00a0 \u00a0 location: str,\u00a0 \u00a0 data_store_location: Optional[str],\u00a0 \u00a0 data_store_id: Optional[str],) -> TextGenerationResponse:\u00a0 \u00a0 \"\"\"Grounding example with a Large Language Model\"\"\"\u00a0 \u00a0 vertexai.init(project=project_id, location=location)\u00a0 \u00a0 # TODO developer - override these parameters as needed:\u00a0 \u00a0 parameters = {\u00a0 \u00a0 \u00a0 \u00a0 \"temperature\": 0.7, \u00a0# Temperature controls the degree of randomness in token selection.\u00a0 \u00a0 \u00a0 \u00a0 \"max_output_tokens\": 256, \u00a0# Token limit determines the maximum amount of text output.\u00a0 \u00a0 \u00a0 \u00a0 \"top_p\": 0.8, \u00a0# Tokens are selected from most probable to least until the sum of their probabilities equals the top_p value.\u00a0 \u00a0 \u00a0 \u00a0 \"top_k\": 40, \u00a0# A top_k of 1 means the selected token is the most probable among all tokens.\u00a0 \u00a0 }\u00a0 \u00a0 model = TextGenerationModel.from_pretrained(\"text-bison@002\")\u00a0 \u00a0 if data_store_id and data_store_location:\u00a0 \u00a0 \u00a0 \u00a0 # Use Vertex AI Search data store\u00a0 \u00a0 \u00a0 \u00a0 grounding_source = GroundingSource.VertexAISearch(\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 data_store_id=data_store_id, location=data_store_location\u00a0 \u00a0 \u00a0 \u00a0 )\u00a0 \u00a0 else:\u00a0 \u00a0 \u00a0 \u00a0 # Use Google Search for grounding (Private Preview)\u00a0 \u00a0 \u00a0 \u00a0 grounding_source = GroundingSource.WebSearch()\u00a0 \u00a0 response = model.predict(\u00a0 \u00a0 \u00a0 \u00a0 \"What are the price, available colors, and storage size options of a Pixel Tablet?\",\u00a0 \u00a0 \u00a0 \u00a0 grounding_source=grounding_source,\u00a0 \u00a0 \u00a0 \u00a0 **parameters,\u00a0 \u00a0 )\u00a0 \u00a0 print(f\"Response from Model: {response.text}\")\u00a0 \u00a0 print(f\"Grounding Metadata: {response.grounding_metadata}\")\n```\n## \u50f9\u683c\n\u4f7f\u7528 PaLM 2 API \u548c Vertex AI Search \u9700\u8981\u55ae\u7368\u4ed8\u8cbb\u3002\n## \u5f8c\u7e8c\u6b65\u9a5f\n- \u77ad\u89e3 [Responsible AI \u6700\u4f73\u5be6\u8e10\u548c Vertex AI \u4e0a\u7684\u751f\u6210\u5f0f AI \u7684\u5b89\u5168\u904e\u6ffe\u689d\u4ef6](https://cloud.google.com/vertex-ai/generative-ai/docs/learn/responsible-ai?hl=zh-cn) \u3002", "guide": "Generative AI on Vertex AI"}