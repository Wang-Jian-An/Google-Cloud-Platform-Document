{"title": "Generative AI on Vertex AI - \u5c0d\u4ee3\u78bc\u6a21\u578b\u8abf\u512a", "url": "https://cloud.google.com/vertex-ai/generative-ai/docs/models/tune-code-models?hl=zh-cn", "abstract": "# Generative AI on Vertex AI - \u5c0d\u4ee3\u78bc\u6a21\u578b\u8abf\u512a\n\u60a8\u53ef\u4ee5\u4f7f\u7528 [\u76e3\u7763\u5f0f\u8abf\u512a](https://cloud.google.com/vertex-ai/generative-ai/docs/models/tune-models?hl=zh-cn#supervised-tuning) \u4f86\u5c0d\u4ee3\u78bc\u6a21\u578b\u8abf\u512a\u3002\u76e3\u7763\u5f0f\u8abf\u512a\u4f7f\u7528\u6709\u6a19\u7c64\u6a23\u672c\uff0c\u9019\u4e9b\u6a23\u672c\u5c55\u793a\u4e86\u60a8\u5e0c\u671b\u5728\u63a8\u7406\u671f\u9593\u5f9e\u4ee3\u78bc\u751f\u6210\u6216\u4ee3\u78bc\u804a\u5929\u6a21\u578b\u7372\u5f97\u7684\u8f38\u51fa\u985e\u578b\u3002\u4ee3\u78bc\u6a21\u578b\u4e0d\u652f\u6301\u4f7f\u7528 [\u57fa\u65bc\u4eba\u985e\u53cd\u994b\u7684\u5f37\u5316\u5b78\u7fd2 (RLHF) \u8abf\u512a](https://cloud.google.com/vertex-ai/generative-ai/docs/models/tune-models?hl=zh-cn#rlhf-tuning) \u3002\n", "content": "## \u4f7f\u7528\u4ee3\u78bc\u6a21\u578b\u8abf\u512a\u7684\u5834\u666f\n\u5982\u679c\u60a8\u5e0c\u671b\u6a21\u578b\u5b78\u7fd2\u504f\u96e2\u5e38\u898f\u8a9e\u8a00\u548c\u4ee3\u78bc\u6a21\u5f0f\u7684\u7279\u5b9a\u9818\u57df\u6216\u7279\u5b9a\u60c5\u6cc1\uff0c\u5247\u9700\u8981\u9032\u884c\u8abf\u512a\u3002\u4ee5\u4e0b\u793a\u4f8b\u8aaa\u660e\u60a8\u53ef\u4ee5\u8a13\u7df4 `code-bison` \u548c `codechat-bison` \u6a21\u578b\u7684\u5167\u5bb9\uff1a\n- \u5982\u4f55\u7232\u81ea\u5b9a\u7fa9\u5eab\u751f\u6210\u4ee3\u78bc\u3002\u901a\u904e\u4f7f\u7528\u81ea\u5b9a\u7fa9\u5eab\u7684\u6709\u6a19\u7c64\u6a23\u672c\u8a13\u7df4\u4ee3\u78bc\u6a21\u578b\uff0c\u53ef\u4ee5\u751f\u6210\u6216\u8a0e\u8ad6\u7279\u5b9a\u65bc\u8a72\u81ea\u5b9a\u7fa9\u5eab\u7684\u4ee3\u78bc\u3002\n- \u5982\u4f55\u4f7f\u7528\u4ee3\u78bc\u5eab\u3002\u901a\u904e\u4f7f\u7528\u4ee3\u78bc\u5eab\u7684\u6709\u6a19\u7c64\u6a23\u672c\u8a13\u7df4\u6a21\u578b\uff0c\u60a8\u53ef\u4ee5\u751f\u6210\u4ee3\u78bc\uff0c\u6216\u8a0e\u8ad6\u5728\u4ee3\u78bc\u5eab\u4e2d\u4f7f\u7528\u7368\u7279\u7279\u6027\u7684\u4ee3\u78bc\u3002\n- \u5982\u4f55\u4f7f\u7528\u7de8\u7a0b\u8a9e\u8a00\u7684\u8b8a\u9ad4\u751f\u6210\u4ee3\u78bc\u3002\u901a\u904e\u4f7f\u7528\u8a9e\u8a00\u8b8a\u9ad4\u7684\u52a0\u6a19\u7c64\u6a23\u672c\u8a13\u7df4\u4ee3\u78bc\u6a21\u578b\uff0c\u60a8\u53ef\u4ee5\u751f\u6210\u6216\u8a0e\u8ad6\u4f7f\u7528\u8a72\u8a9e\u8a00\u8b8a\u9ad4\u7684\u7279\u5b9a\u6163\u4f8b\u548c\u6a19\u6e96\u7684\u4ee3\u78bc\u3002\n\u9019\u4e9b\u5834\u666f\u5305\u62ec\u55ae\u7d14\u901a\u904e\u63d0\u793a\u8aaa\u660e\u96e3\u4ee5\u6355\u7372\u7684\u4ee3\u78bc\u8981\u6c42\u3002\u4e0b\u9762\u5217\u51fa\u4e86\u4e00\u4e9b\u793a\u4f8b\uff1a\n- \u6b64\u793a\u4f8b\u63d0\u793a\u548c\u97ff\u61c9\u6709\u52a9\u65bc\u5c0d `code-bison` \u8abf\u512a\u4ee5\u4f7f\u7528\u7279\u5b9a\u6578\u64da\u96c6\u3002| 0                                                                                                                                                                                             |\n|:-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| \u63d0\u793a\uff1a \u4f7f\u7528 Python \u6aa2\u7d22 BigQuery \u4e2d\u7d66\u5b9a\u6578\u64da\u96c6 ID \u7684\u6578\u64da\u96c6\u7684\u6a19\u7c64 \u97ff\u61c9\uff1a \u4e0b\u9762\u662f\u7528\u65bc\u6aa2\u7d22 BigQuery \u4e2d\u7d66\u5b9a\u6578\u64da\u96c6 ID \u7684\u6578\u64da\u96c6\u7684\u6a19\u7c64\u7684 Python \u4ee3\u78bc\u793a\u4f8b\u3002\\n\\n<code translate=\"no\" dir=\"ltr\">python\\n\\n from google.cloud import bigquery\\n\\n # Construct a BigQuery client object.\\n client = bigquery.Client()\\n\\n # TODO(developer): Set dataset_id to the ID of the dataset to fetch.\\n # dataset_id = \\\"your-project.your_dataset\\\"\\n\\n dataset = client.get_dataset(dataset_id) # Make an API request.\\n\\n # View dataset labels.\\n print(\\\"Dataset ID: {}\\\".format(dataset_id))\\n print(\\\"Labels:\\\")\\n if dataset.labels:\\n for label, value in dataset.labels.items():\\n print(\\\"\\\\t{}: {}\\\".format(label, value))\\n else:\\n print(\\\"\\\\tDataset has no labels defined.\\\")\\n</code> |\n- \u6b64\u793a\u4f8b\u63d0\u793a\u548c\u97ff\u61c9\u6709\u52a9\u65bc\u8a13\u7df4 `code-bison` \u4f7f\u7528 Python \u5275\u5efa\u7522\u54c1\u3002| 0                                                                                                                                                                                                                                                                                                                                                    |\n|:---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| \u63d0\u793a\uff1a \u5982\u4f55\u5728 Python \u4e2d\u4f7f\u7528 Cloud Vision API \u5275\u5efa\u7522\u54c1\uff1f \u56de\u8986\uff1a \u4f7f\u7528\u4e0b\u9762\u7684 Python \u4ee3\u78bc\u793a\u4f8b\u4f86\u4e86\u89e3\u5982\u4f55\u4f7f\u7528 Cloud Vision API \u5275\u5efa\u7522\u54c1\uff1a\\n\\n<code translate=\"no\" dir=\"ltr\">python\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\nfrom google.cloud import vision\\r\\nfrom google.protobuf import field_mask_pb2 as field_mask\\r\\n\\r\\ndef create_product(\\r\\n project_id, location, product_id, product_display_name,\\r\\n product_category):\\r\\n \\\"\\\"\\\"Create one product.\\r\\n Args:\\r\\n project_id: Id of the project.\\r\\n location: A compute region name.\\r\\n product_id: Id of the product.\\r\\n product_display_name: Display name of the product.\\r\\n product_category: Category of the product.\\r\\n \\\"\\\"\\\"\\r\\n client = vision.ProductSearchClient()\\r\\n\\r\\n # A resource that represents Google Cloud Platform location.\\r\\n location_path = f\\\"projects/{project_id}/locations/{location}\\\"\\r\\n\\r\\n # Create a product with the product specification in the region.\\r\\n # Set product display name and product category.\\r\\n product = vision.Product(\\r\\n display_name=product_display_name,\\r\\n product_category=product_category)\\r\\n\\r\\n # The response is the product with the `name` field populated.\\r\\n response = client.create_product(\\r\\n parent=location_path,\\r\\n product=product,\\r\\n product_id=product_id)\\r\\n\\r\\n # Display the product information.\\r\\n print('Product name: {}'.format(response.name))\\r\\n</code> |\n- \u6b64\u793a\u4f8b\u63d0\u793a\u548c\u97ff\u61c9\u6709\u52a9\u65bc\u5c0d `codechat-bison` \u8abf\u512a\uff0c\u4ee5\u5e6b\u52a9\u7528\u6236\u77ad\u89e3\u5982\u4f55\u4f7f\u7528\u7279\u5b9a\u6578\u64da\u96c6\u3002| 0                                                                                                                                                                                                         |\n|:-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| \u63d0\u793a\uff1a \u4f5c\u8005\uff1a\u7528\u6236 \u5167\u5bb9\uff1a\u4ec0\u9ebc Python \u4ee3\u78bc\u7528\u65bc\u6aa2\u7d22 BigQuery \u4e2d\u7d66\u5b9a\u6578\u64da\u96c6 ID \u7684\u6578\u64da\u96c6\u7684\u6a19\u7c64\uff1f \u56de\u8986\uff1a \u4f5c\u8005\uff1a\u667a\u80fd\u52a9\u7406 \u5167\u5bb9\uff1a\u53ef\u4f7f\u7528\u4e0b\u9762\u7684 Python \u4ee3\u78bc\u793a\u4f8b\u4f86\u6aa2\u7d22 BigQuery \u4e2d\u7d66\u5b9a\u6578\u64da\u96c6 ID \u7684\u6578\u64da\u96c6\u7684\u6a19\u7c64\uff1a\\n\\n<code translate=\"no\" dir=\"ltr\">python\\n\\n from google.cloud import bigquery\\n\\n # Construct a BigQuery client object.\\n client = bigquery.Client()\\n\\n # TODO(developer): Set dataset_id to the ID of the dataset to fetch.\\n # dataset_id = \\\"your-project.your_dataset\\\"\\n\\n dataset = client.get_dataset(dataset_id) # Make an API request.\\n\\n # View dataset labels.\\n print(\\\"Dataset ID: {}\\\".format(dataset_id))\\n print(\\\"Labels:\\\")\\n if dataset.labels:\\n for label, value in dataset.labels.items():\\n print(\\\"\\\\t{}: {}\\\".format(label, value))\\n else:\\n print(\\\"\\\\tDataset has no labels defined.\\\")\\n</code> |\n- \u6b64\u793a\u4f8b\u63d0\u793a\u548c\u56de\u8986\u6709\u52a9\u65bc\u5c0d `codechat-bison` \u8abf\u512a\uff0c\u5e6b\u52a9\u7528\u6236\u77ad\u89e3\u5982\u4f55\u5728\u804a\u5929\u6703\u8a71\u671f\u9593\u4f7f\u7528 Python \u5275\u5efa\u7522\u54c1\u3002| 0                                                                                                                                                                                                                                                                                                                                                             |\n|:-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| \u63d0\u793a\uff1a \u4f5c\u8005\uff1a\u7528\u6236 \u5167\u5bb9\uff1a\u5982\u4f55\u5728 Python \u4e2d\u4f7f\u7528 Cloud Vision API \u5275\u5efa\u7522\u54c1\uff1f \u97ff\u61c9\uff1a \u4f5c\u8005\uff1a\u667a\u80fd\u52a9\u7406 \u5167\u5bb9\uff1a\u4f7f\u7528\u4e0b\u9762\u7684 Python \u4ee3\u78bc\u793a\u4f8b\u4f86\u4e86\u89e3\u5982\u4f55\u4f7f\u7528 Cloud Vision API \u5275\u5efa\u7522\u54c1\uff1a\\n\\n<code translate=\"no\" dir=\"ltr\">python\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\nfrom google.cloud import vision\\r\\nfrom google.protobuf import field_mask_pb2 as field_mask\\r\\n\\r\\ndef create_product(\\r\\n project_id, location, product_id, product_display_name,\\r\\n product_category):\\r\\n \\\"\\\"\\\"Create one product.\\r\\n Args:\\r\\n project_id: Id of the project.\\r\\n location: A compute region name.\\r\\n product_id: Id of the product.\\r\\n product_display_name: Display name of the product.\\r\\n product_category: Category of the product.\\r\\n \\\"\\\"\\\"\\r\\n client = vision.ProductSearchClient()\\r\\n\\r\\n # A resource that represents Google Cloud Platform location.\\r\\n location_path = f\\\"projects/{project_id}/locations/{location}\\\"\\r\\n\\r\\n # Create a product with the product specification in the region.\\r\\n # Set product display name and product category.\\r\\n product = vision.Product(\\r\\n display_name=product_display_name,\\r\\n product_category=product_category)\\r\\n\\r\\n # The response is the product with the `name` field populated.\\r\\n response = client.create_product(\\r\\n parent=location_path,\\r\\n product=product,\\r\\n product_id=product_id)\\r\\n\\r\\n # Display the product information.\\r\\n print('Product name: {}'.format(response.name))\\r\\n</code> |\n**\u91cd\u8981\u63d0\u793a\uff1a** \u76ee\u524d\uff0c\u6a21\u578b\u8abf\u512a\u53ef\u80fd\u6703\u63d0\u9ad8\u6a21\u578b\u7684\u4e00\u822c\u77e5\u8b58\u3002\u91dd\u5c0d\u4efb\u52d9\u5c0d\u6a21\u578b\u8abf\u512a\u6642\uff0c\u5982\u679c\u60a8\u5411\u7d93\u904e\u8abf\u512a\u7684\u6a21\u578b\u63d0\u51fa\u554f\u984c\u800c\u4e0d\u5305\u542b\u8a9e\u5883\uff0c\u7d93\u904e\u8abf\u512a\u7684\u6a21\u578b\u53ef\u80fd\u8a18\u4e0d\u4f4f\u5c0d\u5b83\u8abf\u512a\u6240\u91dd\u5c0d\u7684\u8a9e\u5883\u3002\u6211\u5011\u5efa\u8b70\u5305\u542b\u76f8\u95dc\u4efb\u52d9\u7684\u8a9e\u5883\u3002\n## \u6e96\u5099\u4ee3\u78bc\u6a21\u578b\u8abf\u512a\u6578\u64da\u96c6\n\u7528\u65bc\u5c0d\u4ee3\u78bc\u6a21\u578b\u8abf\u512a\u7684\u6578\u64da\u96c6\u5305\u542b\u8207\u60a8\u5e0c\u671b\u6a21\u578b\u57f7\u884c\u7684\u4efb\u52d9\u4e00\u81f4\u7684\u793a\u4f8b\u3002\u60a8\u7684\u6578\u64da\u96c6\u5fc5\u9808\u81f3\u5c11\u5305\u542b 10 \u500b\u6a23\u672c\uff0c\u4f46\u7232\u4e86\u7372\u5f97\u826f\u597d\u7684\u7d50\u679c\uff0c\u6211\u5011\u5efa\u8b70\u81f3\u5c11\u4f7f\u7528 500 \u500b\u6a23\u672c\u3002\u60a8\u63d0\u4f9b\u7684\u793a\u4f8b\u8d8a\u591a\uff0c\u7d50\u679c\u5c31\u8d8a\u597d\u3002\n### \u7528\u65bc\u5c0d\u4ee3\u78bc\u6a21\u578b\u8abf\u512a\u7684\u6578\u64da\u96c6\u683c\u5f0f\n\u4ee3\u78bc\u751f\u6210\u6a21\u578b\u548c\u4ee3\u78bc\u804a\u5929\u6a21\u578b\u7684\u8abf\u512a\u6578\u64da\u96c6\u5fc5\u9808\u63a1\u7528 [JSON \u884c](https://jsonlines.org/) (JSONL) \u683c\u5f0f\u3002\u4e0b\u6587\u8a73\u7d30\u4ecb\u7d39\u4e86\u6bcf\u500b\u6a21\u578b\u7684\u6578\u64da\u96c6\u683c\u5f0f\u548c\u6578\u64da\u96c6\u793a\u4f8b\uff1a\n\u4ee3\u78bc\u751f\u6210\u6a21\u578b\u8abf\u512a\u6578\u64da\u96c6\u5fc5\u9808\u63a1\u7528 [JSON \u884c](https://jsonlines.org/) (JSONL) \u683c\u5f0f\uff0c\u5176\u4e2d\u6bcf\u884c\u5305\u542b\u4e00\u500b\u8abf\u512a\u793a\u4f8b\u3002\u6bcf\u500b\u6a23\u672c\u90fd\u5305\u542b\u4e00\u500b `input_text` \u5b57\u6bb5\uff08\u5305\u542b\u6a21\u578b\u63d0\u793a\uff09\u548c\u4e00\u500b `output_text` \u5b57\u6bb5\uff08\u5305\u542b\u7d93\u904e\u8abf\u512a\u7684\u6a21\u578b\u9810\u671f\u751f\u6210\u7684\u793a\u4f8b\u56de\u8986\uff09\u3002\n\u6587\u672c\u751f\u6210\u6a21\u578b\u7684\u6578\u64da\u96c6\u6700\u591a\u53ef\u5305\u542b\u7684\u6a23\u672c\u6578\u91cf\u7232 10,000\u3002\u672c\u4e3b\u984c\u5c55\u793a\u4e86\u5169\u500b\u4ee3\u78bc\u751f\u6210\u6a21\u578b\u8abf\u512a\u6578\u64da\u96c6\u793a\u4f8b\u3002\u4ee5\u4e0b\u662f\u4ee3\u78bc\u751f\u6210\u8abf\u512a\u6578\u64da\u96c6\u7684\u7b2c\u4e00\u500b\u793a\u4f8b\uff1a\n```\n{\"input_text\": \"How to create a product in Python with the Cloud Vision API?\", \"output_text\": \"Use this\nPython code sample to learn how to create a\nproduct with the Cloud Vision API:\\n\\n```python\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\nfrom google.cloud import\nvision\\r\\nfrom google.protobuf import field_mask_pb2 as field_mask\\r\\n\\r\\ndef\ncreate_product(\\r\\n project_id, location, product_id, product_display_name,\\r\\n\nproduct_category):\\r\\n \\\"\\\"\\\"Create one product.\\r\\n Args:\\r\\n project_id: Id of\nthe project.\\r\\n location: A compute region name.\\r\\n product_id: Id of the\nproduct.\\r\\n product_display_name: Display name of the product.\\r\\n\nproduct_category: Category of the product.\\r\\n \\\"\\\"\\\"\\r\\n client =\nvision.ProductSearchClient()\\r\\n\\r\\n # A resource that represents Google Cloud\nPlatform location.\\r\\n location_path =\nf\\\"projects/{project_id}/locations/{location}\\\"\\r\\n\\r\\n # Create a product with\nthe product specification in the region.\\r\\n # Set product display name and\nproduct category.\\r\\n product = vision.Product(\\r\\n\ndisplay_name=product_display_name,\\r\\n\nproduct_category=product_category)\\r\\n\\r\\n # The response is the product with\nthe `name` field populated.\\r\\n response = client.create_product(\\r\\n\nparent=location_path,\\r\\n product=product,\\r\\n product_id=product_id)\\r\\n\\r\\n #\nDisplay the product information.\\r\\n print('Product name:\n{}'.format(response.name))\\r\\n```\"}\n```\n\u4ee5\u4e0b\u662f\u4ee3\u78bc\u751f\u6210\u8abf\u512a\u6578\u64da\u96c6\u7684\u7b2c\u4e8c\u500b\u793a\u4f8b\uff1a\n```\n{\"input_text\": \"python to retrieve the labels of a dataset for a given dataset\nID in BigQuery\", \"output_text\": \"Here is a Python code sample to retrieve the labels of a\ndataset for a given dataset ID in BigQuery.\\n\\n```python\\n\\n from google.cloud import\nbigquery\\n\\n # Construct a BigQuery client object.\\n client =\nbigquery.Client()\\n\\n # TODO(developer): Set dataset_id to the ID of the dataset\nto fetch.\\n # dataset_id = \\\"your-project.your_dataset\\\"\\n\\n dataset =\nclient.get_dataset(dataset_id) # Make an API request.\\n\\n # View dataset\nlabels.\\n print(\\\"Dataset ID: {}\\\".format(dataset_id))\\n print(\\\"Labels:\\\")\\n if\ndataset.labels:\\n for label, value in dataset.labels.items():\\n print(\\\"\\\\t{}:\n{}\\\".format(label, value))\\n else:\\n print(\\\"\\\\tDataset has no labels\ndefined.\\\")\\n```\"}\n```\n\u4ee3\u78bc\u804a\u5929\u6a21\u578b\u8abf\u512a\u6578\u64da\u96c6\u5fc5\u9808\u63a1\u7528 [JSON \u884c](https://jsonlines.org/) (JSONL) \u683c\u5f0f\uff0c\u5176\u4e2d\u6bcf\u884c\u5305\u542b\u4e00\u500b\u8abf\u512a\u793a\u4f8b\u3002\u6bcf\u500b\u6a23\u672c\u90fd\u5305\u542b\u4e00\u500b `messages` \u5b57\u6bb5\uff0c\u5176\u4e2d\u5305\u542b\u7d93\u904e\u8abf\u512a\u7684\u6a21\u578b\u9810\u671f\u751f\u6210\u7684\u804a\u5929\u63d0\u793a\u548c\u56de\u8986\u793a\u4f8b\u3002\n\u5728\u4ee3\u78bc\u804a\u5929\u6a21\u578b\u7684\u6578\u64da\u96c6\u4e2d\uff0c\u6a23\u672c\u6700\u591a\u53ef\u4ee5\u5305\u542b 10,000 \u500b `author` \u5b57\u6bb5\u3002\u6b64\u4e0a\u9650\u662f\u6240\u6709\u6a23\u672c\u7684\u6240\u6709 `messages` \u4e2d\u6240\u6709 `author` \u5b57\u6bb5\u7684\u7e3d\u548c\u3002\u672c\u4e3b\u984c\u5c55\u793a\u4e86\u5169\u500b\u4ee3\u78bc\u804a\u5929\u6a21\u578b\u8abf\u512a\u6578\u64da\u96c6\u793a\u4f8b\u3002\u4ee5\u4e0b\u662f\u4ee3\u78bc\u804a\u5929\u8abf\u512a\u6578\u64da\u96c6\u7684\u7b2c\u4e00\u500b\u793a\u4f8b\uff1a\n```\n{\"messages\": [{\"author\":\"user\", \"content\": \"How to create a product in\nPython with Cloud Vision?\"}, {\"author\": \"assistant\", \"content\": \"Use this Python code sample to\nlearn how to create a product with Cloud Vision:\\n\\n```python\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\nfrom\ngoogle.cloud import vision\\r\\nfrom google.protobuf import field_mask_pb2 as\nfield_mask\\r\\n\\r\\ndef create_product(\\r\\n project_id, location, product_id,\nproduct_display_name,\\r\\n product_category):\\r\\n \\\"\\\"\\\"Create one product.\\r\\n\nArgs:\\r\\n project_id: Id of the project.\\r\\n location: A compute region\nname.\\r\\n product_id: Id of the product.\\r\\n product_display_name: Display name\nof the product.\\r\\n product_category: Category of the product.\\r\\n \\\"\\\"\\\"\\r\\n\nclient = vision.ProductSearchClient()\\r\\n\\r\\n # A resource that represents\nGoogle Cloud Platform location.\\r\\n location_path =\nf\\\"projects/{project_id}/locations/{location}\\\"\\r\\n\\r\\n # Create a product with\nthe product specification in the region.\\r\\n # Set product display name and\nproduct category.\\r\\n product = vision.Product(\\r\\n\ndisplay_name=product_display_name,\\r\\n\nproduct_category=product_category)\\r\\n\\r\\n # The response is the product with\nthe `name` field populated.\\r\\n response = client.create_product(\\r\\n\nparent=location_path,\\r\\n product=product,\\r\\n product_id=product_id)\\r\\n\\r\\n #\nDisplay the product information.\\r\\n print('Product name:\n{}'.format(response.name))\\r\\n```\"}]}\n```\n\u4ee5\u4e0b\u662f\u4ee3\u78bc\u804a\u5929\u8abf\u512a\u6578\u64da\u96c6\u7684\u7b2c\u4e8c\u500b\u793a\u4f8b\uff1a\n```\n{\"messages\": [{\"author\":\"user\", \"content\": \"Python to retrieve the labels of a\ndataset for a given dataset ID in BigQuery\"}, {\"author\": \"assistant\", \"content\": \"Here is a\nPython code sample to retrieve the labels of a dataset for a given dataset\nID in BigQuery.\\n\\n```python\\n\\n from google.cloud import bigquery\\n\\n # Construct a\nBigQuery client object.\\n client = bigquery.Client()\\n\\n # TODO(developer): Set\ndataset_id to the ID of the dataset to fetch.\\n # dataset_id =\n\\\"your-project.your_dataset\\\"\\n\\n dataset = client.get_dataset(dataset_id) #\nMake an API request.\\n\\n # View dataset labels.\\n print(\\\"Dataset ID:\n{}\\\".format(dataset_id))\\n print(\\\"Labels:\\\")\\n if dataset.labels:\\n for label,\nvalue in dataset.labels.items():\\n print(\\\"\\\\t{}: {}\\\".format(label, value))\\n\nelse:\\n print(\\\"\\\\tDataset has no labels defined.\\\")\\n```\"}]}\n```\n### \u8207\u751f\u7522\u6578\u64da\u4fdd\u6301\u4e00\u81f4\n\u6578\u64da\u96c6\u4e2d\u7684\u6a23\u672c\u61c9\u8207\u60a8\u7684\u9810\u671f\u751f\u7522\u6d41\u91cf\u76f8\u5339\u914d\u3002\u5982\u679c\u60a8\u7684\u6578\u64da\u96c6\u5305\u542b\u7279\u5b9a\u7684\u683c\u5f0f\u3001\u95dc\u9375\u5b57\u3001\u8aaa\u660e\u6216\u4fe1\u606f\uff0c\u5247\u751f\u7522\u6578\u64da\u61c9\u4ee5\u76f8\u540c\u65b9\u5f0f\u8a2d\u7f6e\u683c\u5f0f\u5e77\u5305\u542b\u76f8\u540c\u7684\u8aaa\u660e\u3002\n\u4f8b\u5982\uff0c\u5982\u679c\u6578\u64da\u96c6\u4e2d\u7684\u6a23\u672c\u5305\u542b `\"question:\"` \u548c `\"context:\"` \uff0c\u5247\u751f\u7522\u6d41\u91cf\u7684\u683c\u5f0f\u4e5f\u61c9\u8a2d\u7f6e\u7232\u5305\u542b `\"question:\"` \u548c `\"context:\"` \uff0c\u5176\u9806\u5e8f\u8207\u5728\u6578\u64da\u96c6\u6a23\u672c\u4e2d\u7684\u986f\u793a\u9806\u5e8f\u76f8\u540c\u3002\u5982\u679c\u6392\u9664\u4e86\u8a9e\u5883\uff0c\u5247\u6a21\u578b\u5c07\u7121\u6cd5\u8b58\u5225\u8a72\u6a21\u5f0f\uff0c\u5373\u4f7f\u78ba\u5207\u7684\u554f\u984c\u5305\u542b\u5728\u6578\u64da\u96c6\u5167\u7684\u6a23\u672c\u4e2d\u4e5f\u662f\u5982\u6b64\u3002\n### \u5728\u6a23\u672c\u4e2d\u6dfb\u52a0\u8aaa\u660e\n\u5c0d\u65bc\u4ee3\u78bc\u751f\u6210\u7b49\u4efb\u52d9\uff0c\u60a8\u53ef\u4ee5\u5275\u5efa\u4e0d\u5305\u542b\u8aaa\u660e\u7684\u6a23\u672c\u7684\u6578\u64da\u96c6\u3002\u4f46\u662f\uff0c\u5982\u679c\u5f9e\u6578\u64da\u96c6\u4e2d\u7684\u793a\u4f8b\u4e2d\u6392\u9664\u8aaa\u660e\uff0c\u5247\u8207\u5305\u542b\u8aaa\u660e\u76f8\u6bd4\uff0c\u5728\u8abf\u512a\u5f8c\u6027\u80fd\u6703\u4e0b\u964d\uff0c\u5c0d\u65bc\u8f03\u5c0f\u7684\u6578\u64da\u96c6\u5c24\u751a\u3002\n**\u6392\u9664\u8aaa\u660e** \uff1a\n```\n{\u00a0 \"input_text\": \"Calculate the sum of a list of integers.\",\u00a0 \"output_text\": \"```python\\nnums = [1, 2, 3]\\ntotal_sum = sum(nums)\\n```\"}\n```\n**\u5305\u542b\u8aaa\u660e** \uff1a\n```\n{\u00a0 \"input_text\": \"Write the code in Python: calculate the sum of a list of integers\",\u00a0 \"output_text\": \"```python\\nnums = [1, 2, 3]\\ntotal_sum = sum(nums)\\n```\"}\n```\n### \u5c07\u8abf\u512a\u6578\u64da\u96c6\u4e0a\u50b3\u5230 Cloud Storage\n\u82e5\u8981\u904b\u884c\u8abf\u512a\u4f5c\u696d\uff0c\u60a8\u9700\u8981\u5c07\u4e00\u500b\u6216\u591a\u500b\u6578\u64da\u96c6\u4e0a\u50b3\u5230 Cloud Storage \u5b58\u5132\u6876\u3002\u60a8\u53ef\u4ee5 [\u5275\u5efa\u65b0\u7684 Cloud Storage \u5b58\u5132\u6876](https://cloud.google.com/storage/docs/creating-buckets?hl=zh-cn#create_a_new_bucket) \uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528\u73fe\u6709\u7684\u5b58\u5132\u6876\u4f86\u5b58\u5132\u6578\u64da\u96c6\u6587\u4ef6\u3002\u5b58\u5132\u6876\u7684\u5340\u57df\u7121\u95dc\u7dca\u8981\uff0c\u4f46\u6211\u5011\u5efa\u8b70\u60a8\u4f7f\u7528\u60a8\u8a08\u5283\u7528\u65bc\u5c0d\u6a21\u578b\u8abf\u512a\u7684\u540c\u4e00 Google Cloud \u9805\u76ee\u4e2d\u7684\u5b58\u5132\u6876\u3002\n\u5b58\u5132\u6876\u6e96\u5099\u5c31\u7dd2\u5f8c\uff0c\u5c07\u6578\u64da\u96c6\u6587\u4ef6 [\u4e0a\u50b3](https://cloud.google.com/storage/docs/creating-buckets?hl=zh-cn#create_a_new_bucket) \u5230\u5b58\u5132\u6876\u3002\n## \u76e3\u7763\u5f0f\u8abf\u512a\u5340\u57df\u8a2d\u7f6e\n\u914d\u7f6e\u76e3\u7763\u5f0f\u8abf\u512a\u4f5c\u696d\u6642\uff0c\u60a8\u53ef\u4ee5\u6307\u5b9a\u4e09\u500b Google Cloud \u5340\u57df\u8a2d\u7f6e\u3002\u4e00\u500b\u5340\u57df\u662f\u904b\u884c\u6a21\u578b\u8abf\u512a\u6d41\u6c34\u7dda\u7684\u4f4d\u7f6e\u3002\u53e6\u4e00\u500b\u5340\u57df\u662f\u904b\u884c\u6a21\u578b\u8abf\u512a\u4f5c\u696d\u548c\u4e0a\u50b3\u8abf\u512a\u5f8c\u6a21\u578b\u7684\u4f4d\u7f6e\u3002\n### \u6d41\u6c34\u7dda\u4f5c\u696d\u5340\u57df\n\u6d41\u6c34\u7dda\u4f5c\u696d\u5340\u57df\u662f\u904b\u884c\u6d41\u6c34\u7dda\u4f5c\u696d\u7684\u5340\u57df\u3002\u5982\u679c\u672a\u6307\u5b9a\u53ef\u9078\u7684 [\u6a21\u578b\u4e0a\u50b3\u5340\u57df](#upload-region) \uff0c\u5247\u6a21\u578b\u5c07\u4e0a\u50b3\u4e26\u90e8\u7f72\u5230\u6d41\u6c34\u7dda\u4f5c\u696d\u5340\u57df\u3002\u4e2d\u9593\u6578\u64da\uff08\u4f8b\u5982\u8f49\u63db\u5f8c\u7684\u6578\u64da\u96c6\uff09\u5b58\u5132\u5728\u6d41\u6c34\u7dda\u4f5c\u696d\u5340\u57df\u4e2d\u3002\u5982\u9700\u77ad\u89e3\u53ef\u7528\u65bc\u6d41\u6c34\u7dda\u4f5c\u696d\u5340\u57df\u7684\u5340\u57df\uff0c\u8acb\u53c3\u95b1 [\u652f\u6301\u7684\u6d41\u6c34\u7dda\u4f5c\u696d\u548c\u6a21\u578b\u4e0a\u50b3\u5340\u57df](#supported-supervised-tuning-regions) \u3002\u60a8\u5fc5\u9808\u4f7f\u7528\u4ee5\u4e0b\u65b9\u6cd5\u4e4b\u4e00\u6307\u5b9a\u6d41\u6c34\u7dda\u4f5c\u696d\u5340\u57df\uff1a\n- \u5982\u679c\u60a8\u4f7f\u7528 Vertex AI SDK\uff0c\u5247\u53ef\u4ee5\u4f7f\u7528\u8868\u793a\u60a8\u6b63\u5728\u8abf\u512a\u7684\u6a21\u578b\u7684\u5c0d\u8c61\u7684 `tune_model` \u65b9\u6cd5\uff08\u4f8b\u5982\uff0c [TextGenerationModel.tune_model](https://cloud.google.com/python/docs/reference/aiplatform/latest/vertexai.language_models.TextGenerationModel?hl=zh-cn#vertexai_language_models_TextGenerationModel_tune_model) \u65b9\u6cd5\uff09\u4e0a\u7684 `tuning_job_location` \u53c3\u6578\u4f86\u6307\u5b9a\u6d41\u6c34\u7dda\u4f5c\u696d\u904b\u884c\u7684\u5340\u57df\u3002\n- \u5982\u679c\u60a8\u901a\u904e\u4f7f\u7528 [pipelineJobs.create](https://cloud.google.com/vertex-ai/docs/reference/rest/v1/projects.locations.pipelineJobs/create?hl=zh-cn) \u65b9\u6cd5\u767c\u9001 POST \u8acb\u6c42\u4f86\u5275\u5efa\u76e3\u7763\u5f0f\u8abf\u512a\u4f5c\u696d\uff0c\u5247\u53ef\u4ee5\u4f7f\u7528\u7db2\u5740\u4f86\u6307\u5b9a\u6d41\u6c34\u7dda\u4f5c\u696d\u904b\u884c\u7684\u5340\u57df\u3002\u5728\u4ee5\u4e0b\u7db2\u5740\u4e2d\uff0c\u5c07\u51fa\u73fe\u7684\u5169\u500b \u66ff\u63db\u7232\u6d41\u6c34\u7dda\u904b\u884c\u7684\u5340\u57df\uff1a```\n\u00a0https://PIPELINE_JOB_REGION-aiplatform.googleapis.com/v1/projects/PROJECT_ID/locations/PIPELINE_JOB_REGION/pipelineJobs\n```\n- \u5982\u679c\u60a8\u4f7f\u7528 Google Cloud \u63a7\u5236\u6aaf\u5275\u5efa\u76e3\u7763\u5f0f\u6a21\u578b\u8abf\u512a\u4f5c\u696d\uff0c\u5247\u53ef\u4ee5\u5728\u5275\u5efa\u8abf\u512a\u4f5c\u696d\u6642\u5728 **\u5340\u57df** \u63a7\u4ef6\u4e2d\u6307\u5b9a\u6d41\u6c34\u7dda\u4f5c\u696d\u5340\u57df\u3002\u5728 Google Cloud \u63a7\u5236\u6aaf\u4e2d\uff0c **\u5340\u57df** \u63a7\u4ef6\u540c\u6642\u6307\u5b9a\u6d41\u6c34\u7dda\u4f5c\u696d\u5340\u57df\u548c\u6a21\u578b\u4e0a\u50b3\u5340\u57df\u3002\u7576\u60a8\u4f7f\u7528 Google Cloud \u63a7\u5236\u6aaf\u5275\u5efa\u76e3\u7763\u5f0f\u6a21\u578b\u8abf\u512a\u4f5c\u696d\u6642\uff0c\u9019\u5169\u500b\u5340\u57df\u59cb\u7d42\u76f8\u540c\u3002\n### \u6a21\u578b\u4e0a\u50b3\u5340\u57df\n\u60a8\u53ef\u4ee5\u4f7f\u7528\u53ef\u9078\u7684 `tuned_model_location` \u53c3\u6578\u6307\u5b9a\u8abf\u512a\u5f8c\u6a21\u578b\u4e0a\u50b3\u5230\u7684\u4f4d\u7f6e\u3002\u5982\u679c\u672a\u6307\u5b9a\u6a21\u578b\u4e0a\u50b3\u5340\u57df\uff0c\u7cfb\u7d71\u6703\u5c07\u8abf\u512a\u5f8c\u7684\u6a21\u578b\u4e0a\u50b3\u5230 [\u6d41\u6c34\u7dda\u4f5c\u696d\u5340\u57df](#pipeline-region) \u3002\u60a8\u53ef\u4ee5\u4f7f\u7528 [\u652f\u6301\u7684\u6d41\u6c34\u7dda\u4f5c\u696d\u548c\u6a21\u578b\u4e0a\u50b3\u5340\u57df](#supported-supervised-tuning-regions) \u4e2d\u7684\u5340\u57df\u3002\u60a8\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u67d0\u7a2e\u65b9\u6cd5\u6307\u5b9a\u6a21\u578b\u4e0a\u50b3\u5340\u57df\uff1a\n- \u5982\u679c\u60a8\u4f7f\u7528 Vertex AI SDK\uff0c\u5247\u5728\u4ee3\u8868\u60a8\u6b63\u5728\u8abf\u512a\u7684\u6a21\u578b\u7684\u5c0d\u8c61\u7684 `tune_model` \u65b9\u6cd5\uff08\u4f8b\u5982\uff0c [TextGenerationModel.tune_model](https://cloud.google.com/python/docs/reference/aiplatform/latest/vertexai.language_models.TextGenerationModel?hl=zh-cn#vertexai_language_models_TextGenerationModel_tune_model) \u65b9\u6cd5\uff09\u4e0a\u6307\u5b9a `tuned_model_location` \u53c3\u6578\u3002\n- \u5982\u679c\u60a8\u901a\u904e\u4f7f\u7528 [pipelineJobs](https://cloud.google.com/vertex-ai/docs/reference/rest/v1/projects.locations.pipelineJobs/create?hl=zh-cn) \u65b9\u6cd5\u767c\u9001 POST \u8acb\u6c42\u4f86\u5275\u5efa\u76e3\u7763\u5f0f\u6a21\u578b\u8abf\u512a\u4f5c\u696d\uff0c\u5247\u53ef\u4ee5\u4f7f\u7528 `location` \u53c3\u6578\u6307\u5b9a\u6a21\u578b\u4e0a\u50b3\u5340\u57df\u3002\n- \u5982\u679c\u60a8\u4f7f\u7528 Google Cloud \u63a7\u5236\u6aaf\u5275\u5efa\u76e3\u7763\u5f0f\u6a21\u5f0f\u8abf\u512a\u4f5c\u696d\uff0c\u5247\u5728\u5275\u5efa\u8abf\u512a\u4f5c\u696d\u6642\u5728 **\u5340\u57df** \u63a7\u4ef6\u4e2d\u6307\u5b9a\u6a21\u578b\u4e0a\u50b3\u5340\u57df\u3002\u5728 Google Cloud \u63a7\u5236\u6aaf\u4e2d\uff0c **\u5340\u57df** \u63a7\u4ef6\u540c\u6642\u6307\u5b9a\u6a21\u578b\u4e0a\u50b3\u5340\u57df\u548c\u6d41\u6c34\u7dda\u4f5c\u696d\u5340\u57df\u3002\u7576\u60a8\u4f7f\u7528 Google Cloud \u63a7\u5236\u6aaf\u5275\u5efa\u76e3\u7763\u5f0f\u6a21\u578b\u8abf\u512a\u4f5c\u696d\u6642\uff0c\u9019\u5169\u500b\u5340\u57df\u59cb\u7d42\u76f8\u540c\u3002\n### \u6a21\u578b\u8abf\u512a\u5340\u57df\n\u6a21\u578b\u8abf\u512a\u5340\u57df\u662f\u9032\u884c\u6a21\u578b\u8abf\u512a\u8a08\u7b97\u7684\u4f4d\u7f6e\u3002\u6b64\u5340\u57df\u7531\u60a8\u9078\u64c7\u7684\u52a0\u901f\u5668\u985e\u578b\u6c7a\u5b9a\u3002\u5982\u679c\u60a8\u5c07\u52a0\u901f\u5668\u985e\u578b\u6307\u5b9a\u7232 `TPU` \uff0c\u5247\u6a21\u578b\u8abf\u512a\u8a08\u7b97\u6703\u5728 `europe-west4` \u4e2d\u9032\u884c\u3002\u5982\u679c\u60a8\u5c07\u52a0\u901f\u5668\u985e\u578b\u6307\u5b9a\u7232 `GPU` \uff0c\u5247\u6a21\u578b\u8abf\u512a\u5728 `us-central1` \u4e2d\u9032\u884c\u3002\n### \u652f\u6301\u7684\u6d41\u6c34\u7dda\u4f5c\u696d\u548c\u6a21\u578b\u4e0a\u50b3\u5340\u57df\n\u60a8\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u5340\u57df\u4e4b\u4e00\u4f86\u6307\u5b9a\u6a21\u578b\u4e0a\u50b3\u5340\u57df\u4e26\u6307\u5b9a\u6d41\u6c34\u7dda\u4f5c\u696d\u5340\u57df\uff1a\n- `us-central1`\n- `europe-west4`\n- `asia-southeast1`\n- `us-west1`\n- `europe-west3`\n- `europe-west2`\n- `asia-northeast1`\n- `us-east4`\n- `us-west4`\n- `northamerica-northeast1`\n- `europe-west9`\n- `europe-west1`\n- `asia-northeast3`## \u5275\u5efa\u4ee3\u78bc\u6a21\u578b\u8abf\u512a\u4f5c\u696d\n\u60a8\u53ef\u4ee5\u4f7f\u7528 Google Cloud \u63a7\u5236\u6aaf\u3001API \u6216 Python \u7248 Vertex AI SDK \u5275\u5efa\u76e3\u7763\u5f0f\u8abf\u512a\u4f5c\u696d\u3002\u5982\u9700\u67e5\u770b\u6a21\u578b\u8abf\u512a\u914d\u7f6e\u7684\u6307\u5c0e\u4fe1\u606f\uff0c\u8acb\u53c3\u95b1 [\u63a8\u85a6\u914d\u7f6e](#recommended-configurations) \u3002\n### \u5275\u5efa\u4ee3\u78bc\u751f\u6210\u6a21\u578b\u8abf\u512a\u4f5c\u696d\n\u4e0b\u9762\u5c55\u793a\u77ad\u5982\u4f55\u4f7f\u7528 Google Cloud \u63a7\u5236\u6aaf\u6216 REST API \u547d\u4ee4\u5275\u5efa\u4ee3\u78bc\u751f\u6210\u6a21\u578b\u8abf\u512a\u4f5c\u696d\u3002\n\u5982\u9700\u5275\u5efa\u4ee3\u78bc\u751f\u6210\u6a21\u578b\u8abf\u512a\u4f5c\u696d\uff0c\u8acb\u4f7f\u7528 [pipelineJobs](https://cloud.google.com/vertex-ai/docs/reference/rest/v1/projects.locations.pipelineJobs/create?hl=zh-cn) \u65b9\u6cd5\u767c\u9001 POST \u8acb\u6c42\u3002\n\u5728\u4f7f\u7528\u4efb\u4f55\u8acb\u6c42\u6578\u64da\u4e4b\u524d\uff0c\u8acb\u5148\u9032\u884c\u4ee5\u4e0b\u66ff\u63db\uff1a- \uff1a\u60a8\u7684 [\u9805\u76ee ID](https://cloud.google.com/resource-manager/docs/creating-managing-projects?hl=zh-cn#identifiers) \u3002\n- \uff1apipelineJob \u7684\u986f\u793a\u540d\u7a31\u3002\n- \uff1a\u8981\u5c07\u6d41\u6c34\u7dda\u5de5\u4ef6\u8f38\u51fa\u5230\u7684\u5b58\u5132\u6876\u7684 URI\u3002\n- \uff1apipelineJob \u4e0a\u50b3\uff08\u5275\u5efa\uff09\u7684\u6a21\u578b\u7684\u986f\u793a\u540d\u7a31\u3002\n- \uff1a\u6578\u64da\u96c6\u6587\u4ef6\u7684 URI\u3002\n- \uff1a\uff08\u53ef\u9078\uff09\u5305\u542b\u8a55\u4f30\u6578\u64da\u96c6\uff08\u7528\u65bc\u6279\u91cf\u9810\u6e2c\u548c\u8a55\u4f30\uff09\u7684 JSONL \u6587\u4ef6\u7684 URI\u3002`codechat-bison`\u4e0d\u652f\u6301\u8a55\u4f30\u3002\u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1 [\u7528\u65bc\u5c0d\u4ee3\u78bc\u6a21\u578b\u8abf\u512a\u7684\u6578\u64da\u96c6\u683c\u5f0f](https://cloud.google.com/vertex-ai/generative-ai/docs/models/tune-code-models?hl=zh-cn#dataset-format) \u3002\u8a55\u4f30\u6578\u64da\u96c6\u9700\u8981 10 \u5230 250 \u500b\u6a23\u672c\u3002\n- \uff1a\uff08\u53ef\u9078\uff0c\u9ed8\u8a8d\u503c\u7232`20`\uff09\u6bcf\u6b21\u8a55\u4f30\u4e4b\u9593\u7684\u8abf\u512a\u6b65\u6578\u3002\u804a\u5929\u6a21\u578b\u4e0d\u652f\u6301\u8a55\u4f30\u9593\u9694\u3002\u7531\u65bc\u8a55\u4f30\u662f\u91dd\u5c0d\u6574\u500b\u8a55\u4f30\u6578\u64da\u96c6\u904b\u884c\uff0c\u56e0\u6b64\u8a55\u4f30\u9593\u9694\u8d8a\u5c0f\uff0c\u8abf\u512a\u6642\u9593\u5c31\u8d8a\u9577\u3002\u4f8b\u5982\uff0c\u5982\u679c`steps`\u7232 200 \u4e14`EVAL_INTERVAL`\u7232 100\uff0c\u5247\u60a8\u5c07\u50c5\u7372\u5f97\u8a55\u4f30\u6307\u6a19\u7684\u5169\u500b\u6578\u64da\u9ede\u3002\u6b64\u53c3\u6578\u8981\u6c42\u8a2d\u7f6e`evalutation_data_uri`\u3002\n- \uff1a\u904b\u884c\u6d41\u6c34\u7dda\u8abf\u512a\u4f5c\u696d\u7684\u5340\u57df\u3002\u9019\u4e5f\u662f\u4e0a\u50b3\u8abf\u512a\u5f8c\u6a21\u578b\u7684\u9ed8\u8a8d\u5340\u57df\u3002\u5982\u679c\u8981\u5c07\u6a21\u578b\u4e0a\u50b3\u5230\u5176\u4ed6\u5340\u57df\uff0c\u8acb\u4f7f\u7528`location`\u53c3\u6578\u6307\u5b9a\u8abf\u512a\u5f8c\u6a21\u578b\u4e0a\u50b3\u5340\u57df\u3002\u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1 [\u6d41\u6c34\u7dda\u4f5c\u696d\u5340\u57df](https://cloud.google.com/vertex-ai/generative-ai/docs/models/tune-code-models?hl=zh-cn#pipeline-region) \u3002\n- \uff1a\uff08\u53ef\u9078\uff09\u4e0a\u50b3\u8abf\u512a\u5f8c\u6a21\u578b\u7684\u5340\u57df\u3002\u5982\u679c\u672a\u6307\u5b9a\u6a21\u578b\u4e0a\u50b3\u5340\u57df\uff0c\u5247\u8abf\u512a\u5f8c\u7684\u6a21\u578b\u6703\u4e0a\u50b3\u5230\u904b\u884c\u6d41\u6c34\u7dda\u4f5c\u696d\u7684\u540c\u4e00\u5340\u57df\u3002\u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1 [\u6a21\u578b\u4e0a\u50b3\u5340\u57df](https://cloud.google.com/vertex-ai/generative-ai/docs/models/tune-code-models?hl=zh-cn#upload-region) \u3002\n- \uff1a\uff08\u53ef\u9078\uff0c\u9ed8\u8a8d\u7232`GPU`\uff09\u7528\u65bc\u6a21\u578b\u8abf\u512a\u7684\u52a0\u901f\u5668\u985e\u578b\u3002\u6709\u6548\u9078\u9805\u5305\u62ec\uff1a- `GPU`\uff1a\u4f7f\u7528 8 \u500b A100 80 GB GPU \u9032\u884c\u8abf\u512a\u3002\u8acb\u78ba\u4fdd\u60a8\u6709\u8db3\u5920\u7684 [\u914d\u984d](https://cloud.google.com/vertex-ai/generative-ai/docs/models/tune-text-models?hl=zh-cn#quota) \u3002\u5982\u679c\u60a8\u9078\u64c7`GPU`\uff0c\u5247\u652f\u6301 [VPC-SC](https://cloud.google.com/vertex-ai/docs/general/vpc-service-controls?hl=zh-cn) \u3002\u5982\u679c\u8abf\u512a\u4f4d\u7f6e\u548c\u6a21\u578b\u4e0a\u50b3\u4f4d\u7f6e\u7232`us-centra1`\uff0c\u5247\u652f\u6301 [CMEK](https://cloud.google.com/vertex-ai/docs/general/cmek?hl=zh-cn) \u3002\u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1 [\u76e3\u7763\u5f0f\u8abf\u512a\u5340\u57df\u8a2d\u7f6e](https://cloud.google.com/vertex-ai/generative-ai/docs/models/tune-code-models?hl=zh-cn#supervised-tuning-regions) \u3002\u5982\u679c\u60a8\u9078\u64c7`GPU`\uff0c\u5247\u6a21\u578b\u8abf\u512a\u8a08\u7b97\u6703\u5728`us-central1`\u5340\u57df\u9032\u884c\u3002\n- `TPU`\uff1a\u4f7f\u7528 64 \u500b TPU v3 Pod \u6838\u5fc3\u9032\u884c\u8abf\u512a\u3002\u8acb\u78ba\u4fdd\u60a8\u6709\u8db3\u5920\u7684 [\u914d\u984d](https://cloud.google.com/vertex-ai/generative-ai/docs/models/tune-text-models?hl=zh-cn#quota) \u3002\u4e0d\u652f\u6301 [CMEK](https://cloud.google.com/vertex-ai/docs/general/cmek?hl=zh-cn) \uff0c\u4f46\u652f\u6301 [VPC-SC](https://cloud.google.com/vertex-ai/docs/general/vpc-service-controls?hl=zh-cn) \u3002\u5982\u679c\u60a8\u9078\u64c7`TPU`\uff0c\u5247\u6a21\u578b\u8abf\u512a\u8a08\u7b97\u6703\u5728`europe-west4`\u5340\u57df\u9032\u884c\u3002\n- \uff1a\uff08\u53ef\u9078\uff0c\u9ed8\u8a8d\u503c\u7232`true`\uff09\u4e00\u500b`boolean`\uff0c\u5982\u679c\u8a2d\u7f6e\u7232`true`\uff0c\u4e14\u6a21\u578b\u6027\u80fd\u5728\u5169\u6b21\u8a55\u4f30\u904b\u884c\u4e2d\u6c92\u6709\u5f97\u5230\u8db3\u5920\u7684\u6539\u9032\uff08\u901a\u904e\u9810\u6e2c\u8a5e\u5143\u7684\u6e96\u78ba\u7387\u4f86\u8861\u91cf\uff09\uff0c\u5247\u5728\u5b8c\u6210\u6240\u6709\u8abf\u512a\u6b65\u9a5f\u4e4b\u524d\u505c\u6b62\u8abf\u512a\u3002\u5982\u679c\u7232`false`\uff0c\u5247\u7e7c\u7e8c\u8abf\u512a\uff0c\u76f4\u5230\u6240\u6709\u8abf\u512a\u6b65\u9a5f\u5b8c\u6210\u3002\u6b64\u53c3\u6578\u8981\u6c42\u8a2d\u7f6e`evaluation_data_uri`\u3002 \u804a\u5929\u6a21\u578b\u4e0d\u652f\u6301\u5553\u7528\u65e9\u505c\u6cd5\u3002\n- \uff1a\u4e00\u500b\u5b57\u7b26\u4e32\u503c\uff0c\u53ef\u4ee5\u662f`true`\u3001`false`\u6216`default`\u3002\u5982\u679c\u8a2d\u7f6e\u7232 `true`\uff0c\u751f\u6210\u5f0f AI \u6703\u5f9e\u8abf\u512a\u4f5c\u696d\u671f\u9593\u5275\u5efa\u7684\u6240\u6709\u6aa2\u67e5\u9ede\u4e2d\u9078\u64c7\u4e26\u8fd4\u56de\u5177\u6709\u6700\u4f73\u6a21\u578b\u8a55\u4f30\u6027\u80fd\u7684\u6aa2\u67e5\u9ede\u3002\u5982\u679c\u8a2d\u7f6e\u7232 `false`\uff0c\u5247\u8fd4\u56de\u5728\u8abf\u512a\u4f5c\u696d\u671f\u9593\u5275\u5efa\u7684\u6700\u7d42\u6aa2\u67e5\u9ede\u3002\u6bcf\u500b\u6aa2\u67e5\u9ede\u662f\u6307\u6a21\u578b\u5728\u8abf\u7bc0\u4f5c\u696d\u671f\u9593\u7684\u5feb\u7167\u3002\n- \uff1a\uff08\u53ef\u9078\uff09 [Vertex AI TensorBoard \u5be6\u4f8b](https://cloud.google.com/vertex-ai/docs/experiments/tensorboard-setup?hl=zh-cn#tensorboard_id) \u7684 ID\u3002Vertex AI TensorBoard \u5be6\u4f8b\u7528\u65bc\u5728\u8abf\u512a\u4f5c\u696d\u5b8c\u6210\u5f8c\u5275\u5efa [\u5be6\u9a57](https://cloud.google.com/vertex-ai/docs/experiments/create-experiment?hl=zh-cn) \u3002Vertex AI TensorBoard \u5be6\u4f8b\u9700\u8981\u8207\u8abf\u512a\u6d41\u6c34\u7dda\u4f4d\u65bc\u540c\u4e00\u5340\u57df\u3002\n- \uff1a\uff08\u53ef\u9078\uff09\u8981\u7528\u65bc\u6578\u64da\u52a0\u5bc6\u7684\u5ba2\u6236\u7ba1\u7406\u7684\u52a0\u5bc6\u5bc6\u9470 (CMEK) \u7684\u5b8c\u5168\u9650\u5b9a\u540d\u7a31\u3002CMEK \u50c5\u5728`us-central1`\u4e2d\u53ef\u7528\u3002\u5982\u679c\u60a8\u4f7f\u7528`us-central1`\u4e26\u4e14\u672a\u6307\u5b9a CMEK\uff0c\u5247\u7cfb\u7d71\u6703\u4f7f\u7528 Google \u7ba1\u7406\u7684\u52a0\u5bc6\u5bc6\u9470\u3002\u5728\u6240\u6709\u5176\u4ed6 [\u53ef\u7528\u5340\u57df](https://cloud.google.com/vertex-ai/generative-ai/docs/models/tune-code-models?hl=zh-cn#supported-supervised-tuning-regionss) \u4e2d\uff0c\u7cfb\u7d71\u9ed8\u8a8d\u4f7f\u7528 Google \u7ba1\u7406\u7684\u52a0\u5bc6\u5bc6\u9470\u3002\u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1 [CMEK \u6982\u89bd](https://cloud.google.com/kms/docs/cmek?hl=zh-cn) \u3002\n- \uff1a\u6a21\u578b\u8abf\u512a\u6240\u8981\u904b\u884c\u7684\u6b65\u6578\u3002\u9ed8\u8a8d\u503c\u7232 300\u3002\u6279\u6b21\u5927\u5c0f\u56e0\u8abf\u512a\u4f4d\u7f6e\u548c\u6a21\u578b\u5927\u5c0f\u800c\u7570\u3002\u5c0d\u65bc 8k \u6a21\u578b\uff0c\u4f8b\u5982`text-bison@002`\u3001`chat-bison@002`\u3001`code-bison@002`\u548c`codechat-bison@002`\uff1a- `us-central1`\u7684\u6279\u6b21\u5927\u5c0f\u7232 8\u3002\n- `europe-west4`\u7684\u6279\u6b21\u5927\u5c0f\u7232 24\u3002\n\u5c0d\u65bc 32k \u6a21\u578b\uff0c\u4f8b\u5982`text-bison-32k`\u3001`chat-bison-32k`\u3001`code-bison-32k`\u548c`codechat-bison-32k`\uff1a- `us-central1`\u7684\u6279\u6b21\u5927\u5c0f\u7232 8\u3002\n- `europe-west4`\u7684\u6279\u6b21\u5927\u5c0f\u7232 8\u3002\n\u4f8b\u5982\uff0c\u5982\u679c\u60a8\u5728 `europe-west4` \u4e2d\u8a13\u7df4 `text-bison@002` \uff0c\u8a13\u7df4\u6578\u64da\u96c6\u4e2d\u6709 240 \u500b\u6a23\u672c\uff0c\u4e26\u4e14\u5c07 `steps` \u8a2d\u7f6e\u7232 20\uff0c\u5247\u8a13\u7df4\u6a23\u672c\u6578\u7232 20 \u6b65\u8207\u6279\u6b21\u5927\u5c0f 24 \u7684\u4e58\u7a4d\uff0c\u5373\u8a13\u7df4\u6b65\u6578\u7232 480\u3002\u5728\u9019\u7a2e\u60c5\u6cc1\u4e0b\uff0c\u8a13\u7df4\u904e\u7a0b\u6709\u5169\u500b\u9031\u671f\uff0c\u56e0\u7232\u5b83\u904d\u6b77\u6a23\u672c\u5169\u6b21\u3002\u5728 `us-central1` \u4e2d\uff0c\u5982\u679c\u8a13\u7df4\u6578\u64da\u96c6\u4e2d\u6709 240 \u500b\u6a23\u672c\uff0c\u4e26\u4e14\u60a8\u5c07 `steps` \u8a2d\u7f6e\u7232 15\uff0c\u5247\u8a13\u7df4\u6a23\u672c\u6578\u7232 15 \u6b65\u8207\u6279\u6b21\u5927\u5c0f 8 \u7684\u4e58\u7a4d\uff0c\u5373\u8a13\u7df4\u6b65\u6578\u7232 120\u3002\u5728\u9019\u7a2e\u60c5\u6cc1\u4e0b\u6709 0.5 \u500b\u9031\u671f\uff0c\u56e0\u7232\u8a13\u7df4\u6b65\u6578\u662f\u6a23\u672c\u6578\u7684\u4e00\u534a\u3002\n- \uff1a\u6bcf\u6b21\u8fed\u4ee3\u7684\u6b65\u9577\u3002\u9ed8\u8a8d\u503c\u7232 1\u3002\nHTTP \u65b9\u6cd5\u548c\u7db2\u5740\uff1a\n```\nPOST https://PIPELINE_JOB_REGION-aiplatform.googleapis.com/v1/projects/PROJECT_ID/locations/PIPELINE_JOB_REGION/pipelineJobs\n```\n\u8acb\u6c42 JSON \u6b63\u6587\uff1a\n```\n{\n \"displayName\": \"PIPELINEJOB_DISPLAYNAME\",\n \"runtimeConfig\": {\n \"gcsOutputDirectory\": \"gs://OUTPUT_DIR\",\n \"parameterValues\": {\n  \"project\": \"PROJECT_ID\",\n  \"model_display_name\": \"MODEL_DISPLAYNAME\",\n  \"dataset_uri\": \"gs://DATASET_URI\",\n  \"evaluation_data_uri\": \"EVAL_DATASET_URI\",\n  \"evaluation_interval\": \"EVAL_INTERVAL\",\n  \"enable_early_stopping\": \"ENABLE_EARLY_STOPPING\",\n  \"enable_checkpoint_selection\": \"ENABLE_CHECKPOINT_SELECTION\",\n  \"tensorboard_resource_id\": \"TENSORBOARD_RESOURCE_ID\",\n  \"location\": \"MODEL_UPLOAD_REGION\",\n  \"accelerator_type\": \"ACCELERATOR_TYPE\",\n  \"large_model_reference\": \"code-bison@002\",\n  \"train_steps\": STEPS,\n  \"learning_rate_multiplier\": LEARNING_RATE_MULTIPLIER\n }\n }\n \"templateUri\": \"https://us-kfp.pkg.dev/ml-pipeline/large-language-model-pipelines/tune-large-model/v3.0.0\"\n}\n```\n\u5982\u9700\u767c\u9001\u8acb\u6c42\uff0c\u8acb\u9078\u64c7\u4ee5\u4e0b\u65b9\u5f0f\u4e4b\u4e00\uff1a\n **\u6ce8\u610f** \uff1a\u4ee5\u4e0b\u547d\u4ee4\u5047\u5b9a\u60a8\u5df2\u4f7f\u7528\u60a8\u7684\u7528\u6236\u8cec\u865f\u901a\u904e\u904b\u884c [gcloud init](https://cloud.google.com/sdk/gcloud/reference/init?hl=zh-cn) \u6216 [gcloud auth login](https://cloud.google.com/sdk/gcloud/reference/auth/login?hl=zh-cn) \u767b\u9304`gcloud`CLI\uff0c\u6216\u8005\u4f7f\u7528\u4e86 [Cloud Shell](https://cloud.google.com/shell/docs?hl=zh-cn) \uff0c\u9019\u6703\u4f7f\u60a8\u81ea\u52d5\u767b\u9304`gcloud`CLI\u3002\u60a8\u53ef\u4ee5\u904b\u884c [gcloud auth list](https://cloud.google.com/sdk/gcloud/reference/auth/list?hl=zh-cn) \u4f86\u6aa2\u67e5\u7576\u524d\u6d3b\u8e8d\u7684\u8cec\u865f\u3002\n\u5c07\u8acb\u6c42\u6b63\u6587\u4fdd\u5b58\u5728\u540d\u7232 `request.json` \u7684\u6587\u4ef6\u4e2d\uff0c\u7136\u5f8c\u57f7\u884c\u4ee5\u4e0b\u547d\u4ee4\uff1a\n```\ncurl -X POST \\ -H \"Authorization: Bearer $(gcloud auth print-access-token)\" \\ -H \"Content-Type: application/json; charset=utf-8\" \\ -d @request.json \\ \"https://PIPELINE_JOB_REGION-aiplatform.googleapis.com/v1/projects/PROJECT_ID/locations/PIPELINE_JOB_REGION/pipelineJobs\"\n``` **\u6ce8\u610f** \uff1a\u4ee5\u4e0b\u547d\u4ee4\u5047\u5b9a\u60a8\u5df2\u4f7f\u7528\u60a8\u7684\u7528\u6236\u8cec\u865f\u901a\u904e\u904b\u884c [gcloud init](https://cloud.google.com/sdk/gcloud/reference/init?hl=zh-cn) \u6216 [gcloud auth login](https://cloud.google.com/sdk/gcloud/reference/auth/login?hl=zh-cn) \u767b\u9304`gcloud`CLI\uff0c\u6216\u8005\u4f7f\u7528\u4e86 [Cloud Shell](https://cloud.google.com/shell/docs?hl=zh-cn) \uff0c\u9019\u6703\u4f7f\u60a8\u81ea\u52d5\u767b\u9304`gcloud`CLI\u3002\u60a8\u53ef\u4ee5\u904b\u884c [gcloud auth list](https://cloud.google.com/sdk/gcloud/reference/auth/list?hl=zh-cn) \u4f86\u6aa2\u67e5\u7576\u524d\u6d3b\u8e8d\u7684\u8cec\u865f\u3002\n\u5c07\u8acb\u6c42\u6b63\u6587\u4fdd\u5b58\u5728\u540d\u7232 `request.json` \u7684\u6587\u4ef6\u4e2d\uff0c\u7136\u5f8c\u57f7\u884c\u4ee5\u4e0b\u547d\u4ee4\uff1a\n```\n$cred = gcloud auth print-access-token$headers = @{ \"Authorization\" = \"Bearer $cred\" }Invoke-WebRequest ` -Method POST ` -Headers $headers ` -ContentType: \"application/json; charset=utf-8\" ` -InFile request.json ` -Uri \"https://PIPELINE_JOB_REGION-aiplatform.googleapis.com/v1/projects/PROJECT_ID/locations/PIPELINE_JOB_REGION/pipelineJobs\" | Select-Object -Expand Content\n```\n\u60a8\u61c9\u8a72\u6536\u5230\u985e\u4f3c\u4ee5\u4e0b\u5167\u5bb9\u7684 JSON \u97ff\u61c9\u3002 \u8acb\u6ce8\u610f\uff0c\u7232\u7bc0\u7701\u7a7a\u9593\uff0c\u7cfb\u7d71\u622a\u65b7\u4e86 `pipelineSpec` \u3002\u5982\u9700\u4f7f\u7528 Google Cloud \u63a7\u5236\u6aaf\u4f7f\u7528\u76e3\u7763\u5f0f\u8abf\u512a\u4f86\u5c0d\u4ee3\u78bc\u751f\u6210\u6216\u4ee3\u78bc\u804a\u5929\u6a21\u578b\u8abf\u512a\uff0c\u8acb\u57f7\u884c\u4ee5\u4e0b\u6b65\u9a5f\uff1a- \u5728 Google Cloud \u63a7\u5236\u6aaf\u7684\u201c\u751f\u6210\u5f0f AI\u201d\u90e8\u5206\uff0c\u9032\u5165 **Vertex AI Studio** \u9801\u9762\u3002 [\u9032\u5165 Vertex AI Studio](https://console.cloud.google.com/vertex-ai/generative/language?hl=zh-cn) \n- \u9ede\u64ca **Tune and distill** \uff08\u8abf\u53c3\u548c\u84b8\u993e\uff09\u6a19\u7c64\u9801\u3002\n- \u9ede\u64caadd **\u5275\u5efa\u7d93\u8abf\u512a\u7684\u6a21\u578b** \u3002\n- \u9ede\u64ca **\u76e3\u7763\u5f0f\u8abf\u512a** \u3002\n- \u914d\u7f6e\u6a21\u578b\u8a73\u60c5\uff1a- **\u5df2\u8abf\u53c3\u6a21\u578b\u7684\u540d\u7a31** \uff1a\u8f38\u5165\u8abf\u512a\u5f8c\u6a21\u578b\u7684\u540d\u7a31\u3002\n- **\u57fa\u672c\u6a21\u578b** \uff1a\u9078\u64c7\u8981\u8abf\u512a\u7684\u6a21\u578b\u3002\n- **\u5340\u57df** \uff1a\u9078\u64c7\u904b\u884c\u6d41\u6c34\u7dda\u8abf\u512a\u4f5c\u696d\u4ee5\u53ca\u90e8\u7f72\u8abf\u512a\u5f8c\u6a21\u578b\u7684\u5340\u57df\u3002\n- **\u8f38\u51fa\u76ee\u9304** \uff1a\u8f38\u5165\u5c0d\u6a21\u578b\u8abf\u512a\u6642\u7528\u65bc\u5b58\u5132\u5de5\u4ef6\u7684 Cloud Storage \u4f4d\u7f6e\u3002\n- \u5c55\u958b **\u9ad8\u7d1a\u9078\u9805** \u4ee5\u914d\u7f6e\u9ad8\u7d1a\u8a2d\u7f6e\u3002- **\u8a13\u7df4\u6b65\u6578** \uff1a\u8f38\u5165\u8981\u7232\u6a21\u578b\u8abf\u512a\u904b\u884c\u7684\u6b65\u6578\u3002\u9ed8\u8a8d\u503c\u7232 300\u3002\u6279\u6b21\u5927\u5c0f\u56e0\u8abf\u512a\u4f4d\u7f6e\u548c\u6a21\u578b\u5927\u5c0f\u800c\u7570\u3002\u5c0d\u65bc 8k \u6a21\u578b\uff0c\u4f8b\u5982`text-bison@002`\u3001`chat-bison@002`\u3001`code-bison@002`\u548c`codechat-bison@002`\uff1a- `us-central1`\u7684\u6279\u6b21\u5927\u5c0f\u7232 8\u3002\n- `europe-west4`\u7684\u6279\u6b21\u5927\u5c0f\u7232 24\u3002\n\u5c0d\u65bc 32k \u6a21\u578b\uff0c\u4f8b\u5982`text-bison-32k`\u3001`chat-bison-32k`\u3001`code-bison-32k`\u548c`codechat-bison-32k`\uff1a- `us-central1`\u7684\u6279\u6b21\u5927\u5c0f\u7232 8\u3002\n- `europe-west4`\u7684\u6279\u6b21\u5927\u5c0f\u7232 8\u3002\n\u4f8b\u5982\uff0c\u5982\u679c\u60a8\u5728 `europe-west4` \u4e2d\u8a13\u7df4 `text-bison@002` \uff0c\u8a13\u7df4\u6578\u64da\u96c6\u4e2d\u6709 240 \u500b\u6a23\u672c\uff0c\u4e26\u4e14\u5c07 `steps` \u8a2d\u7f6e\u7232 20\uff0c\u5247\u8a13\u7df4\u6a23\u672c\u6578\u7232 20 \u6b65\u8207\u6279\u6b21\u5927\u5c0f 24 \u7684\u4e58\u7a4d\uff0c\u5373\u8a13\u7df4\u6b65\u6578\u7232 480\u3002\u5728\u9019\u7a2e\u60c5\u6cc1\u4e0b\uff0c\u8a13\u7df4\u904e\u7a0b\u6709\u5169\u500b\u9031\u671f\uff0c\u56e0\u7232\u5b83\u904d\u6b77\u6a23\u672c\u5169\u6b21\u3002\u5728 `us-central1` \u4e2d\uff0c\u5982\u679c\u8a13\u7df4\u6578\u64da\u96c6\u4e2d\u6709 240 \u500b\u6a23\u672c\uff0c\u4e26\u4e14\u60a8\u5c07 `steps` \u8a2d\u7f6e\u7232 15\uff0c\u5247\u8a13\u7df4\u6a23\u672c\u6578\u7232 15 \u6b65\u8207\u6279\u6b21\u5927\u5c0f 8 \u7684\u4e58\u7a4d\uff0c\u5373\u8a13\u7df4\u6b65\u6578\u7232 120\u3002\u5728\u9019\u7a2e\u60c5\u6cc1\u4e0b\u6709 0.5 \u500b\u9031\u671f\uff0c\u56e0\u7232\u8a13\u7df4\u6b65\u6578\u662f\u6a23\u672c\u6578\u7684\u4e00\u534a\u3002\n- **\u5b78\u7fd2\u901f\u7387\u8abf\u7bc0\u4fc2\u6578** \uff1a\u8f38\u5165\u6bcf\u6b21\u8fed\u4ee3\u6642\u7684\u6b65\u9577\u3002\u9ed8\u8a8d\u503c\u7232 1\u3002\n- **\u52a0\u901f\u5668\u985e\u578b** \uff1a\uff08\u53ef\u9078\uff09\u8f38\u5165\u7528\u65bc\u6a21\u578b\u8abf\u512a\u7684\u52a0\u901f\u5668\u985e\u578b\u3002\u6709\u6548\u9078\u9805\u5305\u62ec\uff1a- `GPU`\uff1a\u4f7f\u7528 8 \u500b A100 80 GB GPU \u9032\u884c\u8abf\u512a\u3002\u8acb\u78ba\u4fdd\u60a8\u6709\u8db3\u5920\u7684 [\u914d\u984d](https://cloud.google.com/vertex-ai/generative-ai/docs/models/tune-models?hl=zh-cn#quota) \u3002\u5982\u679c\u60a8\u9078\u64c7`GPU`\uff0c\u5247\u652f\u6301 [VPC-SC](https://cloud.google.com/vertex-ai/docs/general/vpc-service-controls?hl=zh-cn) \u3002\u5982\u679c\u8abf\u512a\u4f4d\u7f6e\u548c\u6a21\u578b\u4e0a\u50b3\u4f4d\u7f6e\u7232`us-centra1`\uff0c\u5247\u652f\u6301 [CMEK](https://cloud.google.com/vertex-ai/docs/general/cmek?hl=zh-cn) \u3002\u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1 [\u76e3\u7763\u5f0f\u8abf\u512a\u5340\u57df\u8a2d\u7f6e](https://cloud.google.com/vertex-ai/generative-ai/docs/models/tune-text-models-supervised?hl=zh-cn#supervised-tuning-regions) \u3002\u5982\u679c\u60a8\u9078\u64c7`GPU`\uff0c\u5247\u6a21\u578b\u8abf\u512a\u8a08\u7b97\u6703\u5728`us-central1`\u5340\u57df\u9032\u884c\u3002\n- `TPU`\uff1a\u4f7f\u7528 64 \u500b TPU v3 Pod \u6838\u5fc3\u9032\u884c\u8abf\u512a\u3002\u8acb\u78ba\u4fdd\u60a8\u6709\u8db3\u5920\u7684 [\u914d\u984d](https://cloud.google.com/vertex-ai/generative-ai/docs/models/tune-models?hl=zh-cn#quota) \u3002\u4e0d\u652f\u6301 [CMEK](https://cloud.google.com/vertex-ai/docs/general/cmek?hl=zh-cn) \uff0c\u4f46\u652f\u6301 [VPC-SC](https://cloud.google.com/vertex-ai/docs/general/vpc-service-controls?hl=zh-cn) \u3002\u5982\u679c\u60a8\u9078\u64c7`TPU`\uff0c\u5247\u6a21\u578b\u8abf\u512a\u8a08\u7b97\u6703\u5728`europe-west4`\u5340\u57df\u9032\u884c\u3002\n- **\u6dfb\u52a0 TensorBoard \u5be6\u4f8b** \uff1a\uff08\u53ef\u9078\uff09 [Vertex AI TensorBoard \u5be6\u4f8b](https://cloud.google.com/vertex-ai/docs/experiments/tensorboard-setup?hl=zh-cn#tensorboard_id) \u7684 ID\u3002Vertex AI TensorBoard \u5be6\u4f8b\u7528\u65bc\u5728\u8abf\u512a\u4f5c\u696d\u5b8c\u6210\u5f8c\u5275\u5efa [\u5be6\u9a57](https://cloud.google.com/vertex-ai/docs/experiments/create-experiment?hl=zh-cn) \u3002Vertex AI TensorBoard \u5be6\u4f8b\u9700\u8981\u8207\u8abf\u512a\u6d41\u6c34\u7dda\u4f4d\u65bc\u540c\u4e00\u5340\u57df\u3002\n- **\u52a0\u5bc6** \uff08\u53ef\u9078\uff09\u9078\u64c7\u4f7f\u7528 Google \u7ba1\u7406\u7684\u52a0\u5bc6\u5bc6\u9470\u6216\u5ba2\u6236\u7ba1\u7406\u7684\u52a0\u5bc6\u5bc6\u9470 (CMEK)\u3002CMEK \u53ea\u80fd\u5728`us-central1`\u5340\u57df\u7528\u65bc\u52a0\u5bc6\u3002\u5728\u6240\u6709\u5176\u4ed6 [\u53ef\u7528\u5340\u57df](https://cloud.google.com/vertex-ai/generative-ai/docs/models/tune-text-models-supervised?hl=zh-cn#supported-supervised-tuning-regions) \u4e2d\uff0c\u7cfb\u7d71\u6703\u4f7f\u7528 Google \u7ba1\u7406\u7684\u52a0\u5bc6\u5bc6\u9470\u3002\u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1 [CMEK \u6982\u89bd](https://cloud.google.com/kms/docs/cmek?hl=zh-cn) \u3002\n- **\u670d\u52d9\u8cec\u865f** \uff08\u53ef\u9078\uff09\u9078\u64c7\u7528\u6236\u7ba1\u7406\u7684\u670d\u52d9\u8cec\u865f\u3002\u670d\u52d9\u8cec\u865f\u6c7a\u5b9a\u4e86\u60a8\u7684\u670d\u52d9\u4ee3\u78bc\u53ef\u4ee5\u8a2a\u554f\u54ea\u4e9b Google Cloud \u8cc7\u6e90\u3002\u5982\u679c\u60a8\u672a\u9078\u64c7\u670d\u52d9\u8cec\u865f\uff0c\u5247\u7cfb\u7d71\u6703\u4f7f\u7528\u7531 Google \u7ba1\u7406\u7684\u670d\u52d9\u8cec\u865f\uff0c\u5176\u4e2d\u5305\u542b\u9069\u5408\u5927\u591a\u6578\u6a21\u578b\u7684\u6b0a\u9650\u3002\n- \u9ede\u64ca **\u7e7c\u7e8c** \n- \u5982\u679c\u8981\u4e0a\u50b3\u6578\u64da\u96c6\u6587\u4ef6\uff0c\u8acb\u9078\u64c7radio_button_checked **\u5c07 JSONL \u6587\u4ef6\u4e0a\u50b3\u5230 Cloud Storage** \u3002\u5982\u679c\u60a8\u7684\u6578\u64da\u96c6\u6587\u4ef6\u5df2\u5728 Cloud Storage \u5b58\u5132\u6876\u4e2d\uff0c\u8acb\u9078\u64c7radio_button_checked **Cloud Storage \u4e0a\u7684\u73fe\u6709 JSONL \u6587\u4ef6** \u3002- \u5728 **\u9078\u64c7 JSONL \u6587\u4ef6** \u4e2d\uff0c\u9ede\u64ca **\u700f\u89bd** \u4e26\u9078\u64c7\u6578\u64da\u96c6\u6587\u4ef6\u3002\n- \u5728 **\u6578\u64da\u96c6\u4f4d\u7f6e** \u4e2d\uff0c\u9ede\u64ca **\u700f\u89bd** \u4e26\u9078\u64c7\u8981\u5b58\u5132\u6578\u64da\u96c6\u6587\u4ef6\u7684 Cloud Storage \u5b58\u5132\u6876\u3002\n\u5728 **Cloud Storage \u6587\u4ef6\u8def\u5f91** \u4e2d\uff0c\u9ede\u64ca **\u700f\u89bd** \uff0c\u7136\u5f8c\u9078\u64c7\u6578\u64da\u96c6\u6587\u4ef6\u6240\u5728\u7684 Cloud Storage \u5b58\u5132\u6876\u3002\n- \uff08\u53ef\u9078\uff09\u5982\u9700\u8a55\u4f30\u8abf\u512a\u5f8c\u7684\u6a21\u578b\uff0c\u8acb\u9078\u64c7 **\u5553\u7528\u6a21\u578b\u8a55\u4f30** \u4e26\u914d\u7f6e\u6a21\u578b\u8a55\u4f30\uff1a- **\u8a55\u4f30\u6578\u64da\u96c6** \uff1a\uff08\u53ef\u9078\uff09\u5305\u542b\u8a55\u4f30\u6578\u64da\u96c6\uff08\u7528\u65bc\u6279\u91cf\u9810\u6e2c\u548c\u8a55\u4f30\uff09\u7684 JSONL \u6587\u4ef6\u7684 URI\u3002`codechat-bison`\u4e0d\u652f\u6301\u8a55\u4f30\u3002\u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1 [\u7528\u65bc\u5c0d\u4ee3\u78bc\u6a21\u578b\u8abf\u512a\u7684\u6578\u64da\u96c6\u683c\u5f0f](https://cloud.google.com/vertex-ai/generative-ai/docs/models/tune-code-models?hl=zh-cn#dataset-format) \u3002\u8a55\u4f30\u6578\u64da\u96c6\u9700\u8981 10 \u5230 250 \u500b\u6a23\u672c\u3002\n- **\u8a55\u4f30\u9593\u9694** \uff08\u53ef\u9078\uff0c\u9ed8\u8a8d\u503c\u7232`20`\uff09\u6bcf\u6b21\u8a55\u4f30\u4e4b\u9593\u7684\u8abf\u512a\u6b65\u6578\u3002\u804a\u5929\u6a21\u578b\u4e0d\u652f\u6301\u8a55\u4f30\u9593\u9694\u3002\u7531\u65bc\u8a55\u4f30\u662f\u91dd\u5c0d\u6574\u500b\u8a55\u4f30\u6578\u64da\u96c6\u904b\u884c\uff0c\u56e0\u6b64\u8a55\u4f30\u9593\u9694\u8d8a\u5c0f\uff0c\u8abf\u512a\u6642\u9593\u5c31\u8d8a\u9577\u3002\u4f8b\u5982\uff0c\u5982\u679c`steps`\u7232 200 \u4e14`EVAL_INTERVAL`\u7232 100\uff0c\u5247\u60a8\u5c07\u50c5\u7372\u5f97\u8a55\u4f30\u6307\u6a19\u7684\u5169\u500b\u6578\u64da\u9ede\u3002\u6b64\u53c3\u6578\u8981\u6c42\u8a2d\u7f6e`evalutation_data_uri`\u3002\n- **\u5553\u7528\u65e9\u505c\u6cd5** \uff1a\uff08\u53ef\u9078\uff0c\u9ed8\u8a8d\u503c\u7232`true`\uff09`boolean`\uff0c\u5982\u679c\u8a2d\u7f6e\u7232`true`\uff0c\u4e14\u6a21\u578b\u6027\u80fd\u5728\u5169\u6b21\u8a55\u4f30\u904b\u884c\u4e2d\u6c92\u6709\u5f97\u5230\u8db3\u5920\u7684\u6539\u9032\uff08\u901a\u904e\u9810\u6e2c\u8a5e\u5143\u7684\u6e96\u78ba\u7387\u4f86\u8861\u91cf\uff09\uff0c\u5247\u5728\u5b8c\u6210\u6240\u6709\u8abf\u512a\u6b65\u9a5f\u4e4b\u524d\u505c\u6b62\u8abf\u512a\u3002\u5982\u679c\u7232`false`\uff0c\u5247\u7e7c\u7e8c\u8abf\u512a\uff0c\u76f4\u5230\u6240\u6709\u8abf\u512a\u6b65\u9a5f\u5b8c\u6210\u3002\u6b64\u53c3\u6578\u8981\u6c42\u8a2d\u7f6e`evaluation_data_uri`\u3002 \u804a\u5929\u6a21\u578b\u4e0d\u652f\u6301\u5553\u7528\u65e9\u505c\u6cd5\u3002\n- **\u5553\u7528\u6aa2\u67e5\u9ede\u9078\u64c7** \uff1a\u5553\u7528\u5f8c\uff0c\u751f\u6210\u5f0f AI \u6703\u5f9e\u8abf\u512a\u4f5c\u696d\u671f\u9593\u5275\u5efa\u7684\u6240\u6709\u6aa2\u67e5\u9ede\u4e2d\u9078\u64c7\u4e26\u8fd4\u56de\u5177\u6709\u6700\u4f73\u6a21\u578b\u8a55\u4f30\u6027\u80fd\u7684\u6aa2\u67e5\u9ede\u3002\u505c\u7528\u5f8c\uff0c\u7cfb\u7d71\u5c07\u8fd4\u56de\u5728\u8abf\u7bc0\u4f5c\u696d\u671f\u9593\u5275\u5efa\u7684\u6700\u7d42\u6aa2\u67e5\u9ede\u3002\u6bcf\u500b\u6aa2\u67e5\u9ede\u662f\u6307\u6a21\u578b\u5728\u8abf\u7bc0\u4f5c\u696d\u671f\u9593\u7684\u5feb\u7167\u3002\n- **TensorBoard Id** \uff1a\uff08\u53ef\u9078\uff09 [Vertex AI TensorBoard \u5be6\u4f8b](https://cloud.google.com/vertex-ai/docs/experiments/tensorboard-setup?hl=zh-cn#tensorboard_id) \u7684 ID\u3002Vertex AI TensorBoard \u5be6\u4f8b\u7528\u65bc\u5728\u8abf\u512a\u4f5c\u696d\u5b8c\u6210\u5f8c\u5275\u5efa [\u5be6\u9a57](https://cloud.google.com/vertex-ai/docs/experiments/create-experiment?hl=zh-cn) \u3002Vertex AI TensorBoard \u5be6\u4f8b\u9700\u8981\u8207\u8abf\u512a\u6d41\u6c34\u7dda\u4f4d\u65bc\u540c\u4e00\u5340\u57df\u3002\n- \u9ede\u64ca **\u958b\u59cb\u8abf\u6574** \u3002\n\u5982\u9700\u77ad\u89e3\u5982\u4f55\u5b89\u88dd\u6216\u66f4\u65b0 Python\uff0c\u8acb\u53c3\u95b1 [\u5b89\u88dd Python \u7248 Vertex AI SDK](https://cloud.google.com/vertex-ai/docs/start/use-vertex-ai-python-sdk?hl=zh-cn) \u3002  \u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1 [   Python API \u53c3\u8003\u6587\u6a94](https://cloud.google.com/python/docs/reference/aiplatform/latest?hl=zh-cn) \u3002\n [\u5728 GitHub \u4e0a\u67e5\u770b](https://github.com/GoogleCloudPlatform/python-docs-samples/blob/HEAD/generative_ai/tune_code_generation_model.py) \n```\nfrom __future__ import annotationsfrom typing import Optionalfrom google.auth import defaultfrom google.cloud import aiplatformimport pandas as pdimport vertexaifrom vertexai.preview.language_models import CodeGenerationModel, TuningEvaluationSpeccredentials, _ = default(scopes=[\"https://www.googleapis.com/auth/cloud-platform\"])def tune_code_generation_model(\u00a0 \u00a0 project_id: str,\u00a0 \u00a0 location: str,\u00a0 \u00a0 training_data: pd.DataFrame | str,\u00a0 \u00a0 train_steps: int = 300,\u00a0 \u00a0 evaluation_dataset: Optional[str] = None,\u00a0 \u00a0 tensorboard_instance_name: Optional[str] = None,) -> None:\u00a0 \u00a0 \"\"\"Tune a new model, based on a prompt-response data.\u00a0 \u00a0 \"training_data\" can be either the GCS URI of a file formatted in JSONL format\u00a0 \u00a0 (for example: training_data=f'gs://{bucket}/{filename}.jsonl'), or a pandas\u00a0 \u00a0 DataFrame. Each training example should be JSONL record with two keys, for\u00a0 \u00a0 example:\u00a0 \u00a0 \u00a0 {\u00a0 \u00a0 \u00a0 \u00a0 \"input_text\": <input prompt>,\u00a0 \u00a0 \u00a0 \u00a0 \"output_text\": <associated output>\u00a0 \u00a0 \u00a0 },\u00a0 \u00a0 or the pandas DataFame should contain two columns:\u00a0 \u00a0 \u00a0 ['input_text', 'output_text']\u00a0 \u00a0 with rows for each training example.\u00a0 \u00a0 Args:\u00a0 \u00a0 \u00a0 project_id: GCP Project ID, used to initialize vertexai\u00a0 \u00a0 \u00a0 location: GCP Region, used to initialize vertexai\u00a0 \u00a0 \u00a0 training_data: GCS URI of jsonl file or pandas dataframe of training data\u00a0 \u00a0 \u00a0 train_steps: Number of training steps to use when tuning the model.\u00a0 \u00a0 \u00a0 evaluation_dataset: GCS URI of jsonl file of evaluation data.\u00a0 \u00a0 \u00a0 tensorboard_instance_name: The full name of the existing Vertex AI TensorBoard instance:\u00a0 \u00a0 \u00a0 \u00a0 projects/PROJECT_ID/locations/LOCATION_ID/tensorboards/TENSORBOARD_INSTANCE_ID\u00a0 \u00a0 \u00a0 \u00a0 Note that this instance must be in the same region as your tuning job.\u00a0 \u00a0 \"\"\"\u00a0 \u00a0 vertexai.init(project=project_id, location=location, credentials=credentials)\u00a0 \u00a0 eval_spec = TuningEvaluationSpec(evaluation_data=evaluation_dataset)\u00a0 \u00a0 eval_spec.tensorboard = aiplatform.Tensorboard(\u00a0 \u00a0 \u00a0 \u00a0 tensorboard_name=tensorboard_instance_name\u00a0 \u00a0 )\u00a0 \u00a0 model = CodeGenerationModel.from_pretrained(\"code-bison@001\")\u00a0 \u00a0 model.tune_model(\u00a0 \u00a0 \u00a0 \u00a0 training_data=training_data,\u00a0 \u00a0 \u00a0 \u00a0 # Optional:\u00a0 \u00a0 \u00a0 \u00a0 train_steps=train_steps,\u00a0 \u00a0 \u00a0 \u00a0 tuning_job_location=\"europe-west4\",\u00a0 \u00a0 \u00a0 \u00a0 tuned_model_location=location,\u00a0 \u00a0 \u00a0 \u00a0 tuning_evaluation_spec=eval_spec,\u00a0 \u00a0 )\u00a0 \u00a0 print(model._job.status)\u00a0 \u00a0 return model\n```\n**\u6ce8\u610f** \uff1a\u6240\u6709\u4e2d\u9593\u6d41\u6c34\u7dda\u6578\u64da\uff08\u4f8b\u5982\u5df2\u8655\u7406\u7684\u6578\u64da\u96c6\uff09\u90fd\u5b58\u5132\u5728 [\u6d41\u6c34\u7dda\u4f5c\u696d\u5340\u57df](#pipeline-region) \u4e2d\u3002\u6a21\u578b\u8abf\u512a\u8a08\u7b97\u5728 [\u6a21\u578b\u8abf\u512a\u5340\u57df](#tuning-region) \u4e2d\u9032\u884c\u3002\u6a21\u578b\u6703\u90e8\u7f72\u5230 [\u6a21\u578b\u4e0a\u50b3\u5340\u57df](#upload-region) \u3002\n```\nPROJECT_ID=myprojectDATASET_URI=gs://my-gcs-bucket-uri/datasetEVAL_DATASET_URI=gs://cloud-samples-data/vertex-ai/model-evaluation/eval_sample.jsonlOUTPUT_DIR=gs://my-gcs-bucket-uri/outputACCELERATOR_TYPE=GPULOCATION=us-central1curl \\-X POST \\-H \"Authorization: Bearer $(gcloud auth print-access-token)\" \\-H \"Content-Type: application/json; charset=utf-8\" \\\"https://${REGION}-aiplatform.googleapis.com/v1/projects/${PROJECT_ID}/locations/${REGION}/pipelineJobs?pipelineJobId=tune-large-model-$(date +%Y%m%d%H%M%S)\" -d \\$'{\u00a0 \"displayName\": \"'${PIPELINE_NAME}'\",\u00a0 \"runtimeConfig\": {\u00a0 \u00a0 \"gcsOutputDirectory\": \"'${OUTPUT_DIR}'\",\u00a0 \u00a0 \"parameterValues\": {\u00a0 \u00a0 \u00a0 \"project\": \"'${PROJECT_ID}'\",\u00a0 \u00a0 \u00a0 \"model_display_name\": \"The display name for your model in the UI\",\u00a0 \u00a0 \u00a0 \"dataset_uri\": \"'${DATASET_URI}'\",\u00a0 \u00a0 \u00a0 \"evaluation_data_uri:\": \"'${EVAL_DATASET_URI}'\",\u00a0 \u00a0 \u00a0 \"location\": \"'${LOCATION}'\",\u00a0 \u00a0 \u00a0 \"accelerator_type\": \"'${ACCELERATOR_TYPE}'\",\u00a0 \u00a0 \u00a0 \"large_model_reference\": \"code-bison@002\",\u00a0 \u00a0 \u00a0 \"learning_rate_multiplier\": 1,\u00a0 \u00a0 \u00a0 \"train_steps\": 300\u00a0 \u00a0 }\u00a0 },\u00a0 \"templateUri\": \"https://us-kfp.pkg.dev/ml-pipeline/large-language-model-pipelines/tune-large-model/v3.0.0\"}'\n```\n### \u5275\u5efa\u4ee3\u78bc\u804a\u5929\u6a21\u578b\u8abf\u512a\u4f5c\u696d\n\u4e0b\u9762\u5c55\u793a\u77ad\u5982\u4f55\u4f7f\u7528 Google Cloud \u63a7\u5236\u6aaf\u6216 REST API \u547d\u4ee4\u5275\u5efa\u4ee3\u78bc\u804a\u5929\u6a21\u578b\u8abf\u512a\u4f5c\u696d\u3002\n\u5982\u9700\u5275\u5efa\u4ee3\u78bc\u804a\u5929\u6a21\u578b\u8abf\u512a\u4f5c\u696d\uff0c\u8acb\u4f7f\u7528 [pipelineJobs](https://cloud.google.com/vertex-ai/docs/reference/rest/v1/projects.locations.pipelineJobs/create?hl=zh-cn) \u65b9\u6cd5\u767c\u9001 POST \u8acb\u6c42\u3002\n\u5728\u4f7f\u7528\u4efb\u4f55\u8acb\u6c42\u6578\u64da\u4e4b\u524d\uff0c\u8acb\u5148\u9032\u884c\u4ee5\u4e0b\u66ff\u63db\uff1a- \uff1a\u60a8\u7684 [\u9805\u76ee ID](https://cloud.google.com/resource-manager/docs/creating-managing-projects?hl=zh-cn#identifiers) \u3002\n- \uff1apipelineJob \u7684\u986f\u793a\u540d\u7a31\u3002\n- \uff1a\u8981\u5c07\u6d41\u6c34\u7dda\u5de5\u4ef6\u8f38\u51fa\u5230\u7684\u5b58\u5132\u6876\u7684 URI\u3002\n- \uff1a\u904b\u884c\u6d41\u6c34\u7dda\u8abf\u512a\u4f5c\u696d\u7684\u5340\u57df\u3002\u9019\u4e5f\u662f\u4e0a\u50b3\u8abf\u512a\u5f8c\u6a21\u578b\u7684\u9ed8\u8a8d\u5340\u57df\u3002\u5982\u679c\u8981\u5c07\u6a21\u578b\u4e0a\u50b3\u5230\u5176\u4ed6\u5340\u57df\uff0c\u8acb\u4f7f\u7528`location`\u53c3\u6578\u6307\u5b9a\u8abf\u512a\u5f8c\u6a21\u578b\u4e0a\u50b3\u5340\u57df\u3002\u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1 [\u6d41\u6c34\u7dda\u4f5c\u696d\u5340\u57df](https://cloud.google.com/vertex-ai/generative-ai/docs/models/tune-code-models?hl=zh-cn#pipeline-region) \u3002\n- \uff1a\uff08\u53ef\u9078\uff09\u4e0a\u50b3\u8abf\u512a\u5f8c\u6a21\u578b\u7684\u5340\u57df\u3002\u5982\u679c\u672a\u6307\u5b9a\u6a21\u578b\u4e0a\u50b3\u5340\u57df\uff0c\u5247\u8abf\u512a\u5f8c\u7684\u6a21\u578b\u6703\u4e0a\u50b3\u5230\u904b\u884c\u6d41\u6c34\u7dda\u4f5c\u696d\u7684\u540c\u4e00\u5340\u57df\u3002\u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1 [\u6a21\u578b\u4e0a\u50b3\u5340\u57df](https://cloud.google.com/vertex-ai/generative-ai/docs/models/tune-code-models?hl=zh-cn#upload-region) \u3002\n- \uff1a\uff08\u53ef\u9078\uff0c\u9ed8\u8a8d\u7232`GPU`\uff09\u7528\u65bc\u6a21\u578b\u8abf\u512a\u7684\u52a0\u901f\u5668\u985e\u578b\u3002\u6709\u6548\u9078\u9805\u5305\u62ec\uff1a- `GPU`\uff1a\u4f7f\u7528 8 \u500b A100 80 GB GPU \u9032\u884c\u8abf\u512a\u3002\u8acb\u78ba\u4fdd\u60a8\u6709\u8db3\u5920\u7684 [\u914d\u984d](https://cloud.google.com/vertex-ai/generative-ai/docs/models/tune-text-models?hl=zh-cn#quota) \u3002\u5982\u679c\u60a8\u9078\u64c7`GPU`\uff0c\u5247\u652f\u6301 [VPC-SC](https://cloud.google.com/vertex-ai/docs/general/vpc-service-controls?hl=zh-cn) \u3002\u5982\u679c\u8abf\u512a\u4f4d\u7f6e\u548c\u6a21\u578b\u4e0a\u50b3\u4f4d\u7f6e\u7232`us-centra1`\uff0c\u5247\u652f\u6301 [CMEK](https://cloud.google.com/vertex-ai/docs/general/cmek?hl=zh-cn) \u3002\u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1 [\u76e3\u7763\u5f0f\u8abf\u512a\u5340\u57df\u8a2d\u7f6e](https://cloud.google.com/vertex-ai/generative-ai/docs/models/tune-code-models?hl=zh-cn#supervised-tuning-regions) \u3002\u5982\u679c\u60a8\u9078\u64c7`GPU`\uff0c\u5247\u6a21\u578b\u8abf\u512a\u8a08\u7b97\u6703\u5728`us-central1`\u5340\u57df\u9032\u884c\u3002\n- `TPU`\uff1a\u4f7f\u7528 64 \u500b TPU v3 Pod \u6838\u5fc3\u9032\u884c\u8abf\u512a\u3002\u8acb\u78ba\u4fdd\u60a8\u6709\u8db3\u5920\u7684 [\u914d\u984d](https://cloud.google.com/vertex-ai/generative-ai/docs/models/tune-text-models?hl=zh-cn#quota) \u3002\u4e0d\u652f\u6301 [CMEK](https://cloud.google.com/vertex-ai/docs/general/cmek?hl=zh-cn) \uff0c\u4f46\u652f\u6301 [VPC-SC](https://cloud.google.com/vertex-ai/docs/general/vpc-service-controls?hl=zh-cn) \u3002\u5982\u679c\u60a8\u9078\u64c7`TPU`\uff0c\u5247\u6a21\u578b\u8abf\u512a\u8a08\u7b97\u6703\u5728`europe-west4`\u5340\u57df\u9032\u884c\u3002\n- \uff1apipelineJob \u4e0a\u50b3\uff08\u5275\u5efa\uff09\u7684\u6a21\u578b\u7684\u986f\u793a\u540d\u7a31\u3002\n- \uff1a\u6578\u64da\u96c6\u6587\u4ef6\u7684 URI\u3002\n- \uff1a\uff08\u53ef\u9078\uff09 [Vertex AI TensorBoard \u5be6\u4f8b](https://cloud.google.com/vertex-ai/docs/experiments/tensorboard-setup?hl=zh-cn#tensorboard_id) \u7684 ID\u3002Vertex AI TensorBoard \u5be6\u4f8b\u7528\u65bc\u5728\u8abf\u512a\u4f5c\u696d\u5b8c\u6210\u5f8c\u5275\u5efa [\u5be6\u9a57](https://cloud.google.com/vertex-ai/docs/experiments/create-experiment?hl=zh-cn) \u3002Vertex AI TensorBoard \u5be6\u4f8b\u9700\u8981\u8207\u8abf\u512a\u6d41\u6c34\u7dda\u4f4d\u65bc\u540c\u4e00\u5340\u57df\u3002\n- \uff1a\uff08\u53ef\u9078\uff09\u8981\u7528\u65bc\u6578\u64da\u52a0\u5bc6\u7684\u5ba2\u6236\u7ba1\u7406\u7684\u52a0\u5bc6\u5bc6\u9470 (CMEK) \u7684\u5b8c\u5168\u9650\u5b9a\u540d\u7a31\u3002CMEK \u50c5\u5728`us-central1`\u4e2d\u53ef\u7528\u3002\u5982\u679c\u60a8\u4f7f\u7528`us-central1`\u4e26\u4e14\u672a\u6307\u5b9a CMEK\uff0c\u5247\u7cfb\u7d71\u6703\u4f7f\u7528 Google \u7ba1\u7406\u7684\u52a0\u5bc6\u5bc6\u9470\u3002\u5728\u6240\u6709\u5176\u4ed6 [\u53ef\u7528\u5340\u57df](https://cloud.google.com/vertex-ai/generative-ai/docs/models/tune-code-models?hl=zh-cn#supported-supervised-tuning-regionss) \u4e2d\uff0c\u7cfb\u7d71\u9ed8\u8a8d\u4f7f\u7528 Google \u7ba1\u7406\u7684\u52a0\u5bc6\u5bc6\u9470\u3002\u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1 [CMEK \u6982\u89bd](https://cloud.google.com/kms/docs/cmek?hl=zh-cn) \u3002\n- \uff1a\u9069\u7528\u65bc\u8abf\u512a\u6578\u64da\u96c6\u4e2d\u6240\u6709\u8abf\u512a\u6a23\u672c\u7684\u8a9e\u5883\u3002\u5728\u6a23\u672c\u4e2d\u8a2d\u7f6e`context`\u5b57\u6bb5\u6703\u66ff\u63db\u9ed8\u8a8d\u4e0a\u4e0b\u6587\u3002\n- \uff1a\u6a21\u578b\u8abf\u512a\u6240\u8981\u904b\u884c\u7684\u6b65\u6578\u3002\u9ed8\u8a8d\u503c\u7232 300\u3002\u6279\u6b21\u5927\u5c0f\u56e0\u8abf\u512a\u4f4d\u7f6e\u548c\u6a21\u578b\u5927\u5c0f\u800c\u7570\u3002\u5c0d\u65bc 8k \u6a21\u578b\uff0c\u4f8b\u5982`text-bison@002`\u3001`chat-bison@002`\u3001`code-bison@002`\u548c`codechat-bison@002`\uff1a- `us-central1`\u7684\u6279\u6b21\u5927\u5c0f\u7232 8\u3002\n- `europe-west4`\u7684\u6279\u6b21\u5927\u5c0f\u7232 24\u3002\n\u5c0d\u65bc 32k \u6a21\u578b\uff0c\u4f8b\u5982`text-bison-32k`\u3001`chat-bison-32k`\u3001`code-bison-32k`\u548c`codechat-bison-32k`\uff1a- `us-central1`\u7684\u6279\u6b21\u5927\u5c0f\u7232 8\u3002\n- `europe-west4`\u7684\u6279\u6b21\u5927\u5c0f\u7232 8\u3002\n\u4f8b\u5982\uff0c\u5982\u679c\u60a8\u5728 `europe-west4` \u4e2d\u8a13\u7df4 `text-bison@002` \uff0c\u8a13\u7df4\u6578\u64da\u96c6\u4e2d\u6709 240 \u500b\u6a23\u672c\uff0c\u4e26\u4e14\u5c07 `steps` \u8a2d\u7f6e\u7232 20\uff0c\u5247\u8a13\u7df4\u6a23\u672c\u6578\u7232 20 \u6b65\u8207\u6279\u6b21\u5927\u5c0f 24 \u7684\u4e58\u7a4d\uff0c\u5373\u8a13\u7df4\u6b65\u6578\u7232 480\u3002\u5728\u9019\u7a2e\u60c5\u6cc1\u4e0b\uff0c\u8a13\u7df4\u904e\u7a0b\u6709\u5169\u500b\u9031\u671f\uff0c\u56e0\u7232\u5b83\u904d\u6b77\u6a23\u672c\u5169\u6b21\u3002\u5728 `us-central1` \u4e2d\uff0c\u5982\u679c\u8a13\u7df4\u6578\u64da\u96c6\u4e2d\u6709 240 \u500b\u6a23\u672c\uff0c\u4e26\u4e14\u60a8\u5c07 `steps` \u8a2d\u7f6e\u7232 15\uff0c\u5247\u8a13\u7df4\u6a23\u672c\u6578\u7232 15 \u6b65\u8207\u6279\u6b21\u5927\u5c0f 8 \u7684\u4e58\u7a4d\uff0c\u5373\u8a13\u7df4\u6b65\u6578\u7232 120\u3002\u5728\u9019\u7a2e\u60c5\u6cc1\u4e0b\u6709 0.5 \u500b\u9031\u671f\uff0c\u56e0\u7232\u8a13\u7df4\u6b65\u6578\u662f\u6a23\u672c\u6578\u7684\u4e00\u534a\u3002\n- \uff1a\u6bcf\u6b21\u8fed\u4ee3\u7684\u6b65\u9577\u3002\u9ed8\u8a8d\u503c\u7232 1\u3002\nHTTP \u65b9\u6cd5\u548c\u7db2\u5740\uff1a\n```\nPOST https://PIPELINE_JOB_REGION-aiplatform.googleapis.com/v1/projects/PROJECT_ID/locations/PIPELINE_JOB_REGION/pipelineJobs\n```\n\u8acb\u6c42 JSON \u6b63\u6587\uff1a\n```\n{\n \"displayName\": \"PIPELINEJOB_DISPLAYNAME\",\n \"runtimeConfig\": {\n \"gcsOutputDirectory\": \"gs://OUTPUT_DIR\",\n \"parameterValues\": {\n  \"project\": \"PROJECT_ID\",\n  \"model_display_name\": \"MODEL_DISPLAYNAME\",\n  \"dataset_uri\": \"gs://DATASET_URI\",\n  \"tensorboard_resource_id\": \"TENSORBOARD_RESOURCE_ID\",\n  \"location\": \"MODEL_UPLOAD_REGION\",\n  \"accelerator_type\": \"ACCELERATOR_TYPE\",\n  \"large_model_reference\": \"codechat-bison@002\",\n  \"default_context\": \"DEFAULT_CONTEXT\",\n  \"train_steps\": STEPS,\n  \"learning_rate_multiplier\": LEARNING_RATE_MULTIPLIER\n }\n },\n \"templateUri\": \"https://us-kfp.pkg.dev/ml-pipeline/large-language-model-pipelines/tune-large-chat-model/v3.0.0\"\n}\n```\n\u5982\u9700\u767c\u9001\u8acb\u6c42\uff0c\u8acb\u9078\u64c7\u4ee5\u4e0b\u65b9\u5f0f\u4e4b\u4e00\uff1a\n **\u6ce8\u610f** \uff1a\u4ee5\u4e0b\u547d\u4ee4\u5047\u5b9a\u60a8\u5df2\u4f7f\u7528\u60a8\u7684\u7528\u6236\u8cec\u865f\u901a\u904e\u904b\u884c [gcloud init](https://cloud.google.com/sdk/gcloud/reference/init?hl=zh-cn) \u6216 [gcloud auth login](https://cloud.google.com/sdk/gcloud/reference/auth/login?hl=zh-cn) \u767b\u9304`gcloud`CLI\uff0c\u6216\u8005\u4f7f\u7528\u4e86 [Cloud Shell](https://cloud.google.com/shell/docs?hl=zh-cn) \uff0c\u9019\u6703\u4f7f\u60a8\u81ea\u52d5\u767b\u9304`gcloud`CLI\u3002\u60a8\u53ef\u4ee5\u904b\u884c [gcloud auth list](https://cloud.google.com/sdk/gcloud/reference/auth/list?hl=zh-cn) \u4f86\u6aa2\u67e5\u7576\u524d\u6d3b\u8e8d\u7684\u8cec\u865f\u3002\n\u5c07\u8acb\u6c42\u6b63\u6587\u4fdd\u5b58\u5728\u540d\u7232 `request.json` \u7684\u6587\u4ef6\u4e2d\uff0c\u7136\u5f8c\u57f7\u884c\u4ee5\u4e0b\u547d\u4ee4\uff1a\n```\ncurl -X POST \\ -H \"Authorization: Bearer $(gcloud auth print-access-token)\" \\ -H \"Content-Type: application/json; charset=utf-8\" \\ -d @request.json \\ \"https://PIPELINE_JOB_REGION-aiplatform.googleapis.com/v1/projects/PROJECT_ID/locations/PIPELINE_JOB_REGION/pipelineJobs\"\n``` **\u6ce8\u610f** \uff1a\u4ee5\u4e0b\u547d\u4ee4\u5047\u5b9a\u60a8\u5df2\u4f7f\u7528\u60a8\u7684\u7528\u6236\u8cec\u865f\u901a\u904e\u904b\u884c [gcloud init](https://cloud.google.com/sdk/gcloud/reference/init?hl=zh-cn) \u6216 [gcloud auth login](https://cloud.google.com/sdk/gcloud/reference/auth/login?hl=zh-cn) \u767b\u9304`gcloud`CLI\uff0c\u6216\u8005\u4f7f\u7528\u4e86 [Cloud Shell](https://cloud.google.com/shell/docs?hl=zh-cn) \uff0c\u9019\u6703\u4f7f\u60a8\u81ea\u52d5\u767b\u9304`gcloud`CLI\u3002\u60a8\u53ef\u4ee5\u904b\u884c [gcloud auth list](https://cloud.google.com/sdk/gcloud/reference/auth/list?hl=zh-cn) \u4f86\u6aa2\u67e5\u7576\u524d\u6d3b\u8e8d\u7684\u8cec\u865f\u3002\n\u5c07\u8acb\u6c42\u6b63\u6587\u4fdd\u5b58\u5728\u540d\u7232 `request.json` \u7684\u6587\u4ef6\u4e2d\uff0c\u7136\u5f8c\u57f7\u884c\u4ee5\u4e0b\u547d\u4ee4\uff1a\n```\n$cred = gcloud auth print-access-token$headers = @{ \"Authorization\" = \"Bearer $cred\" }Invoke-WebRequest ` -Method POST ` -Headers $headers ` -ContentType: \"application/json; charset=utf-8\" ` -InFile request.json ` -Uri \"https://PIPELINE_JOB_REGION-aiplatform.googleapis.com/v1/projects/PROJECT_ID/locations/PIPELINE_JOB_REGION/pipelineJobs\" | Select-Object -Expand Content\n```\n\u60a8\u61c9\u8a72\u6536\u5230\u985e\u4f3c\u4ee5\u4e0b\u5167\u5bb9\u7684 JSON \u97ff\u61c9\u3002 \u8acb\u6ce8\u610f\uff0c\u7232\u7bc0\u7701\u7a7a\u9593\uff0c\u7cfb\u7d71\u622a\u65b7\u4e86 `pipelineSpec` \u3002\u5982\u9700\u4f7f\u7528 Google Cloud \u63a7\u5236\u6aaf\u4f7f\u7528\u76e3\u7763\u5f0f\u8abf\u512a\u4f86\u5c0d\u4ee3\u78bc\u751f\u6210\u6216\u4ee3\u78bc\u804a\u5929\u6a21\u578b\u8abf\u512a\uff0c\u8acb\u57f7\u884c\u4ee5\u4e0b\u6b65\u9a5f\uff1a- \u5728 Google Cloud \u63a7\u5236\u6aaf\u7684\u201c\u751f\u6210\u5f0f AI\u201d\u90e8\u5206\uff0c\u9032\u5165 **Vertex AI Studio** \u9801\u9762\u3002 [\u9032\u5165 Vertex AI Studio](https://console.cloud.google.com/vertex-ai/generative/language?hl=zh-cn) \n- \u9ede\u64ca **Tune and distill** \uff08\u8abf\u53c3\u548c\u84b8\u993e\uff09\u6a19\u7c64\u9801\u3002\n- \u9ede\u64caadd **\u5275\u5efa\u7d93\u8abf\u512a\u7684\u6a21\u578b** \u3002\n- \u9ede\u64ca **\u76e3\u7763\u5f0f\u8abf\u512a** \u3002\n- \u914d\u7f6e\u6a21\u578b\u8a73\u60c5\uff1a- **\u5df2\u8abf\u53c3\u6a21\u578b\u7684\u540d\u7a31** \uff1a\u8f38\u5165\u8abf\u512a\u5f8c\u6a21\u578b\u7684\u540d\u7a31\u3002\n- **\u57fa\u672c\u6a21\u578b** \uff1a\u9078\u64c7\u8981\u8abf\u512a\u7684\u6a21\u578b\u3002\n- **\u5340\u57df** \uff1a\u9078\u64c7\u904b\u884c\u6d41\u6c34\u7dda\u8abf\u512a\u4f5c\u696d\u4ee5\u53ca\u90e8\u7f72\u8abf\u512a\u5f8c\u6a21\u578b\u7684\u5340\u57df\u3002\n- **\u8f38\u51fa\u76ee\u9304** \uff1a\u8f38\u5165\u5c0d\u6a21\u578b\u8abf\u512a\u6642\u7528\u65bc\u5b58\u5132\u5de5\u4ef6\u7684 Cloud Storage \u4f4d\u7f6e\u3002\n- \u5c55\u958b **\u9ad8\u7d1a\u9078\u9805** \u4ee5\u914d\u7f6e\u9ad8\u7d1a\u8a2d\u7f6e\u3002- **\u8a13\u7df4\u6b65\u6578** \uff1a\u8f38\u5165\u8981\u7232\u6a21\u578b\u8abf\u512a\u904b\u884c\u7684\u6b65\u6578\u3002\u9ed8\u8a8d\u503c\u7232 300\u3002\u6279\u6b21\u5927\u5c0f\u56e0\u8abf\u512a\u4f4d\u7f6e\u548c\u6a21\u578b\u5927\u5c0f\u800c\u7570\u3002\u5c0d\u65bc 8k \u6a21\u578b\uff0c\u4f8b\u5982`text-bison@002`\u3001`chat-bison@002`\u3001`code-bison@002`\u548c`codechat-bison@002`\uff1a- `us-central1`\u7684\u6279\u6b21\u5927\u5c0f\u7232 8\u3002\n- `europe-west4`\u7684\u6279\u6b21\u5927\u5c0f\u7232 24\u3002\n\u5c0d\u65bc 32k \u6a21\u578b\uff0c\u4f8b\u5982`text-bison-32k`\u3001`chat-bison-32k`\u3001`code-bison-32k`\u548c`codechat-bison-32k`\uff1a- `us-central1`\u7684\u6279\u6b21\u5927\u5c0f\u7232 8\u3002\n- `europe-west4`\u7684\u6279\u6b21\u5927\u5c0f\u7232 8\u3002\n\u4f8b\u5982\uff0c\u5982\u679c\u60a8\u5728 `europe-west4` \u4e2d\u8a13\u7df4 `text-bison@002` \uff0c\u8a13\u7df4\u6578\u64da\u96c6\u4e2d\u6709 240 \u500b\u6a23\u672c\uff0c\u4e26\u4e14\u5c07 `steps` \u8a2d\u7f6e\u7232 20\uff0c\u5247\u8a13\u7df4\u6a23\u672c\u6578\u7232 20 \u6b65\u8207\u6279\u6b21\u5927\u5c0f 24 \u7684\u4e58\u7a4d\uff0c\u5373\u8a13\u7df4\u6b65\u6578\u7232 480\u3002\u5728\u9019\u7a2e\u60c5\u6cc1\u4e0b\uff0c\u8a13\u7df4\u904e\u7a0b\u6709\u5169\u500b\u9031\u671f\uff0c\u56e0\u7232\u5b83\u904d\u6b77\u6a23\u672c\u5169\u6b21\u3002\u5728 `us-central1` \u4e2d\uff0c\u5982\u679c\u8a13\u7df4\u6578\u64da\u96c6\u4e2d\u6709 240 \u500b\u6a23\u672c\uff0c\u4e26\u4e14\u60a8\u5c07 `steps` \u8a2d\u7f6e\u7232 15\uff0c\u5247\u8a13\u7df4\u6a23\u672c\u6578\u7232 15 \u6b65\u8207\u6279\u6b21\u5927\u5c0f 8 \u7684\u4e58\u7a4d\uff0c\u5373\u8a13\u7df4\u6b65\u6578\u7232 120\u3002\u5728\u9019\u7a2e\u60c5\u6cc1\u4e0b\u6709 0.5 \u500b\u9031\u671f\uff0c\u56e0\u7232\u8a13\u7df4\u6b65\u6578\u662f\u6a23\u672c\u6578\u7684\u4e00\u534a\u3002\n- **\u5b78\u7fd2\u901f\u7387\u8abf\u7bc0\u4fc2\u6578** \uff1a\u8f38\u5165\u6bcf\u6b21\u8fed\u4ee3\u6642\u7684\u6b65\u9577\u3002\u9ed8\u8a8d\u503c\u7232 1\u3002\n- **\u52a0\u901f\u5668\u985e\u578b** \uff1a\uff08\u53ef\u9078\uff09\u8f38\u5165\u7528\u65bc\u6a21\u578b\u8abf\u512a\u7684\u52a0\u901f\u5668\u985e\u578b\u3002\u6709\u6548\u9078\u9805\u5305\u62ec\uff1a- `GPU`\uff1a\u4f7f\u7528 8 \u500b A100 80 GB GPU \u9032\u884c\u8abf\u512a\u3002\u8acb\u78ba\u4fdd\u60a8\u6709\u8db3\u5920\u7684 [\u914d\u984d](https://cloud.google.com/vertex-ai/generative-ai/docs/models/tune-models?hl=zh-cn#quota) \u3002\u5982\u679c\u60a8\u9078\u64c7`GPU`\uff0c\u5247\u652f\u6301 [VPC-SC](https://cloud.google.com/vertex-ai/docs/general/vpc-service-controls?hl=zh-cn) \u3002\u5982\u679c\u8abf\u512a\u4f4d\u7f6e\u548c\u6a21\u578b\u4e0a\u50b3\u4f4d\u7f6e\u7232`us-centra1`\uff0c\u5247\u652f\u6301 [CMEK](https://cloud.google.com/vertex-ai/docs/general/cmek?hl=zh-cn) \u3002\u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1 [\u76e3\u7763\u5f0f\u8abf\u512a\u5340\u57df\u8a2d\u7f6e](https://cloud.google.com/vertex-ai/generative-ai/docs/models/tune-text-models-supervised?hl=zh-cn#supervised-tuning-regions) \u3002\u5982\u679c\u60a8\u9078\u64c7`GPU`\uff0c\u5247\u6a21\u578b\u8abf\u512a\u8a08\u7b97\u6703\u5728`us-central1`\u5340\u57df\u9032\u884c\u3002\n- `TPU`\uff1a\u4f7f\u7528 64 \u500b TPU v3 Pod \u6838\u5fc3\u9032\u884c\u8abf\u512a\u3002\u8acb\u78ba\u4fdd\u60a8\u6709\u8db3\u5920\u7684 [\u914d\u984d](https://cloud.google.com/vertex-ai/generative-ai/docs/models/tune-models?hl=zh-cn#quota) \u3002\u4e0d\u652f\u6301 [CMEK](https://cloud.google.com/vertex-ai/docs/general/cmek?hl=zh-cn) \uff0c\u4f46\u652f\u6301 [VPC-SC](https://cloud.google.com/vertex-ai/docs/general/vpc-service-controls?hl=zh-cn) \u3002\u5982\u679c\u60a8\u9078\u64c7`TPU`\uff0c\u5247\u6a21\u578b\u8abf\u512a\u8a08\u7b97\u6703\u5728`europe-west4`\u5340\u57df\u9032\u884c\u3002\n- **\u6dfb\u52a0 TensorBoard \u5be6\u4f8b** \uff1a\uff08\u53ef\u9078\uff09 [Vertex AI TensorBoard \u5be6\u4f8b](https://cloud.google.com/vertex-ai/docs/experiments/tensorboard-setup?hl=zh-cn#tensorboard_id) \u7684 ID\u3002Vertex AI TensorBoard \u5be6\u4f8b\u7528\u65bc\u5728\u8abf\u512a\u4f5c\u696d\u5b8c\u6210\u5f8c\u5275\u5efa [\u5be6\u9a57](https://cloud.google.com/vertex-ai/docs/experiments/create-experiment?hl=zh-cn) \u3002Vertex AI TensorBoard \u5be6\u4f8b\u9700\u8981\u8207\u8abf\u512a\u6d41\u6c34\u7dda\u4f4d\u65bc\u540c\u4e00\u5340\u57df\u3002\n- **\u52a0\u5bc6** \uff08\u53ef\u9078\uff09\u9078\u64c7\u4f7f\u7528 Google \u7ba1\u7406\u7684\u52a0\u5bc6\u5bc6\u9470\u6216\u5ba2\u6236\u7ba1\u7406\u7684\u52a0\u5bc6\u5bc6\u9470 (CMEK)\u3002CMEK \u53ea\u80fd\u5728`us-central1`\u5340\u57df\u7528\u65bc\u52a0\u5bc6\u3002\u5728\u6240\u6709\u5176\u4ed6 [\u53ef\u7528\u5340\u57df](https://cloud.google.com/vertex-ai/generative-ai/docs/models/tune-text-models-supervised?hl=zh-cn#supported-supervised-tuning-regions) \u4e2d\uff0c\u7cfb\u7d71\u6703\u4f7f\u7528 Google \u7ba1\u7406\u7684\u52a0\u5bc6\u5bc6\u9470\u3002\u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1 [CMEK \u6982\u89bd](https://cloud.google.com/kms/docs/cmek?hl=zh-cn) \u3002\n- **\u670d\u52d9\u8cec\u865f** \uff08\u53ef\u9078\uff09\u9078\u64c7\u7528\u6236\u7ba1\u7406\u7684\u670d\u52d9\u8cec\u865f\u3002\u670d\u52d9\u8cec\u865f\u6c7a\u5b9a\u4e86\u60a8\u7684\u670d\u52d9\u4ee3\u78bc\u53ef\u4ee5\u8a2a\u554f\u54ea\u4e9b Google Cloud \u8cc7\u6e90\u3002\u5982\u679c\u60a8\u672a\u9078\u64c7\u670d\u52d9\u8cec\u865f\uff0c\u5247\u7cfb\u7d71\u6703\u4f7f\u7528\u7531 Google \u7ba1\u7406\u7684\u670d\u52d9\u8cec\u865f\uff0c\u5176\u4e2d\u5305\u542b\u9069\u5408\u5927\u591a\u6578\u6a21\u578b\u7684\u6b0a\u9650\u3002\n- \u9ede\u64ca **\u7e7c\u7e8c** \n- \u5982\u679c\u8981\u4e0a\u50b3\u6578\u64da\u96c6\u6587\u4ef6\uff0c\u8acb\u9078\u64c7radio_button_checked **\u5c07 JSONL \u6587\u4ef6\u4e0a\u50b3\u5230 Cloud Storage** \u3002\u5982\u679c\u60a8\u7684\u6578\u64da\u96c6\u6587\u4ef6\u5df2\u5728 Cloud Storage \u5b58\u5132\u6876\u4e2d\uff0c\u8acb\u9078\u64c7radio_button_checked **Cloud Storage \u4e0a\u7684\u73fe\u6709 JSONL \u6587\u4ef6** \u3002- \u5728 **\u9078\u64c7 JSONL \u6587\u4ef6** \u4e2d\uff0c\u9ede\u64ca **\u700f\u89bd** \u4e26\u9078\u64c7\u6578\u64da\u96c6\u6587\u4ef6\u3002\n- \u5728 **\u6578\u64da\u96c6\u4f4d\u7f6e** \u4e2d\uff0c\u9ede\u64ca **\u700f\u89bd** \u4e26\u9078\u64c7\u8981\u5b58\u5132\u6578\u64da\u96c6\u6587\u4ef6\u7684 Cloud Storage \u5b58\u5132\u6876\u3002\n\u5728 **Cloud Storage \u6587\u4ef6\u8def\u5f91** \u4e2d\uff0c\u9ede\u64ca **\u700f\u89bd** \uff0c\u7136\u5f8c\u9078\u64c7\u6578\u64da\u96c6\u6587\u4ef6\u6240\u5728\u7684 Cloud Storage \u5b58\u5132\u6876\u3002\n- \uff08\u53ef\u9078\uff09\u5982\u9700\u8a55\u4f30\u8abf\u512a\u5f8c\u7684\u6a21\u578b\uff0c\u8acb\u9078\u64c7 **\u5553\u7528\u6a21\u578b\u8a55\u4f30** \u4e26\u914d\u7f6e\u6a21\u578b\u8a55\u4f30\uff1a- **\u8a55\u4f30\u6578\u64da\u96c6** \uff1a\uff08\u53ef\u9078\uff09\u5305\u542b\u8a55\u4f30\u6578\u64da\u96c6\uff08\u7528\u65bc\u6279\u91cf\u9810\u6e2c\u548c\u8a55\u4f30\uff09\u7684 JSONL \u6587\u4ef6\u7684 URI\u3002`codechat-bison`\u4e0d\u652f\u6301\u8a55\u4f30\u3002\u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1 [\u7528\u65bc\u5c0d\u4ee3\u78bc\u6a21\u578b\u8abf\u512a\u7684\u6578\u64da\u96c6\u683c\u5f0f](https://cloud.google.com/vertex-ai/generative-ai/docs/models/tune-code-models?hl=zh-cn#dataset-format) \u3002\u8a55\u4f30\u6578\u64da\u96c6\u9700\u8981 10 \u5230 250 \u500b\u6a23\u672c\u3002\n- **\u8a55\u4f30\u9593\u9694** \uff08\u53ef\u9078\uff0c\u9ed8\u8a8d\u503c\u7232`20`\uff09\u6bcf\u6b21\u8a55\u4f30\u4e4b\u9593\u7684\u8abf\u512a\u6b65\u6578\u3002\u804a\u5929\u6a21\u578b\u4e0d\u652f\u6301\u8a55\u4f30\u9593\u9694\u3002\u7531\u65bc\u8a55\u4f30\u662f\u91dd\u5c0d\u6574\u500b\u8a55\u4f30\u6578\u64da\u96c6\u904b\u884c\uff0c\u56e0\u6b64\u8a55\u4f30\u9593\u9694\u8d8a\u5c0f\uff0c\u8abf\u512a\u6642\u9593\u5c31\u8d8a\u9577\u3002\u4f8b\u5982\uff0c\u5982\u679c`steps`\u7232 200 \u4e14`EVAL_INTERVAL`\u7232 100\uff0c\u5247\u60a8\u5c07\u50c5\u7372\u5f97\u8a55\u4f30\u6307\u6a19\u7684\u5169\u500b\u6578\u64da\u9ede\u3002\u6b64\u53c3\u6578\u8981\u6c42\u8a2d\u7f6e`evalutation_data_uri`\u3002\n- **\u5553\u7528\u65e9\u505c\u6cd5** \uff1a\uff08\u53ef\u9078\uff0c\u9ed8\u8a8d\u503c\u7232`true`\uff09`boolean`\uff0c\u5982\u679c\u8a2d\u7f6e\u7232`true`\uff0c\u4e14\u6a21\u578b\u6027\u80fd\u5728\u5169\u6b21\u8a55\u4f30\u904b\u884c\u4e2d\u6c92\u6709\u5f97\u5230\u8db3\u5920\u7684\u6539\u9032\uff08\u901a\u904e\u9810\u6e2c\u8a5e\u5143\u7684\u6e96\u78ba\u7387\u4f86\u8861\u91cf\uff09\uff0c\u5247\u5728\u5b8c\u6210\u6240\u6709\u8abf\u512a\u6b65\u9a5f\u4e4b\u524d\u505c\u6b62\u8abf\u512a\u3002\u5982\u679c\u7232`false`\uff0c\u5247\u7e7c\u7e8c\u8abf\u512a\uff0c\u76f4\u5230\u6240\u6709\u8abf\u512a\u6b65\u9a5f\u5b8c\u6210\u3002\u6b64\u53c3\u6578\u8981\u6c42\u8a2d\u7f6e`evaluation_data_uri`\u3002 \u804a\u5929\u6a21\u578b\u4e0d\u652f\u6301\u5553\u7528\u65e9\u505c\u6cd5\u3002\n- **\u5553\u7528\u6aa2\u67e5\u9ede\u9078\u64c7** \uff1a\u5553\u7528\u5f8c\uff0c\u751f\u6210\u5f0f AI \u6703\u5f9e\u8abf\u512a\u4f5c\u696d\u671f\u9593\u5275\u5efa\u7684\u6240\u6709\u6aa2\u67e5\u9ede\u4e2d\u9078\u64c7\u4e26\u8fd4\u56de\u5177\u6709\u6700\u4f73\u6a21\u578b\u8a55\u4f30\u6027\u80fd\u7684\u6aa2\u67e5\u9ede\u3002\u505c\u7528\u5f8c\uff0c\u7cfb\u7d71\u5c07\u8fd4\u56de\u5728\u8abf\u7bc0\u4f5c\u696d\u671f\u9593\u5275\u5efa\u7684\u6700\u7d42\u6aa2\u67e5\u9ede\u3002\u6bcf\u500b\u6aa2\u67e5\u9ede\u662f\u6307\u6a21\u578b\u5728\u8abf\u7bc0\u4f5c\u696d\u671f\u9593\u7684\u5feb\u7167\u3002\n- **TensorBoard Id** \uff1a\uff08\u53ef\u9078\uff09 [Vertex AI TensorBoard \u5be6\u4f8b](https://cloud.google.com/vertex-ai/docs/experiments/tensorboard-setup?hl=zh-cn#tensorboard_id) \u7684 ID\u3002Vertex AI TensorBoard \u5be6\u4f8b\u7528\u65bc\u5728\u8abf\u512a\u4f5c\u696d\u5b8c\u6210\u5f8c\u5275\u5efa [\u5be6\u9a57](https://cloud.google.com/vertex-ai/docs/experiments/create-experiment?hl=zh-cn) \u3002Vertex AI TensorBoard \u5be6\u4f8b\u9700\u8981\u8207\u8abf\u512a\u6d41\u6c34\u7dda\u4f4d\u65bc\u540c\u4e00\u5340\u57df\u3002\n- \u9ede\u64ca **\u958b\u59cb\u8abf\u512a** \u3002**\u6ce8\u610f** \uff1a\u6240\u6709\u4e2d\u9593\u6d41\u6c34\u7dda\u6578\u64da\uff08\u4f8b\u5982\u5df2\u8655\u7406\u7684\u6578\u64da\u96c6\uff09\u90fd\u5b58\u5132\u5728 [\u6d41\u6c34\u7dda\u4f5c\u696d\u5340\u57df](https://cloud.google.com/vertex-ai/generative-ai/docs/models/tune-code-models?hl=zh-cn#pipeline-region) \u4e2d\u3002\u6a21\u578b\u8abf\u512a\u8a08\u7b97\u5728 [\u6a21\u578b\u8abf\u512a\u5340\u57df](https://cloud.google.com/vertex-ai/generative-ai/docs/models/tune-code-models?hl=zh-cn#tuning-region) \u4e2d\u9032\u884c\u3002\u6a21\u578b\u6703\u90e8\u7f72\u5230 [\u6a21\u578b\u4e0a\u50b3\u5340\u57df](https://cloud.google.com/vertex-ai/generative-ai/docs/models/tune-code-models?hl=zh-cn#upload-region) \u3002\n```\nPROJECT_ID=myprojectDATASET_URI=gs://my-gcs-bucket-uri/datasetOUTPUT_DIR=gs://my-gcs-bucket-uri/outputACCELERATOR_TYPE=GPULOCATION=us-central1curl \\-X POST \\-H \"Authorization: Bearer $(gcloud auth print-access-token)\" \\-H \"Content-Type: application/json; charset=utf-8\" \\\"https://${REGION}-aiplatform.googleapis.com/v1/projects/${PROJECT_ID}/locations/${REGION}/pipelineJobs?pipelineJobId=tune-large-chat-model-$(date +%Y%m%d%H%M%S)\" -d \\$'{\u00a0 \"displayName\": \"'${PIPELINE_NAME}'\",\u00a0 \"runtimeConfig\": {\u00a0 \u00a0 \"gcsOutputDirectory\": \"'${OUTPUT_DIR}'\",\u00a0 \u00a0 \"parameterValues\": {\u00a0 \u00a0 \u00a0 \"project\": \"'${PROJECT_ID}'\",\u00a0 \u00a0 \u00a0 \"model_display_name\": \"your-model-display-name\",\u00a0 \u00a0 \u00a0 \"dataset_uri\": \"'${DATASET_URI}'\",\u00a0 \u00a0 \u00a0 \"location\": \"'${LOCATION}'\",\u00a0 \u00a0 \u00a0 \"large_model_reference\": \"codechat-bison@002\",\u00a0 \u00a0 \u00a0 \"train_steps\": 300,\u00a0 \u00a0 \u00a0 \"learning_rate_multiplier\": 1,\u00a0 \u00a0 \u00a0 \"encryption_spec_key_name\": \"projects/myproject/locations/us-central1/keyRings/sample-key/cryptoKeys/sample-key\"\u00a0 \u00a0 }\u00a0 },\u00a0 \"encryptionSpec\": {\u00a0 \u00a0 \"kmsKeyName\": \"projects/myproject/locations/us-central1/keyRings/sample-key/cryptoKeys/sample-key\"\u00a0 \"templateUri\": \"https://us-kfp.pkg.dev/ml-pipeline/large-language-model-pipelines/tune-large-chat-model/v3.0.0\"}'\n```\n## \u63a8\u85a6\u7684\u4ee3\u78bc\u6a21\u578b\u8abf\u512a\u914d\u7f6e\n\u4e0b\u8868\u986f\u793a\u4e86\u5efa\u8b70\u7684\u4ee3\u78bc\u6a21\u578b\u8abf\u512a\u914d\u7f6e\uff0c\u6309\u4efb\u52d9\u5217\u51fa\uff1a\n| \u4efb\u52d9  | \u6578\u64da\u96c6\u4e2d\u7684\u793a\u4f8b\u6578 | \u8a13\u7df4\u6b65\u9a5f |\n|:---------|:-------------------|:-----------|\n| \u4ee3\u78bc\u751f\u6210 | 500+    | 200-1000 |\n| \u4ee3\u78bc\u804a\u5929 | 500+    | 200-1000 |\n\u5c0d\u65bc\u8a13\u7df4\u6b65\u9a5f\uff0c\u60a8\u53ef\u4ee5\u91dd\u5c0d\u7279\u5b9a\u6578\u64da\u96c6\u5617\u8a66\u4f7f\u7528\u591a\u500b\u503c\u4f86\u7372\u5f97\u6700\u4f73\u6027\u80fd\uff0c\u4f8b\u5982 100\u3001200\u3001500\u3002\n## \u67e5\u770b\u7d93\u904e\u8abf\u512a\u7684\u6a21\u578b\u5217\u8868\n\u60a8\u53ef\u4ee5\u4f7f\u7528 Google Cloud \u63a7\u5236\u6aaf\u6216 Python \u7248 Vertex AI SDK \u67e5\u770b\u7576\u524d\u9805\u76ee\u4e2d\u7d93\u904e\u8abf\u512a\u7684\u4ee3\u78bc\u6a21\u578b\u7684\u5217\u8868\u3002\n### \u67e5\u770b\u7d93\u904e\u8abf\u512a\u7684\u4ee3\u78bc\u6a21\u578b\u5217\u8868\uff08\u63a7\u5236\u6aaf\uff09\n\u5982\u9700\u5728 Google Cloud \u63a7\u5236\u6aaf\u4e2d\u67e5\u770b\u7d93\u904e\u8abf\u512a\u7684\u4ee3\u78bc\u804a\u5929\u548c\u4ee3\u78bc\u751f\u6210\u6a21\u578b\uff0c\u8acb\u9032\u5165 **Vertex AI Model Registry** \u9801\u9762\u3002\n[\u9032\u5165 Vertex AI Model Registry](https://console.cloud.google.com/vertex-ai/models?hl=zh-cn)\n### \u67e5\u770b\u7d93\u904e\u8abf\u512a\u7684\u4ee3\u78bc\u751f\u6210\u6a21\u578b (SDK) \u5217\u8868\n\u4ee5\u4e0b\u793a\u4f8b\u4ee3\u78bc\u4f7f\u7528 Python \u7248 Vertex AI SDK \u5217\u51fa\u7576\u524d\u9805\u76ee\u4e2d\u7d93\u904e\u8abf\u512a\u7684\u4ee3\u78bc\u751f\u6210\u6a21\u578b\uff1a\n```\nimport vertexaifrom vertexai.preview.language_models import CodeGenerationModelmodel = CodeGenerationModel.from_pretrained(\"code-bison@002\").list_tuned_model_names()\n```\n### \u67e5\u770b\u7d93\u904e\u8abf\u512a\u7684\u4ee3\u78bc\u804a\u5929\u6a21\u578b (SDK) \u5217\u8868\n\u4ee5\u4e0b\u793a\u4f8b\u4ee3\u78bc\u4f7f\u7528 Python \u7248 Vertex AI SDK \u5217\u51fa\u7576\u524d\u9805\u76ee\u4e2d\u7d93\u904e\u8abf\u512a\u7684\u4ee3\u78bc\u804a\u5929\u6a21\u578b\uff1a\n```\nimport vertexaifrom vertexai.preview.language_models import CodeChatModelmodel = CodeChatModel.from_pretrained(\"codechat-bison@002\").list_tuned_model_names()\n```\n## \u52a0\u8f09\u7d93\u904e\u8abf\u512a\u7684\u6a21\u578b\n\u60a8\u53ef\u4ee5\u4f7f\u7528 Python \u7248 Vertex AI SDK \u52a0\u8f09\u7d93\u904e\u8abf\u512a\u7684\u4ee3\u78bc\u6a21\u578b\u3002\n### \u52a0\u8f09\u7d93\u904e\u8abf\u512a\u7684\u4ee3\u78bc\u751f\u6210\u6a21\u578b\n\u4ee5\u4e0b\u793a\u4f8b\u4ee3\u78bc\u4f7f\u7528 Python \u7248 Vertex AI SDK \u52a0\u8f09\u7d93\u904e\u8abf\u512a\u7684\u4ee3\u78bc\u751f\u6210\u6a21\u578b\u3002\u5728\u793a\u4f8b\u4ee3\u78bc\u4e2d\uff0c\u5c07 `` \u66ff\u63db\u7232\u7d93\u904e\u8abf\u512a\u7684\u6a21\u578b\u7684\u9650\u5b9a\u8cc7\u6e90\u540d\u7a31\u3002\u6b64\u540d\u7a31\u7684\u683c\u5f0f\u7232 `projects/` `` `/locations/` `` `/models/` `` \u3002\u60a8\u53ef\u4ee5\u5728 [Vertex AI Model Registry](https://console.cloud.google.com/vertex-ai/models?hl=zh-cn) \u4e2d\u627e\u5230\u7d93\u904e\u8abf\u512a\u7684\u6a21\u578b\u7684\u6a21\u578b ID\u3002\n```\nimport vertexaifrom vertexai.preview.language_models import CodeGenerationModelmodel = CodeGenerationModel.get_tuned_model(TUNED_MODEL_NAME)\n```\n### \u52a0\u8f09\u7d93\u904e\u8abf\u512a\u7684\u4ee3\u78bc\u804a\u5929\u6a21\u578b\n\u4ee5\u4e0b\u793a\u4f8b\u4ee3\u78bc\u4f7f\u7528 Python \u7248 Vertex AI SDK \u52a0\u8f09\u7d93\u904e\u8abf\u512a\u7684\u4ee3\u78bc\u804a\u5929\u6a21\u578b\uff1a\n```\nimport vertexaifrom vertexai.preview.language_models import CodeChatModelmodel = CodeChatModel.get_tuned_model(TUNED_MODEL_NAME)\n```\n## \u8abf\u512a\u548c\u8a55\u4f30\u6307\u6a19\n\u60a8\u53ef\u4ee5\u914d\u7f6e\u6a21\u578b\u8abf\u512a\u4f5c\u696d\u4f86\u6536\u96c6\u548c\u5831\u544a\u6a21\u578b\u8abf\u512a\u548c\u6a21\u578b\u8a55\u4f30\u6307\u6a19\uff0c\u7136\u5f8c\u53ef\u4ee5\u4f7f\u7528 [Vertex AI TensorBoard](https://cloud.google.com/vertex-ai/docs/experiments/tensorboard-introduction?hl=zh-cn) \u76f4\u89c0\u5448\u73fe\u9019\u4e9b\u6307\u6a19\u3002\u5982\u9700\u5c07\u8abf\u512a\u4f5c\u696d\u9023\u63a5\u5230 Vertex AI TensorBoard\uff0c\u8acb\u6307\u5b9a [Vertex AI TensorBoard \u5be6\u4f8b ID](https://cloud.google.com/vertex-ai/docs/experiments/tensorboard-setup?hl=zh-cn#tensorboard_id) \u548c\u8a55\u4f30\u6578\u64da\u96c6\u3002\n### \u6a21\u578b\u8abf\u512a\u6307\u6a19\n\u60a8\u53ef\u4ee5\u914d\u7f6e\u6a21\u578b\u8abf\u512a\u4f5c\u696d\u4f86\u6536\u96c6 `chat-bison` \u3001 `code-bison` \u3001 `codechat-bison` \u548c `text-bison` \u7684\u4ee5\u4e0b\u8abf\u512a\u6307\u6a19\uff1a\n- `/train_total_loss`\uff1a\u4e00\u500b\u8a13\u7df4\u6b65\u9577\u4e2d\u8abf\u512a\u6578\u64da\u96c6\u7684\u640d\u5931\u3002\n- `/train_fraction_of_correct_next_step_preds`\uff1a\u4e00\u500b\u8a13\u7df4\u6b65\u9577\u4e2d\u7684\u8a5e\u5143\u6e96\u78ba\u7387\u3002\u55ae\u500b\u9810\u6e2c\u7531\u4e00\u7cfb\u5217\u8a5e\u5143\u7d44\u6210\u3002\u8a72\u6307\u6a19\u8861\u91cf\u9810\u6e2c\u8a5e\u5143\u7684\u6e96\u78ba\u7387\uff08\u8207\u8abf\u512a\u6578\u64da\u96c6\u4e2d\u7684\u6a19\u6e96\u7b54\u6848\u76f8\u6bd4\uff09\u3002\n- `/train_num_predictions:`\uff1a\u4e00\u500b\u8a13\u7df4\u6b65\u9577\u4e2d\u7684\u9810\u6e2c\u8a5e\u5143\u6578\u3002\n### \u6a21\u578b\u8a55\u4f30\u6307\u6a19\uff1a\n\u60a8\u53ef\u4ee5\u914d\u7f6e\u6a21\u578b\u8abf\u512a\u4f5c\u696d\u4f86\u6536\u96c6 `code-bison` \u548c `text-bison` \u7684\u4ee5\u4e0b\u8a55\u4f30\u6307\u6a19\uff1a\n- `/eval_total_loss`\uff1a\u4e00\u500b\u8a55\u4f30\u6b65\u9577\u4e2d\u8a55\u4f30\u6578\u64da\u96c6\u7684\u640d\u5931\u3002\n- `/eval_fraction_of_correct_next_step_preds`\uff1a\u4e00\u500b\u8a55\u4f30\u6b65\u9577\u4e2d\u7684\u8a5e\u5143\u6e96\u78ba\u7387\u3002\u55ae\u500b\u9810\u6e2c\u7531\u4e00\u7cfb\u5217\u8a5e\u5143\u7d44\u6210\u3002\u8a72\u6307\u6a19\u8861\u91cf\u8a55\u4f30\u8a5e\u5143\u7684\u6e96\u78ba\u7387\uff08\u8207\u8a55\u4f30\u6578\u64da\u96c6\u4e2d\u7684\u6a19\u6e96\u7b54\u6848\u76f8\u6bd4\uff09\u3002\n- `/eval_num_predictions`\uff1a\u4e00\u500b\u8a55\u4f30\u6b65\u9577\u4e2d\u7684\u9810\u6e2c\u8a5e\u5143\u6578\u3002\n\u6a21\u578b\u8abf\u512a\u4f5c\u696d\u5b8c\u6210\u5f8c\u5c07\u63d0\u4f9b\u6307\u6a19\u7684\u53ef\u8996\u5316\u5167\u5bb9\u3002 \u5982\u679c\u60a8\u5728\u5275\u5efa\u8abf\u512a\u4f5c\u696d\u6642\u50c5\u6307\u5b9a Vertex AI TensorBoard \u5be6\u4f8b ID \u800c\u4e0d\u6307\u5b9a\u8a55\u4f30\u6578\u64da\u96c6\uff0c\u5247\u53ea\u63d0\u4f9b\u8abf\u512a\u6307\u6a19\u7684\u53ef\u8996\u5316\u5167\u5bb9\u3002\n## \u914d\u984d\n`us-central1` \u4e2d\u7684\u8abf\u512a\u4f5c\u696d\u4f7f\u7528\u516b\u500b A100 80 GB GPU\u3002\n`europe-west4` \u4e2d\u7684\u8abf\u512a\u4f5c\u696d\u4f7f\u7528 `TPU v3 pod` \u81ea\u5b9a\u7fa9\u6a21\u578b\u8a13\u7df4\u8cc7\u6e90\u7684 64 \u500b\u6838\u5fc3\u3002\n\u5982\u679c\u60a8\u6c92\u6709\u8db3\u5920\u7684\u914d\u984d\u6216\u60f3\u8981\u5728 Google Cloud \u9805\u76ee\u4e2d\u904b\u884c\u591a\u500b\u4f75\u767c\u8abf\u512a\u4f5c\u696d\uff0c\u5247\u5fc5\u9808 [\u7533\u8acb\u66f4\u591a\u914d\u984d](https://cloud.google.com/docs/quotas/view-manage?hl=zh-cn#requesting_higher_quota) \uff1a\n- \u5c0d\u65bc `us-central1` \uff0c\u4ee5 8 \u7684\u500d\u6578\u7684\u5f62\u5f0f\u5728 `us-central1` \u5340\u57df\u4e2d\u63d0\u4ea4\u5c0d `Restricted image training Nvidia A100 80 GB GPUs per region` \u7684\u8acb\u6c42\u3002\n- \u5c0d\u65bc `europe-west4` \uff0c\u4ee5 64 \u7684\u500d\u6578\u7684\u5f62\u5f0f\u5728 `europe-west4` \u5340\u57df\u4e2d\u63d0\u4ea4\u5c0d `Restricted image training TPU V3 pod cores per region` \u7684\u8acb\u6c42\u3002\n## \u5f8c\u7e8c\u6b65\u9a5f\n- \u5982\u9700\u77ad\u89e3\u66f4\u591a\u6a21\u578b\u3001\u9ad8\u7d1a\u529f\u80fd\u4ee5\u53ca\u6700\u591a\u53ef\u8f49\u5beb 8 \u5c0f\u6642\u7684\u6587\u4ef6\u7684\u529f\u80fd\uff0c\u8acb\u53c3\u95b1 [Speech-to-Text](https://cloud.google.com/speech-to-text/docs/transcribe-console?hl=zh-cn) \u3002", "guide": "Generative AI on Vertex AI"}