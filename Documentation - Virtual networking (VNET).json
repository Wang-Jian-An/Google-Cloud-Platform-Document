{"title": "Documentation - Virtual networking (VNET)", "url": "https://cloud.google.com/distributed-cloud/hosted/docs/latest/gdch/overview", "abstract": "# Documentation - Virtual networking (VNET)\n| 0     | 1                     |\n|:-------------------|:-----------------------------------------------------------------------------------|\n| Workload location | File and block storage                |\n| Audit log source | Kubernetes audit logs                |\n| Audited operations | CRUD operations on the project network policy CRUD operations on the load balancer |\n", "content": "## CRUD operations on the project network policy\nLog type: KRM API management plane audit logs.\n| ('Fields in the log entry that contain audit information', 'Audit metadata') | ('Fields in the log entry that contain audit information', 'Audit field name') | ('Fields in the log entry that contain audit information', 'Value')                                                                                              |\n|:-------------------------------------------------------------------------------|:---------------------------------------------------------------------------------|:-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| User or service identity              | user                    | For example, \"user\": { \"uid\": \"6e805ff0-3f8c-4073-b4e1-6a0582ff1263\", \"username\": \"system:serviceaccount:gpc-system:fleet-admin-controller\", \"extra\": { \"authentication.kubernetes.io/pod-uid\": [ \"45ce2b16-3584-448e-8caf-49cb299dfb55\" ], \"authentication.kubernetes.io/pod-name\": [ \"fleet-admin-controller-5b5d848876-764mt\" ] }, \"groups\": [ \"system:serviceaccounts\", \"system:serviceaccounts:gpc-system\", \"system:authenticated\" ] } |\n| Target (Fields and values that call the API)         | requestURI                  | \"requestURI\": \"/apis/networking.gdc.goog/v1alpha1/namespaces/platform-obs/projectnetworkpolicies\"                                                                                       |\n| Action (Fields containing the performed operation)        | verb                    | For example, \"verb\": \"patch\"                                                                                                        |\n| Event timestamp                | requestReceivedTimestamp               | For example, \"requestReceivedTimestamp\": \"2022-12-09T04:21:55.497089Z\"                                                                                              |\n| Source of action                | sourceIPs                  | For example, \"sourceIPs\": [ \"10.253.164.215\" ]                                                                                                   |\n| Outcome                  | stage                   | For example, \"stage\": \"ResponseComplete\"                                                                                                     |\n| Other fields                 | Not applicable                 | Not applicable                                                                                                            |\n**Example log**\n```\n{\u00a0 \"auditID\": \"ff8266f6-685f-4239-9ab8-c55083d575e0\",\u00a0 \"responseStatus\": {\u00a0 \u00a0 \"code\": 200,\u00a0 \u00a0 \"metadata\": {}\u00a0 },\u00a0 \"level\": \"Metadata\",\u00a0 \"requestURI\": \"/apis/networking.gdc.goog/v1alpha1/namespaces/platform-obs/projectnetworkpolicies/base-policy-allow-intra-project-traffic/status\",\u00a0 \"user\": {\u00a0 \u00a0 \"uid\": \"6e805ff0-3f8c-4073-b4e1-6a0582ff1263\",\u00a0 \u00a0 \"username\": \"system:serviceaccount:gpc-system:fleet-admin-controller\",\u00a0 \u00a0 \"extra\": {\u00a0 \u00a0 \u00a0 \"authentication.kubernetes.io/pod-uid\": [\u00a0 \u00a0 \u00a0 \u00a0 \"45ce2b16-3584-448e-8caf-49cb299dfb55\"\u00a0 \u00a0 \u00a0 ],\u00a0 \u00a0 \u00a0 \"authentication.kubernetes.io/pod-name\": [\u00a0 \u00a0 \u00a0 \u00a0 \"fleet-admin-controller-5b5d848876-764mt\"\u00a0 \u00a0 \u00a0 ]\u00a0 \u00a0 },\u00a0 \u00a0 \"groups\": [\u00a0 \u00a0 \u00a0 \"system:serviceaccounts\",\u00a0 \u00a0 \u00a0 \"system:serviceaccounts:gpc-system\",\u00a0 \u00a0 \u00a0 \"system:authenticated\"\u00a0 \u00a0 ]\u00a0 },\u00a0 \"_gdch_cluster\": \"org-1-admin\",\u00a0 \"objectRef\": {\u00a0 \u00a0 \"resource\": \"projectnetworkpolicies\",\u00a0 \u00a0 \"apiGroup\": \"networking.gdc.goog\",\u00a0 \u00a0 \"name\": \"base-policy-allow-intra-project-traffic\",\u00a0 \u00a0 \"apiVersion\": \"v1alpha1\",\u00a0 \u00a0 \"namespace\": \"platform-obs\",\u00a0 \u00a0 \"subresource\": \"status\"\u00a0 },\u00a0 \"verb\": \"patch\",\u00a0 \"kind\": \"Event\",\u00a0 \"_gdch_fluentbit_pod\": \"anthos-audit-logs-forwarder-4267r\",\u00a0 \"stage\": \"ResponseComplete\",\u00a0 \"apiVersion\": \"audit.k8s.io/v1\",\u00a0 \"requestReceivedTimestamp\": \"2022-12-09T04:21:55.497089Z\",\u00a0 \"sourceIPs\": [\u00a0 \u00a0 \"10.253.164.215\"\u00a0 ],\u00a0 \"userAgent\": \"fleet-admin-cm/v0.0.0 (linux/amd64) kubernetes/$Format\",\u00a0 \"stageTimestamp\": \"2022-12-09T04:21:55.505045Z\",\u00a0 \"annotations\": {\u00a0 \u00a0 \"authorization.k8s.io/reason\": \"RBAC: allowed by ClusterRoleBinding \\\"fleet-admin-controller\\\" of ClusterRole \\\"fleet-admin-controller\\\" to ServiceAccount \\\"fleet-admin-controller/gpc-system\\\"\",\u00a0 \u00a0 \"authorization.k8s.io/decision\": \"allow\"\u00a0 },\u00a0 \"_gdch_service_name\": \"apiserver\"}\n```\n## CRUD operations on the load balancer\nLog type: KRM API management plane audit logs.\n| ('Fields in the log entry that contain audit information', 'Audit metadata') | ('Fields in the log entry that contain audit information', 'Audit field name') | ('Fields in the log entry that contain audit information', 'Value')             |\n|:-------------------------------------------------------------------------------|:---------------------------------------------------------------------------------|:---------------------------------------------------------------------------------------------------------------------|\n| User or service identity              | user                    | For example, \"user\": { \"groups\": [ \"system:masters\", \"system:authenticated\" ], \"username\": \"kubernetes-admin\" } |\n| Target (Fields and values that call the API)         | objectRef.resource                | \"objectRef\": { \"resource\": \"services\" }                    |\n| Action (Fields containing the performed operation)        | verb                    | For example, \"verb\": \"get\"                       |\n| Event timestamp                | requestReceivedTimestamp               | For example, \"requestReceivedTimestamp\": \"2022-12-09T04:29:53.577417Z\"            |\n| Source of action                | sourceIPs                  | For example, \"sourceIPs\": [ \"10.200.0.5\" ]                   |\n| Outcome                  | stage                   | For example, \"stage\": \"ResponseComplete\"                    |\n| Other fields                 | Not applicable                 | Not applicable                          |\n**Example log**\n```\n{\u00a0 \"apiVersion\": \"audit.k8s.io/v1\",\u00a0 \"level\": \"Metadata\",\u00a0 \"_gdch_cluster\": \"org-1-admin\",\u00a0 \"auditID\": \"113e562b-0576-4b97-bc5f-168a60428f6d\",\u00a0 \"user\": {\u00a0 \u00a0 \"groups\": [\u00a0 \u00a0 \u00a0 \"system:masters\",\u00a0 \u00a0 \u00a0 \"system:authenticated\"\u00a0 \u00a0 ],\u00a0 \u00a0 \"username\": \"kubernetes-admin\"\u00a0 },\u00a0 \"stageTimestamp\": \"2022-12-09T04:29:53.579903Z\",\u00a0 \"sourceIPs\": [\u00a0 \u00a0 \"10.200.0.5\"\u00a0 ],\u00a0 \"responseStatus\": {\u00a0 \u00a0 \"code\": 200,\u00a0 \u00a0 \"metadata\": {}\u00a0 },\u00a0 \"annotations\": {\u00a0 \u00a0 \"authorization.k8s.io/decision\": \"allow\",\u00a0 \u00a0 \"authorization.k8s.io/reason\": \"\"\u00a0 },\u00a0 \"stage\": \"ResponseComplete\",\u00a0 \"requestURI\": \"/api/v1/namespaces/harbor-system/services/harbor-harbor-harbor-core\",\u00a0 \"_gdch_fluentbit_pod\": \"anthos-audit-logs-forwarder-8kc9n\",\u00a0 \"verb\": \"get\",\u00a0 \"objectRef\": {\u00a0 \u00a0 \"apiVersion\": \"v1\",\u00a0 \u00a0 \"apiGroup\": \"UNKNOWN\",\u00a0 \u00a0 \"resource\": \"services\",\u00a0 \u00a0 \"namespace\": \"harbor-system\",\u00a0 \u00a0 \"name\": \"harbor-harbor-harbor-core\"\u00a0 },\u00a0 \"userAgent\": \"root-admin-cm/v0.0.0 (linux/amd64) kubernetes/$Format\",\u00a0 \"kind\": \"Event\",\u00a0 \"requestReceivedTimestamp\": \"2022-12-09T04:29:53.577417Z\",\u00a0 \"_gdch_service_name\": \"apiserver\"}\n```", "guide": "Documentation"}