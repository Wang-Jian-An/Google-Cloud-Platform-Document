{"title": "Documentation - Restore a VM from a snapshot", "url": "https://cloud.google.com/distributed-cloud/hosted/docs/latest/gdch/overview", "abstract": "# Documentation - Restore a VM from a snapshot\nRestore a virtual machine (VM) disk from an image disk snapshot that was created through GDCH backup and restore procedures.\nTo get the permissions that you need to restore a snapshot, ask your Project IAM Admin to grant you the following roles:\n- Project VM Admin:`project-vm-admin`.\n- Backup Creator:`backup-creator`.\n- Project Viewer:`project-viewer`.", "content": "## Restore a snapshot\nCreate a new VM from a disk snapshot by using the GDCH console or the application programming interface (API).\n- Sign in to the GDCH console.\n- In the navigation menu, click **Virtual Machines > Snapshots** .\n- Select a project.\n- In the list of snapshots, find the snapshot to restore and click **Restore** .\n- In the **New disk name** field, enter the name of the disk to restore the backup in.\n- Enter a **Restore name** for the restore.\n- Click **Restore** .\nDefine a `VirtualMachineRestoreRequest` custom resource to initiate the restore process:\n```\napiVersion: virtualmachine.gdc.goog/v1kind: VirtualMachineRestoreRequestmetadata:\u00a0 name: RESTORE_REQUEST_NAME\u00a0 namespace: PROJECT_NAMEspec:\u00a0 virtualMachineBackup: VM_BACKUP_NAME\u00a0 restoreName: RESTORE_NAME\u00a0 restoredResourceName: RESTORED_RESOURCE_NAME\u00a0 restoredResourceDescription: RESTORED_RESOURCE_DESCRIPTION\n```\nReplace the following:- ``: name of the`VirtualMachineBackup`to restore from.\n- ``: the name of the GDCH project.\n- ``: name to give the restore request that is being initiated.\n- ``: name to give the restore that is being initiated.\n- ``: name to give the restored snapshot.\n- ``: description of why the restore is performed.\nThe result of the restore creates a new disk with the same configuration and disk state as the snapshot, completing the data backup and recovery process.\n## View a restore\nView a restore using the GDCH console or `kubectl` command-line interface (CLI).\n- Sign in to the GDCH console.\n- In the navigation menu, click **Virtual Machines > Snapshots** .\n- Select a project.\n- Click the **Restores** tab.\n- In the list of restores, click the restore name to view its details.\nView a restore by listing the restores and viewing their details:- List the existing snapshots:```\nkubectl get virtualmachinerestores.virtualmachine.gdc.goog -n PROJECT_NAME\n```Replace `` with the name of the project.\n- In the list, find the restore that you want to view.\n- View the restore details:```\nkubectl describe virtualmachinerestore.virtualmachine.gdc.goog RESTORE_NAME -n PROJECT_NAME\n```Replace the following:- ``: the name of the restore.\n- ``: the name of the project.\n## Delete a restore\nDelete a restore by using the GDCH console or `kubectl` command-line interface (CLI).\n- Sign in to the GDCH console.\n- In the navigation menu, click **Backup for Virtual Machines** .\n- Select a project.\n- Click the **Restores** tab.\n- In the list of restores, find the restore to delete and click **Delete Restore** .\n- In the **Restore name** field, enter the name of the restore to delete.\n- Click **Delete Restore** .\nView a restore by listing the restores and viewing their details:- List the existing restores:```\nkubectl get virtualmachinerestores.virtualmachine.gdc.goog -n PROJECT_NAME\n```Replace `` with the name of the project.\n- In the list, find the restore that you want to delete.\n- Delete the restore:```\nkubectl delete virtualmachinerestores.virtualmachine.gdc.goog RESTORE_NAME -n PROJECT_NAME\n```Replace the following:- ``: the name of the restore.\n- ``: the name of the project.", "guide": "Documentation"}