{"title": "Apigee - Configure metrics collection", "url": "https://cloud.google.com/apigee/docs/api-platform/get-started/what-apigee", "abstract": "# Apigee - Configure metrics collection\nYou are currently viewing version 1.1 of the Apigee hybrid documentation. **This version is end of life.** You should upgrade to a newer version. For more information, see [Supported versions](/apigee/docs/hybrid/supported-platforms#supported-versions) .\nApigee hybrid metrics collection is disabled by default; you must provide a few configuration properties in your overrides file to enable hybrid to send the collected metrics data to [Stackdriver](https://cloud.google.com/monitoring/kubernetes-engine/) .\n", "content": "## \n Required configuration\nTo enable Apigee hybrid to send collected metrics data to [Stackdriver](https://cloud.google.com/monitoring/kubernetes-engine/) , you must provide these configuration settings in your overrides file:\n```\n...\ngcpProjectID: project_ID\nk8sClusterName: cluster_name\n...\nmetrics:\n enabled: true\n serviceAccountPath: service_account_file\n```\nWhere:\n- `gcpProjectID`is a GCP project ID. Metrics data will be sent to the Stackdriver instance  in that project.\n- `k8sClusterName`is the name of the Kubernetes cluster where the hybrid  runtime is installed.\n- `serviceAccountPath`is the path on your filesystem to the GCP service account  key file that was downloaded during the Apigee hybrid [installation procedure](/apigee/docs/hybrid/v1.1/precog-overview) .  The service account associated with the key must have the **Monitoring Metrics Writer** role. For details on creating service accounts, see [Step 5: Add service accounts](/apigee/docs/hybrid/v1.1/precog-serviceaccounts) .\nExample:\n```\n...\ngcpProjectID: acme-hybrid\nk8sClusterName: acme-hybrid\n...\nmetrics:\n enabled: true\n serviceAccountPath: ./service-accounts/metrics-sa.json\n```\n## How to disable metrics collection\nTo disable metrics collection, add the following configuration to your overrides and apply it to the cluster:\n```\n...metrics:\u00a0 enabled: false...\n```", "guide": "Apigee"}