{"title": "Documentation - KRM API monitoring.gdc.goog/v1", "url": "https://cloud.google.com/distributed-cloud/hosted/docs/latest/gdch/overview", "abstract": "# Documentation - KRM API monitoring.gdc.goog/v1\n", "content": "## monitoring.gdc.goog/v1\nContains API Schema definitions for the Monitoring group.\n### AlertRule\nDefines the alert rules configuration.\n- [MonitoringRuleSpec](#monitoringrulespec)\n| Field           | Description                                                             |\n|:------------------------------------------------|:--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| alert string         | The alert name. Its value must be a valid label value.                                                  |\n| expr string          | The PromQL or LogQL expression to evaluate the alert rule.                                                 |\n| for string          | The duration in seconds over which the specified condition must be met to move the alert from the pending state to the open state.                               |\n| labels object (keys:string, values:string)  | The labels to add or overwrite. The required labels in this field are severity: [error, critical, warning, info], code: <short code for the error>, and resource: <component, service, or hardware related to the alert>. Any additional labels are optional. |\n| annotations object (keys:string, values:string) | The annotations to add.                                                          |\n### MonitoringRule\nDefines the Schema for the Monitoring Rules API.\n- [MonitoringRuleList](#monitoringrulelist)\n| Field      | Description             |\n|:----------------------------|:--------------------------------------------------------------|\n| apiVersion string   | monitoring.gdc.goog/v1          |\n| kind string     | MonitoringRule            |\n| metadata ObjectMeta   | Refer to Kubernetes API documentation for fields of metadata. |\n| spec MonitoringRuleSpec  | nan               |\n| status MonitoringRuleStatus | nan               |\n### MonitoringRuleList\nContains a list of monitoring rules.\n| Field      | Description             |\n|:---------------------------|:--------------------------------------------------------------|\n| apiVersion string   | monitoring.gdc.goog/v1          |\n| kind string    | MonitoringRuleList           |\n| metadata ListMeta   | Refer to Kubernetes API documentation for fields of metadata. |\n| items MonitoringRule array | nan               |\n### MonitoringRuleSpec\nDefines the specification or expected state of the `MonitoringRule` object.\n- [MonitoringRule](#monitoringrule)\n| Field      | Description            |\n|:-----------------------------|:---------------------------------------------------------|\n| interval string    | The rule evaluation interval.       |\n| limit integer    | The limit number of alerts. A value of 0 means no limit. |\n| recordRules RecordRule array | The list of record rules.        |\n| alertRules AlertRule array | The list of alert rules.         |\n### MonitoringRuleStatus\nDefines the observed state of the `MonitoringRule` object.\n- [MonitoringRule](#monitoringrule)\n| Field      | Description            |\n|:---------------------------|:---------------------------------------------------------|\n| conditions Condition array | Defines the observed state of the MonitoringRule object. |\n### MonitoringTarget\nDefines the Schema for the monitoring targets API.\n- [MonitoringTargetList](#monitoringtargetlist)\n| Field       | Description             |\n|:------------------------------|:--------------------------------------------------------------|\n| apiVersion string    | monitoring.gdc.goog/v1          |\n| kind string     | MonitoringTarget            |\n| metadata ObjectMeta   | Refer to Kubernetes API documentation for fields of metadata. |\n| spec MonitoringTargetSpec  | nan               |\n| status MonitoringTargetStatus | nan               |\n### MonitoringTargetList\nContains a list of monitoring targets.\n| Field      | Description             |\n|:-----------------------------|:--------------------------------------------------------------|\n| apiVersion string   | monitoring.gdc.goog/v1          |\n| kind string     | MonitoringTargetList           |\n| metadata ListMeta   | Refer to Kubernetes API documentation for fields of metadata. |\n| items MonitoringTarget array | nan               |\n### MonitoringTargetMetricsRelabeling\nDefines a filter for keeping or discarding metrics based on labels.\n- [MonitoringTargetPodMetricsEndpoints](#monitoringtargetpodmetricsendpoints)\n| Field      | Description                                         |\n|:--------------------------|:----------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| sourceLabels string array | The selected values from existing labels. The content is concatenated using the separator and matched against the regex expression for the replace, keep, and drop actions. |\n| separator string   | The separator value placed between concatenated source label values.                          |\n| regex string    | The regular expression to match the extracted value.                              |\n| action string    | The action to perform when the regex expression matches the extracted value.                        |\n| targetLabel string  | The label to which to write the resulting value in a replace action. This field is mandatory for replace actions. Capture groups of regular expressions are available.  |\n| replacement string  | The replacement value to use if the regular expression matches the extracted value in a replace action. Capture groups of regular expressions are available.    |\n### MonitoringTargetPodMetricsEndpoints\nConfigures the metric endpoints for scraped pods.\n- [MonitoringTargetSpec](#monitoringtargetspec)\n| Field              | Description                           |\n|:-----------------------------------------------------------|:---------------------------------------------------------------------------------------------------------------------|\n| port MonitoringTargetPodMetricsPort      | The port from which metrics are scraped.                    |\n| path MonitoringTargetPodMetricsPath      | The path from which metrics are scraped.                    |\n| scheme MonitoringTargetPodMetricsScheme     | The scheme to use when scraping metrics.                    |\n| params object (keys:string, values:string array)   | The query parameters to use when scraping metrics from the path.              |\n| scrapeInterval string          | The frequency for Prometheus to scrape the metric endpoints defined in the podMetricsEndpoints field.    |\n| scrapeTimeout string          | The time for Prometheus to wait for the response from the metric endpoints defined in the podMetricsEndpoints field. |\n| metricsRelabelings MonitoringTargetMetricsRelabeling array | The filter for either including (allowlist) or excluding (denylist) metrics based on labels.       |\n### MonitoringTargetPodMetricsPath\nDetermines the path to use for scraping metrics from pods.\n- [MonitoringTargetPodMetricsEndpoints](#monitoringtargetpodmetricsendpoints)\n| Field    | Description                      |\n|:------------------|:---------------------------------------------------------------------------------------------------|\n| value string  | The path to collect metrics from. If annotations are provided, they take priority over this field. |\n| annotation string | The path to collect metrics from using annotations.            |\n### MonitoringTargetPodMetricsPort\nDetermines the port to use for scraping metrics from pods.\n- [MonitoringTargetPodMetricsEndpoints](#monitoringtargetpodmetricsendpoints)\n| Field    | Description                      |\n|:------------------|:---------------------------------------------------------------------------------------------------|\n| value integer  | The port to collect metrics from. If annotations are provided, they take priority over this field. |\n| annotation string | The port to collect metrics from using annotations.            |\n### MonitoringTargetPodMetricsScheme\nDetermines the scheme to use for scraping metrics from pods.\n- [MonitoringTargetPodMetricsEndpoints](#monitoringtargetpodmetricsendpoints)\n| Field    | Description                         |\n|:------------------|:------------------------------------------------------------------------------------------------------------|\n| value string  | The scheme to use when collecting metrics. If annotations are provided, they take priority over this field. |\n| annotation string | The scheme to use when collecting metrics using annotations.            |\n### MonitoringTargetSelectors\nProvides selectors that determine which pods to monitor.\n- [MonitoringTargetSpec](#monitoringtargetspec)\n| Field            | Description                                                                        |\n|:-----------------------------------------------------|:---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| matchClusters string array       | The clusters to consider for this job. The default configuration is to consider all the clusters applicable to the project. The relationship between different clusters is an OR relationship. For example, the value [\"admin\", \"system\"] indicates to consider the admin cluster OR the system cluster. |\n| matchLabels object (keys:string, values:string)  | The pod labels to consider for this job. The default configuration is to consider no filter based on labels. The relationship between different pairs is an AND relationship, so all pairs are considered.                        |\n| matchAnnotations object (keys:string, values:string) | The annotations to consider for this job. The default configuration is to consider no filter based on annotations. The relationship between different pairs is an AND relationship, so all pairs are considered.                       |\n### MonitoringTargetSpec\nDefines the specification or expected state of the `MonitoringTarget` object.\n- [MonitoringTarget](#monitoringtarget)\n| Field             | Description                            |\n|:--------------------------------------------------------|:--------------------------------------------------------------------------------------------------------------------------|\n| selector MonitoringTargetSelectors      | The matching pattern that identifies pods for this job. To establish a relationship between different selectors, use AND. |\n| podMetricsEndpoints MonitoringTargetPodMetricsEndpoints | The endpoint exposed for this job. The endpoint uses the style of Prometheus.            |\n### MonitoringTargetStatus\nDefines the observed state of the `MonitoringTarget` object.\n- [MonitoringTarget](#monitoringtarget)\n| Field      | Description           |\n|:---------------------------|:-------------------------------------------------------|\n| conditions Condition array | A list of conditions observed in the monitoring stack. |\n### RecordRule\nDefines the record rules configuration.\n- [MonitoringRuleSpec](#monitoringrulespec)\n| Field          | Description                  |\n|:-------------------------------------------|:-----------------------------------------------------------------------------------|\n| record string        | The time series in which to write the record rule. It must be a valid metric name. |\n| expr string        | The PromQL or LogQL expression to evaluate the record rule.      |\n| labels object (keys:string, values:string) | The labels to add or overwrite.             |", "guide": "Documentation"}