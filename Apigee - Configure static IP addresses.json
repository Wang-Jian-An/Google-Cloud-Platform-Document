{"title": "Apigee - Configure static IP addresses", "url": "https://cloud.google.com/apigee/docs/api-platform/get-started/what-apigee", "abstract": "# Apigee - Configure static IP addresses\nYou are currently viewing version 1.1 of the Apigee hybrid documentation. **This version is end of life.** You should upgrade to a newer version. For more information, see [Supported versions](/apigee/docs/hybrid/supported-platforms#supported-versions) .\nGoogle recommends that you create static IP addresses for the two ingress gateways that are exposed outside the cluster:\n| Gateway       | Description                         |\n|:---------------------------------|:---------------------------------------------------------------------------------------------------------------|\n| apigee-mart-istio-ingressgateway | The Istio ingress gateway used by the MART service to communicate with the management plane.     |\n| istio-ingressgateway    | The Istio ingress gateway used to send and receive API proxy traffic by the message processor load balancers. |\nThese gateways are provisioned with [load balancers](https://kubernetes.io/docs/concepts/services-networking/service/#loadbalancer) . By default, the IP addresses for these load balancers are . That means whenever one of the services is deleted and restored, it gets a new load balancer IP.\n", "content": "## \n Configure static IP addresses on GKE\n- Follow the instructions in [ Reserving a static external IP address](https://cloud.google.com/compute/docs/ip-addresses/reserve-static-external-ip-address) to create two static IP addresses. You can give the addresses any name you wish, for example:`apigee-hybrid-mart`and`apigee-hybrid-runtime`. When you finish, you will have two IP numbers to use in the cluster configuration in the next step. For example:`35.225.131.189`and`34.66.75.196`\n- In your overrides file, add the following`loadBalancerIP`configurations to  the ingress component:\nThe configuration has the following structure and syntax.   Values in are   property values that you must provide:\n```\ningress:\u00a0 enableAccesslog: true\u00a0 runtime:\u00a0 \u00a0 loadBalancerIP: runtime_IP\u00a0 mart:\u00a0 \u00a0 loadBalancerIP: mart_IP\n```The following example shows the completed configuration with example property values   added:\n```\ningress:\u00a0 enableAccesslog: true\u00a0 runtime:\u00a0 \u00a0 loadBalancerIP: 35.225.131.189\u00a0 mart:\u00a0 \u00a0 loadBalancerIP: 34.66.75.196\n```\n- Apply your overrides file to the cluster. Because only the `istio` component needs to be updated, you can use the `-c istio` flag. For example:```\n$APIGEECTL_HOME/apigeectl init -f my-overrides.yaml -c istio\n```## \n Configure static IP addresses for Anthos GKE\n- Refer to the Anthos GKE documentation and create two static IP addresses by following the  Anthos GKE specific instructions. When you finish, you will have two IP numbers to use in the cluster configuration in the next step. For example:`35.225.131.189`and`34.66.75.196`\n- Open your overrides file.\n- Add the following configuration for`ingress`:\nThe configuration has the following structure and syntax.   Values in are   property values that you must provide:\n```\ningress:\u00a0 enableAccesslog: true\u00a0 runtime:\u00a0 \u00a0 loadBalancerIP: runtime_IP\u00a0 mart:\u00a0 \u00a0 loadBalancerIP: mart_IP\n```The following example shows the completed configuration with example property values   added:\n```\ningress:\u00a0 enableAccesslog: true\u00a0 runtime:\u00a0 \u00a0 loadBalancerIP: 35.225.131.189\u00a0 mart:\u00a0 \u00a0 loadBalancerIP: 34.66.75.196\n```- Save the file.\n- Apply your overrides file to the cluster. Because only the `istio` component needs to be updated, you can use the `-c istio` flag. For example:```\n$APIGEECTL_HOME/apigeectl init -f my-overrides.yaml -c istio\n```", "guide": "Apigee"}