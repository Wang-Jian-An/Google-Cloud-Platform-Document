{"title": "Dataflow - \u4f7f\u7528 Dataflow GPU \u7684\u6700\u4f73\u5be6\u8e10", "url": "https://cloud.google.com/dataflow/docs/gpu/develop-with-gpus?hl=zh-cn", "abstract": "# Dataflow - \u4f7f\u7528 Dataflow GPU \u7684\u6700\u4f73\u5be6\u8e10\n\u672c\u9801\u9762\u4ecb\u7d39\u4e86\u4f7f\u7528 GPU \u69cb\u5efa\u6d41\u6c34\u7dda\u7684\u6700\u4f73\u5be6\u8e10\u3002\n\u5982\u9700\u77ad\u89e3\u5982\u4f55\u5728 Dataflow \u4f5c\u696d\u4e2d\u5553\u7528 GPU \u7684\u76f8\u95dc\u4fe1\u606f\u548c\u793a\u4f8b\uff0c\u8acb\u53c3\u95b1 [\u4f7f\u7528 GPU \u904b\u884c\u6d41\u6c34\u7dda](https://cloud.google.com/dataflow/docs/gpu/use-gpus?hl=zh-cn) \u548c [\u4f7f\u7528 GPU \u8655\u7406 Landsat \u885b\u661f\u5716\u50cf](https://cloud.google.com/dataflow/docs/samples/satellite-images-gpus?hl=zh-cn) \u3002\n", "content": "## \u5728 Dataflow \u4e2d\u4f7f\u7528 GPU \u7684\u524d\u63d0\u689d\u4ef6- \u5982\u9700\u5c07 GPU \u8207 Dataflow \u4f5c\u696d\u642d\u914d\u4f7f\u7528\uff0c\u60a8\u5fc5\u9808\u4f7f\u7528 Runner v2\u3002\n- Dataflow \u6703\u5728 Docker \u5bb9\u5668\u5167\u7684\u5de5\u4f5c\u5668\u865b\u64ec\u6a5f\u4e2d\u904b\u884c\u7528\u6236\u4ee3\u78bc\u3002\u9019\u4e9b\u5de5\u4f5c\u5668\u865b\u64ec\u6a5f\u904b\u884c [Container-Optimized OS](https://cloud.google.com/container-optimized-os/docs?hl=zh-cn) \u3002  \u8981\u8b93 Dataflow \u4f5c\u696d\u4f7f\u7528 GPU\uff0c\u60a8\u9700\u8981\u6eff\u8db3\u4ee5\u4e0b\u524d\u63d0\u689d\u4ef6\uff1a- GPU \u9a45\u52d5\u7a0b\u5e8f\u5b89\u88dd\u5728\u5de5\u4f5c\u5668\u865b\u64ec\u6a5f\u4e0a\uff0c\u4e26\u53ef\u4f9b Docker \u5bb9\u5668\u8a2a\u554f\u3002\u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1 [\u5b89\u88dd GPU \u9a45\u52d5\u7a0b\u5e8f](https://cloud.google.com/dataflow/docs/gpu/use-gpus?hl=zh-cn#drivers) \u3002\n- \u60a8\u7684\u6d41\u6c34\u7dda\u6240\u9700\u7684 GPU \u5eab\uff08\u4f8b\u5982 [NVIDIA CUDA-X \u5eab](https://developer.nvidia.com/gpu-accelerated-libraries) \u6216 [NVIDIA CUDA \u5de5\u5177\u5305](https://developer.nvidia.com/cuda-toolkit) \uff09\u5b89\u88dd\u5728\u81ea\u5b9a\u7fa9\u5bb9\u5668\u6620\u50cf\u4e2d\u3002\u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1 [\u914d\u7f6e\u5bb9\u5668\u6620\u50cf](https://cloud.google.com/dataflow/docs/gpu/use-gpus?hl=zh-cn#container-image) \u3002- \u7531\u65bc GPU \u5bb9\u5668\u901a\u5e38\u5f88\u5927\uff0c\u7232\u907f\u514d [\u8017\u76e1\u78c1\u76e4\u7a7a\u9593](https://cloud.google.com/dataflow/docs/guides/common-errors?hl=zh-cn#no-space-left) \uff0c\u8acb\u5c07\u9ed8\u8a8d [\u5553\u52d5\u78c1\u76e4\u5927\u5c0f](https://cloud.google.com/dataflow/docs/reference/pipeline-options?hl=zh-cn#worker-level_options) \u589e\u52a0\u5230 50 GB \u6216\u66f4\u591a\u3002\n## \u6ce8\u610f\u4e8b\u9805\n\u5728\u8a2d\u8a08\u6e2c\u8a66\u548c\u751f\u7522\u74b0\u5883\u6642\uff0c\u8acb\u8003\u616e\u4ee5\u4e0b\u56e0\u7d20\u3002\n### \u672c\u5730\u958b\u767c\n\u901a\u904e\u5c07 Apache Beam \u8207 NVIDIA GPU \u642d\u914d\u4f7f\u7528\uff0c\u60a8\u53ef\u4ee5\u5275\u5efa\u7528\u65bc\u9032\u884c\u9810\u8655\u7406\u548c\u63a8\u65b7\u7684\u5927\u898f\u6a21\u6578\u64da\u8655\u7406\u6d41\u6c34\u7dda\u3002\u4f7f\u7528 GPU \u9032\u884c\u672c\u5730\u958b\u767c\u6642\uff0c\u8acb\u8003\u616e\u4ee5\u4e0b\u4fe1\u606f\uff1a\n- \u901a\u5e38\uff0c\u6578\u64da\u8655\u7406\u5de5\u4f5c\u6d41\u4f7f\u7528\u60a8\u9700\u8981\u5728\u5553\u52d5\u74b0\u5883\u548c Dataflow \u5de5\u4f5c\u5668\u7684\u57f7\u884c\u74b0\u5883\u4e2d\u5b89\u88dd\u7684\u5176\u4ed6\u5eab\u3002\u6b64\u914d\u7f6e\u6703\u5411\u958b\u767c\u5de5\u4f5c\u6d41\u6dfb\u52a0\u6b65\u9a5f\uff0c\u7528\u65bc [\u914d\u7f6e\u6d41\u6c34\u7dda\u8981\u6c42](https://beam.apache.org/documentation/sdks/python-pipeline-dependencies/) \u6216 [\u5728 Dataflow \u4e2d\u4f7f\u7528\u81ea\u5b9a\u7fa9\u5bb9\u5668](https://cloud.google.com/dataflow/docs/guides/using-custom-containers?hl=zh-cn) \u3002\u60a8\u53ef\u80fd\u5e0c\u671b\u672c\u5730\u958b\u767c\u74b0\u5883\u5118\u53ef\u80fd\u63a5\u8fd1\u751f\u7522\u74b0\u5883\u3002\n- \u5982\u679c\u60a8\u4f7f\u7528\u7684\u5eab\u96b1\u5f0f\u4f7f\u7528\u4e86 NVIDIA GPU\uff0c\u4e26\u4e14\u60a8\u7684\u4ee3\u78bc\u7121\u9700\u9032\u884c\u4efb\u4f55\u66f4\u6539\u5373\u53ef\u652f\u6301 GPU\uff0c\u5247\u60a8\u7121\u9700\u66f4\u6539\u7528\u65bc\u914d\u7f6e\u6d41\u6c34\u7dda\u8981\u6c42\u6216\u69cb\u5efa\u81ea\u5b9a\u7fa9\u5bb9\u5668\u7684\u958b\u767c\u5de5\u4f5c\u6d41\u3002\n- \u67d0\u4e9b\u5eab\u4e0d\u80fd\u4ee5\u900f\u660e\u65b9\u5f0f\u5728 CPU \u548c GPU \u4f7f\u7528\u4e4b\u9593\u5207\u63db\uff0c\u56e0\u6b64\u9700\u8981\u7279\u5b9a\u7684\u69cb\u5efa\u548c\u4e0d\u540c\u7684\u4ee3\u78bc\u8def\u5f91\u3002\u5982\u9700\u8907\u88fd\u6b64\u5834\u666f\u7684\u201c\u4ee3\u78bc-\u904b\u884c-\u4ee3\u78bc\u201d\u958b\u767c\u751f\u547d\u9031\u671f\uff0c\u60a8\u5c07\u9700\u8981\u57f7\u884c\u4e00\u4e9b\u984d\u5916\u7684\u6b65\u9a5f\u3002\n- \u904b\u884c\u672c\u5730\u5be6\u9a57\u6642\uff0c\u8acb\u5118\u53ef\u80fd\u8fd1\u5730\u8907\u88fd Dataflow \u5de5\u4f5c\u5668\u7684\u74b0\u5883\u3002\u6839\u64da\u5177\u9ad4\u5eab\uff0c\u60a8\u53ef\u80fd\u9700\u8981\u4f7f\u7528\u5b89\u88dd\u6709 GPU \u548c\u6240\u9700 GPU \u5eab\u7684\u6a5f\u5668\u3002\u60a8\u7684\u672c\u5730\u74b0\u5883\u4e2d\u53ef\u80fd\u6c92\u6709\u6b64\u985e\u6a5f\u5668\u3002\u60a8\u53ef\u4ee5\u4f7f\u7528\u5728\u914d\u5099\u6709 GPU \u7684 Google Cloud \u865b\u64ec\u6a5f\u4e0a\u904b\u884c\u7684\u5bb9\u5668\u4f86\u6a21\u64ec Dataflow \u904b\u884c\u7a0b\u5e8f\u74b0\u5883\u3002\n- \u6d41\u6c34\u7dda\u4e0d\u592a\u53ef\u80fd\u5b8c\u5168\u7531\u9700\u8981 GPU \u7684\u8f49\u63db\u7d44\u6210\u3002\u5178\u578b\u7684\u6d41\u6c34\u7dda\u5177\u6709\u6ce8\u5165\u968e\u6bb5\uff0c\u8a72\u968e\u6bb5\u4f7f\u7528 Apache Beam \u63d0\u4f9b\u7684\u8846\u591a\u4f86\u6e90\u4e4b\u4e00\u3002\u8a72\u968e\u6bb5\u5f8c\u8ddf\u4e00\u4e9b\u6578\u64da\u64cd\u7e31\u6216\u69cb\u5f62\u8f49\u63db\uff0c\u5b83\u5011\u4e4b\u5f8c\u6703\u994b\u9001\u5230 GPU \u8f49\u63db\u3002\n### \u6a5f\u5668\u985e\u578b\u898f\u7bc4\n\u5982\u9700\u8a73\u7d30\u77ad\u89e3\u6bcf\u7a2e GPU \u578b\u865f\u652f\u6301\u7684\u6a5f\u5668\u985e\u578b\uff0c\u8acb\u53c3\u95b1 [GPU \u5e73\u81fa](https://cloud.google.com/compute/docs/gpus?hl=zh-cn) \u3002\u652f\u6301 N1 \u6a5f\u5668\u985e\u578b\u7684 GPU \u540c\u6642\u4e5f\u652f\u6301 [\u81ea\u5b9a\u7fa9 N1 \u6a5f\u5668\u985e\u578b](https://cloud.google.com/compute/docs/instances/creating-instance-with-custom-machine-type?hl=zh-cn#n1_custom_machine_types) \u3002\nGPU \u7684\u985e\u578b\u548c\u6578\u91cf\u6c7a\u5b9a\u4e86\u5de5\u4f5c\u5668\u53ef\u4ee5\u64c1\u6709\u7684 vCPU \u548c\u5167\u5b58\u6578\u91cf\u7684\u4e0a\u9650\u3002\u5982\u9700\u77ad\u89e3\u76f8\u61c9\u7684\u9650\u5236\uff0c\u8acb\u53c3\u95b1 [\u53ef\u7528\u6027](https://cloud.google.com/dataflow/docs/gpu/gpu-support?hl=zh-cn#availability) \u3002\n\u6307\u5b9a\u66f4\u591a CPU \u6216\u5167\u5b58\u6642\uff0c\u60a8\u53ef\u80fd\u9700\u8981\u6307\u5b9a\u66f4\u591a GPU\u3002\n\u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1 [Compute Engine \u4e0a\u7684 GPU](https://cloud.google.com/compute/docs/gpus?hl=zh-cn#restrictions) \u3002\n### GPU \u548c\u5de5\u4f5c\u5668\u4e26\u884c\u6027\n\u5c0d\u65bc\u4f7f\u7528 [Dataflow Runner v2](https://cloud.google.com/dataflow/docs/runner-v2?hl=zh-cn) \u67b6\u69cb\u7684 Python \u6d41\u6c34\u7dda\uff0cDataflow \u6703\u7232\u6bcf\u500b\u865b\u64ec\u6a5f\u6838\u5fc3\u5553\u52d5\u4e00\u500b Apache Beam SDK \u9032\u7a0b\u3002\u6bcf\u500b SDK \u9032\u7a0b\u90fd\u5728\u5176\u5404\u81ea\u7684 Docker \u5bb9\u5668\u4e2d\u904b\u884c\uff0c\u5f9e\u800c\u7522\u751f\u8a31\u591a\u7dda\u7a0b\uff0c\u6bcf\u500b\u7dda\u7a0b\u90fd\u6703\u8655\u7406\u50b3\u5165\u7684\u6578\u64da\u3002\nGPU \u4f7f\u7528\u591a\u500b\u9032\u7a0b\u67b6\u69cb\uff0c\u4e26\u4e14 Dataflow \u5de5\u4f5c\u5668\u4e2d\u7684 GPU \u5c0d\u6240\u6709\u9032\u7a0b\u548c\u7dda\u7a0b\u90fd\u53ef\u898b\u3002\n\u5982\u679c\u60a8\u5728\u5171\u4eab GPU \u4e0a\u904b\u884c\u591a\u500b SDK \u9032\u7a0b\uff0c\u5247\u53ef\u4ee5\u901a\u904e\u5553\u7528 NVIDIA \u591a\u9032\u7a0b\u670d\u52d9 (MPS) \u4f86\u63d0\u9ad8 GPU \u6548\u7387\u548c\u5229\u7528\u7387\u3002MPS \u53ef\u63d0\u9ad8 GPU \u6d41\u6c34\u7dda\u7684\u5de5\u4f5c\u5668\u4e26\u884c\u6027\u548c\u7e3d\u9ad4\u541e\u5410\u91cf\uff0c\u5c24\u5176\u662f\u5c0d\u65bc GPU \u8cc7\u6e90\u7528\u91cf\u8f03\u4f4e\u7684\u5de5\u4f5c\u8ca0\u8f09\u3002\u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1 [\u4f7f\u7528 NVIDIA MPS \u63d0\u9ad8\u5171\u4eab GPU \u7684\u6027\u80fd](https://cloud.google.com/dataflow/docs/gpu/use-nvidia-mps?hl=zh-cn) \u3002\n\u7232\u907f\u514d GPU \u5167\u5b58\u8d85\u984d\u8a02\u95b1\uff0c\u60a8\u53ef\u80fd\u9700\u8981\u7ba1\u7406 GPU \u8a2a\u554f\u6b0a\u9650\u3002\u5982\u679c\u60a8\u4f7f\u7528\u7684\u662f TensorFlow\uff0c\u5247\u4ee5\u4e0b\u4efb\u4f55\u5efa\u8b70\u90fd\u53ef\u4ee5\u5e6b\u52a9\u60a8\u907f\u514d GPU \u5167\u5b58\u8d85\u984d\u8a02\u95b1\uff1a\n- \u7121\u8ad6\u5de5\u4f5c\u5668 vCPU \u6578\u91cf\u662f\u591a\u5c11\uff0c\u8acb\u5c07 Dataflow \u5de5\u4f5c\u5668\u914d\u7f6e\u7232\u50c5\u5553\u52d5\u4e00\u500b\u5bb9\u5668\u5316\u7684 Python \u9032\u7a0b\u3002\u5982\u9700\u9032\u884c\u6b64\u914d\u7f6e\uff0c\u8acb\u5728\u5553\u52d5\u4f5c\u696d\u6642\u4f7f\u7528\u4ee5\u4e0b [\u6d41\u6c34\u7dda\u9078\u9805](https://cloud.google.com/dataflow/docs/reference/pipeline-options?hl=zh-cn) \uff1a- `--experiments=no_use_multiple_sdk_containers`\n- `--number_of_worker_harness_threads`\n\u5982\u9700\u8a73\u7d30\u77ad\u89e3\u8981\u4f7f\u7528\u7684\u7dda\u7a0b\u6578\uff0c\u8acb\u53c3\u95b1 [\u6e1b\u5c11\u7dda\u7a0b\u6578](https://cloud.google.com/dataflow/docs/guides/troubleshoot-oom?hl=zh-cn#reduce-threads) \u3002\n- [\u5553\u7528 MPS](https://cloud.google.com/dataflow/docs/gpu/use-nvidia-mps?hl=zh-cn#enable) \u3002## \u5de5\u4f5c\u6d41\n\u4e0b\u9762\u7684\u5169\u968e\u6bb5\u5de5\u4f5c\u6d41\u5c55\u793a\u77ad\u5982\u4f55\u4f7f\u7528 GPU \u69cb\u5efa\u6d41\u6c34\u7dda\u3002\u8a72\u5de5\u4f5c\u6d41\u6703\u5206\u5225\u8655\u7406 GPU \u76f8\u95dc\u548c\u975e GPU \u76f8\u95dc\u7684\u554f\u984c\uff0c\u4e26\u7e2e\u77ed\u53cd\u994b\u74b0\u3002\n- \u5275\u5efa\u6d41\u6c34\u7dda\u5275\u5efa\u53ef\u5728 Dataflow \u4e0a\u904b\u884c\u7684\u6d41\u6c34\u7dda\u3002\u5c07\u9700\u8981 GPU \u7684\u8f49\u63db\u66ff\u63db\u7232\u4e0d\u4f7f\u7528 GPU \u4f46\u63d0\u4f9b\u76f8\u540c\u529f\u80fd\u7684\u8f49\u63db\uff1a- \u5275\u5efa\u8207 GPU \u4f7f\u7528\u76f8\u95dc\u7684\u6240\u6709\u8f49\u63db\uff0c\u4f8b\u5982\u6578\u64da\u6ce8\u5165\u548c\u64cd\u7e31\u3002\n- \u901a\u904e\u7c21\u55ae\u7684\u76f4\u901a\u6a21\u5f0f\u6216\u67b6\u69cb\u66f4\u6539\u7232 GPU \u8f49\u63db\u5275\u5efa\u5b58\u6839\u3002\n- \u5728\u672c\u5730\u6e2c\u8a66\u5728\u6a21\u64ec Dataflow \u5de5\u4f5c\u5668\u57f7\u884c\u74b0\u5883\u7684\u74b0\u5883\u4e2d\u6e2c\u8a66\u6d41\u6c34\u7dda\u4ee3\u78bc\u7684 GPU \u90e8\u5206\u3002\u4ee5\u4e0b\u6b65\u9a5f\u4ecb\u7d39\u4e86\u904b\u884c\u6b64\u6e2c\u8a66\u7684\u65b9\u6cd5\u4e4b\u4e00\uff1a- \u5275\u5efa\u4e00\u500b\u5305\u542b\u6240\u6709\u5fc5\u8981\u5eab\u7684 [Docker](https://www.docker.com/) \u6620\u50cf\u3002\n- \u958b\u59cb\u958b\u767c GPU \u4ee3\u78bc\u3002\n- \u4f7f\u7528\u5305\u542b\u8a72 Docker \u6620\u50cf\u7684 Google Cloud \u865b\u64ec\u6a5f\u958b\u59cb\u201c\u4ee3\u78bc-\u904b\u884c-\u4ee3\u78bc\u201d\u9031\u671f\u3002\u8981\u6392\u9664\u5eab\u4e0d\u517c\u5bb9\uff0c\u8acb\u5728\u672c\u5730 Python \u9032\u7a0b\u4e2d\u7368\u7acb\u65bc Apache Beam \u6d41\u6c34\u7dda\u904b\u884c GPU \u4ee3\u78bc\u3002\u7136\u5f8c\uff0c\u5728 Direct Runner \u4e0a\u904b\u884c\u6574\u500b\u6d41\u6c34\u7dda\u6216\u5728 Dataflow \u4e0a\u5553\u52d5\u6d41\u6c34\u7dda\u3002\n## \u4f7f\u7528\u904b\u884c\u5bb9\u5668\u512a\u5316\u578b\u64cd\u4f5c\u7cfb\u7d71\u7684\u865b\u64ec\u6a5f\n\u5c0d\u65bc\u6eff\u8db3\u6700\u4f4e\u8981\u6c42\u7684\u74b0\u5883\uff0c\u8acb\u4f7f\u7528\u5bb9\u5668\u512a\u5316\u578b\u865b\u64ec\u6a5f (VM)\u3002\u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1 [\u5275\u5efa\u639b\u63a5 GPU \u7684\u865b\u64ec\u6a5f](https://cloud.google.com/compute/docs/gpus/create-vm-with-gpus?hl=zh-cn) \u3002\n\u5e38\u898f\u5de5\u4f5c\u6d41\u5982\u4e0b\uff1a\n- \u5275\u5efa\u4e00\u500b\u865b\u64ec\u6a5f\u3002\n- \u9023\u63a5\u5230\u865b\u64ec\u6a5f\u4e26\u904b\u884c\u4ee5\u4e0b\u547d\u4ee4\uff1a```\nsudo cos-extensions install gpu -- -version latestsudo mount --bind /var/lib/nvidia /var/lib/nvidiasudo mount -o remount,exec /var/lib/nvidia\n```\n- \u78ba\u8a8d GPU \u53ef\u7528\uff1a```\n./nvidia-smi\n```\n- \u5f9e\u4f5c\u7232\u5377\u88dd\u8f09\u7684\u865b\u64ec\u6a5f\u5553\u52d5\u5305\u542b GPU \u9a45\u52d5\u7a0b\u5e8f\u7684 Docker \u5bb9\u5668\u3002\u4f8b\u5982\uff1a```\nsudo docker run --rm -it --entrypoint /bin/bash--volume /var/lib/nvidia/lib64:/usr/local/nvidia/lib64--volume /var/lib/nvidia/bin:/usr/local/nvidia/bin--privileged gcr.io/bigdatapivot/image_process_example:latest\n```\n\u5982\u9700\u67e5\u770b Dockerfile \u793a\u4f8b\uff0c\u8acb\u53c3\u95b1 [\u69cb\u5efa\u81ea\u5b9a\u7fa9\u5bb9\u5668\u6620\u50cf](https://cloud.google.com/dataflow/docs/gpu/use-gpus?hl=zh-cn#custom-container) \u3002\u5c07\u6d41\u6c34\u7dda\u6240\u9700\u7684\u6240\u6709\u4f9d\u8cf4\u9805\u6dfb\u52a0\u5230 Dockerfile\u3002\n\u5982\u9700\u8a73\u7d30\u77ad\u89e3\u5982\u4f55\u4f7f\u7528\u9810\u5148\u914d\u7f6e\u4f7f\u7528 GPU \u7684 Docker \u6620\u50cf\uff0c\u8acb\u53c3\u95b1 [\u4f7f\u7528\u5df2\u7232\u4f7f\u7528 GPU \u800c\u914d\u7f6e\u7684\u73fe\u6709\u6620\u50cf](https://cloud.google.com/dataflow/docs/gpu/use-gpus?hl=zh-cn#existing-image) \u3002\n### \u4f7f\u7528\u5bb9\u5668\u512a\u5316\u578b\u7cfb\u7d71\u7684\u5de5\u5177\n- \u5982\u9700\u5c07 Docker CLI \u914d\u7f6e\u7232\u4f7f\u7528 `docker-credential-gcr` \u4f5c\u7232\u9ed8\u8a8d Google Container Registry (GCR) \u8a3b\u518a\u8868\u96c6\u7684\u6191\u64da\u5e6b\u52a9\u7a0b\u5e8f\uff0c\u8acb\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\uff1a```\nsudo docker-credential-gcr configure-docker\n```\u5982\u9700\u8a73\u7d30\u77ad\u89e3\u5982\u4f55\u8a2d\u7f6e Docker \u6191\u64da\uff0c\u8acb\u53c3\u95b1 [docker-credential-gcr](https://github.com/GoogleCloudPlatform/docker-credential-gcr) \u3002\n- \u5982\u9700\u5411\u865b\u64ec\u6a5f\u6216\u5f9e\u865b\u64ec\u6a5f\u8907\u88fd\u6587\u4ef6\uff08\u4f8b\u5982\u6d41\u6c34\u7dda\u4ee3\u78bc\uff09\uff0c\u8acb\u4f7f\u7528 `toolbox` \u3002\u6b64\u65b9\u6cd5\u5728\u4f7f\u7528\u81ea\u5b9a\u7fa9\u512a\u5316\u6620\u50cf\u6642\u5f88\u6709\u7528\u3002 \u4f8b\u5982\uff1a```\ntoolbox /google-cloud-sdk/bin/gsutil cp gs://bucket/gpu/image_process/* /media/root/home/<userid>/opencv/\n```\u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1 [\u4f7f\u7528\u5de5\u5177\u7bb1\u8abf\u8a66\u7bc0\u9ede\u554f\u984c](https://cloud.google.com/container-optimized-os/docs/how-to/toolbox?hl=zh-cn) \u3002## \u5f8c\u7e8c\u6b65\u9a5f\n- \u8a73\u7d30\u77ad\u89e3 [Dataflow \u5c0d GPU \u7684\u652f\u6301](https://cloud.google.com/dataflow/docs/gpu/gpu-support?hl=zh-cn) \u3002\n- \u8a73\u7d30\u77ad\u89e3\u5982\u4f55 [\u4f7f\u7528 GPU \u904b\u884c\u6d41\u6c34\u7dda](https://cloud.google.com/dataflow/docs/gpu/use-gpus?hl=zh-cn) \u3002\n- \u5b78\u7fd2 [\u4f7f\u7528 GPU \u8655\u7406 Landsat \u885b\u661f\u5716\u50cf](https://cloud.google.com/dataflow/docs/samples/satellite-images-gpus?hl=zh-cn) \u3002", "guide": "Dataflow"}