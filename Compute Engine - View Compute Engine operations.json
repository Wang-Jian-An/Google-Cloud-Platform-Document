{"title": "Compute Engine - View Compute Engine operations", "url": "https://cloud.google.com/compute/docs/instances", "abstract": "# Compute Engine - View Compute Engine operations\nWhen you call a Compute Engine API that mutates a resource, Compute Engine adds an entry to the list of operations. For example, when you make an update to a VM that mutates (alters) data, or when a [host event](/compute/docs/instances/host-maintenance-overview) occurs that changes the state of a VM, operations are created. This page describes how you can view a list of Compute Engine operations by using the [Google Cloud console](https://console.cloud.google.com/) , the [Google Cloud CLI](/compute/docs/gcloud-compute) , or [REST](/compute/docs/reference/rest/v1) .\nRemember that operations can take some time to complete, so you may find incomplete operations while viewing. When you want to see the final status of incomplete operations, repeatedly viewing operations is not recommended; instead, you should [wait for operations to be done](/compute/docs/api/best-practices#wait-for-operations) .\n", "content": "## Before you begin\n- If you haven't already, set up authentication. [Authentication](/compute/docs/authentication) is the process by which your identity is verified for access to Google Cloud services and APIs. To run code or samples from a local development environment, you can authenticate to Compute Engine as follows.Select the tab for how you plan to use the samples on this page:\nWhen you use the Google Cloud console to access Google Cloud services and   APIs, you don't need to set up authentication.- [Install](/sdk/docs/install) the Google Cloud CLI, then [initialize](/sdk/docs/initializing) it by running the following command:```\ngcloud init\n``` **Note:** If you installed the gcloud CLI  previously, make sure you have the latest version by running`gcloud components  update`.\n- [ Set a default region and zone](/compute/docs/gcloud-compute#set_default_zone_and_region_in_your_local_client) .\nTo use the REST API samples on this page in a local development environment, you use the credentials you provide to the gcloud CLI.- [Install](/sdk/docs/install) the Google Cloud CLI, then [initialize](/sdk/docs/initializing) it by running the following command:\n- ```\ngcloud init\n```## Operation Retention Period\nWhile querying operations, keep in mind that completed operations are automatically removed from the database after a certain period.\nCompute Engine retains completed operations for at least the minimum retention period of 1 hour, and up to the maximum retention period of 14 days. Although projects often observe a retention period for completed operations that is longer than the minimum of 1 hour, depending on the additional retention period is not recommended.\nNote that the retention periods don't apply to operations deleted by the users through `Operations.delete` method.\n## Viewing operations\nTo view a list of operations for your project, perform the following steps:\n- In the Google Cloud console, go to the **Operations** page. [Go to Operations](https://console.cloud.google.com/compute/operations) \n- For more details on an operation, click the operation summary. For example, to view the migration details for the `my-instance` VM, click the **Automatically migrate an instance** operation.\n \nTo view a list of operations for your project using `gcloud compute` , use the [operations list](/sdk/gcloud/reference/compute/operations/list) sub-command.\nTo view the list of operations in a specified zone, add the `--filter` flag.\n```\ngcloud compute operations list --filter=\"zone:(ZONE)\"\n```\nReplace `` with the zone where you want to view a list of operations. For example, to view the list of operations in `us-cental1-c` , run the following command:\n```\ngcloud compute operations list --filter=\"zone:(us-central1-c)\"\n```\nThe output is similar to the following:\n```\nNAME       TYPE          TARGET        HTTP_STATUS STATUS TIMESTAMP\nsystemevent-1543845145000... compute.instances.migrateOnHostMaintenance us-central1-c/instances/my-instance 200   DONE 2018-12-03T05:52:25.000-08:00\n```\nAPI requests for operations must be specified at either the [global](/compute/docs/reference/rest/v1/globalOperations/list) , [region](/compute/docs/reference/rest/v1/regionOperations/list) , or [zone](/compute/docs/reference/rest/v1/zoneOperations/list) level. Live migration, VM stopping, and automatic restarts are all zone-level operations.\nFor zone operations, make a `GET` request to the [zoneOperations.list](/compute/docs/reference/rest/v1/zoneOperations/list) method.\n```\nGET https://compute.googleapis.com/compute/v1/projects/PROJECT_ID/zones/ZONE/operations\n```\nReplace the following:- ``: the project ID for this request\n- ``: the zone for this request\nLeave the request body empty.\nThe following is a sample output for a zone operation request. In this output, details for a host migration displays.\n```\n{\n \"kind\": \"compute#operation\",\n \"id\": \"3216798767364213712\",\n \"name\": \"systemevent-1543845145000-57c1e7574b840-a195b637-5ff74d9b\",\n \"zone\": \"https://www.googleapis.com/compute/v1/projects/my-project/zones/us-central1-c\",\n \"operationType\": \"compute.instances.migrateOnHostMaintenance\",\n \"targetLink\": \"https://www.googleapis.com/compute/v1/projects/my-project/zones/us-central1-c/instances/my-instance\",\n \"targetId\": \"3070988523247098025\",\n \"status\": \"DONE\",\n \"statusMessage\": \"Instance migrated during Compute Engine maintenance.\",\n \"user\": \"system\",\n \"progress\": 100,\n \"insertTime\": \"2018-12-03T05:52:25.000-08:00\",\n \"startTime\": \"2018-12-03T05:52:25.000-08:00\",\n \"endTime\": \"2018-12-03T05:52:25.000-08:00\",\n \"selfLink\": \"https://www.googleapis.com/compute/v1/projects/my-project/zones/us-central1-c/operations/systemevent-1543845145000-57c1e7574b840-a195b637-5ff74d9b\"\n}\n```", "guide": "Compute Engine"}