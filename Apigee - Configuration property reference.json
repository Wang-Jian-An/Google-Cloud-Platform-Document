{"title": "Apigee - Configuration property reference", "url": "https://cloud.google.com/apigee/docs/api-platform/get-started/what-apigee", "abstract": "# Apigee - Configuration property reference\nYou are currently viewing version 1.1 of the Apigee hybrid documentation. **This version is end of life.** You should upgrade to a newer version. For more information, see [Supported versions](/apigee/docs/hybrid/supported-platforms#supported-versions) .\nThis section lists all of the configuration properties that you can use to customize the runtime plane of your Apigee hybrid deployment.\n", "content": "## Top-level properties\nThe following table describes the top-level properties in the `overrides.yaml` file. These are properties that do not belong to another object, and apply at the org or environment level:\n| Property    | Description                                                                                                                                                                                                                                   |\n|:------------------------|:----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| contractProvider  | Version: 1.0.0 Default value: https://apigee.googleapis.com Defines the API path for all APIs in your installation.                                                                                                                                                                                                        |\n| gcpProjectID   | Version: 1.0.0 Default value: none Required ID of your Google Cloud project. Works with k8sClusterName and gcpRegion to identify the project and determine where the apigee-logger and the apigee-metrics push their data.                                                                                                                                                                              |\n| gcpRegion    | Version: 1.0.0 Default value: us-central1 Required The closet GCP region or zone of your Kubernetes cluster. Works with gcpProjectID and k8sClusterName to identify the project and determine where the apigee-logger and the apigee-metrics push their data.                                                                                                                                                                     |\n| imagePullSecrets.name | Version: 1.0.0 Default value: none Kubernetes secret name configured as docker-registry type; used to pull images from private repo.                                                                                                                                                                                                    |\n| k8sClusterName   | Type: Version: 1.0.0 Default value: none Name of the Kubernetes (K8S) procluster where your hybrid project is running. Works with gcpProjectID and gcpRegion to identify the project and determine where the apigee-logger and the apigee-metrics push their data.                                                                                                                                                                    |\n| namespace    | Version: 1.0.0 Default value: apigee The namespace of your Kubernetes cluster where the Apigee components will be installed.                                                                                                                                                                                                      |\n| org      | Required Version: 1.0.0 Default value: none Required The hybrid-enabled organization that was provisioned for you by Apigee during the hybrid installation. An organization is the top-level container in Apigee. It contains all your API proxies and related resources. If the value is empty, you must update it wiht your org name once you have created it.                                                                                                                                             |\n| revision    | Version: 1.0.0 Default value: 1.0.0 Apigee hybrid supports rolling Kubernetes updates, which allow deployment updates to take place with zero downtime by incrementally updating Pod instances with new ones. When updating certain YAML overrides that result in underlying Kubernetes PodTemplateSpec change, the revision override property must also be changed in the customer's override.yaml. This is required for the underlying Kubernetes ApigeeDeployment (AD) controller to conduct a safe rolling update of from the previous version to the new version. You can use any text value, eg: \"blue\", \"a\", \"1.0.0\" When the revision property is changed and applied, a rolling update will occur for all components Changes to properties of the following objects require an update to revision: nodeSelector envs imagePullSecrets gcpProjectID k8sClusterName contractProvider org For more information, see Rolling updates. |\n| validateServiceAccounts | Version: 1.0.0 Default value: true Enables strict validation of service account permissions. This uses Cloud Resource Manager API method \"testIamPermissions\" to verify that the provided service account has the required permissions. In the case of service accounts for an Apigee Org, the project ID check is the one mapped to the Organization. For Metrics and Logger, the project checked is based on the \"gcpProjectID\" overrides.yaml configuration. See also gcpProjectID                                                                                                               |\n## adah\nThe Apigee Deployment Admissionhook (ADAH) is responsible for validating the configuration which the user provides for the apigee-deployment-controller. It runs in a Kubernetes cluster, and is responsible for validating the incoming create/update/delete requests from the Apigee-deployment Controller. See also:\n- [adc (Apigee Deployment Controller)](#adc) \n- [ApigeeDeployment (AD)](/apigee/docs/hybrid/v1.1/apigee-deployment-services) \n**NOTE:** This is a new feature in Apigee hybrid.\nThe following table describes the properties of the Apigee Deployment Controller `adah` object:\n| Property    | Description                                                                        |\n|:----------------------|:----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| adah.image.pullPolicy | Version: 1.0.0 Default value: IfNotPresent Determines when kubelet pulls the pod's Docker image. Possible values include: IfNotPresent: Do not pull a new image if it already exists. Always: Always pull the image, regardless of whether it exists already. For more information, see Updating images. |\n| adah.image.tag  | Version: 1.0.0 Default value: 1.0.0 The location of the Docker image for this service.                                                     |\n| adah.image.url  | Version: 1.0.0 Default value: \"us.gcr.io/google.com/edge-ci/release/eda/apigee-deployment-admissionhook/master/admissionhook\" The location of the Docker image for this service.                               |\n## adc\nThe (ADC) is a process that manages deployment of Apigee in Kubernetes clusters. It is a Kubernetes custom controller that creates and updates low level Kubernetes and Istio resources that are required to deploy and maintain the [ApigeeDeployment (AD)](/apigee/docs/hybrid/v1.1/apigee-deployment-services) .\nSee also [adah (Apigee Deployment Admissionhook)](#adah)\n**NOTE:** This is a new feature in Apigee hybrid\nThe following table describes the properties of the apigee-deployment-controller `adc` object:\n| Property      | Description                                                                        |\n|:------------------------------|:----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| adc.image.pullPolicy   | Version: 1.0.0 Default value: IfNotPresent Determines when kubelet pulls the pod's Docker image. Possible values include: IfNotPresent: Do not pull a new image if it already exists. Always: Always pull the image, regardless of whether it exists already. For more information, see Updating images. |\n| adc.image.tag     | Version: 1.0.0 Default value: 1.0.0 The location of the Docker image for this service.                                                     |\n| adc.image.url     | Version: 1.0.0 Default value: \"us.gcr.io/google.com/edge-ci/release/eda/apigee-deployment-controller/master/controller\" The location of the Docker image for this service.                                |\n| adc.resources.limits.cpu  | Version: 1.0.0 Default value: 250m The CPU limit for the resource in a Kubernetes container, in millicores.                                                |\n| adc.resources.limits.memory | Version: 1.0.0 Default value: 256Mi The memory limit for the resource in a Kubernetes container, in mebibytes.                                               |\n| adc.resources.requests.cpu | Version: 1.0.0 Default value: 250m The CPU needed for normal operation of the resource in a Kubernetes container, in millicores.                                           |\n| adc.resources.requests.memory | Version: 1.0.0 Default value: 256Mi The memory needed for normal operation of the resource in a Kubernetes container, in mebibytes.                                          |\n## authz\nThe following table describes the properties of the `authz` object:\n| Property         | Description                                                                        |\n|:-----------------------------------------|:----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| authz.image.pullPolicy     | Version: 1.0.0 Default value: IfNotPresent Determines when kubelet pulls the pod's Docker image. Possible values include: IfNotPresent: Do not pull a new image if it already exists. Always: Always pull the image, regardless of whether it exists already. For more information, see Updating images. |\n| authz.image.tag       | Version: 1.0.0 Default value: 1.0.0 The version label for this service's Docker image.                                                     |\n| authz.image.url       | Version: 1.0.0 Default value: \"us.gcr.io/google.com/edge-ci/integration/featureplatform/apigee-authn-authz/master\" The location of the Docker image for this service.                                 |\n| authz.livenessProbe.failureThreshold  | Version: 1.0.0 Default value: 2 The number of times Kubernetes will verify that liveness probes have failed before restarting the container. The minimum value is 1.                                 |\n| authz.livenessProbe.initialDelaySeconds | Version: 1.0.0 Default value: 0 The number of seconds after a container is started before a liveness probe is initiated.                                             |\n| authz.livenessProbe.periodSeconds  | Version: 1.0.0 Default value: 5 Determines how often to perform a liveness probe, in seconds. The minimum value is 1.                                             |\n| authz.livenessProbe.timeoutSeconds  | Version: 1.0.0 Default value: 1 The number of seconds after which a liveness probe times out. The minimum value is 1.                                             |\n| authz.readinessProbe.failureThreshold | Version: Beta2 Default value: 2 The number of times Kubernetes will verify that readiness probes have failed before marking the pod unready. The minimum value is 1.                                 |\n| authz.readinessProbe.initialDelaySeconds | Version: 1.0.0 Default value: 0 The number of seconds after a container is started before a readiness probe is initiated.                                            |\n| authz.readinessProbe.periodSeconds  | Version: 1.0.0 Default value: 5 Determines how often to perform a readiness probe, in seconds. The minimum value is 1.                                             |\n| authz.readinessProbe.successThreshold | Version: 1.0.0 Default value: 1 The minimum consecutive successes needed for a readiness probe to be considered successful after a failure. The minimum value is 1.                                  |\n| authz.readinessProbe.timeoutSeconds  | Version: 1.0.0 Default value: 1 The number of seconds after which a liveness probe times out. The minimum value is 1.                                             |\n| authz.resources.requests.cpu    | Version: 1.0.0 Default value: 50m The ammount of CPU resources to allocate for authentication requests.                                                 |\n| authz.resources.requests.memory   | Version: 1.0.0 Default value: 128Mi The ammount of memory resources to allocate for authentication requests.                                               |\n| authz.serviceAccountPath     | Version: 1.0.0 Default value: none Required Path to Google Service Account key file with \"Apigee Read Only Admin\" role.                                             |\n## busyBoxInit\nThe following table describes the properties of the `busyBoxInit` object:\n| Property      | Description                                                                        |\n|:-----------------------------|:----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| busyBoxInit.image.pullPolicy | Version: 1.0.0 Default value: IfNotPresent Determines when kubelet pulls the pod's Docker image. Possible values include: IfNotPresent: Do not pull a new image if it already exists. Always: Always pull the image, regardless of whether it exists already. For more information, see Updating images. |\n| busyBoxInit.image.tag  | Version: 1.0.0 Default value: \"1.0.0\" The version label for this service's Docker image.                                                     |\n| busyBoxInit.image.url  | Version: 1.0.0 Default value: \"busybox\" The location of the Docker image for this service.                                                    |\n## cassandra\nDefines the hybrid service that manages the runtime data repository. This repository stores application configurations, distributed quota counters, API keys, and OAuth tokens for applications running on the gateway.\nFor more information, see [Configure Cassandra](/apigee/docs/hybrid/v1.1/cassandra-config) .\nThe following table describes the properties of the `cassandra` object:\n| Property          | Description                                                                        |\n|:---------------------------------------------|:----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| cassandra.auth.admin.password    | Version: 1.0.0 Default value: \"iloveapis123\" Required Password for the Cassandra administrator. The admin user is used for any administrative activities performed on the Cassandra cluster.                           |\n| cassandra.auth.ddl.password     | Version: 1.0.0 Default value: \"iloveapis123\" Required Password for the Cassandra Data Definition Language (DDL) user. Used by MART for any of the data definition tasks like keyspace creation, update, and deletion.                     |\n| cassandra.auth.default.password    | Version: 1.0.0 Default value: \"iloveapis123\" Required The password for the default Cassandra user created when Authentication is enabled. This password must be reset when configuring Cassandra authentication. See Configuring TLS for Cassandra.             |\n| cassandra.auth.dml.password     | Version: 1.0.0 Default value: \"iloveapis123\" Required Password for the Cassandra Data Manipulation Language (DML) user. The DML user is used by the client communication to read and write data to Cassandra.                       |\n| cassandra.auth.image.pullPolicy    | Version: 1.0.0 Default value: IfNotPresent Determines when kubelet pulls the pod's Docker image. Possible values include: IfNotPresent: Do not pull a new image if it already exists. Always: Always pull the image, regardless of whether it exists already. For more information, see Updating images. |\n| cassandra.auth.image.tag      | Version: 1.0.0 Default value: 1.0.0 The version label for this service's Docker image.                                                     |\n| cassandra.auth.image.url      | Version: 1.0.0 Default value: \"google/apigee-cassandra-client\" The location of the Docker image for this service.                                              |\n| cassandra.backup.cloudProvider    | Version: 1.0.0 Default value: \"GCP\" Required if backup is enabled. Cloud provider for backup storage.                                                 |\n| cassandra.backup.dbStorageBucket    | Version: 1.0.0 Default value: none Required if backup is enabled. Cloud storage bucket for the backup data.                                                |\n| cassandra.backup.enabled      | Version: 1.0.0 Default value: false Data backup is not enabled by default. To enable, set to true. See Cassandra backup and recovery.                                         |\n| cassandra.backup.image.pullPolicy   | Version: 1.0.0 Default value: IfNotPresent Determines when kubelet pulls the pod's Docker image. Possible values include: IfNotPresent: Do not pull a new image if it already exists. Always: Always pull the image, regardless of whether it exists already. For more information, see Updating images. |\n| cassandra.backup.image.tag     | Version: 1.0.0 Default value: 1.0.0 The version label for this service's Docker image.                                                     |\n| cassandra.backup.image.url     | Version: 1.0.0 Default value: \"google/apigee-cassandra-backup-utility\" The location of the Docker image for this service.                                            |\n| cassandra.backup.schedule     | Version: 1.0.0 Default value: \"0 2 * * *\" The schedule for the chron job. See Cassandra backup and recovery.                                                |\n| cassandra.backup.serviceAccountPath   | Version: 1.0.0 Default value: none Required if backup is enabled. Path to Google Service Account key file with \"Apigee Read Only Admin\" role.                                       |\n| cassandra.clusterName      | Version: 1.0.0 Default value: \"apigeecluster\" Specifies the name of the Cassandra cluster.                                                    |\n| cassandra.datacenter       | Version: 1.0.0 Default value: \"dc-1\" Specifies the datacenter of the Cassandra node.                                                      |\n| cassandra.dnsPolicy       | Version: 1.1.1 Default value: ClusterFirstWithHostNet When cassandra.hostNetwork is set to true, this determines which DNS policy Cassandra uses. For Anthos based deployments it should be set to ClusterFirstWithHostNet.                    |\n| cassandra.externalSeedHost     | Version: 1.0.0 Default value: none Hostname or IP of a Cassandra cluster node. If not set, the Kubernetes local service is used.                                          |\n| cassandra.heapNewSize      | Version: 1.0.0 Default value: 100M The amount of JVM system memory allocated to newer objects, in megabytes.                                               |\n| cassandra.hostNetwork      | Version: 1.1.1 Default value: true Set to true for Anthos based deployments.                                                        |\n| cassandra.image.pullPolicy     | Version: 1.0.0 Default value: IfNotPresent Determines when kubelet pulls the pod's Docker image. Possible values include: IfNotPresent: Do not pull a new image if it already exists. Always: Always pull the image, regardless of whether it exists already. For more information, see Updating images. |\n| cassandra.image.tag       | Version: 1.0.0 Default value: 1.0.0 The version label for this service's Docker image.                                                     |\n| cassandra.image.url       | Version: 1.0.0 Default value: \"google/apigee-cassandra\" The location of the Docker image for this service.                                                |\n| cassandra.maxHeapSize      | Version: 1.0.0 Default value: 512M The upper limit of JVM system memory available fo Cassandra operations, in megabytes.                                            |\n| cassandra.multiRegionSeedHost    | Version: 1.0.0 Default value: none IP address of an existing Cassandra cluster used to expand the existing cluster to a new region. See Configure the multi-region seed host.                               |\n| cassandra.nodeSelector.key     | Version: 1.0.0 Default value: none Required Node selector label key used to target dedicated Kubernetes nodes for cassandra data services. See Add node selectors.                                  |\n| cassandra.nodeSelector.value     | Version: 1.0.0 Default value: none Optional ode selector label value used to target dedicated Kubernetes nodes for cassandra data services and override the nodeSelector.apigeeData settings. See nodeSelector.                       |\n| cassandra.port        | Version: 1.0.0 Default value: 9042 Port number used to connect to cassandra.                                                        |\n| cassandra.rack        | Version: 1.0.0 Default value: \"ra-1\" Specifies the rack of the Cassandra node.                                                       |\n| cassandra.readinessProbe.failureThreshold | Version: 1.0.0 Default value: 2 The number of times Kubernetes will verify that readiness probes have failed before marking the pod unready. The minimum value is 1.                                 |\n| cassandra.readinessProbe.initialDelaySeconds | Version: 1.0.0 Default value: 0 The number of seconds after a container is started before a readiness probe is initiated.                                            |\n| cassandra.readinessProbe.periodSeconds  | Version: 1.0.0 Default value: 10 Determines how often to perform a readiness probe, in seconds. The minimum value is 1.                                             |\n| cassandra.readinessProbe.successThreshold | Version: 1.0.0 Default value: 1 The minimum consecutive successes needed for a readiness probe to be considered successful after a failure. The minimum value is 1.                                  |\n| cassandra.readinessProbe.timeoutSeconds  | Version: 1.0.0 Default value: 5 The number of seconds after which a liveness probe times out. The minimum value is 1.                                             |\n| cassandra.replicaCount      | Version: 1.0.0 Default value: 3 Cassandra is a replicated database. It is configured to have at least 3 copies of the data in each region or data center. This property specifies the number of Cassandra nodes employed as a StatefulSet.                |\n| cassandra.resources.requests.cpu    | Version: 1.0.0 Default value: 500m The CPU needed for normal operation of the resource in a Kubernetes container, in millicores.                                           |\n| cassandra.resources.requests.memory   | Version: 1.0.0 Default value: 1Gi The memory needed for normal operation of the resource in a Kubernetes container, in mebibytes.                                          |\n| cassandra.restore.cloudProvider    | Version: 1.0.0 Default value: \"GCP\" Required if restore is enabled. Cloud provider for backup storage.                                                 |\n| cassandra.restore.dbStorageBucket   | Version: 1.0.0 Default value: none Required if restore is enabled. Cloud storage bucket for the backup data to restore.                                             |\n| cassandra.restore.enabled     | Version: 1.0.0 Default value: false                                                                  |\n| cassandra.restore.image.pullPolicy   | Version: 1.0.0 Default value: IfNotPresent Determines when kubelet pulls the pod's Docker image. Possible values include: IfNotPresent: Do not pull a new image if it already exists. Always: Always pull the image, regardless of whether it exists already. For more information, see Updating images. |\n| cassandra.restore.image.tag     | Version: 1.0.0 Default value: 1.0.0 The version label for this service's Docker image.                                                     |\n| cassandra.restore.image.url     | Version: 1.0.0 Default value: \"google/apigee-cassandra-backup-utility\" The location of the Docker image for this service.                                            |\n| cassandra.restore.serviceAccountPath   | Version: 1.0.0 Default value: none Required if restore is enabled. Path to Google Service Account key file with \"Apigee Read Only Admin\" role.                                       |\n| cassandra.restore.snapshotTimestamp   | Version: 1.0.0 Default value: none Required if restore is enabled. Timestamp of the backup that should be restored.                                              |\n| cassandra.storage.capacity     | Version: 1.0.0 Default value: 50Gi Required if storage.storageClass is specified Specifies the disk size required, in mebibytes.                                           |\n| cassandra.storage.storageClass    | Version: 1.0.0 Default value: none Specifies the class of on-prem storage being used.                                                     |\n| cassandra.terminationGracePeriodSeconds  | Version: 1.0.0 Default value: 300 The time between a request for pod deletion and when the pod is killed, in seconds. During this period, any prestop hooks will be executed and any running process should terminate gracefully.                  |\n## defaults\nThe Default encryption keys for the Apigee hybrid installation.\n**NOTE:** You need to update these for your installation.\nThe following table describes the properties of the `defaults` object:\n| Property      | Description                           |\n|:--------------------------------|:--------------------------------------------------------------------------------------------------------------------|\n| defaults.org.kmsEncryptionKey | Version: 1.0.0 Default value: \"aWxvdmVhcGlzMTIzNDU2Nw==\" Default encryption key for the org in KMS.    |\n| defaults.org.kvmEncryptionKey | Version: 1.0.0 Default value: \"aWxvdmVhcGlzMTIzNDU2Nw==\" Default encryption key for the org in KVM.    |\n| defaults.env.kmsEncryptionKey | Version: 1.0.0 Default value: \"aWxvdmVhcGlzMTIzNDU2Nw==\" Default encryption key for the environment (env) in KMS. |\n| defaults.env.kvmEncryptionKey | Version: 1.0.0 Default value: \"aWxvdmVhcGlzMTIzNDU2Nw==\" Default encryption key for the environment (env) in KVM. |\n| defaults.env.cacheEncryptionKey | Version: 1.0.0 Default value: \"aWxvdmVhcGlzMTIzNDU2Nw==\" Default cache encryption key for the environment (env). |\n## envs\nDefines an array of environments to which you can deploy your API proxies. Each environment provides an isolated context or \"sandbox\" for running API proxies.\nYour hybrid-enabled organization must have at least one environment.\nUse `envs[]` to configure base path routing, which allows you to configure and manage how Apigee hybrid routes API proxy calls to the correct environment.\nFor more information, see:\n- [Configure environments](/apigee/docs/hybrid/v1.1/environments-about) \n- [Base path routing](/apigee/docs/hybrid/v1.1/base-path-routing) \nThe following table describes the properties of the `envs` object:\n| Property        | Description                                                                                                                                                                    |\n|:----------------------------------------|:-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| envs[].cacheEncryptionKey    | Version: 1.0.0 Default value: none Required Local file system path for the Apigee cache data's encryption key.                                                                                                                                           |\n| envs[].hostAlias      | Version: 1.0.0 Default value: none Required The DNS name for your server. For example, foo-test.mydomain.com. If you don't have a DNS name, you can use a wildcard ('*'). If you use a wildcard, then you can use the EXTERNAL IP of the istio-ingressgateway, which you can obtain by calling kubectl get services -n namespace after you complete the installation. If you have multiple environments, you must use a unique host alias name for each one. For example, foo-test.mydomain.com and foo-prod.mydomain.com. Note: You cannot use a wildcard for the host name in a multiple environment configuration. If you do so, traffic will only be routed to one environment. |\n| envs[].kmsEncryptionKey     | Version: 1.0.0 Default value: none Required Local file system path for the Apigee KMS data's encryption key.                                                                                                                                           |\n| envs[].name        | Version: 1.0.0 Default value: none Required Apigee environment name to be synchronized.                                                                                                                                                 |\n| envs[].pollInterval      | Version: 1.0.0 Default value: none Interval used for polling organization and environment synchronization changes, in seconds.                                                                                                                                       |\n| envs[].paths.uri.prefixes    | Version: 1.0.0 Default value: none A property to support prefix base path routing. Provide those paths as in the pattern: org: hybrid envs: - name: test paths: uri: prefixes: - /foo - /bar                                                                                                                     |\n| nan          | nan                                                                                                                                                                      |\n| envs[].port        | Version: 1.0.0 Default value: none TCP port number for HTTPS traffic.                                                                                                                                                     |\n| envs[].serviceAccountPaths.synchronizer | Version: GA Default value: none Path to file on local system to a Google Service Account key with the Apigee Synchronizer Manager role.                                                                                                                                    |\n| envs[].serviceAccountPaths.udca   | Version: GA Default value: none Path to file on local system to a Google Service Account key with the Apigee Analytic Agent role.                                                                                                                                      |\n| envs[].sslCertPath      | Version: 1.0.0 Default value: none Required The path on your system to a TLS certificate file. Note: For each configured environment, the Common Name (CN) in the cert must match the domain in the hostAliases[] property. For example, if the CN is *.example.com, the hostAliases[] could be foo.example.com or bar.example.com.                                                                                     |\n| envs[].sslKeyPath      | Version: 1.0.0 Default value: none Required The path on your system to the TLS private key file.                                                                                                                                              |\n## httpProxy\n`httpProxy` provides configuration parameters for an HTTP forward proxy server. When configured in overrides.yaml, all internet communication for the MART, Synchronizer, and UDCA components pass through the proxy server.\n**NOTE:** HTTP forward proxy for the apigee-runtime component is not supported.\nSee also: [MART](#mart) , [Synchronizer](#synchronizer) , and [UDCA](#udca) .\nThe following table describes the properties of the `httpProxy` object:\n| Property   | Description                      |\n|:-----------------|:-------------------------------------------------------------------------------------------------|\n| httpProxy.host | Version: 1.1.1 Default value: none The hostname of the HTTP Proxy.        |\n| httpProxy.port | Version: 1.1.1 Default value: none The port of the HTTP Proxy.         |\n| httpProxy.scheme | Version: 1.1.1 Default value: HTTPS The scheme used by the proxy. Values can be HTTP or HTTPS. |\n## ingress\n`ingress` is the instantiation of the Istio Ingress Gateway, the Kubernetes Ingress Resource is used to specify services that should be exposed outside the cluster. It defines a containerized app that routes traffic from outside the runtime plane to services within the runtime plane. Apigee installation creates two Istio Ingress objects for:\n- Runtime\n- MART\nSee also:\n- [Ingress  Gateways](https://istio.io/docs/tasks/traffic-management/ingress/ingress-control/) in the [istio](https://istio.io/) documentation.\n- [  Adding gateways](https://cloud.google.com/istio/docs/istio-on-gke/installing#adding_gateways) about adding Istio ingress gatewawys in the GCP documentation.\n- [istio object](#istio) in Apigee\n- [MART object](#mart) \n- [Runtime object](#runtime) \nThe following table describes the properties of the `ingress` object:\n| Property      | Description                                                                      |\n|:-------------------------------|:---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| ingress.enableAccesslog  | Version: 1.0.0 Default value: false Enable or disable the Ingress access log. By default, it is disabled.                                               |\n| ingress.envoyHeaders.headers | Version: 1.0.0 Default value: none A list of Envoy headers.                                                          |\n| ingress.envoyHeaders.preserved | Version: 1.0.0 Default value: false Determines whether to preserve or not to preserve Envoy's headers. By default, they are not.                                         |\n| ingress.httpsRedirect   | Version: 1.0.0 Default value: true Enable or disable the automatic HTTPS redirection for all incoming traffic.                                             |\n| ingress.mart.loadBalancerIP | Version: 1.1.1 Default value: 10.0.10.252 IP address of the MART load balancer. For Kubernetes and Anthos installations, you should reserve and configure the static IP address for the load balancer before setting this property. See Configure static IP addresses.       |\n| ingress.runtime.loadBalancerIP | Version: 1.1.1 Default value: 10.0.10.251 IP address of the load balancer for the Apigee-runtime object. For Kubernetes and Anthos installations, you should reserve and configure the static IP address for the load balancer before setting this property. See Configure static IP addresses. |\n| ingress.serviceType   | Version: 1.0.0 Default value: LoadBalancer The type of service used for routing external traffic to internal services. Possible values include: ClusterIP (not supported) LoadBalancer NodePort                         |\n## istio\nGoogle Cloud Platform's (GCP's) implemention of Istio is a service mesh that layers onto existing your Apigee instance helping it integrate with the logging platform, telemetry and policy system.\n**NOTE:** The [ingress object](#ingress) is an  implementation of the Istio ingress gateway.\nSee also: [GCP's Istio documentation](https://cloud.google.com/istio/#documentation) and [What is Istio](https://istio.io/docs/concepts/what-is-istio/) .\nThe following table describes the properties of the `istio` object:\n| Property          | Description                                                                   |\n|:-----------------------------------------------|:--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| istio.ingressgateway.replicaCountMax   | Version: 1.0.0 Default value: 5 Required Maximum number of Istio ingress gateway replicas allowed. See: ingress object Ingress Gateways in the Istio documentation Adding gateways about adding Istio ingress gatewawys in the GCP documentation.         |\n| istio.ingressgateway.replicaCountMin   | Version: 1.0.0 Default value: 1 Required Minimum number of Istio ingress gateway replicas required. See: ingress object Ingress Gateways in the Istio documentation Adding gateways about adding Istio ingress gatewawys in the GCP documentation.         |\n| istio.ingressgateway.resources.requests.cpu | Version: 1.0.0 Default value: 100m Required CPU resources allocated to the ingress controller, needed for the gateway to operate optimally. See: ingress object Ingress Gateways in the Istio documentation Ingress Controllers in the Kubernetes documentation.     |\n| istio.ingressgateway.resources.requests.memory | Version: 1.0.0 Default value: 128Mi Memory resources allocated to the ingress controller, needed for the gateway to operate optimally. ingress object Ingress Gateways in the Istio documentation Ingress Controllers in the Kubernetes documentation.        |\n| istio.nodeSelector.key       | Version: 1.0.0 Default value: none Optional node selector label key for targeting Kubernetes nodes for istio services. If you do not specify a key for mart.nodeselector, the istio services use the node specified in the nodeSelectorobject.          |\n| istio.nodeSelector.value      | Version: 1.0.0 Default value: none Optional node selector label value for targeting Kubernetes nodes for istio services. See also the nodeSelectorobject.                               |\n| istio.pilot.replicaCountMax     | Version: 1.0.0 Default value: 5 Required The pilot core traffic management within the cluster, communicating with the envoy sidecar proxy. replicaCountMax is the maximium number of Istio pilot replicas allowed. See Pilot: Core traffic management in the Istio documentation |\n| istio.pilot.replicaCountMin     | Version: 1.0.0 Default value: 1 Required The pilot core traffic management within the cluster, communicating with the envoy sidecar proxy. replicaCountMax is the maximium number of Istio pilot replicas required. See Pilot: Core traffic management in the Istio documentation |\n| istio.pilot.resources.requests.cpu    | Version: 1.0.0 Default value: 500m Required CPU resources allocated to the pilot process, needed for the gateway to operate optimally. See: Pilot: Core traffic management in the Istio documentation pilot-agent in the Istio documentation.          |\n| istio.pilot.resources.requests.memory   | Version: 1.0.0 Default value: 2048Mi Memory resources allocated to the pilot process, needed for the gateway to operate optimally. See: Pilot: Core traffic management in the Istio documentation pilot-agent in the Istio documentation.           |\n## logger\nDefines the service that manages operational logs. All of the Apigee hybrid services that run in your Kubernetes cluster output this information.\nFor more information, see [Logging](/apigee/docs/hybrid/v1.1/logging) .\nThe following table describes the properties of the `logger` object:\n| Property         | Description                                                                        |\n|:-----------------------------------------|:----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| logger.enabled       | Version: 1.0.0 Default value: true Enables or disables logging on the cluster. For non-GKE set to true, for Anthos or GKE set to false.                                         |\n| logger.fluentd.buffer_chunk_limit  | Version: 1.0.0 Default value: 512k The maximum size of a buffer chunk allowed, in kilobytes. Chunks exceeding the limit will be flushed to the output queue automatically.                                |\n| logger.fluentd.buffer_queue_limit  | Version: 1.0.0 Default value: 6 The maximum length of the output queue. The default limit is 256 chunks.                                                 |\n| logger.fluentd.flush_interval   | Version: 1.0.0 Default value: 5s The interval to wait before invoking the next buffer flush, in seconds.                                                 |\n| logger.fluentd.max_retry_wait   | Version: 1.0.0 Default value: 30 The maximum interval between write retries, in seconds.                                                     |\n| logger.fluentd.num_threads    | Version: 1.0.0 Default value: 2 The number of threads used to flush the buffer. The default is 1.                                                  |\n| logger.image.pullPolicy     | Version: 1.0.0 Default value: IfNotPresent Determines when kubelet pulls the pod's Docker image. Possible values include: IfNotPresent: Do not pull a new image if it already exists. Always: Always pull the image, regardless of whether it exists already. For more information, see Updating images. |\n| logger.image.tag       | Version: 1.0.0 Default value: \"1.6.8\" The version label for this service's Docker image.                                                     |\n| logger.image.url       | Version: 1.0.0 Default value: \"google/apigee-stackdriver-logging-agent\" The location of the Docker image for this service.                                            |\n| logger.livenessProbe.failureThreshold | Version: 1.0.0 Default value: 3 The number of times Kubernetes will verify that liveness probes have failed before restarting the container. The minimum value is 1.                                 |\n| logger.livenessProbe.initialDelaySeconds | Version: 1.0.0 Default value: 0 The number of seconds after a container is started before a liveness probe is initiated.                                             |\n| logger.livenessProbe.periodSeconds  | Version: 1.0.0 Default value: 60 Determines how often to perform a liveness probe, in seconds. The minimum value is 1.                                             |\n| logger.livenessProbe.successThreshold | Version: 1.0.0 Default value: 1 The minimum consecutive successes needed for a liveness probe to be considered successful after a failure. The minimum value is 1.                                  |\n| logger.livenessProbe.timeoutSeconds  | Version: 1.0.0 Default value: 1 The number of seconds after which a liveness probe times out. The minimum value is 1.                                             |\n| logger.nodeSelector.key     | Version: 1.0.0 Default value: \"apigee.com/apigee-logger-enabled\" Required Node selector label key used to target dedicated Kubernetes nodes for logger runtime services. See Add node selectors.                           |\n| logger.nodeSelector.value    | Version: 1.0.0 Default value: \"true\" Required Node selector label value used to target dedicated Kubernetes nodes for logger runtime services. See Add node selectors.                                 |\n| logger.proxyURL       | Version: 1.0.0 Default value: none URL of the customer's proxy server.                                                         |\n| logger.resource.limits.memory   | Version: 1.0.0 Default value: 500Mi The memory limit for the resource in a Kubernetes container, in mebibytes.                                               |\n| logger.resource.limits.cpu    | Version: 1.0.0 Default value: 200m The CPU limit for the resource in a Kubernetes container, in millicores.                                                |\n| logger.resource.requests.cpu    | Version: 1.0.0 Default value: 100m The CPU needed for normal operation of the resource in a Kubernetes container, in millicores.                                           |\n| logger.resource.requests.memory   | Version: 1.0.0 Default value: 250Mi The memory needed for normal operation of the resource in a Kubernetes container, in mebibytes.                                          |\n| logger.serviceAccountPath    | Version: 1.0.0 Default value: none Required Path to Google Service Account key file with \"Apigee Read Only Admin\" role.                                             |\n| logger.terminationGracePeriodSeconds  | Version: 1.0.0 Default value: 30 The time between a request for pod deletion and when the pod is killed, in seconds. During this period, any prestop hooks will be executed and any running process should terminate gracefully.                  |\n## mart\nDefines the MART (Management API for RunTime data) service, which acts as an API provider for public Apigee APIs so that you can access and manage runtime data entities such as KMS (API Keys and OAuth tokens), KVM, Quota, and API products.\nThe following table describes the properties of the `mart` object:\n| Property        | Description                                                                        |\n|:----------------------------------------|:----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| mart.hostAlias       | Version: 1.0.0 Default value: none The host alias pointing to the MART object. You can set this property to * or a fully-qualified domain name.                                       |\n| mart.image.pullPolicy     | Version: 1.0.0 Default value: IfNotPresent Determines when kubelet pulls the pod's Docker image. Possible values include: IfNotPresent: Do not pull a new image if it already exists. Always: Always pull the image, regardless of whether it exists already. For more information, see Updating images. |\n| mart.image.tag       | Version: 1.0.0 Default value: 1.0.0 The version label for this service's Docker image.                                                     |\n| mart.image.url       | Version: 1.0.0 Default value: \"google/apigee-mart-server\" The location of the Docker image for this service. Check the values.yaml file for the specific URL.You can override this.                              |\n| mart.initCheckCF.resources.requests.cpu | Version: 1.0.0 Default value: 10m The amount of CPU resourced allocated to the initialization check of the Cloud Foundry process.                                          |\n| mart.livenessProbe.failureThreshold  | Version: 1.0.0 Default value: 12 The number of times Kubernetes will verify that liveness probes have failed before restarting the container. The minimum value is 1.                                 |\n| mart.livenessProbe.initialDelaySeconds | Version: 1.0.0 Default value: 15 The number of seconds after a container is started before a liveness probe is initiated.                                            |\n| mart.livenessProbe.periodSeconds  | Version: 1.0.0 Default value: 5 Determines how often to perform a liveness probe, in seconds. The minimum value is 1.                                             |\n| mart.livenessProbe.timeoutSeconds  | Version: 1.0.0 Default value: 1 The number of seconds after which a liveness probe times out. The minimum value is 1.                                             |\n| mart.metricsURL       | Version: 1.0.0 Default value: \"/v1/server/metrics\"                                                              |\n| mart.nodeSelector.key     | Version: 1.0.0 Default value: none Optional node selector label key for targeting Kubernetes nodes for mart runtime services. If you do not specify a key for mart.nodeselector, then your runtime uses the node specified in the nodeSelectorobject. See Add node selectors.       |\n| mart.nodeSelector.value     | Version: 1.0.0 Default value: none Optional node selector label value for targeting Kubernetes nodes for mart runtime services. See also the nodeSelectorobject. See Add node selectors.                            |\n| mart.readinessProbe.failureThreshold | Version: 1.0.0 Default value: 2 The number of times Kubernetes will verify that readiness probes have failed before marking the pod unready. The minimum value is 1.                                 |\n| mart.readinessProbe.initialDelaySeconds | Version: 1.0.0 Default value: 15 The number of seconds after a container is started before a readiness probe is initiated.                                            |\n| mart.readinessProbe.periodSeconds  | Version: 1.0.0 Default value: 5 Determines how often to perform a readiness probe, in seconds. The minimum value is 1.                                             |\n| mart.readinessProbe.successThreshold | Version: 1.0.0 Default value: 1 The minimum consecutive successes needed for a readiness probe to be considered successful after a failure. The minimum value is 1.                                  |\n| mart.readinessProbe.timeoutSeconds  | Version: 1.0.0 Default value: 1 The number of seconds after which a liveness probe times out. The minimum value is 1.                                             |\n| mart.replicaCountMax     | Version: 1.0.0 Default value: 5 Maximum number of replicas available for autoscaling.                                                     |\n| mart.replicaCountMin     | Version: 1.0.0 Default value: 1 Minimum number of replicas available for autoscaling.                                                     |\n| mart.resources.requests.cpu    | Version: 1.0.0 Default value: 500m The CPU needed for normal operation of the resource in a Kubernetes container, in millicores.                                           |\n| mart.resources.requests.memory   | Version: 1.0.0 Default value: 512Mi The memory needed for normal operation of the resource in a Kubernetes container, in mebibytes.                                          |\n| mart.serviceAccountPath     | Version: 1.1.1 Default value: none Required Path to Google Service Account key file with \"Apigee Read Only Admin\" role.                                             |\n| mart.sslCertPath      | Version: 1.0.0 Default value: none Local file system path for loading and encoding the SSL cert to a Secret.                                               |\n| mart.sslKeyPath       | Version: 1.0.0 Default value: none Local file system path for loading and encoding the SSL key to a Secret.                                                |\n| mart.targetCPUUtilizationPercentage  | Version: 1.0.0 Default value: 75 Target CPU utilization for the MART process on the pod. The value of this field enables MART to auto-scale when CPU utilization reaches this value, up to replicaCountMax.                       |\n| mart.terminationGracePeriodSeconds  | Version: 1.0.0 Default value: 30 The time between a request for pod deletion and when the pod is killed, in seconds. During this period, any prestop hooks will be executed and any running process should terminate gracefully.                  |\n## metrics\nDefines the service that collects operations metrics. You can use metrics data to monitor the health of Hybrid services, to set up alerts, and so on.\nFor more information, see [Metrics collection overview](/apigee/docs/hybrid/v1.1/metrics-collection) .\nThe following table describes the properties of the `metrics` object:\n| Property           | Description                                                                        |\n|:---------------------------------------------------|:----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| metrics.enabled         | Version: 1.0.0 Default value: false Enables Apigee metrics. Set to true to enable metrics. Set to false to disable metrics.                                            |\n| metrics.nodeSelector.key       | Version: 1.0.0 Default value: none Required Node selector label key used to target dedicated Kubernetes nodes for metrics runtime services. See Add node selectors.                                  |\n| metrics.nodeSelector.value       | Version: 1.0.0 Default value: none Required Node selector label value used to target dedicated Kubernetes nodes for metrics runtime services. See Add node selectors.                                 |\n| metrics.prometheus.args.storage_tsdb_retention  | Version: 1.0.0 Default value: 48h The amount of time Prometheus waits before removing old data from local storage, in hours.                                            |\n| metrics.prometheus.containerPort     | Version: 1.0.0 Default value: 9090 The port to connect to the Prometheus metrics service.                                                    |\n| metrics.prometheus.image.pullPolicy    | Version: 1.0.0 Default value: IfNotPresent Determines when kubelet pulls the pod's Docker image. Possible values include: IfNotPresent: Do not pull a new image if it already exists. Always: Always pull the image, regardless of whether it exists already. For more information, see Updating images. |\n| metrics.prometheus.image.tag      | Version: 1.0.0 Default value: \"v2.9.2\" The version label for this service's Docker image.                                                    |\n| metrics.prometheus.image.url      | Version: 1.0.0 Default value: \"google/apigee-prom-prometheus\" The location of the Docker image for this service.                                               |\n| metrics.prometheus.livenessProbe.failureThreshold | Version: 1.0.0 Default value: 6 The number of times Kubernetes will verify that liveness probes have failed before restarting the container. The minimum value is 1.                                 |\n| metrics.prometheus.livenessProbe.periodSeconds  | Version: 1.0.0 Default value: 5 Determines how often to perform a liveness probe, in seconds. The minimum value is 1.                                             |\n| metrics.prometheus.livenessProbe.timeoutSeconds | Version: 1.0.0 Default value: 3 The number of seconds after which a liveness probe times out. The minimum value is 1.                                             |\n| metrics.prometheus.readinessProbe.failureThreshold | Version: 1.0.0 Default value: 120 The number of times Kubernetes will verify that readiness probes have failed before marking the pod unready. The minimum value is 1.                                 |\n| metrics.prometheus.readinessProbe.periodSeconds | Version: 1.0.0 Default value: 5 Determines how often to perform a readiness probe, in seconds. The minimum value is 1.                                             |\n| metrics.prometheus.readinessProbe.timeoutSeconds | Version: 1.0.0 Default value: 3 The number of seconds after which a liveness probe times out. The minimum value is 1.                                             |\n| metrics.proxyURL         | Version: 1.0.0 Default value: none URL for the metrics process sidecar proxy in the Kubernetes cluster.                                                 |\n| metrics.resources.limits.cpu      | Version: 1.0.0 Default value: 250m The CPU limit for the resource in a Kubernetes container, in millicores.                                                |\n| metrics.resources.limits.memory     | Version: 1.0.0 Default value: 256Mi The memory limit for the resource in a Kubernetes container, in mebibytes.                                               |\n| metrics.resources.requests.cpu      | Version: 1.0.0 Default value: 250m The CPU needed for normal operation of the resource in a Kubernetes container, in millicores.                                           |\n| metrics.resources.requests.memory     | Version: 1.0.0 Default value: 256Mi The memory needed for normal operation of the resource in a Kubernetes container, in mebibytes.                                          |\n| metrics.sdSidecar.containerPort     | Version: 1.0.0 Default value: 9091 The port for connecting to the StackDriver metrics service.                                                   |\n| metrics.sdSidecar.image.pullPolicy     | Version: 1.0.0 Default value: IfNotPresent Determines when Kubelet pulls this service's Docker image. Possible values include: IfNotPresent: Do not pull a new image if it already exists Always: Always pull the policy, even if it already exists For more information, see Updating images.  |\n| metrics.sdSidecar.image.tag      | Version: 1.0.0 Default value: \"release-0.4.0\" The version label for this service's Docker image.                                                   |\n| metrics.sdSidecar.image.url      | Version: 1.0.0 Default value: \"google/apigee-stackdriver-prometheus-sidecar\" The location of the Docker image for this service.                                           |\n| metrics.serviceAccountPath       | Version: 1.0.0 Default value: none Required Path to Google Service Account key file with \"Apigee Read Only Admin\" role.                                             |\n| metrics.terminationGracePeriodSeconds    | Version: 1.0.0 Default value: 300 The time between a request for pod deletion and when the pod is killed, in seconds. During this period, any prestop hooks will be executed and any running process should terminate gracefully.                  |\n## nodeSelector\nThe nodeSelector object defines the node for your Apigee instance. Behind the scenes when apigeectl runs, it is taking care to map the label key/value for apigeeRuntime and apigeeData to the individual Istio and MART components. You can override this for individual objects in the [istio:nodeSelector](#istio) and [mart:nodeSelector](#mart) properties.\nThe following table describes the properties of the `nodeSelector` object:\n| Property       | Description                                                                                               |\n|:-----------------------------------|:----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| nodeSelector.apigeeData.key  | Version: 1.0.0 Default value: \"cloud.google.com/gke-nodepool\" ApigeeData is the node for the Cassandra database. Node selector label key for targeting Kubernetes nodes for working with Apigee services data. See Add node selectors.                                       |\n| nodeSelector.apigeeData.value  | Version: 1.0.0 Default value: \"apigee-data\" apigee-data is the node for the Cassandra database. Node selector label value for targeting Kubernetes nodes for working with Apigee services data. See Add node selectors.                                           |\n| nodeSelector.apigeeRuntime.key  | Version: 1.0.0 Default value: \"cloud.google.com/gke-nodepool\" Apigee Runtime is the node for the runtime environment for the project. Node selector label key for targeting Kubernetes nodes for Apigee runtime services. See Add node selectors.                                     |\n| nodeSelector.apigeeRuntime.value | Version: 1.0.0 Default value: \"apigee-runtime\" apigee-runtime is the node for the runtime environment for the project. Node selector label value for targeting Kubernetes nodes for Apigee runtime services. See Add node selectors.                                        |\n| nodeSelector.requiredForScheduling | Version: 1.0.0 Default value: false The requiredForScheduling property defaults to false. If this value is overridden to true, it means that if Kubernetes cannot find nodes with the label key/value that is configured then the underlying Pods will not get scheduled on VM worker nodes. For production, nodeSelector.requiredForScheduling should be set to true. See Add node selectors. |\n## runtime\nThe following table describes the properties of the `runtime` object:\n| Property         | Description                                                                        |\n|:-------------------------------------------|:----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| runtime.image.pullPolicy     | Version: 1.0.0 Default value: IfNotPresent Determines when kubelet pulls the pod's Docker image. Possible values include: IfNotPresent: Do not pull a new image if it already exists. Always: Always pull the image, regardless of whether it exists already. For more information, see Updating images. |\n| runtime.image.tag       | Version: 1.0.0 Default value: 1.0.0 The version label for this service's Docker image.                                                     |\n| runtime.image.url       | Version: 1.0.0 Default value: URL to your installation's image resource, like: \"google/apigee-runtime\" The location of the Docker image for this service.                                    |\n| runtime.livenessProbe.failureThreshold  | Version: 1.0.0 Default value: 2 The number of times Kubernetes will verify that liveness probes have failed before restarting the container. The minimum value is 1.                                 |\n| runtime.livenessProbe.initialDelaySeconds | Version: 1.0.0 Default value: 60 The number of seconds after a container is started before a liveness probe is initiated.                                            |\n| runtime.livenessProbe.periodSeconds  | Version: 1.0.0 Default value: 5 Determines how often to perform a liveness probe, in seconds. The minimum value is 1.                                             |\n| runtime.livenessProbe.timeoutSeconds  | Version: 1.0.0 Default value: 1 The number of seconds after which a liveness probe times out. The minimum value is 1.                                             |\n| runtime.nodeSelector.key     | Version: 1.0.0 Default value: none Optional Node selector label key for targeting Kubernetes nodes for runtime services. See nodeSelector property.                                      |\n| runtime.nodeSelector.value     | Version: 1.0.0 Default value: none Node selector label value for targeting Kubernetes nodes for runtime services. See Add node selectors.                                        |\n| runtime.readinessProbe.failureThreshold | Version: 1.0.0 Default value: 2 The number of times Kubernetes will verify that readiness probes have failed before marking the pod unready. The minimum value is 1.                                 |\n| runtime.readinessProbe.initialDelaySeconds | Version: 1.0.0 Default value: 60 The number of seconds after a container is started before a readiness probe is initiated.                                            |\n| runtime.readinessProbe.periodSeconds  | Version: 1.0.0 Default value: 5 Determines how often to perform a readiness probe, in seconds. The minimum value is 1.                                             |\n| runtime.readinessProbe.successThreshold | Version: 1.0.0 Default value: 1 The minimum consecutive successes needed for a readiness probe to be considered successful after a failure. The minimum value is 1.                                  |\n| runtime.readinessProbe.timeoutSeconds  | Version: 1.0.0 Default value: 1 The number of seconds after which a liveness probe times out. The minimum value is 1.                                             |\n| runtime.replicaCountMax     | Version: 1.0.0 Default value: 4 Maximum number of replicas available for autoscaling.                                                     |\n| runtime.replicaCountMin     | Version: 1.0.0 Default value: 1 Minimum number of replicas available for autoscaling.                                                     |\n| runtime.resources.requests.cpu    | Version: 1.0.0 Default value: 500m The CPU needed for normal operation of the resource in a Kubernetes container, in millicores.                                           |\n| runtime.resources.requests.memory   | Version: 1.0.0 Default value: 1Gi The memory needed for normal operation of the resource in a Kubernetes container, in mebibytes.                                          |\n| runtime.service.type      | Version: 1.0.0 Default value: ClusterIP The type of service. You can set this to a service other than ClusterIP; for example, LoadBalancer.                                        |\n| runtime.targetCPUUtilizationPercentage  | Version: 1.0.0 Default value: 75 Target CPU utilization for the runtime process on the pod. The value of this field enables the runtime to auto-scale when CPU utilization reaches this value, up to replicaCountMax.                     |\n| runtime.terminationGracePeriodSeconds  | Version: 1.0.0 Default value: 180 The time between a request for pod deletion and when the pod is killed, in seconds. During this period, any prestop hooks will be executed and any running process should terminate gracefully.                  |\n## synchronizer\nEnsures that the Message Processors are kept up to date with the latest deployed API proxy bundles. To do this, the Synchronizer polls the management plane; when a new contract is detected, the Synchronizer sends it to the runtime plane.\nFor more information, see [Synchronizer](/apigee/docs/hybrid/v1.1/synchronizer-config) .\nThe following table describes the properties of the `synchronizer` object:\n| Property          | Description                                                                        |\n|:------------------------------------------------|:----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| synchronizer.image.pullPolicy     | Version: 1.0.0 Default value: IfNotPresent Determines when kubelet pulls the pod's Docker image. Possible values include: IfNotPresent: Do not pull a new image if it already exists. Always: Always pull the image, regardless of whether it exists already. For more information, see Updating images. |\n| synchronizer.image.tag       | Version: 1.0.0 Default value: 1.0.0 The version label for this service's Docker image.                                                     |\n| synchronizer.image.url       | Version: 1.0.0 Default value: \"google/apigee-synchronizer\" The location of the Docker image for this service.                                               |\n| synchronizer.livenessProbe.failureThreshold  | Version: 1.0.0 Default value: 2 The number of times Kubernetes will verify that liveness probes have failed before restarting the container. The minimum value is 1.                                 |\n| synchronizer.livenessProbe.initialDelaySeconds | Version: 1.0.0 Default value: 0 The number of seconds after a container is started before a liveness probe is initiated.                                             |\n| synchronizer.livenessProbe.periodSeconds  | Version: 1.0.0 Default value: 5 Determines how often to perform a liveness probe, in seconds. The minimum value is 1.                                             |\n| synchronizer.livenessProbe.timeoutSeconds  | Version: 1.0.0 Default value: 1 The number of seconds after which a liveness probe times out. The minimum value is 1.                                             |\n| synchronizer.nodeSelector.key     | Version: 1.0.0 Default value: none Required Optional node selector label key for targeting Kubernetes nodes for synchronizer runtime services. See nodeSelector.                                  |\n| synchronizer.nodeSelector.value     | Version: 1.0.0 Default value: none Optional node selector label value used for targeting Kubernetes nodes for synchronizer runtime services. See nodeSelector.                                   |\n| synchronizer.pollInterval      | Version: 1.0.0 Default value: 60 The length of time that Synchronizer waits between polling operations. Synchronizer polls Apigee control plane services to detect and pull new runtime contracts.                          |\n| synchronizer.readinessProbe.failureThreshold | Version: 1.0.0 Default value: 2 The number of times Kubernetes will verify that readiness probes have failed before marking the pod unready. The minimum value is 1.                                 |\n| synchronizer.readinessProbe.initialDelaySeconds | Version: 1.0.0 Default value: 0 The number of seconds after a container is started before a readiness probe is initiated.                                            |\n| synchronizer.readinessProbe.periodSeconds  | Version: 1.0.0 Default value: 5 Determines how often to perform a readiness probe, in seconds. The minimum value is 1.                                             |\n| synchronizer.readinessProbe.successThreshold | Version: 1.0.0 Default value: 1 The minimum consecutive successes needed for a readiness probe to be considered successful after a failure. The minimum value is 1.                                  |\n| synchronizer.readinessProbe.timeoutSeconds  | Version: 1.0.0 Default value: 1 The number of seconds after which a liveness probe times out. The minimum value is 1.                                             |\n| synchronizer.replicaCount      | Version: 1.0.0 Default value: 2 Number of replicas for autoscaling.                                                          |\n| synchronizer.resources.requests.cpu    | Version: 1.0.0 Default value: 100m The CPU needed for normal operation of the resource in a Kubernetes container, in millicores.                                           |\n| synchronizer.resources.requests.memory   | Version: 1.0.0 Default value: 1Gi The memory needed for normal operation of the resource in a Kubernetes container, in gigabytes.                                          |\n| synchronizer.serviceAccountPath     | Version: 1.0.0 Default value: none Required Path to Google Service Account key file with \"Apigee Read Only Admin\" role.                                             |\n| synchronizer.targetCPUUtilizationPercentage  | Version: 1.0.0 Default value: 75 Target CPU utilization for the Synchronizer process on the pod. The value of this field enables Synchronizer to auto-scale when CPU utilization reaches this value, up to replicaCountMax.                   |\n| synchronizer.terminationGracePeriodSeconds  | Version: 1.0.0 Default value: 30 The time between a request for pod deletion and when the pod is killed, in seconds. During this period, any prestop hooks will be executed and any running process should terminate gracefully.                  |\n## udca\n(Universal Data Collection Agent) Defines the service that runs within the data collection pod in the runtime plane. This service extracts analytics and deployment status data and sends it to the Unified Analytics Platform (UAP).\nFor more information, see [Analytics and deployment status datacollection](/apigee/docs/hybrid/v1.1/other-data-collection) .\nThe following table describes the properties of the `udca` object:\n| Property        | Description                                                                                                              |\n|:---------------------------------------|:-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| udca.fluentd.image.pullPolicy   | Version: 1.0.0 Default value: IfNotPresent Determines when kubelet pulls the pod's Docker image. Possible values include: IfNotPresent: Do not pull a new image if it already exists. Always: Always pull the image, regardless of whether it exists already. For more information, see Updating images.                                       |\n| udca.fluentd.image.tag     | Version: 1.0.0 Default value: 1.0.0 The version label for this service's Docker image.                                                                                           |\n| udca.fluentd.image.url     | Version: 1.0.0 Default value: \"google/apigee-stackdriver-logging-agent\" The location of the Docker image for this service.                                                                                  |\n| udca.fluentd.resource.limits.memory | Version: 1.0.0 Default value: 500Mi The memory limit for the resource in a Kubernetes container, in mebibytes.                                                                                     |\n| udca.fluentd.resource.requests.cpu  | Version: 1.0.0 Default value: 500m The CPU needed for normal operation of the resource in a Kubernetes container, in millicores.                                                                                 |\n| udca.fluentd.resource.requests.memory | Version: 1.0.0 Default value: 250Mi The memory needed for normal operation of the resource in a Kubernetes container, in mebibytes.                                                                                |\n| nan         | nan                                                                                                                |\n| udca.image.pullPolicy     | Version: 1.0.0 Default value: IfNotPresent Determines when kubelet pulls the pod's Docker image. Possible values include: IfNotPresent: Do not pull a new image if it already exists. Always: Always pull the image, regardless of whether it exists already. For more information, see Updating images.                                       |\n| udca.image.tag       | Version: 1.0.0 Default value: \"1.0.0\" The version label for this service's Docker image.                                                                                           |\n| udca.image.url       | Version: 1.0.0 Default value: \"google/apigee-udca\" The location of the Docker image for this service.                                                                                        |\n| udca.jvmXms       | Version: 1.0.0 Default value: 256m The starting amount of memory for the data collection pod's JVM.                                                                                        |\n| udca.jvmXmx       | Version: 1.0.0 Default value: 256m The maximum allocation of memory for the data collection pod's JVM.                                                                                       |\n| udca.livenessProbe.failureThreshold | Version: 1.0.0 Default value: 2 The number of times Kubernetes will verify that liveness probes have failed before restarting the container. The minimum value is 1.                                                                        |\n| udca.livenessProbe.initialDelaySeconds | Version: 1.0.0 Default value: 0 The number of seconds after a container is started before a liveness probe is initiated.                                                                                   |\n| udca.livenessProbe.periodSeconds  | Version: 1.0.0 Default value: 5 Determines how often to perform a liveness probe, in seconds. The minimum value is 1.                                                                                    |\n| udca.livenessProbe.timeoutSeconds  | Version: 1.0.0 Default value: 1 The number of seconds after which a liveness probe times out. The minimum value is 1.                                                                                    |\n| udca.nodeSelector.key     | Version: 1.0.0 Default value: none Required Node selector label key used to target dedicated Kubernetes nodes for udca runtime services. See Add node selectors.                                                                         |\n| udca.nodeSelector.value    | Version: 1.0.0 Default value: none Required Node selector label value used to target dedicated Kubernetes nodes for udca runtime services. See Add node selectors.                                                                        |\n| udca.pollingIntervalInSec    | Version: 1.0.0 Default value: 1 The length of time, in seconds, that UDCA waits between polling operations. UDCA polls the data directory on the data collection pod's file system to detect new files to be uploaded.                                                           |\n| prometheus.sslCertPath     | Version: 1.0.0 Default value: none Required Path to the SSL cert for the Prometheus metrics collection process. Prometheus is a tool Apigee can use for collecting and processing metrics. See: metrics For background information, the Prometheus website                                                  |\n| nan         | nan                                                                                                                |\n| prometheus.sslKeyPath     | Version: 1.0.0 Default value: none Required Path to the SSL Key for the Prometheus metrics collection process. Prometheus is a tool Apigee can use for collecting and processing metrics. See: metrics For background information, the Prometheus website                                                  |\n| udca.replicaCountMax     | Version: 1.0.0 Default value: 4 The maximum number of pods that hybrid can automatically add for the UDCA deployment. Because UDCA is implemented as a ReplicaSet, the pods are replicas.                                                                  |\n| udca.replicaCountMin     | Version: 1.0.0 Default value: 1 The minimum number of pods for the UDCA deployment. Because UDCA is implemented as a ReplicaSet, the pods are replicas. If the CPU usage goes above udca.targetCPUUtilizationPercentage, then hybrid will gradually increase the number of pods, up to udca.replicaCountMax.                                     |\n| udca.resource.requests.cpu    | Version: 1.0.0 Default value: 250m The CPU needed for normal operation of the resource in a Kubernetes container, in millicores.                                                                                 |\n| udca.revision       | Version: 1 Default value: \"v1\" A static value that is populated in a label to enable canary deployments.                                                                                       |\n| udca.targetCPUUtilizationPercentage | Version: 1.0.0 Default value: 75 The threshold of CPU usage for scaling the number of pods in the ReplicaSet, as a percentage of total available CPU resources. Hybrid uses the combined utilization of all containers in the data collection pod (both fluentd and UDCA) to calculate the current utilization. When CPU usage goes above this value, then hybrid will gradually increase the number of pods in the ReplicaSet, up to udca.replicaCountMax. |\n| udca.terminationGracePeriodSeconds  | Version: 1.0.0 Default value: 600 The time between a request for pod deletion and when the pod is killed, in seconds. During this period, any prestop hooks will be executed and any running process should terminate gracefully.                                                        |", "guide": "Apigee"}