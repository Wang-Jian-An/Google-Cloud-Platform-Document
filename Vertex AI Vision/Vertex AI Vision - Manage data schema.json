{"title": "Vertex AI Vision - Manage data schema", "url": "https://cloud.google.com/vision-ai/docs/manage-dataschema-api?hl=zh-cn", "abstract": "# Vertex AI Vision - Manage data schema\nThe Vision Warehouse API allows you to manage Vision Warehouse resources using the command line.\n", "content": "## Create a data schema\nImage corpus can only create asset level granularity data schema. Streaming video corpus can create both asset level granularity data schema and partition level granularity data schema. Batch video corpus can create both asset level granularity data schema and partition level granularity data schema.\nBefore using any of the request data, make the following replacements:- : Endpoint might include a prefix matching the`LOCATION_ID`such as`europe-west4-`. See more about [ regionalized endpoints](/vision-ai/docs/warehouse-supported-regions) .\n- : Your Google Cloud [project number](/resource-manager/docs/creating-managing-projects#identifying_projects) .\n- : The [region](/about/locations) where you are using Vertex AI Vision. For example:`us-central1`,`europe-west4`. See [available regions](/vision-ai/docs/warehouse-supported-regions) .\n- : The ID of your target corpus.\n- : This key must match the key of a user-specified annotation and  unique inside a`corpus`. For example,`data-key`.\n- : The data type of the annotation. Available values are:- `DATA_TYPE_UNSPECIFIED`\n- `INTEGER`\n- `FLOAT`\n- `STRING`\n- `DATETIME`\n- `GEO_COORDINATE`\n- `PROTO_ANY`\n- `BOOLEAN`\nFor more information, see the [API  reference documentation](/vision-ai/docs/reference/rest/v1/projects.locations.corpora.dataSchemas#datatype) .\n- : The granularity of the annotations under this`dataSchema`. Available values are:- `GRANULARITY_UNSPECIFIED`- Unspecified granularity.\n- `GRANULARITY_ASSET_LEVEL`- Asset-level granularity (annotations must not  contain temporal partition information for the media asset).\n- `GRANULARITY_PARTITION_LEVEL`- Partition-level granularity (annotations must  contain temportal partition information for the media asset).\n- : One of the available enum values. The types of search strategies to be applied on the annotation key. Available values are:- `NO_SEARCH`\n- `EXACT_SEARCH`\n- `SMART_SEARCH`\nHTTP method and URL:\n```\nPOST https://warehouse-visionai.googleapis.com/v1/projects/PROJECT_NUMBER/locations/LOCATION_ID/corpora/CORPUS_ID/dataSchemas\n```\nRequest JSON body:\n```\n{\n \"key\": \"DATASCHEMA_KEY\",\n \"schema_details\": {\n \"type\": \"ANNOTATION_DATA_TYPE\",\n \"granularity\": \"ANNOTATION_GRANULARITY\",\n \"search_strategy\": {\n  \"search_strategy_type\": \"SEARCH_STRATEGY\"\n }\n }\n}\n```\nTo send your request, choose one of these options:\n **Note:** The following command assumes that you have logged in to  the`gcloud`CLI with your user account by running [gcloud init](/sdk/gcloud/reference/init) or [gcloud auth login](/sdk/gcloud/reference/auth/login) ,  or by using [Cloud Shell](/shell/docs) ,  which automatically logs you into the`gcloud`CLI.  You can check the currently active account by running [gcloud auth list](/sdk/gcloud/reference/auth/list) .\nSave the request body in a file named `request.json` ,  and execute the following command:\n```\ncurl -X POST \\ -H \"Authorization: Bearer $(gcloud auth print-access-token)\" \\ -H \"Content-Type: application/json; charset=utf-8\" \\ -d @request.json \\ \"https://warehouse-visionai.googleapis.com/v1/projects/PROJECT_NUMBER/locations/LOCATION_ID/corpora/CORPUS_ID/dataSchemas\"\n``` **Note:** The following command assumes that you have logged in to  the`gcloud`CLI with your user account by running [gcloud init](/sdk/gcloud/reference/init) or [gcloud auth login](/sdk/gcloud/reference/auth/login) ,  or by using [Cloud Shell](/shell/docs) ,  which automatically logs you into the`gcloud`CLI.  You can check the currently active account by running [gcloud auth list](/sdk/gcloud/reference/auth/list) .\nSave the request body in a file named `request.json` ,  and execute the following command:\n```\n$cred = gcloud auth print-access-token$headers = @{ \"Authorization\" = \"Bearer $cred\" }Invoke-WebRequest ` -Method POST ` -Headers $headers ` -ContentType: \"application/json; charset=utf-8\" ` -InFile request.json ` -Uri \"https://warehouse-visionai.googleapis.com/v1/projects/PROJECT_NUMBER/locations/LOCATION_ID/corpora/CORPUS_ID/dataSchemas\" | Select-Object -Expand Content\n```\nYou should receive a JSON response similar to the following:\n```\n{\n \"name\": \"projects/PROJECT_NUMBER/locations/LOCATION_ID/corpora/CORPUS_ID/dataSchemas/DATASCHEMA_ID\",\n \"key\": \"data-key\",\n \"schemaDetails\": {\n \"type\": \"BOOLEAN\",\n \"granularity\": \"GRANULARITY_ASSET_LEVEL\",\n \"searchStrategy\": {\n  \"search_strategy_type\": \"EXACT_SEARCH\"\n }\n }\n}\n```### Add custom struct data schema\nCustom struct allows users to define more complex containers to hold values and provide search capabilities. To use this feature, the data schema needs to be defined, for example:\nBefore using any of the request data, make the following replacements:- : Endpoint might include a prefix matching the`LOCATION_ID`such as`europe-west4-`. See more about [ regionalized endpoints](/vision-ai/docs/warehouse-supported-regions) .\n- : Your Google Cloud [project number](/resource-manager/docs/creating-managing-projects#identifying_projects) .\n- : The [region](/about/locations) where you are using Vertex AI Vision. For example:`us-central1`,`europe-west4`. See [available regions](/vision-ai/docs/warehouse-supported-regions) .\n- : The ID of your target corpus.\nHTTP method and URL:\n```\nPOST https://warehouse-visionai.googleapis.com/v1/projects/PROJECT_NUMBER/locations/LOCATION_ID/corpora/CORPUS_ID/dataSchemas\n```\nRequest JSON body:\n```\n{\n \"key\": \"person\",\n \"schema_details\" : {\n \"type\":\"CUSTOMIZED_STRUCT\",\n \"granularity\":\"GRANULARITY_ASSET_LEVEL\",\n \"customized_struct_config\": {\n  \"field_schemas\": {\n   \"name\": {\n   \"type\":\"STRING\",\n   \"granularity\":\"GRANULARITY_ASSET_LEVEL\",\n   \"search_strategy\": {\n    \"search_strategy_type\":\"EXACT_SEARCH\"\n   }\n   },\n   \"age\": {\n   \"type\":\"FLOAT\",\n   \"granularity\":\"GRANULARITY_ASSET_LEVEL\",\n   \"search_strategy\": {\n    \"search_strategy_type\":\"EXACT_SEARCH\"\n   }\n   }\n  }\n }\n }\n}\n```\nTo send your request, choose one of these options:\n **Note:** The following command assumes that you have logged in to  the`gcloud`CLI with your user account by running [gcloud init](/sdk/gcloud/reference/init) or [gcloud auth login](/sdk/gcloud/reference/auth/login) ,  or by using [Cloud Shell](/shell/docs) ,  which automatically logs you into the`gcloud`CLI.  You can check the currently active account by running [gcloud auth list](/sdk/gcloud/reference/auth/list) .\nSave the request body in a file named `request.json` ,  and execute the following command:\n```\ncurl -X POST \\ -H \"Authorization: Bearer $(gcloud auth print-access-token)\" \\ -H \"Content-Type: application/json; charset=utf-8\" \\ -d @request.json \\ \"https://warehouse-visionai.googleapis.com/v1/projects/PROJECT_NUMBER/locations/LOCATION_ID/corpora/CORPUS_ID/dataSchemas\"\n``` **Note:** The following command assumes that you have logged in to  the`gcloud`CLI with your user account by running [gcloud init](/sdk/gcloud/reference/init) or [gcloud auth login](/sdk/gcloud/reference/auth/login) ,  or by using [Cloud Shell](/shell/docs) ,  which automatically logs you into the`gcloud`CLI.  You can check the currently active account by running [gcloud auth list](/sdk/gcloud/reference/auth/list) .\nSave the request body in a file named `request.json` ,  and execute the following command:\n```\n$cred = gcloud auth print-access-token$headers = @{ \"Authorization\" = \"Bearer $cred\" }Invoke-WebRequest ` -Method POST ` -Headers $headers ` -ContentType: \"application/json; charset=utf-8\" ` -InFile request.json ` -Uri \"https://warehouse-visionai.googleapis.com/v1/projects/PROJECT_NUMBER/locations/LOCATION_ID/corpora/CORPUS_ID/dataSchemas\" | Select-Object -Expand Content\n```\nYou should receive a JSON response similar to the following:\n```\n{\n \"name\": \"projects/PROJECT_NUMBER/locations/LOCATION_ID/corpora/CORPUS_ID/dataSchemas/DATASCHEMA_ID\",\n \"key\": \"person\",\n \"schemaDetails\" : {\n \"type\":\"CUSTOMIZED_STRUCT\",\n \"granularity\":\"GRANULARITY_ASSET_LEVEL\",\n \"customized_struct_config\": {\n  \"field_schemas\": {\n   \"name\": {\n   \"type\":\"STRING\",\n   \"granularity\":\"GRANULARITY_ASSET_LEVEL\",\n   \"search_strategy\": {\n    \"search_strategy_type\":\"EXACT_SEARCH\"\n   }\n   },\n   \"age\": {\n   \"type\":\"FLOAT\",\n   \"granularity\":\"GRANULARITY_ASSET_LEVEL\",\n   \"search_strategy\": {\n    \"search_strategy_type\":\"EXACT_SEARCH\"\n   }\n   }\n  }\n }\n }\n}\n```\nAfter which, we can insert annotations\nBefore using any of the request data, make the following replacements:- : Endpoint might include a prefix matching the`LOCATION_ID`such as`europe-west4-`. See more about [ regionalized endpoints](/vision-ai/docs/warehouse-supported-regions) .\n- : Your Google Cloud [project number](/resource-manager/docs/creating-managing-projects#identifying_projects) .\n- : The [region](/about/locations) where you are using Vertex AI Vision. For example:`us-central1`,`europe-west4`. See [available regions](/vision-ai/docs/warehouse-supported-regions) .\n- : The ID of your target corpus.\n- : The ID of your target asset.\nHTTP method and URL:\n```\nPOST https://warehouse-visionai.googleapis.com/v1/projects/PROJECT_NUMBER/locations/LOCATION_ID/corpora/CORPUS_ID/assets/ASSET_ID/annotations\n```\nRequest JSON body:\n```\n{\n \"user_specified_annotation\" : {\n \"key\": \"person\",\n \"value\": {\n  \"customized_struct_value\":{\n  \"elements\" : {\n   \"name\": {\n   \"str_value\":\"John\"\n   },\n   \"age\": {\n   \"float_value\":10.5\n   }\n  }\n  }\n }\n }\n}\n```\nTo send your request, choose one of these options:\n **Note:** The following command assumes that you have logged in to  the`gcloud`CLI with your user account by running [gcloud init](/sdk/gcloud/reference/init) or [gcloud auth login](/sdk/gcloud/reference/auth/login) ,  or by using [Cloud Shell](/shell/docs) ,  which automatically logs you into the`gcloud`CLI.  You can check the currently active account by running [gcloud auth list](/sdk/gcloud/reference/auth/list) .\nSave the request body in a file named `request.json` ,  and execute the following command:\n```\ncurl -X POST \\ -H \"Authorization: Bearer $(gcloud auth print-access-token)\" \\ -H \"Content-Type: application/json; charset=utf-8\" \\ -d @request.json \\ \"https://warehouse-visionai.googleapis.com/v1/projects/PROJECT_NUMBER/locations/LOCATION_ID/corpora/CORPUS_ID/assets/ASSET_ID/annotations\"\n``` **Note:** The following command assumes that you have logged in to  the`gcloud`CLI with your user account by running [gcloud init](/sdk/gcloud/reference/init) or [gcloud auth login](/sdk/gcloud/reference/auth/login) ,  or by using [Cloud Shell](/shell/docs) ,  which automatically logs you into the`gcloud`CLI.  You can check the currently active account by running [gcloud auth list](/sdk/gcloud/reference/auth/list) .\nSave the request body in a file named `request.json` ,  and execute the following command:\n```\n$cred = gcloud auth print-access-token$headers = @{ \"Authorization\" = \"Bearer $cred\" }Invoke-WebRequest ` -Method POST ` -Headers $headers ` -ContentType: \"application/json; charset=utf-8\" ` -InFile request.json ` -Uri \"https://warehouse-visionai.googleapis.com/v1/projects/PROJECT_NUMBER/locations/LOCATION_ID/corpora/CORPUS_ID/assets/ASSET_ID/annotations\" | Select-Object -Expand Content\n```\nYou should receive a JSON response similar to the following:\n```\n{\n \"name\": \"projects/PROJECT_NUMBER/locations/LOCATION_ID/corpora/CORPUS_ID/assets/ASSET_ID/annotations/ANNOTATION_ID\",\n \"userSpecifiedAnnotation\": {\n \"key\": \"person\",\n \"value\": {\n  \"customized_struct_value\":{\n  \"elements\" : {\n   \"name\": {\n   \"str_value\":\"John\"\n   },\n   \"age\": {\n   \"float_value\":10.5\n   }\n  }\n  }\n }\n }\n}\n```\nOnce the annotation is indexed, a search request can be issued like so:\nBefore using any of the request data, make the following replacements:- : Endpoint might include a prefix matching the`LOCATION_ID`such as`europe-west4-`. See more about [ regionalized endpoints](/vision-ai/docs/warehouse-supported-regions) .\n- : Your Google Cloud [project number](/resource-manager/docs/creating-managing-projects#identifying_projects) .\n- : The [region](/about/locations) where you are using Vertex AI Vision. For example:`us-central1`,`europe-west4`. See [available regions](/vision-ai/docs/warehouse-supported-regions) .\n- : The ID of your target corpus.\nHTTP method and URL:\n```\nPOST https://warehouse-visionai.googleapis.com/v1/projects/PROJECT_NUMBER/locations/LOCATION_ID/corpora/CORPUS_ID:searchAssets\n```\nRequest JSON body:\n```\n{\n \"page_size\": 10,\n \"criteria\": {\n \"field\": \"person.name\",\n \"text_array\": {\n  \"txt_values\": \"John\"\n },\n },\n}\n```\nTo send your request, choose one of these options:\n **Note:** The following command assumes that you have logged in to  the`gcloud`CLI with your user account by running [gcloud init](/sdk/gcloud/reference/init) or [gcloud auth login](/sdk/gcloud/reference/auth/login) ,  or by using [Cloud Shell](/shell/docs) ,  which automatically logs you into the`gcloud`CLI.  You can check the currently active account by running [gcloud auth list](/sdk/gcloud/reference/auth/list) .\nSave the request body in a file named `request.json` ,  and execute the following command:\n```\ncurl -X POST \\ -H \"Authorization: Bearer $(gcloud auth print-access-token)\" \\ -H \"Content-Type: application/json; charset=utf-8\" \\ -d @request.json \\ \"https://warehouse-visionai.googleapis.com/v1/projects/PROJECT_NUMBER/locations/LOCATION_ID/corpora/CORPUS_ID:searchAssets\"\n``` **Note:** The following command assumes that you have logged in to  the`gcloud`CLI with your user account by running [gcloud init](/sdk/gcloud/reference/init) or [gcloud auth login](/sdk/gcloud/reference/auth/login) ,  or by using [Cloud Shell](/shell/docs) ,  which automatically logs you into the`gcloud`CLI.  You can check the currently active account by running [gcloud auth list](/sdk/gcloud/reference/auth/list) .\nSave the request body in a file named `request.json` ,  and execute the following command:\n```\n$cred = gcloud auth print-access-token$headers = @{ \"Authorization\" = \"Bearer $cred\" }Invoke-WebRequest ` -Method POST ` -Headers $headers ` -ContentType: \"application/json; charset=utf-8\" ` -InFile request.json ` -Uri \"https://warehouse-visionai.googleapis.com/v1/projects/PROJECT_NUMBER/locations/LOCATION_ID/corpora/CORPUS_ID:searchAssets\" | Select-Object -Expand Content\n```\nYou should receive a JSON response similar to the following:\n## Update a data schema\nThe following code updates a `dataSchema` using the [projects.locations.corpora.dataSchemas.patch](/vision-ai/docs/reference/rest/v1/projects.locations.corpora.dataSchemas/patch) method.\nThis sample uses `?updateMask=schemaDetails.type,schemaDetails.granularity` in the request URL. It includes `schemaDetails.type` and `schemaDetails.granularity` values in the request body to update the data schema.\nBefore using any of the request data, make the following replacements:- : Endpoint might include a prefix matching the`LOCATION_ID`such as`europe-west4-`. See more about [ regionalized endpoints](/vision-ai/docs/warehouse-supported-regions) .\n- : Your Google Cloud [project number](/resource-manager/docs/creating-managing-projects#identifying_projects) .\n- : The [region](/about/locations) where you are using Vertex AI Vision. For example:`us-central1`,`europe-west4`. See [available regions](/vision-ai/docs/warehouse-supported-regions) .\n- : The ID of your target corpus.\n- : The ID of your target data schema.\n- `?updateMask=` ``: One of the available fields you can apply an`updateMask`to. Specify the corresponding new field value in the request body. This new value replaces the existing field value. Available fields:- Key:`?updateMask=key`\n- Schema type:`?updateMask=schemaDetails.type`\n- Schema granularity:`?updateMask=schemaDetails.granularity`\n- Schema search strategy type:`?updateMask=schemaDetails.searchStrategy.searchStrategyType`\n- Update all fields:`?updateMask=*`HTTP method and URL:\n```\nPATCH https://warehouse-visionai.googleapis.com/v1/projects/PROJECT_NUMBER/locations/LOCATION_ID/corpora/CORPUS_ID/dataSchemas/DATASCHEMA_ID?updateMask=schemaDetails.type,schemaDetails.granularity\n```\nRequest JSON body:\n```\n{\n \"key\": \"original-data-key\",\n \"schemaDetails\": {\n \"type\":\"INTEGER\",\n \"granularity\":\"GRANULARITY_PARTITION_LEVEL\"\n \"searchStrategy\": {\n  \"searchStrategyType\": \"NO_SEARCH\"\n }\n }\n}\n```\nTo send your request, choose one of these options:\n **Note:** The following command assumes that you have logged in to  the`gcloud`CLI with your user account by running [gcloud init](/sdk/gcloud/reference/init) or [gcloud auth login](/sdk/gcloud/reference/auth/login) ,  or by using [Cloud Shell](/shell/docs) ,  which automatically logs you into the`gcloud`CLI.  You can check the currently active account by running [gcloud auth list](/sdk/gcloud/reference/auth/list) .\nSave the request body in a file named `request.json` ,  and execute the following command:\n```\ncurl -X PATCH \\ -H \"Authorization: Bearer $(gcloud auth print-access-token)\" \\ -H \"Content-Type: application/json; charset=utf-8\" \\ -d @request.json \\ \"https://warehouse-visionai.googleapis.com/v1/projects/PROJECT_NUMBER/locations/LOCATION_ID/corpora/CORPUS_ID/dataSchemas/DATASCHEMA_ID?updateMask=schemaDetails.type,schemaDetails.granularity\"\n``` **Note:** The following command assumes that you have logged in to  the`gcloud`CLI with your user account by running [gcloud init](/sdk/gcloud/reference/init) or [gcloud auth login](/sdk/gcloud/reference/auth/login) ,  or by using [Cloud Shell](/shell/docs) ,  which automatically logs you into the`gcloud`CLI.  You can check the currently active account by running [gcloud auth list](/sdk/gcloud/reference/auth/list) .\nSave the request body in a file named `request.json` ,  and execute the following command:\n```\n$cred = gcloud auth print-access-token$headers = @{ \"Authorization\" = \"Bearer $cred\" }Invoke-WebRequest ` -Method PATCH ` -Headers $headers ` -ContentType: \"application/json; charset=utf-8\" ` -InFile request.json ` -Uri \"https://warehouse-visionai.googleapis.com/v1/projects/PROJECT_NUMBER/locations/LOCATION_ID/corpora/CORPUS_ID/dataSchemas/DATASCHEMA_ID?updateMask=schemaDetails.type,schemaDetails.granularity\" | Select-Object -Expand Content\n```\nYou should receive a JSON response similar to the following:\n```\n{\n \"name\": \"projects/PROJECT_NUMBER/locations/LOCATION_ID/corpora/CORPUS_ID/dataSchemas/DATASCHEMA_ID\",\n \"key\": \"original-data-key\",\n \"schemaDetails\": {\n \"type\": \"INTEGER\",\n \"granularity\": \"GRANULARITY_PARTITION_LEVEL\",\n \"searchStrategy\": {\n  \"searchStrategyType\": \"NO_SEARCH\"\n }\n }\n}\n```\n## List data schema in a corpus\nList all `DataSchema` under a specific corpus. The response contains all `DataSchema` resources, each with a `DataSchema` resource name that can be used to get a specific `DataSchema` .\nTo list data schema, send a GET request by using the [projects.locations.corpora.dataSchemas.list](/vision-ai/docs/reference/rest/v1/projects.locations.corpora.dataSchemas/list) method.\nBefore using any of the request data, make the following replacements:- : Endpoint might include a prefix matching the`LOCATION_ID`such as`europe-west4-`. See more about [ regionalized endpoints](/vision-ai/docs/warehouse-supported-regions) .\n- : Your Google Cloud [project number](/resource-manager/docs/creating-managing-projects#identifying_projects) .\n- : The [region](/about/locations) where you are using Vertex AI Vision. For example:`us-central1`,`europe-west4`. See [available regions](/vision-ai/docs/warehouse-supported-regions) .\n- : The ID of your target corpus.\nHTTP method and URL:\n```\nGET https://warehouse-visionai.googleapis.com/v1/projects/PROJECT_NUMBER/locations/LOCATION_ID/corpora/CORPUS_ID/dataSchemas\n```\nTo send your request, choose one of these options:\n **Note:** The following command assumes that you have logged in to  the`gcloud`CLI with your user account by running [gcloud init](/sdk/gcloud/reference/init) or [gcloud auth login](/sdk/gcloud/reference/auth/login) ,  or by using [Cloud Shell](/shell/docs) ,  which automatically logs you into the`gcloud`CLI.  You can check the currently active account by running [gcloud auth list](/sdk/gcloud/reference/auth/list) .\nExecute the following command:\n```\ncurl -X GET \\ -H \"Authorization: Bearer $(gcloud auth print-access-token)\" \\ \"https://warehouse-visionai.googleapis.com/v1/projects/PROJECT_NUMBER/locations/LOCATION_ID/corpora/CORPUS_ID/dataSchemas\"\n``` **Note:** The following command assumes that you have logged in to  the`gcloud`CLI with your user account by running [gcloud init](/sdk/gcloud/reference/init) or [gcloud auth login](/sdk/gcloud/reference/auth/login) ,  or by using [Cloud Shell](/shell/docs) ,  which automatically logs you into the`gcloud`CLI.  You can check the currently active account by running [gcloud auth list](/sdk/gcloud/reference/auth/list) .\nExecute the following command:\n```\n$cred = gcloud auth print-access-token$headers = @{ \"Authorization\" = \"Bearer $cred\" }Invoke-WebRequest ` -Method GET ` -Headers $headers ` -Uri \"https://warehouse-visionai.googleapis.com/v1/projects/PROJECT_NUMBER/locations/LOCATION_ID/corpora/CORPUS_ID/dataSchemas\" | Select-Object -Expand Content\n```\nYou should receive a JSON response similar to the following:\n```\n{\n \"dataSchemas\": [ {\n  \"name\": \"projects/PROJECT_NUMBER/locations/LOCATION_ID/corpora/CORPUS_ID/dataSchemas/KEY_STRING1\",\n  \"key\": \"KEY_STRING1\",\n  \"schemaDetails\": {\n  \"type\": \"STRING\",\n  \"granularity\": \"GRANULARITY_ASSET_LEVEL\",\n  \"searchStrategy\": {\n   \"searchStrategyType\": \"EXACT_SEARCH\"\n  }\n  }\n },\n {\n  \"name\": \"projects/PROJECT_NUMBER/locations/LOCATION_ID/corpora/CORPUS_ID/dataSchemas/KEY_STRING2\",\n  \"key\": \"KEY_STRING2\",\n  \"schemaDetails\": {\n  \"type\": \"PROTO_ANY\",\n  \"granularity\": \"GRANULARITY_PARTITION_LEVEL\",\n  \"protoAnyConfig\": {\n   \"typeUri\": \"type.googleapis.com/google.cloud.visionai.v1.VideoActionRecognitionPredictionResult\"\n  },\n  \"searchStrategy\": {\n   \"searchStrategyType\": \"SMART_SEARCH\"\n  }\n  }\n }\n ]\n}\n```\n## Get a data schema\nGet the `DataSchema` of a specific `DataSchema` resource name.\nTo get details about a specific data schema, send a GET request by using the [projects.locations.corpora.dataSchemas.get](/vision-ai/docs/reference/rest/v1/projects.locations.corpora.dataSchemas/get) method.\nBefore using any of the request data, make the following replacements:- : Endpoint might include a prefix matching the`LOCATION_ID`such as`europe-west4-`. See more about [ regionalized endpoints](/vision-ai/docs/warehouse-supported-regions) .\n- : Your Google Cloud [project number](/resource-manager/docs/creating-managing-projects#identifying_projects) .\n- : The [region](/about/locations) where you are using Vertex AI Vision. For example:`us-central1`,`europe-west4`. See [available regions](/vision-ai/docs/warehouse-supported-regions) .\n- : The ID of your target corpus.\n- : The ID of your target data schema.\nHTTP method and URL:\n```\nGET https://warehouse-visionai.googleapis.com/v1/projects/PROJECT_NUMBER/locations/LOCATION_ID/corpora/CORPUS_ID/dataSchemas/DATASCHEMA_ID\n```\nTo send your request, choose one of these options:\n **Note:** The following command assumes that you have logged in to  the`gcloud`CLI with your user account by running [gcloud init](/sdk/gcloud/reference/init) or [gcloud auth login](/sdk/gcloud/reference/auth/login) ,  or by using [Cloud Shell](/shell/docs) ,  which automatically logs you into the`gcloud`CLI.  You can check the currently active account by running [gcloud auth list](/sdk/gcloud/reference/auth/list) .\nExecute the following command:\n```\ncurl -X GET \\ -H \"Authorization: Bearer $(gcloud auth print-access-token)\" \\ \"https://warehouse-visionai.googleapis.com/v1/projects/PROJECT_NUMBER/locations/LOCATION_ID/corpora/CORPUS_ID/dataSchemas/DATASCHEMA_ID\"\n``` **Note:** The following command assumes that you have logged in to  the`gcloud`CLI with your user account by running [gcloud init](/sdk/gcloud/reference/init) or [gcloud auth login](/sdk/gcloud/reference/auth/login) ,  or by using [Cloud Shell](/shell/docs) ,  which automatically logs you into the`gcloud`CLI.  You can check the currently active account by running [gcloud auth list](/sdk/gcloud/reference/auth/list) .\nExecute the following command:\n```\n$cred = gcloud auth print-access-token$headers = @{ \"Authorization\" = \"Bearer $cred\" }Invoke-WebRequest ` -Method GET ` -Headers $headers ` -Uri \"https://warehouse-visionai.googleapis.com/v1/projects/PROJECT_NUMBER/locations/LOCATION_ID/corpora/CORPUS_ID/dataSchemas/DATASCHEMA_ID\" | Select-Object -Expand Content\n```\nYou should receive a JSON response similar to the following:\n```\n{\n \"name\": \"projects/PROJECT_NUMBER/locations/LOCATION_ID/corpora/CORPUS_ID/dataSchemas/KEY_STRING\",\n \"key\": \"KEY_STRING\",\n \"schemaDetails\": {\n \"type\": \"STRING\",\n \"granularity\": \"GRANULARITY_ASSET_LEVEL\",\n \"searchStrategy\": {\n  \"searchStrategyType\": \"EXACT_SEARCH\"\n }\n }\n}\n```\n## Delete a data schema\nThe following code sample deletes a warehouse `dataSchema` using the [projects.locations.corpora.dataSchemas.delete](/vision-ai/docs/reference/rest/v1/projects.locations.corpora.dataSchemas/delete) method.\nBefore using any of the request data, make the following replacements:- : Endpoint might include a prefix matching the`LOCATION_ID`such as`europe-west4-`. See more about [ regionalized endpoints](/vision-ai/docs/warehouse-supported-regions) .\n- : Your Google Cloud [project number](/resource-manager/docs/creating-managing-projects#identifying_projects) .\n- : The [region](/about/locations) where you are using Vertex AI Vision. For example:`us-central1`,`europe-west4`. See [available regions](/vision-ai/docs/warehouse-supported-regions) .\n- : The ID of your target corpus.\n- : The ID of your target data schema.\nHTTP method and URL:\n```\nDELETE https://warehouse-visionai.googleapis.com/v1/projects/PROJECT_NUMBER/locations/LOCATION_ID/corpora/CORPUS_ID/dataSchemas/DATASCHEMA_ID\n```\nTo send your request, choose one of these options:\n **Note:** The following command assumes that you have logged in to  the`gcloud`CLI with your user account by running [gcloud init](/sdk/gcloud/reference/init) or [gcloud auth login](/sdk/gcloud/reference/auth/login) ,  or by using [Cloud Shell](/shell/docs) ,  which automatically logs you into the`gcloud`CLI.  You can check the currently active account by running [gcloud auth list](/sdk/gcloud/reference/auth/list) .\nExecute the following command:\n```\ncurl -X DELETE \\ -H \"Authorization: Bearer $(gcloud auth print-access-token)\" \\ \"https://warehouse-visionai.googleapis.com/v1/projects/PROJECT_NUMBER/locations/LOCATION_ID/corpora/CORPUS_ID/dataSchemas/DATASCHEMA_ID\"\n``` **Note:** The following command assumes that you have logged in to  the`gcloud`CLI with your user account by running [gcloud init](/sdk/gcloud/reference/init) or [gcloud auth login](/sdk/gcloud/reference/auth/login) ,  or by using [Cloud Shell](/shell/docs) ,  which automatically logs you into the`gcloud`CLI.  You can check the currently active account by running [gcloud auth list](/sdk/gcloud/reference/auth/list) .\nExecute the following command:\n```\n$cred = gcloud auth print-access-token$headers = @{ \"Authorization\" = \"Bearer $cred\" }Invoke-WebRequest ` -Method DELETE ` -Headers $headers ` -Uri \"https://warehouse-visionai.googleapis.com/v1/projects/PROJECT_NUMBER/locations/LOCATION_ID/corpora/CORPUS_ID/dataSchemas/DATASCHEMA_ID\" | Select-Object -Expand Content\n```\nYou should receive a JSON response similar to the following:\n```\n{}\n```\n## Modify warehouse schema details (console)\nSchema fields are generated from the models through the applications. You can also [add custom fields](/vision-ai/docs/search-cli-streaming-warehouse#create-searchconfig) .\nAfter you modify the facetable fields, you can use them to [search](/vision-ai/docs/search-streaming-warehouse) your warehouse.\n- Open the **Warehouses** tab of the Vertex AI Vision dashboard. [Go to the Warehouses tab](https://console.cloud.google.com/ai/vision-ai/media-warehouse) \n- Find your warehouse corpus, and select its name. The **Warehouse Details** page appears.\n- Select the fields you want to enable for search.", "guide": "Vertex AI Vision"}