{"title": "Google Kubernetes Engine (GKE) - PodSecurityPolicy \u68c4\u7528", "url": "https://cloud.google.com/kubernetes-engine/docs/deprecations/podsecuritypolicy?hl=zh-cn", "abstract": "# Google Kubernetes Engine (GKE) - PodSecurityPolicy \u68c4\u7528\nPodSecurityPolicy\uff08Beta \u7248\uff09\u5728 Kubernetes 1.21 \u7248\u4e2d\u5df2\u68c4\u7528\uff0c\u5728 1.25 \u7248\u4e2d\u5df2\u79fb\u9664\u3002\u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1 [PodSecurityPolicy \u68c4\u7528\u76f8\u95dc\u535a\u6587](https://kubernetes.io/blog/2021/04/06/podsecuritypolicy-deprecation-past-present-and-future/) \u3002 \u5c0d\u65bc\u904b\u884c 1.25 \u6216\u66f4\u9ad8\u7248\u672c\u7684 Google Kubernetes Engine (GKE) \u96c6\u7fa3\uff0c\u60a8\u5c07\u7121\u6cd5\u518d\u4f7f\u7528 PodSecurityPolicy\uff0c\u4e26\u4e14\u5fc5\u9808\u5728\u5347\u7d1a\u5230 1.25 \u7248\u6216\u66f4\u9ad8\u7248\u672c\u4e4b\u524d\u505c\u7528\u8a72\u529f\u80fd\u3002\u6709\u95dc\u8aaa\u660e\uff0c\u8acb\u53c3\u95b1 [\u5f9e PodSecurityPolicy \u9077\u79fb](https://cloud.google.com/kubernetes-engine/docs/how-to/migrate-podsecuritypolicy?hl=zh-cn#disable-psp) \u3002\n**\u91cd\u8981\u63d0\u793a\uff1a** 2024 \u5e74 1 \u6708 8 \u65e5\u4e4b\u5f8c\uff08 [1.24 \u670d\u52d9\u7d42\u6b62](https://cloud.google.com/kubernetes-engine/docs/release-schedule?hl=zh-cn#schedule-for-release-channels) \u6642\uff09\uff0cGKE \u5c07\u958b\u59cb\u81ea\u52d5\u5c07\u4ecd\u5728\u4f7f\u7528 1.24 \u7248\u548c\u5df2\u68c4\u7528 API\uff081.25 \u7248\u4e2d\u5df2\u79fb\u9664\uff09\u7684\u96c6\u7fa3\u5347\u7d1a\u5230 1.25 \u7248\u3002\u81ea 2023 \u5e74 10 \u6708 31 \u65e5\u8d77\uff0c\u6211\u5011\u5c07\u6b64\u65e5\u671f\u5ef6\u9577\u81f3\u5927\u7d04 2023 \u5e74\u5e74\u5e95\u5047\u671f\u4ee5\u6700\u5927\u9650\u5ea6\u5730\u6e1b\u5c11\u4e2d\u65b7\uff0c\u5728\u6b64\u5ef6\u9577\u6642\u6bb5\u5167\u6211\u5011\u50c5\u91dd\u5c0d\u56b4\u91cd\u6f0f\u6d1e\u63d0\u4f9b\u88dc\u4e01\u3002\u5982\u9700\u8a73\u7d30\u77ad\u89e3 GKE \u6b21\u8981\u7248\u672c\u751f\u547d\u9031\u671f\uff0c\u8acb\u53c3\u95b1 [GKE \u7248\u672c\u63a7\u5236\u548c\u652f\u6301](https://cloud.google.com/kubernetes-engine/versioning?hl=zh-cn) \u3002\u5c0d\u65bc\u4ecd\u5728\u4f7f\u7528 1.25 \u7248\u4e2d\u79fb\u9664\u7684\u5df2\u68c4\u7528 API\uff08\u5305\u62ec [Beta \u7248 API](https://cloud.google.com/kubernetes-engine/docs/deprecations/apis-1-25?hl=zh-cn) \u548c [PodSecurityPolicy](https://cloud.google.com/kubernetes-engine/docs/deprecations/podsecuritypolicy?hl=zh-cn) \uff09\u7684\u96c6\u7fa3\uff0cGKE \u6703\u7e7c\u7e8c [\u66ab\u505c\u81ea\u52d5\u5347\u7d1a](https://cloud.google.com/kubernetes-engine/docs/deprecations?hl=zh-cn#how_kubernetes_deprecations_work_with) \uff0c\u76f4\u5230 2024 \u5e74 1 \u6708 8 \u65e5\u7232\u6b62\u3002\u6211\u5011\u5efa\u8b70\u60a8\u5118\u5feb\u5c07\u96c6\u7fa3\u5347\u7d1a\u5230 1.25 \u7248\uff0c\u56e0\u7232\u5df2\u9054\u5230\u670d\u52d9\u7d42\u6b62\u671f\u9650\u7684 GKE \u6b21\u8981\u7248\u672c\u5c07\u4e0d\u6703\u518d\u6536\u5230\u5b89\u5168\u88dc\u4e01\u548c bug \u4fee\u5fa9\u3002\n", "content": "## PodSecurityPolicy \u7684\u66ff\u4ee3\u65b9\u6848\n\u5982\u679c\u60a8\u5e0c\u671b\u5728 GKE \u4e2d\u7e7c\u7e8c\u4f7f\u7528 Pod \u7d1a\u5c64\u7684\u5b89\u5168\u63a7\u5236\u63aa\u65bd\uff0c\u6211\u5011\u5efa\u8b70\u60a8\u63a1\u7528\u4ee5\u4e0b\u89e3\u6c7a\u65b9\u6848\u4e4b\u4e00\uff1a\n- **\u4f7f\u7528 PodSecurity \u51c6\u5165\u63a7\u5236\u5668** \uff1a\u60a8\u53ef\u4ee5\u4f7f\u7528 [PodSecurity \u51c6\u5165\u63a7\u5236\u5668](https://cloud.google.com/kubernetes-engine/docs/how-to/podsecurityadmission?hl=zh-cn) \uff0c\u5c07 Pod \u5b89\u5168\u6a19\u6e96\u61c9\u7528\u65bc\u5728 GKE Standard \u96c6\u7fa3\u548c Autopilot \u96c6\u7fa3\u4e0a\u904b\u884c\u7684 Pod\u3002Pod \u5b89\u5168\u6a19\u6e96\u662f\u9810\u5b9a\u7fa9\u7684\u5b89\u5168\u653f\u7b56\uff0c\u53ef\u6eff\u8db3 Kubernetes \u4e2d Pod \u5b89\u5168\u6027\u7684\u9ad8\u5c64\u6b21\u9700\u6c42\u3002\u9019\u4e9b\u653f\u7b56\u662f\u7d2f\u7a4d\u5f0f\u7684\uff0c\u5f9e\u9ad8\u5ea6\u5bec\u9b06\u5230\u9ad8\u5ea6\u56b4\u683c\u3002\u5982\u9700\u5c07\u73fe\u6709 PodSecurityPolicy \u914d\u7f6e\u9077\u79fb\u5230 `PodSecurity` \uff0c\u8acb\u53c3\u95b1 [\u5f9e PodSecurityPolicy \u9077\u79fb](https://cloud.google.com/kubernetes-engine/docs/how-to/migrate-podsecuritypolicy?hl=zh-cn) \u3002\n- **\u5c07 Policy Controller \u8207 Pod \u5b89\u5168\u653f\u7b56\u5305\u642d\u914d\u4f7f\u7528** \uff1aPolicy Controller \u4f7f\u60a8\u53ef\u4ee5\u5728 GKE \u96c6\u7fa3\u4e2d\u61c9\u7528\u548c\u5f37\u5236\u57f7\u884c\u5b89\u5168\u653f\u7b56\u3002\u8207 Pod \u5b89\u5168\u653f\u7b56\u5305\u4e00\u6a23\uff0cPolicy Controller [\u5305](https://cloud.google.com/anthos-config-management/docs/concepts/policy-controller-bundles?hl=zh-cn) \u53ef\u8b93\u60a8\u5f37\u5236\u57f7\u884c\u8207 PodSecurityPolicy \u76f8\u540c\u7684\u9a57\u8b49\uff0c\u4e26\u5177\u6709\u8a66\u904b\u884c\u548c\u7cbe\u7d30\u63a7\u5236\u8cc7\u6e90\u8986\u84cb\u7b49\u529f\u80fd\u3002\u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1 [\u4f7f\u7528 Policy Controller \u7684 Pod \u5b89\u5168\u653f\u7b56\u5305](https://cloud.google.com/anthos-config-management/docs/how-to/using-constraints-to-enforce-pod-security?hl=zh-cn) \u3002\n- **\u4f7f\u7528 Gatekeeper** \uff1a\u901a\u904e GKE Standard \u96c6\u7fa3\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528 Gatekeeper \u61c9\u7528\u5b89\u5168\u653f\u7b56\u3002\u60a8\u53ef\u4ee5\u4f7f\u7528 Gatekeeper \u5f37\u5236\u57f7\u884c\u8207 PodSecurityPolicy \u76f8\u540c\u7684\u529f\u80fd\uff0c\u4e26\u5229\u7528\u5176\u4ed6\u529f\u80fd\uff0c\u4f8b\u5982\u8a66\u904b\u884c\u3001\u9010\u6b65\u63a8\u51fa\u548c\u5be9\u8988\u3002\u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1 [\u4f7f\u7528 Gatekeeper \u4ee5\u61c9\u7528\u81ea\u5b9a\u7fa9 Pod \u7d1a\u5c64\u5b89\u5168\u653f\u7b56](https://cloud.google.com/kubernetes-engine/docs/how-to/pod-security-policies-with-gatekeeper?hl=zh-cn) \u3002\n- **\u4f7f\u7528 GKE Autopilot \u96c6\u7fa3** \uff1a\u9ed8\u8a8d\u60c5\u6cc1\u4e0b\uff0cGKE Autopilot \u96c6\u7fa3\u6703\u5be6\u65bd\u8a31\u591a\u63a8\u85a6\u7684\u5b89\u5168\u653f\u7b56\u3002\u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1 [Autopilot \u6982\u89bd](https://cloud.google.com/kubernetes-engine/docs/concepts/autopilot-overview?hl=zh-cn) \u3002## \u67e5\u770b\u68c4\u7528\u63d0\u793a\u548c\u5efa\u8b70\n\u60a8\u53ef\u4ee5\u4f7f\u7528 [\u68c4\u7528\u63d0\u793a](https://cloud.google.com/kubernetes-engine/docs/deprecations/viewing-deprecation-insights-and-recommendations?hl=zh-cn#view-deprecation-insights-recs) \u4f86\u6aa2\u67e5\u54ea\u4e9b\u96c6\u7fa3\u6b63\u5728\u4f7f\u7528\u6b64\u5df2\u68c4\u7528\u7684\u529f\u80fd\u3002\u904b\u884c\u4efb\u4f55 GKE \u7248\u672c\u7684\u96c6\u7fa3\u5747\u652f\u6301\u5c0d\u6b64\u529f\u80fd\u4f7f\u7528\u68c4\u7528\u63d0\u793a\u3002", "guide": "Google Kubernetes Engine (GKE)"}