{"title": "Google Kubernetes Engine (GKE) - Create clusters and node pools with Arm nodes", "url": "https://cloud.google.com/kubernetes-engine/docs/how-to/create-arm-clusters-nodes", "abstract": "# Google Kubernetes Engine (GKE) - Create clusters and node pools with Arm nodes\nThis page explains how to create a GKE Standard cluster or node pool with Arm nodes, so that you can run Arm workloads on Google Kubernetes Engine (GKE). To learn how to deploy Arm workloads on Autopilot clusters, see [Deploy Autopilot workloads on Arm architecture](/kubernetes-engine/docs/how-to/autopilot-arm-workloads) .\nThe [Tau T2A machine series](/compute/docs/instances/arm-on-compute#tau_t2a_machine_series) is the first Arm-based machine series available with Google Cloud. To learn more about the benefits of Arm and choose the best machine series for your workloads, see [Arm VMs on Compute](/compute/docs/instances/arm-on-compute) .\nWith GKE, you can create a cluster that has node pools with one architecture type (for example, Arm), or multiple architecture types (for example, Arm and x86). When you run nodes with multiple architecture types, you can deploy workloads across architectures to the same cluster.\nTo learn more about using Arm nodes with your GKE clusters, see [Arm workloads on GKE](/kubernetes-engine/docs/concepts/arm-on-gke) .\n", "content": "## Before you begin\nBefore you start, make sure you have performed the following tasks:\n- Enable    the Google Kubernetes Engine API.\n- [    Enable Google Kubernetes Engine API   ](https://console.cloud.google.com/flows/enableapi?apiid=container.googleapis.com) \n- If you want to use the Google Cloud CLI for this task, [install](/sdk/docs/install) and then [initialize](/sdk/docs/initializing) the  gcloud CLI. If you previously installed the gcloud CLI, get the latest  version by running`gcloud components update`. **Note:** For existing gcloud CLI  installations, make sure to set the`compute/region`and`compute/zone` [properties](/sdk/docs/properties#setting_properties) . By setting default locations,  you can avoid errors in gcloud CLI like the following:`One of [--zone, --region] must be supplied: Please specify location`.\n- **To create a cluster with Arm nodes, you must use GKE version 1.24 or later.** Make sure to review the full list of [requirements and limitations for Arm nodes](/kubernetes-engine/docs/concepts/arm-on-gke#arm-requirements-limitations) .\n- Ensure that you have the correct permissions to create clusters. At minimum, you should be a [Kubernetes Engine Cluster Admin](/iam/docs/understanding-roles#kubernetes-engine-roles) .## Create a cluster with an Arm node pool\nThe following instructions explain how to create a new cluster with a node pool running Arm nodes from the [Tau T2A machine series](/compute/docs/instances/arm-on-compute#tau_t2a_machine_series) .\nYou can use the gcloud CLI or the Google Cloud console to create the cluster.\nCreate a new zonal cluster with the default node pool using Arm nodes:\n```\ngcloud container clusters create CLUSTER_NAME \\\u00a0 \u00a0 --zone ZONE \u00a0\\\u00a0 \u00a0 --node-locations NODE_LOCATIONS \\\u00a0 \u00a0 --machine-type T2A_MACHINE_TYPE \\\u00a0 \u00a0 --num-nodes NUM_NODES\n```\nReplace the following:- ``: the name of your new cluster with an Arm node pool.\n- ``: the zone for your cluster, such as`us-central1-a`. The zone must be one of the [available zones](/kubernetes-engine/docs/concepts/arm-on-gke#arm-requirements-limitations) for the Tau T2A machine series. To create a regional cluster, use the`--region=` ``flag. The region must be one of the [available regions](/kubernetes-engine/docs/concepts/arm-on-gke#arm-requirements-limitations) for the Tau T2A machine series.\n- ``: the zone(s) for your node pool, such as`us-central1-a`. You must choose from the [available zones](/kubernetes-engine/docs/concepts/arm-on-gke#arm-requirements-limitations) for the Tau T2A machine series or node pool creation might fail.\n- ``: one of the [available T2A machine shapes](/compute/docs/general-purpose-machines#t2a_machines) , such as`t2a-standard-16`.\n- ``: the number of nodes for your Arm node pool.\nIf you want to set additional settings for your cluster, see the [gcloud container clusters create](/sdk/gcloud/reference/container/clusters/create) reference for a complete list of available settings on cluster creation.- Go to the **Google Kubernetes Engine** page in the Google Cloud console. [Go to Google Kubernetes Engine](https://console.cloud.google.com/kubernetes/list) \n- Click **Create** .\n- Configure your cluster as desired. For more information, see the instructions for [Creating a zonal cluster](/kubernetes-engine/docs/how-to/creating-a-zonal-cluster) , or [Creating a regional cluster](/kubernetes-engine/docs/how-to/creating-a-regional-cluster) .\n- Choose a location where Arm nodes are available.- In the **Cluster basics** section, under **Location type** , choose Zonal or Regional:\n- In the dropdown menu, choose a zone or region [where Arm nodes are available](/kubernetes-engine/docs/concepts/arm-on-gke#arm-requirements-limitations) .\n- Check the box to **Specify default node locations** . Select zone(s) [where Arm nodes are available](/kubernetes-engine/docs/concepts/arm-on-gke#arm-requirements-limitations) .\n- To select an Arm machine type, in the **Nodes** subsection, under **Configure node settings > Machine configuration > Machine family** , select **GENERAL-PURPOSE** . In the **Series** dropdown menu, select T2A. In the **Machine type** dropdown menu, choose from the available options.\n- Click **Create** .## Add an Arm node pool to a GKE cluster\nYou can add a new node pool to a GKE Standard cluster using gcloud CLI or the Google Cloud console.\nAs a best practice for creating a GKE cluster using any types of nodes, we recommend that you create and use a minimally-privileged Identity and Access Management (IAM) service account for your node pools to use instead of the [Compute Engine default service account](/compute/docs/access/service-accounts#default_service_account) . For instructions on creating a minimally-privileged service account, refer to [Hardening your cluster's security](/kubernetes-engine/docs/how-to/hardening-your-cluster#use_least_privilege_sa) .\nAdd an Arm node pool to an existing cluster:\n```\ngcloud container node-pools create NODE_POOL_NAME \\\u00a0 \u00a0 --cluster CLUSTER_NAME \\\u00a0 \u00a0 --zone ZONE \\\u00a0 \u00a0 --node-locations NODE_LOCATIONS \\\u00a0 \u00a0 --machine-type T2A_MACHINE_TYPE \\\u00a0 \u00a0 --num-nodes NUM_NODES \\\u00a0 \u00a0 --service-account SERVICE_ACCOUNT\n```\nReplace the following:- ``: the name of the new Arm node pool for your existing cluster.\n- ``: the zone of the existing cluster. For a regional cluster, use the`--region=` ``flag with the region of the cluster.\n- ``: the name of the cluster where you want to add an Arm node pool.\n- ``: the zone(s) for your node pool, such as`us-central1-a`. You must choose from the [available zones](/kubernetes-engine/docs/concepts/arm-on-gke#arm-requirements-limitations) for the Tau T2A machine series or node pool creation might fail.\n- ``: one of the [available T2A machine shapes](/compute/docs/general-purpose-machines#t2a_machines) , such as`t2a-standard-16`.\n- ``: the number of nodes for your Arm node pool.\n- ``: the name of the IAM service account for your nodes to use. If omitted, the node pool uses the [Compute Engine default service account](/compute/docs/access/service-accounts#default_service_account) .\nIf you want to set additional settings for your node pool, see the [gcloud container node-pools create](/sdk/gcloud/reference/container/node-pools/create) reference for a complete list of available settings on node pool creation.\nTo add an Arm node pool to an existing cluster, perform the following steps:- Go to the **Google Kubernetes Engine** page in the Google Cloud console. [Go to Google Kubernetes Engine](https://console.cloud.google.com/kubernetes/list) \n- In the cluster list, click the name of the cluster you want to modify.\n- Click **Add node pool** .\n- Configure your node pool.\n- Choose node locations [where Arm nodes are available](/kubernetes-engine/docs/concepts/arm-on-gke#arm-requirements-limitations) .- In the **Node pool details** section, check the **Specify node locations** box.\n- Select zone(s) [where Arm nodes are available](/kubernetes-engine/docs/concepts/arm-on-gke#arm-requirements-limitations) .\n- To select an Arm machine type, in the **Nodes** subsection, under **Configure node settings > Machine configuration > Machine family** , select **GENERAL-PURPOSE** . In the **Series** dropdown menu, select T2A. In the **Machine type** dropdown menu, choose from the available options.\n- In the navigation menu, click **Security** .\n- In the **Service account** drop-down menu, select the IAM service account for your node pool to use. By default, the node pool uses the [Compute Engine default service account](/compute/docs/access/service-accounts#default_service_account) .\n- Click **Create** to add the node pool.## What's next\n- [Build multi-architecture images for Arm workloads](/kubernetes-engine/docs/how-to/build-multi-arch-for-arm) \n- [Prepare an Arm workload for deployment](/kubernetes-engine/docs/how-to/prepare-arm-workloads-for-deployment) \n- [Migrate x86 application on GKE to multi-arch with Arm](/kubernetes-engine/docs/tutorials/migrate-x86-to-multi-arch-arm)", "guide": "Google Kubernetes Engine (GKE)"}