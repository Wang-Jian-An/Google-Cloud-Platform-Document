{"title": "Google Kubernetes Engine (GKE) - \u901a\u904e IDE \u9032\u884c\u90e8\u7f72\u548c\u66f4\u65b0", "url": "https://cloud.google.com/kubernetes-engine/docs/tutorials/developer-workflow?hl=zh-cn", "abstract": "# Google Kubernetes Engine (GKE) - \u901a\u904e IDE \u9032\u884c\u90e8\u7f72\u548c\u66f4\u65b0\n\u5982\u679c\u958b\u767c\u8981\u5728 Google Kubernetes Engine \u4e2d\u904b\u884c\u7684\u61c9\u7528\uff0c\u5247\u53ef\u4ee5\u4f7f\u7528 IDE \u548c Cloud Code \u63d2\u4ef6\u4f86\u7c21\u5316\u95dc\u9375\u958b\u767c\u4efb\u52d9\uff0c\u4f8b\u5982\u5728\u672c\u5730\u6e2c\u8a66\u548c\u8abf\u8a66\u4ee5\u53ca\u90e8\u7f72\u5230\u6e2c\u8a66\u96c6\u7fa3\u3002\n", "content": "## \u76ee\u6a19\u77ad\u89e3\u5982\u4f55\u5728 Cloud Shell Editor\uff08\u5728\u7dda\u6f14\u793a IDE\uff09\u4e2d\u57f7\u884c\u4ee5\u4e0b\u958b\u767c\u4efb\u52d9\uff1a- \u5275\u5efa\u793a\u4f8b Kubernetes \u61c9\u7528\u3002\n- \u5728\u958b\u767c\u74b0\u5883\u4e2d\u904b\u884c\u3001\u66f4\u65b0\u548c\u67e5\u770b\u61c9\u7528\u7684\u65e5\u8a8c\u3002\n- \u5c07\u61c9\u7528\u90e8\u7f72\u5230 GKE \u96c6\u7fa3\u3002\n\u5982\u679c\u60a8\u5df2 [\u5b89\u88dd Cloud Code](https://cloud.google.com/code/docs?hl=zh-cn) \uff0c\u4e5f\u53ef\u4ee5\u5728\u81ea\u5df1\u7684 IDE \u4e2d\u9075\u5faa\u985e\u4f3c\u7684\u6d41\u7a0b\u3002\u5982\u9700\u5728 Google Cloud \u63a7\u5236\u6aaf\u4e2d\u76f4\u63a5\u9075\u5faa\u6709\u95dc\u6b64\u4efb\u52d9\u7684\u5206\u6b65\u6307\u5c0e\uff0c\u8acb\u9ede\u64ca **\u64cd\u4f5c\u6f14\u793a** \uff1a\n [\u64cd\u4f5c\u6f14\u793a](https://console.cloud.google.com/kubernetes/list/overview?walkthrough_id=kubernetes--developer-workflow&hl=zh-cn) ## \u8cbb\u7528\nTitles in dynamic includes are not used anywhere, and we should avoid paying to translate them\u5728\u672c\u6587\u6a94\u4e2d\uff0c\u60a8\u5c07\u4f7f\u7528 Google Cloud \u7684\u4ee5\u4e0b\u6536\u8cbb\u7d44\u4ef6\uff1a- [GKE](https://cloud.google.com/kubernetes-engine/pricing?hl=zh-cn) \n\u60a8\u53ef\u4f7f\u7528 [\u50f9\u683c\u8a08\u7b97\u5668](https://cloud.google.com/products/calculator?hl=zh-cn) \u6839\u64da\u60a8\u7684\u9810\u8a08\u4f7f\u7528\u60c5\u6cc1\u4f86\u4f30\u7b97\u8cbb\u7528\u3002 \nTitles in dynamic includes are not used anywhere, and we should avoid paying to translate them\u5b8c\u6210\u672c\u6587\u6a94\u4e2d\u63cf\u8ff0\u7684\u4efb\u52d9\u5f8c\uff0c\u60a8\u53ef\u4ee5\u901a\u904e\u522a\u9664\u6240\u5275\u5efa\u7684\u8cc7\u6e90\u4f86\u907f\u514d\u7e7c\u7e8c\u8a08\u8cbb\u3002\u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1 [\u6e05\u7406](#clean-up) \u3002## \u6e96\u5099\u5de5\u4f5c\u5275\u5efa\u4e00\u500b Kubernetes \u96c6\u7fa3\u3002 [\u5275\u5efa\u96c6\u7fa3\u4e26\u90e8\u7f72\u5de5\u4f5c\u8ca0\u8f09](https://cloud.google.com/kubernetes-engine/docs/quickstarts/create-cluster?hl=zh-cn) \u4ecb\u7d39\u77ad\u5982\u4f55\u57f7\u884c\u6b64\u64cd\u4f5c\u3002## \u9078\u64c7 Google Cloud \u9805\u76ee\u548c\u96c6\u7fa3\u5728\u672c\u6559\u7a0b\u5f8c\u9762\u90e8\u5206\u5c07\u61c9\u7528\u90e8\u7f72\u5230 GKE \u6642\uff0c\u60a8\u5c07\u9700\u8981\u6307\u5b9a Google Cloud \u9805\u76ee\u548c GKE \u96c6\u7fa3\u3002- \u9032\u5165 GKE **\u96c6\u7fa3** \u9801\u9762\u3002 [\u8f49\u5230\u201c\u96c6\u7fa3\u201d](https://console.cloud.google.com/kubernetes/list/overview?hl=zh-cn) \n- \u9078\u64c7\u5305\u542b GKE \u96c6\u7fa3\u7684\u9805\u76ee\u3002\n- \u8a18\u4e0b\u9805\u76ee\u548c\u96c6\u7fa3\u7684\u540d\u7a31\u3002\u60a8\u7a0d\u5f8c\u9700\u8981\u7528\u5230\u6b64\u4fe1\u606f\u3002\n## \u5728 Cloud Shell Editor \u4e2d\u5275\u5efa\u4e00\u500b\u61c9\u7528\n- \u5728 Google Cloud \u63a7\u5236\u6aaf\u4e2d\uff0c\u9ede\u64ca\u4efb\u52d9\u6b04\u4e2d\u7684 terminal **Cloud Shell** \u4ee5\u6253\u958b Cloud Shell\u3002\n- \u9ede\u64ca .\n- \u7b49\u5f85 Cloud Shell Editor \u5b8c\u6210\u521d\u59cb\u5316\u3002\n- \u5728 Cloud Shell Editor \u4e2d\uff0c\u9ede\u64ca **View** \uff08\u67e5\u770b\uff09> **Command Palette** \uff08\u547d\u4ee4\u9762\u677f\uff09\u3002\n- \u641c\u7d22 **Cloud Code: New Application** \uff08Cloud Code\uff1a\u65b0\u61c9\u7528\uff09\uff0c\u7136\u5f8c\u9ede\u64ca\u5b83\u3002\n- \u9078\u64c7 **Kubernetes Application** \uff08Kubernetes \u61c9\u7528\uff09\uff0c\u7136\u5f8c\u9078\u64c7 **Go: Hello World** \u3002\u6bcf\u7a2e\u8a9e\u8a00\u6846\u67b6\u90fd\u7565\u6709\u4e0d\u540c\uff0c\u672c\u6559\u7a0b\u4ecb\u7d39\u4e86\u9069\u7528\u65bc Go \u7684\u529f\u80fd\u3002\n- \u5728\u201cSave\u201d\uff08\u4fdd\u5b58\uff09\u5c0d\u8a71\u6846\u4e2d\uff0c\u9ede\u64ca **Create new application** \uff08\u5275\u5efa\u65b0\u61c9\u7528\uff09\u3002Cloud Shell Editor \u5c07\u91cd\u65b0\u52a0\u8f09\u4e26\u5728 Explorer \u8996\u5716\u4e2d\u986f\u793a\u61c9\u7528\u6e90\u6587\u4ef6\u3002\n\u8a72\u61c9\u7528\u5305\u542b\u4ee5\u4e0b\u5167\u5bb9\uff1a- \u57fa\u672c\u7684 `go-hello-world` Web \u61c9\u7528 ( )\uff0c\u7528\u65bc\u5411\u6536\u5230\u7684\u6240\u6709\u8acb\u6c42\u8fd4\u56de\u6a21\u677f\u5316\u7684\u201cIt's running!\u201d\uff08\u61c9\u7528\u6b63\u5728\u904b\u884c\uff01\uff09\u97ff\u61c9\u3002\n- Kubernetes Deployment \u898f\u7bc4\uff0c \u3002\n- \u5b9a\u7fa9\u61c9\u7528\u7684\u8ca0\u8f09\u5747\u8861\u5668\u7684 Kubernetes Service \u898f\u7bc4\uff0c \u3002\n- \u8655\u7406\u69cb\u5efa\u548c\u90e8\u7f72\u61c9\u7528\u7684\u5de5\u4f5c\u6d41\u7684 [Skaffold](https://skaffold.dev/) \u6587\u4ef6\uff0c \u3002\n## \u5728\u958b\u767c\u74b0\u5883\u4e2d\u904b\u884c\u61c9\u7528\u5982\u679c\u53ef\u80fd\uff0c\u8acb\u5148\u5728\u958b\u767c\u74b0\u5883\u4e2d\u904b\u884c\u61c9\u7528\uff0c\u7136\u5f8c\u518d\u90e8\u7f72\u5230 GKE\u3002\u9019\u6709\u52a9\u65bc\u60a8\u767c\u73fe\u4efb\u4f55\u6f5b\u5728\u554f\u984c\uff0c\u800c\u7121\u9700\u4f7f\u7528 Google Cloud \u914d\u984d\u3002\n\u5982\u9700\u5728 Cloud Shell Editor \u74b0\u5883\u4e2d\u904b\u884c\u61c9\u7528\uff0c\u8acb\u57f7\u884c\u4ee5\u4e0b\u64cd\u4f5c\uff1a- \u5728 Cloud Shell Editor \u4e2d\uff0c\u9ede\u64ca **Terminal** \uff08\u7d42\u7aef\uff09> **New Terminal** \uff08\u65b0\u7d42\u7aef\uff09\u3002\n- \u901a\u904e\u904b\u884c\u4ee5\u4e0b\u547d\u4ee4\u5553\u52d5\u96c6\u7fa3\uff1a```\nminikube start\n``` minikube \u662f\u4e00\u500b\u8f15\u91cf\u7d1a\u7684 Kubernetes \u5be6\u73fe\uff0c\u53ef\u5728\u672c\u5730\u74b0\u5883\u4e2d\u5275\u5efa\u4e00\u500b\u865b\u64ec\u6a5f\uff0c\u4e26\u90e8\u7f72\u50c5\u5305\u542b\u4e00\u500b\u7bc0\u9ede\u7684\u7c21\u55ae\u96c6\u7fa3\u3002\u8a2d\u7f6e minikube \u96c6\u7fa3\u53ef\u80fd\u9700\u8981\u4e00\u5206\u9418\u6642\u9593\u3002\n- \u5982\u679c\u7cfb\u7d71\u63d0\u793a\u60a8\u6388\u6b0a Cloud Shell \u9032\u884c Cloud API \u8abf\u7528\uff0c\u8acb\u9ede\u64ca **\u6388\u6b0a** \u3002\u8a2d\u7f6e minikube \u96c6\u7fa3\u540e\uff0c\u7cfb\u7d71\u6703\u986f\u793a\u5982\u4e0b\u6d88\u606f\uff1a```\nDone! kubectl is now configured touse \"minikube\" cluster...\n```\n\u8a2d\u7f6e minikube \u5f8c\uff0c\u69cb\u5efa\u4e26\u904b\u884c\u60a8\u7684\u61c9\u7528\uff1a- \u5728 Cloud Shell Editor \u72c0\u614b\u6b04\u4e2d\uff0c\u9ede\u64ca \u3002\n- \u9078\u64c7 **Run on Kubernetes** \uff08\u5728 Kubernetes \u4e0a\u904b\u884c\uff09\u3002\n- \u5982\u679c\u51fa\u73fe\u63d0\u793a\uff0c\u8acb\u78ba\u8a8d\u60a8\u8981\u4f7f\u7528\u7576\u524d\u7684 minikube \u4e0a\u4e0b\u6587\u3002Cloud Shell Editor \u6703\u69cb\u5efa\u61c9\u7528\u4e26\u5c07\u5176\u90e8\u7f72\u5230 minikube \u96c6\u7fa3\u3002\n- \u5728 \uff08\u958b\u767c\u6703\u8a71\uff09\u8996\u5716\u4e2d\u76e3\u63a7\u90e8\u7f72\u72c0\u614b\u3002\u90e8\u7f72\u5b8c\u6210\u5f8c\uff0c **Portforward URLs** \uff08\u7aef\u53e3\u8f49\u767c\u7db2\u5740\uff09\u65c1\u908a\u6703\u986f\u793a\u4e00\u500b\u7da0\u8272\u5c0d\u52fe\u6a19\u8a18\u3002 **Stream Application Logs** \uff08\u6d41\u5f0f\u50b3\u8f38\u61c9\u7528\u65e5\u8a8c\uff09\u65c1\u908a\u986f\u793a\u65cb\u8f49\u5716\u6a19\u3002\n- \u5982\u9700\u67e5\u770b\u60a8\u7684\u61c9\u7528\uff0c\u5728 **Development sessions** \uff08\u958b\u767c\u6703\u8a71\uff09\u7a97\u683c\u4e2d\u5f80\u4e0b\u627e\u5230 **Port Forward URLs** \uff08\u7aef\u53e3\u8f49\u767c\u7db2\u5740\uff09> **service** \uff08\u670d\u52d9\uff09\u3002\n- \u5c07\u6307\u91dd\u61f8\u505c\u5728 \u4e0a\uff0c\u7136\u5f8c\u9ede\u64ca open_in_new **Open URL** \uff08\u6253\u958b\u7db2\u5740\uff09\u3002\n## \u4fee\u6539\u61c9\u7528\u7576\u60a8\u66f4\u6539\u61c9\u7528\u4e2d\u7684\u6e90\u6587\u4ef6\u6642\uff0cCloud Shell Editor \u6703\u81ea\u52d5\u69cb\u5efa\u61c9\u7528\u4e26\u5c07\u5176\u90e8\u7f72\u5230\u7576\u524d\u9023\u63a5\u7684\u96c6\u7fa3\u3002\u5728\u672c\u4f8b\u4e2d\uff0c\u60a8\u5df2\u9023\u63a5\u5230 minikube \u96c6\u7fa3\u3002\n\u5982\u9700\u4fee\u6539\u61c9\u7528\u4e26\u5c07\u5176\u91cd\u65b0\u90e8\u7f72\u5230\u672c\u5730 minikube \u96c6\u7fa3\uff0c\u8acb\u57f7\u884c\u4ee5\u4e0b\u64cd\u4f5c\uff1a- \u4fee\u6539 \u6587\u4ef6\uff0c\u4ee5\u8f38\u51fa\u201cIt's redeployed!\u201d\uff08\u61c9\u7528\u5df2\u91cd\u65b0\u90e8\u7f72\uff01\uff09\u3002\u6587\u4ef6\u6703\u81ea\u52d5\u4fdd\u5b58\u3002\n- \u7576\u61c9\u7528\u91cd\u65b0\u69cb\u5efa\u548c\u90e8\u7f72\u6642\uff0c\u67e5\u770b \uff08\u958b\u767c\u6703\u8a71\uff09\u8996\u5716\u3002\n- \u50cf\u4e4b\u524d\u90a3\u6a23\u67e5\u770b\u91cd\u65b0\u90e8\u7f72\u7684\u61c9\u7528\uff1a- \u5728 **Development sessions** \uff08\u958b\u767c\u6703\u8a71\uff09\u7a97\u683c\u4e2d\uff0c\u627e\u5230 **Port Forward URLs** \uff08\u7aef\u53e3\u8f49\u767c\u7db2\u5740\uff09> **service** \uff08\u670d\u52d9\uff09\u3002\n- \u5c07\u6307\u91dd\u61f8\u505c\u5728 \u4e0a\uff0c\u7136\u5f8c\u9ede\u64ca open_in_new **Open URL** \uff08\u6253\u958b\u7db2\u5740\uff09\u3002## \u67e5\u770b\u61c9\u7528\u65e5\u8a8c\n- \u5728 Cloud Shell Editor \u83dc\u55ae\u6b04\u4e2d\uff0c\u9078\u64c7 **View** \uff08\u8996\u5716\uff09> **Command Palette** \uff08\u547d\u4ee4\u9762\u677f\uff09\u3002\n- \u641c\u7d22 **Cloud Code: View Logs** \uff08Cloud Code\uff1a\u67e5\u770b\u65e5\u8a8c\uff09\uff0c\u7136\u5f8c\u9ede\u64ca\u5b83\u3002\u6b64\u6642\u65e5\u8a8c\u67e5\u770b\u5668\u6703\u6253\u958b\u3002\n- \u5728 \uff08\u90e8\u7f72\uff09\u4e2d\uff0c\u9078\u64c7 `go-hello-world` \u3002\u9019\u6703\u904e\u6ffe\u65e5\u8a8c\u67e5\u770b\u5668\uff0c\u4ee5\u50c5\u986f\u793a `go-hello-world` \u61c9\u7528\u7684\u65e5\u8a8c\u3002\n- \u5207\u63db\u5230\u61c9\u7528\u4e2d\u986f\u793a\u201cIt's redeployed!\u201d\uff08\u61c9\u7528\u5df2\u91cd\u65b0\u90e8\u7f72\uff01\uff09\u7684\u6a19\u7c64\u9801\u3002\u5728\u700f\u89bd\u5668\u4e2d\u91cd\u65b0\u52a0\u8f09\u8a72\u9801\u9762\uff0c\u7136\u5f8c\u5207\u63db\u56de Cloud Shell \u6a19\u7c64\u9801\u3002\n- \u5982\u9700\u5728\u65e5\u8a8c\u67e5\u770b\u5668\u4e2d\u67e5\u770b\u65b0\u751f\u6210\u7684\u65e5\u8a8c\uff0c\u8acb\u9ede\u64ca refresh \uff08\u5237\u65b0\uff09\u3002\n## \u5c07\u61c9\u7528\u90e8\u7f72\u5230 GKE \u96c6\u7fa3\n- \u5c07 GKE \u96c6\u7fa3\u6dfb\u52a0\u5230\u60a8\u53ef\u4ee5\u90e8\u7f72\u5230\u7684\u96c6\u7fa3\u5217\u8868\u4e2d\uff1a- \u5728 \u8996\u5716\u4e2d\uff0c\u9ede\u64ca add **Add a Cluster to the KubeConfig** \uff08\u5c07\u96c6\u7fa3\u6dfb\u52a0\u5230 KubeConfig\uff09\u3002\n- \u5728 **Choose a platform** \uff08\u9078\u64c7\u5e73\u81fa\uff09\u5c0d\u8a71\u6846\u4e2d\uff0c\u9ede\u64ca **Google Kubernetes Engine** \u3002\n- \u5982\u679c\u7cfb\u7d71\u63d0\u793a\u60a8\u5553\u7528 Google Cloud API\uff0c\u8acb\u9ede\u64ca **Yes** \uff08\u662f\uff09\u3002\n- \u7b49\u5f85 Cloud Shell Editor \u627e\u5230\u60a8\u7684 Google Cloud \u9805\u76ee\u4e2d\u7684\u96c6\u7fa3\u3002\n- \u5728 **Create or choose a GKE cluster** \uff08\u5275\u5efa\u6216\u9078\u64c7 GKE \u96c6\u7fa3\uff09\u5c0d\u8a71\u6846\u4e2d\uff0c\u9078\u64c7\u60a8\u5275\u5efa\u7684\u96c6\u7fa3\u7684\u540d\u7a31 **hello-world-cluster** \u3002\n- \u5728 Cloud Shell Editor \u72c0\u614b\u6b04\u4e2d\uff0c\u9ede\u64ca \uff0c\u7136\u5f8c\u9078\u64c7 **Run on Kubernetes** \uff08\u5728 Kubernetes \u4e0a\u904b\u884c\uff09\u3002\n- \u7576\u7cfb\u7d71\u63d0\u793a\u60a8\u7232\u90e8\u7f72\u8acb\u6c42\u9078\u64c7\u4e0a\u4e0b\u6587\u6642\uff0c\u8acb\u9078\u64c7 **Use current context** \uff08\u4f7f\u7528\u7576\u524d\u4e0a\u4e0b\u6587\uff09\uff0c\u9019\u6703\u8a2d\u7f6e\u7232\u60a8\u7684 GKE \u96c6\u7fa3\u3002\n- \u5728 **Choose image repository** \uff08\u9078\u64c7\u6620\u50cf\u5009\u5eab\uff09\u5c0d\u8a71\u6846\u4e2d\uff0c\u9078\u64c7 **gcr.io/PROJECT_NAME** \u3002Cloud Shell Editor \u6703\u5c07\u61c9\u7528\u69cb\u5efa\u7232\u5bb9\u5668\uff0c\u4e26\u5c07\u8a72\u5bb9\u5668\u5b58\u5132\u5728\u60a8\u9078\u64c7\u7684\u5009\u5eab\u4e2d\u3002\n- \u7576\u61c9\u7528\u91cd\u65b0\u69cb\u5efa\u548c\u90e8\u7f72\u6642\uff0c\u67e5\u770b \uff08\u958b\u767c\u6703\u8a71\uff09\u8996\u5716\u3002\n- \u5982\u9700\u5728\u5c07\u61c9\u7528\u90e8\u7f72\u5230 GKE \u6642\u67e5\u770b\u8a73\u7d30\u7684\u65e5\u8a8c\u6d88\u606f\uff0c\u8acb\u9ede\u64ca **Development sessions** \uff08\u958b\u767c\u6703\u8a71\uff09\u8996\u5716\u4e2d\u7684 **Deploy to Cluster** \uff08\u90e8\u7f72\u5230\u96c6\u7fa3\uff09\u7bc0\u9ede\u3002\n- \u5982\u9700\u67e5\u770b\u6b63\u5728\u904b\u884c\u7684\u61c9\u7528\uff0c\u8acb\u57f7\u884c\u4ee5\u4e0b\u64cd\u4f5c\uff1a- \u9ede\u64ca **Development sessions** \uff08\u958b\u767c\u6703\u8a71\uff09\u6a19\u984c\u4ee5\u95dc\u9589\u8996\u5716\u3002\n- \u6253\u958b \u8996\u5716\u3002\n- \u5c55\u958b\u60a8\u7684 GKE \u96c6\u7fa3\u3002\n- \u9ede\u64ca **Namespaces > default > Services > go-hello-world-external > External IPs** \uff08\u547d\u540d\u7a7a\u9593 > \u9ed8\u8a8d > \u670d\u52d9 > go-hello-world-external > \u5916\u90e8 IP\uff09\u3002\n- \u5c07\u6307\u91dd\u61f8\u505c\u5728 IP \u5730\u5740\u4e0a\uff0c\u7136\u5f8c\u9ede\u64ca open_in_new **Open URL** \uff08\u6253\u958b\u7db2\u5740\uff09\u3002\n\u60a8\u5df2\u6210\u529f\u901a\u904e IDE \u5275\u5efa\u548c\u90e8\u7f72 GKE \u61c9\u7528\u3002## \u5f8c\u7e8c\u6b65\u9a5f\n- \u67e5\u770b\u5c55\u793a Google Cloud \u7522\u54c1\u4f7f\u7528\u60c5\u6cc1\u7684 [\u4ee3\u78bc\u793a\u4f8b](https://cloud.google.com/docs/samples?hl=zh-cn) \u3002\n- \u5728 IDE \u4e2d [\u5b89\u88dd Cloud Code](https://cloud.google.com/code/docs?hl=zh-cn) \n- [\u6e05\u7406\u76f8\u95dc\u8cc7\u6e90\u4ee5\u907f\u514d\u7522\u751f\u7d50\u7b97\u8cbb\u7528](https://cloud.google.com/kubernetes-engine/docs/quickstarts/learning-path-cleanup?hl=zh-cn) \u3002 \u5982\u679c\u60a8\u6253\u7b97\u5b78\u7fd2\u5176\u4ed6\u6559\u7a0b\uff0c\u8acb\u7b49\u5230\u5b8c\u6210\u9019\u4e9b\u6559\u7a0b\u5f8c\u518d\u9032\u884c\u6e05\u7406\u3002\u60a8\u53ef\u4ee5\u5728\u5927\u591a\u6578 GKE \u6559\u7a0b\u4e2d\u4f7f\u7528\u793a\u4f8b Kubernetes \u96c6\u7fa3\u3002", "guide": "Google Kubernetes Engine (GKE)"}