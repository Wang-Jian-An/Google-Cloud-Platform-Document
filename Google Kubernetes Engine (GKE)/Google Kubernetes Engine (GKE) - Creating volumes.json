{"title": "Google Kubernetes Engine (GKE) - Creating volumes", "url": "https://cloud.google.com/kubernetes-engine/docs/how-to/volumes", "abstract": "# Google Kubernetes Engine (GKE) - Creating volumes\nThis page explains how to create Volume resources in your cluster. For more details, see the [Kubernetes documentation about Volumes](https://kubernetes.io/docs/concepts/storage/volumes/) .\n", "content": "## Using Volumes with Deployments\nYou can [create a Deployment](https://kubernetes.io/docs/concepts/workloads/controllers/deployment/) of Pods where each Pod contains one or more Volumes. The following Deployment manifest describes a Deployment of three Pods that each have an [emptyDir Volume](https://kubernetes.io/docs/concepts/storage/volumes/#emptydir) .\nIn this example:\n- The`metadata: name`field specifies a Deployment named`volumes-example-deployment`.\n- The [Pod template](https://kubernetes.io/docs/concepts/workloads/pods/pod-overview/#pod-templates) specification includes a`volumes`field that describes an emptyDir volume named`cache-volume`.\n- The container specification includes a`volumeMounts:`field that specifies that the Volume named`cache-volume`is mounted at the file path`/cache`.\n- The manifest file is named`volumes-demo.yaml`.\n```\napiVersion: apps/v1kind: Deploymentmetadata:\u00a0 name: volumes-example-deploymentspec:\u00a0 replicas: 3\u00a0 selector:\u00a0 \u00a0 matchLabels:\u00a0 \u00a0 \u00a0 app: demo\u00a0 template:\u00a0 \u00a0 metadata:\u00a0 \u00a0 \u00a0 labels:\u00a0 \u00a0 \u00a0 \u00a0 app: demo\u00a0 \u00a0 spec:\u00a0 \u00a0 \u00a0 containers:\u00a0 \u00a0 \u00a0 - name: test-container\u00a0 \u00a0 \u00a0 \u00a0 image: us-docker.pkg.dev/google-samples/containers/gke/hello-app:1.0\u00a0 \u00a0 \u00a0 \u00a0 volumeMounts:\u00a0 \u00a0 \u00a0 \u00a0 - mountPath: /cache\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 name: cache-volume\u00a0 \u00a0 \u00a0 volumes:\u00a0 \u00a0 \u00a0 \u00a0 - name: cache-volume\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 emptyDir: {}\n```\nTo create a Deployment from this manifest file, run the following command:\n```\nkubectl apply -f volumes-demo.yaml\n```\nVerify that your Deployment is running correctly and has the expected Volume with this command:\n```\nkubectl describe pods volumes-example-deployment\n```\nThis prints information about each of the three Pods in the Deployment. The output shows that each Pod has a container, test-container, with the `/cache` mount:\n```\nMounts:\n /cache from cache-volume (rw)\n```\nThe output also shows that each Pod contains a Volume named `cache-volume` :\n```\nVolumes:\n cache-volume:\n Type: EmptyDir (a temporary directory that shares a pod's lifetime)\n```\nFor more information about creating Deployments, refer to [Creating aDeployment](/kubernetes-engine/docs/how-to/stateless-apps#create) .\n## What's next\n- [Learn about PersistentVolumes, PersistentVolumeClaims, and dynamic storage provisioning](/kubernetes-engine/docs/concepts/persistent-volumes) .\n- [Learn about using the Compute Engine persistent disk CSI Driver](/kubernetes-engine/docs/how-to/gce-pd-csi-driver) .", "guide": "Google Kubernetes Engine (GKE)"}