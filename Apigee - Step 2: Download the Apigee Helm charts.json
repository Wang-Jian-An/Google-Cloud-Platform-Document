{"title": "Apigee - Step 2: Download the Apigee Helm charts", "url": "https://cloud.google.com/apigee/docs/api-platform/get-started/what-apigee", "abstract": "# Apigee - Step 2: Download the Apigee Helm charts\nThis step explains how to download the Helm charts used to install and manage Apigee hybrid. Apigee hybrid charts are hosted in [Google Artifact Registry](/artifacts) :\n`oci://us-docker.pkg.dev/apigee-release/apigee-hybrid-helm-charts`\nIf you have not already installed Helm v3.10+, follow the instructions in [Installing Helm](https://helm.sh/docs/intro/install/) .\n#", "content": "## Prepare the directory structure\nThese steps are optional but recommended. The procedures will refer to the `` environment variable for the directory where you download the Apigee Helm Charts.\n- Create a base directory for your hybrid installation and within that a directory for  the charts:```\nmkdir APIGEE_HYBRID_BASE\n``````\nmkdir APIGEE_HYBRID_BASE/APIGEE_HELM_CHARTS_HOME\n```for example:```\nmkdir apigee-hybrid/helm-charts\n```\n- Save the location of the Helm charts directory to an environmental variable for convenience:```\ncd APIGEE_HYBRID_BASE/APIGEE_HELM_CHARTS_HOME\n``````\nexport APIGEE_HELM_CHARTS_HOME=$PWD\n```\n### Pull Apigee Helm charts\n- In the``directory, use the`pull`command to copy all of the Apigee hybrid Helm charts to your local storage:```\nexport CHART_REPO=oci://us-docker.pkg.dev/apigee-release/apigee-hybrid-helm-charts\nexport CHART_VERSION=1.11.1\nhelm pull $CHART_REPO/apigee-operator --version $CHART_VERSION --untar\nhelm pull $CHART_REPO/apigee-datastore --version $CHART_VERSION --untar\nhelm pull $CHART_REPO/apigee-env --version $CHART_VERSION --untar\nhelm pull $CHART_REPO/apigee-ingress-manager --version $CHART_VERSION --untar\nhelm pull $CHART_REPO/apigee-org --version $CHART_VERSION --untar\nhelm pull $CHART_REPO/apigee-redis --version $CHART_VERSION --untar\nhelm pull $CHART_REPO/apigee-telemetry --version $CHART_VERSION --untar\nhelm pull $CHART_REPO/apigee-virtualhost --version $CHART_VERSION --untar\n```\n- Optional: Verify that the charts expanded into the intended directory structure with the`tree`command. Your output should resemble the following. **Tip:** If your operating system does not have a`tree`command, you can try a recursive directory command ( **UNIX/Linux:** `ls -R`, **Windows:** `dir /s /b`).```\ntree\n.\n\u251c\u2500\u2500 apigee-datastore\n\u2502 \u251c\u2500\u2500 Chart.yaml\n\u2502 \u251c\u2500\u2500 templates\n\u2502 \u2502 \u251c\u2500\u2500 backup-cert.yaml\n\u2502 \u2502 \u251c\u2500\u2500 backup-cronjob.yaml\n\u2502 \u2502 \u251c\u2500\u2500 backup-gsa-secret.yaml\n\u2502 \u2502 \u251c\u2500\u2500 backup-key.yaml\n\u2502 \u2502 \u251c\u2500\u2500 backup-sa.yaml\n\u2502 \u2502 \u251c\u2500\u2500 datastore-secret.yaml\n\u2502 \u2502 \u251c\u2500\u2500 datastore.yaml\n\u2502 \u2502 \u251c\u2500\u2500 _helpers.tpl\n\u2502 \u2502 \u251c\u2500\u2500 NOTES.txt\n\u2502 \u2502 \u251c\u2500\u2500 restore-cert.yaml\n\u2502 \u2502 \u251c\u2500\u2500 restore-gsa-secret.yaml\n\u2502 \u2502 \u251c\u2500\u2500 restore-job.yaml\n\u2502 \u2502 \u251c\u2500\u2500 restore-key.yaml\n\u2502 \u2502 \u2514\u2500\u2500 restore-sa.yaml\n\u2502 \u2514\u2500\u2500 values.yaml\n\u251c\u2500\u2500 apigee-env\n\u2502 \u251c\u2500\u2500 Chart.yaml\n\u2502 \u251c\u2500\u2500 templates\n\u2502 \u2502 \u251c\u2500\u2500 encryption-keys-secret.yaml\n\u2502 \u2502 \u251c\u2500\u2500 environment.yaml\n\u2502 \u2502 \u251c\u2500\u2500 _helpers.tpl\n\u2502 \u2502 \u251c\u2500\u2500 NOTES.txt\n\u2502 \u2502 \u251c\u2500\u2500 runtime-gsa-secret.yaml\n\u2502 \u2502 \u251c\u2500\u2500 runtime-sa.yaml\n\u2502 \u2502 \u251c\u2500\u2500 synchronizer-gsa-secret.yaml\n\u2502 \u2502 \u251c\u2500\u2500 synchronizer-sa.yaml\n\u2502 \u2502 \u251c\u2500\u2500 udca-gsa-secret.yaml\n\u2502 \u2502 \u2514\u2500\u2500 udca-sa.yaml\n\u2502 \u2514\u2500\u2500 values.yaml\n\u251c\u2500\u2500 apigee-ingress-manager\n\u2502 \u251c\u2500\u2500 Chart.yaml\n\u2502 \u251c\u2500\u2500 templates\n\u2502 \u2502 \u251c\u2500\u2500 apigee-ca-issuer.yaml\n\u2502 \u2502 \u251c\u2500\u2500 apigee-istiod-certificate.yaml\n\u2502 \u2502 \u251c\u2500\u2500 _helpers.tpl\n\u2502 \u2502 \u251c\u2500\u2500 ingress-service-account.yaml\n\u2502 \u2502 \u251c\u2500\u2500 istio-config.yaml\n\u2502 \u2502 \u251c\u2500\u2500 istiod-deployment-with-apigee-controller.yaml\n\u2502 \u2502 \u251c\u2500\u2500 istiod-envoyfilters.yaml\n\u2502 \u2502 \u251c\u2500\u2500 istiod-hpa.yaml\n\u2502 \u2502 \u251c\u2500\u2500 istiod-service-account.yaml\n\u2502 \u2502 \u2514\u2500\u2500 istiod-svc.yaml\n\u2502 \u2514\u2500\u2500 values.yaml\n\u251c\u2500\u2500 apigee-operator\n\u2502 \u251c\u2500\u2500 Chart.yaml\n\u2502 \u251c\u2500\u2500 etc\n\u2502 \u2502 \u251c\u2500\u2500 crds\n\u2502 \u2502 \u2502 \u251c\u2500\u2500 crd\n\u2502 \u2502 \u2502 \u2502 \u251c\u2500\u2500 bases\n\u2502 \u2502 \u2502 \u2502 \u2502 \u251c\u2500\u2500 apigee.cloud.google.com_apigeedatastores.yaml\n\u2502 \u2502 \u2502 \u2502 \u2502 \u251c\u2500\u2500 apigee.cloud.google.com_apigeedeployments.yaml\n\u2502 \u2502 \u2502 \u2502 \u2502 \u251c\u2500\u2500 apigee.cloud.google.com_apigeeenvironments.yaml\n\u2502 \u2502 \u2502 \u2502 \u2502 \u251c\u2500\u2500 apigee.cloud.google.com_apigeeissues.yaml\n\u2502 \u2502 \u2502 \u2502 \u2502 \u251c\u2500\u2500 apigee.cloud.google.com_apigeeorganizations.yaml\n\u2502 \u2502 \u2502 \u2502 \u2502 \u251c\u2500\u2500 apigee.cloud.google.com_apigeeredis.yaml\n\u2502 \u2502 \u2502 \u2502 \u2502 \u251c\u2500\u2500 apigee.cloud.google.com_apigeerouteconfigs.yaml\n\u2502 \u2502 \u2502 \u2502 \u2502 \u251c\u2500\u2500 apigee.cloud.google.com_apigeeroutes.yaml\n\u2502 \u2502 \u2502 \u2502 \u2502 \u251c\u2500\u2500 apigee.cloud.google.com_apigeetelemetries.yaml\n\u2502 \u2502 \u2502 \u2502 \u2502 \u2514\u2500\u2500 apigee.cloud.google.com_cassandradatareplications.yaml\n\u2502 \u2502 \u2502 \u2502 \u251c\u2500\u2500 kustomization.yaml\n\u2502 \u2502 \u2502 \u2502 \u251c\u2500\u2500 kustomizeconfig.yaml\n\u2502 \u2502 \u2502 \u2502 \u2514\u2500\u2500 patches\n\u2502 \u2502 \u2502 \u2502  \u251c\u2500\u2500 cainjection_in_apigeedatastores.yaml\n\u2502 \u2502 \u2502 \u2502  \u251c\u2500\u2500 cainjection_in_apigeedeployments.yaml\n\u2502 \u2502 \u2502 \u2502  \u251c\u2500\u2500 cainjection_in_apigeeenvironments.yaml\n\u2502 \u2502 \u2502 \u2502  \u251c\u2500\u2500 cainjection_in_apigeeissues.yaml\n\u2502 \u2502 \u2502 \u2502  \u251c\u2500\u2500 cainjection_in_apigeeorganizations.yaml\n\u2502 \u2502 \u2502 \u2502  \u251c\u2500\u2500 cainjection_in_apigeeroutes.yaml\n\u2502 \u2502 \u2502 \u2502  \u251c\u2500\u2500 cainjection_in_apigeetelemetries.yaml\n\u2502 \u2502 \u2502 \u2502  \u251c\u2500\u2500 k8s_list_map_keys.yaml\n\u2502 \u2502 \u2502 \u2502  \u251c\u2500\u2500 nested_metadata_validation_properties.yaml\n\u2502 \u2502 \u2502 \u2502  \u251c\u2500\u2500 webhook_in_apigeedatastores.yaml\n\u2502 \u2502 \u2502 \u2502  \u251c\u2500\u2500 webhook_in_apigeedeployments.yaml\n\u2502 \u2502 \u2502 \u2502  \u251c\u2500\u2500 webhook_in_apigeeenvironments.yaml\n\u2502 \u2502 \u2502 \u2502  \u251c\u2500\u2500 webhook_in_apigeeissues.yaml\n\u2502 \u2502 \u2502 \u2502  \u251c\u2500\u2500 webhook_in_apigeeorganizations.yaml\n\u2502 \u2502 \u2502 \u2502  \u251c\u2500\u2500 webhook_in_apigeeroutes.yaml\n\u2502 \u2502 \u2502 \u2502  \u2514\u2500\u2500 webhook_in_apigeetelemetries.yaml\n\u2502 \u2502 \u2502 \u2514\u2500\u2500 default\n\u2502 \u2502 \u2502  \u2514\u2500\u2500 kustomization.yaml\n\u2502 \u2502 \u251c\u2500\u2500 examples\n\u2502 \u2502 \u2502 \u2514\u2500\u2500 helmfiles\n\u2502 \u2502 \u2502  \u251c\u2500\u2500 helmfile.yaml\n\u2502 \u2502 \u2502  \u2514\u2500\u2500 README.md\n\u2502 \u2502 \u2514\u2500\u2500 tools\n\u2502 \u2502  \u251c\u2500\u2500 apigee-pull-push.sh\n\u2502 \u2502  \u251c\u2500\u2500 common.sh\n\u2502 \u2502  \u251c\u2500\u2500 create-service-account\n\u2502 \u2502  \u2514\u2500\u2500 dump_kubernetes.sh\n\u2502 \u251c\u2500\u2500 templates\n\u2502 \u2502 \u251c\u2500\u2500 apigee-operators-roles.yaml\n\u2502 \u2502 \u251c\u2500\u2500 apigee-operators.yaml\n\u2502 \u2502 \u251c\u2500\u2500 apigee-resources.yaml\n\u2502 \u2502 \u251c\u2500\u2500 cassandra-backup-clusterrolebinding.yaml\n\u2502 \u2502 \u251c\u2500\u2500 cassandra-backup-clusterrole.yaml\n\u2502 \u2502 \u251c\u2500\u2500 cassandra-restore-clusterrolebinding.yaml\n\u2502 \u2502 \u251c\u2500\u2500 cassandra-restore-clusterrole.yaml\n\u2502 \u2502 \u251c\u2500\u2500 _helpers.tpl\n\u2502 \u2502 \u251c\u2500\u2500 ingress-role-binding.yaml\n\u2502 \u2502 \u251c\u2500\u2500 ingress-role.yaml\n\u2502 \u2502 \u251c\u2500\u2500 istiod-cluster-role-binding.yaml\n\u2502 \u2502 \u251c\u2500\u2500 istiod-cluster-role.yaml\n\u2502 \u2502 \u251c\u2500\u2500 istiod-role-binding.yaml\n\u2502 \u2502 \u2514\u2500\u2500 istiod-role.yaml\n\u2502 \u2514\u2500\u2500 values.yaml\n\u251c\u2500\u2500 apigee-org\n\u2502 \u251c\u2500\u2500 Chart.yaml\n\u2502 \u251c\u2500\u2500 templates\n\u2502 \u2502 \u251c\u2500\u2500 ax-hash-salt-secret.yaml\n\u2502 \u2502 \u251c\u2500\u2500 connect-agent-gsa-secret.yaml\n\u2502 \u2502 \u251c\u2500\u2500 connect-agent-sa.yaml\n\u2502 \u2502 \u251c\u2500\u2500 data-encryption-secret.yaml\n\u2502 \u2502 \u251c\u2500\u2500 encryption-keys-secret.yaml\n\u2502 \u2502 \u251c\u2500\u2500 _helpers.tpl\n\u2502 \u2502 \u251c\u2500\u2500 mart-gsa-secret.yaml\n\u2502 \u2502 \u251c\u2500\u2500 mart-sa.yaml\n\u2502 \u2502 \u251c\u2500\u2500 NOTES.txt\n\u2502 \u2502 \u251c\u2500\u2500 organization.yaml\n\u2502 \u2502 \u251c\u2500\u2500 udca-gsa-secret.yaml\n\u2502 \u2502 \u251c\u2500\u2500 udca-sa.yaml\n\u2502 \u2502 \u251c\u2500\u2500 watcher-gsa-secret.yaml\n\u2502 \u2502 \u2514\u2500\u2500 watcher-sa.yaml\n\u2502 \u2514\u2500\u2500 values.yaml\n\u251c\u2500\u2500 apigee-redis\n\u2502 \u251c\u2500\u2500 Chart.yaml\n\u2502 \u251c\u2500\u2500 templates\n\u2502 \u2502 \u251c\u2500\u2500 _helpers.tpl\n\u2502 \u2502 \u251c\u2500\u2500 redis-creds-secret.yaml\n\u2502 \u2502 \u2514\u2500\u2500 redis.yaml\n\u2502 \u2514\u2500\u2500 values.yaml\n\u251c\u2500\u2500 apigee-telemetry\n\u2502 \u251c\u2500\u2500 Chart.yaml\n\u2502 \u251c\u2500\u2500 templates\n\u2502 \u2502 \u251c\u2500\u2500 apigee-logger-gsa-secret.yaml\n\u2502 \u2502 \u251c\u2500\u2500 apigee-logger-sa.yaml\n\u2502 \u2502 \u251c\u2500\u2500 apigee-metrics-gsa-secret.yaml\n\u2502 \u2502 \u251c\u2500\u2500 apigee-metrics-sa.yaml\n\u2502 \u2502 \u251c\u2500\u2500 apigee-telemetry.yaml\n\u2502 \u2502 \u251c\u2500\u2500 _helpers.tpl\n\u2502 \u2502 \u2514\u2500\u2500 NOTES.txt\n\u2502 \u2514\u2500\u2500 values.yaml\n\u2514\u2500\u2500 apigee-virtualhost\n \u251c\u2500\u2500 Chart.yaml\n \u251c\u2500\u2500 templates\n \u2502 \u251c\u2500\u2500 apigee-route-config.yaml\n \u2502 \u251c\u2500\u2500 ca-cert.yaml\n \u2502 \u251c\u2500\u2500 cert.yaml\n \u2502 \u2514\u2500\u2500 _helpers.tpl\n \u2514\u2500\u2500 values.yaml\n```\nYou now have a tools to configure, deploy, and manage Apigee hybrid in your Kubernetes cluster. Next, you will create the Kubernetes namespace in which most hybrid components operate.\n## Next step\nstepper_buttons is defined in localvars Iterate over all the buttons in the data dictionary If the button's step matches the current step in the process, make the button disabled [1](/apigee/docs/hybrid/v1.11/helm-install-create-cluster) If the button's step matches the current step in the process, make the button disabled If the button's step matches the next step [2](/apigee/docs/hybrid/v1.11/helm-install-download-charts) If the button's step matches the current step in the process, make the button disabled In all other cases (previous buttons or future buttons (after the next one), make them links [(NEXT) Step 3: Create the apigee namespace](/apigee/docs/hybrid/v1.11/helm-install-create-namespace) If the button's step matches the current step in the process, make the button disabled [4](/apigee/docs/hybrid/v1.11/helm-install-service-accounts) If the button's step matches the current step in the process, make the button disabled [5](/apigee/docs/hybrid/v1.11/helm-install-create-tls-certificates) If the button's step matches the current step in the process, make the button disabled [6](/apigee/docs/hybrid/v1.11/helm-install-create-overrides) If the button's step matches the current step in the process, make the button disabled [7](/apigee/docs/hybrid/v1.11/helm-install-enable-synchronizer-access) If the button's step matches the current step in the process, make the button disabled [8](/apigee/docs/hybrid/v1.11/helm-install-cert-manager) If the button's step matches the current step in the process, make the button disabled [9](/apigee/docs/hybrid/v1.11/helm-install-crds) If the button's step matches the current step in the process, make the button disabled [10](/apigee/docs/hybrid/v1.11/helm-install-check-cluster) If the button's step matches the current step in the process, make the button disabled [11](/apigee/docs/hybrid/v1.11/helm-install-helm-charts) If the button's step matches the current step in the process, make the button disabled [12](/apigee/docs/hybrid/v1.11/helm-install-workload-identity)", "guide": "Apigee"}