{"title": "Cloud Video Intelligence API - Recognize celebrities", "url": "https://cloud.google.com/video-intelligence/docs/celebrity-recognition", "abstract": "# Cloud Video Intelligence API - Recognize celebrities\n**    Beta     ** This product or feature is subject to the \"Pre-GA Offerings Terms\" in the General Service Terms section   of the [Service Specific Terms](/terms/service-terms#1) .     Pre-GA products and features are available \"as is\" and might have limited support.    For more information, see the [launch stage descriptions](/products#product-launch-stages) .\n**Restricted access feature** : This  is a restricted access feature. It is intended for use by media &  entertainment companies or their approved partners on  professionally-produced media.To request access, submit the [Celebrity Recognition Customer Request form](https://docs.google.com/forms/d/e/1FAIpQLSenUFSRovp05e4ags9g2cWCAU-mUuSNPoBmRQm9Lg4B8k5KNw/viewform) .  The form requests information about  you, your company, and your use case. You must provide a  Google Cloud project ID when you request access. For more information  about how to create a new project or identify your project's ID,  see [Creating and managing projects](/resource-manager/docs/creating-managing-projects) .After you submit the form, Google reviews your request to ensure  that you meet the criteria for access. If approved, Google will send  you an email with instructions on how to access the celebrity  recognition feature.\nThis page describes how to recognize celebrities in a video using the Video Intelligence API.\nThe Video Intelligence API can inspect your video content to detect and track human faces that appear in the input video or video segment. When it recognizes a face, the Video Intelligence API can compare the face against a collection of celebrities collated by Google.\nIf a match is found, the Video Intelligence API provides the [Knowledge Graph Machine ID (MID)](https://developers.google.com/knowledge-graph/) and the name of the celebrity and a bounding box indicating where the face appears in the video.\n", "content": "## Request access to the feature\nThis feature is intended for use by media & entertainment companies or approved partners on professionally-produced media content. To request API access, please submit [this form](https://docs.google.com/forms/d/e/1FAIpQLSenUFSRovp05e4ags9g2cWCAU-mUuSNPoBmRQm9Lg4B8k5KNw/viewform) with information about your company and use case.\n## Recognize a celebrity in a video\nThe following code samples demonstrate how to recognize a celebrity's face in a video. The sample uses the optional `outputUri` field in the request to specify a location for the annotation results.\n**Note:** The `outputUri` field indicates a Cloud Storage bucket to store the annotation output. Before sending a request, ensure that your service account has write access to the output Cloud Storage bucket.\n### Send the requestThe following shows how to send a `POST` request to the [annotate](/video-intelligence/docs/reference/rest/v1p3beta1/videos/annotate) method. The example uses the access token for a service account set up for the project using the Google Cloud CLI. For instructions on installing the Google Cloud CLI, setting up a project with a service account, and obtaining an access token, see the [Video Intelligence quickstart](/video-intelligence/docs/annotate-video-command-line) .\nBefore using any of the request data, make the following replacements:- : the Cloud Storage location of the video file you want to annotate.\n- : the Cloud Storage location where you  want the results saved.\n- : The numeric identifier for your Google Cloud project\nHTTP method and URL:\n```\nPOST https://videointelligence.googleapis.com/v1p3beta1/videos:annotate\n```\nRequest JSON body:\n```\n{\n \"inputUri\": \"gs://INPUT_URI\",\n \"outputUri\": \"gs://OUTPUT_URI\",\n \"features\": [\"CELEBRITY_RECOGNITION\"]\n}\n```\nTo send your request, expand one of these options:You should receive a JSON response similar to the following:\n```\n{\n \"name\": \"projects/PROJECT_NUMBER/locations/LOCATION_ID/operations/OPERATION_ID\"\n}\n```\nIf the request is successful, the Video Intelligence returns the name for your operation.\n### Get the resultsTo get the results of your request, you must send a `GET` request to the [projects.operations](/video-intelligence/docs/reference/rest/v1/projects.locations.operations/get) resource. The following shows how to send such a request.\nBefore using any of the request data, make the following replacements:- : the`name`field returned  from the call to Video Intelligence API. This is a value in the format:`projects/` `` `/locations/` `` `/operations/` ``,where:- is the [number](https://cloud.google.com/resource-manager/docs/creating-managing-projects#identifying_projects) of your Google Cloud project,\n- is the cloud region where annotation took place (for  example:`us-east1`,`us-west1`,`europe-west1`,`asia-east1`),\n- is the ID of the long-running operation.HTTP method and URL:\n```\nGET https://videointelligence.googleapis.com/v1/OPERATION_NAME\n```\nTo send your request, expand one of these options:You should receive a JSON response similar to the following:\n```\n{\n \"name\": \"projects/PROJECT_NUMBER/locations/LOCATION_ID/operations/OPERATION_ID\",\n \"metadata\": {\n \"@type\": \"type.googleapis.com/google.cloud.videointelligence.v1p3beta1.AnnotateVideoProgress\",\n \"annotationProgress\": [  {\n  \"inputUri\": \"INPUT_URI\",\n  \"progressPercent\": 100,\n  \"startTime\": \"2020-05-12T19:36:09.110351Z\",\n  \"updateTime\": \"2020-05-12T19:36:17.519069Z\"\n  }\n ]\n },\n \"done\": true,\n \"response\": {\n \"@type\": \"type.googleapis.com/google.cloud.videointelligence.v1p3beta1.AnnotateVideoResponse\",\n \"annotationResults\": [  {\n  ...\n  }\n ]\n }\n}\n```\nThe output from annotating the video should look similar to the following example.\n```\n{\n \"annotationResults\": [ {\n \"inputUri\": \"INPUT_URI,\n \"segment\": {\n  \"startTimeOffset\": {\n  },\n  \"endTimeOffset\": {\n  \"seconds\": 19,\n  \"nanos\": 519500000\n  }\n },\n \"celebrityRecognitionAnnotations\": {\n  \"celebrityTracks\": [ {\n  \"celebrities\": [...],\n  \"faceTrack\": {...}\n  }, {\n  \"celebrities\": [ {\n   \"celebrity\": {\n   \"name\": \"video-intelligence/CELEBRITY_MID\",\n   \"displayName\": \"CELEBRITY_NAME/var>\"\n   },\n   \"confidence\": 0.81873637\n  } ],\n  \"faceTrack\": {\n   \"segment\": {\n   \"startTimeOffset\": {\n    \"seconds\": 1,\n    \"nanos\": 459791000\n   },\n   \"endTimeOffset\": {\n    \"seconds\": 3,\n    \"nanos\": 712041000\n   }\n   },\n   \"timestampedObjects\": [ {\n   \"normalizedBoundingBox\": {...},\n   \"timeOffset\": {...}\n   }, {\n   \"normalizedBoundingBox\": {\n    \"left\": 0.38046876,\n    \"top\": 0.26249999,\n    \"right\": 0.60312498,\n    \"bottom\": 0.72361112\n   },\n   \"timeOffset\": {\n    \"seconds\": 1,\n    \"nanos\": 459791000\n   }\n   }, {\n   \"normalizedBoundingBox\": {...},\n   \"timeOffset\": {...}\n   }]\n  }\n  }, {\n  \"celebrities\": [...],\n  \"faceTrack\": {...}\n  } ]\n }\n ...\n}\n```\n## Request celebrity opt-out\nIf you are a celebrity and would like not to be included in this feature for either the Cloud Vision or Video Intelligence API please submit [this form](https://docs.google.com/forms/d/e/1FAIpQLSeNI_qkhnUy2yGt1COZkfPwCMJnf-w-5lv5G5i7_Xl0PZyY2w/viewform?usp=sf_link) .\n## Report misuse\nIf you suspect that the Video Intelligence API celebrity recognition feature is being misused in any way, please let us know using [this form.](https://docs.google.com/forms/d/e/1FAIpQLSdQtYOpeQsGu52S9VycFc1Bl0yiJPlHKE7SFz4CVuIg5ascgg/viewform?usp=sf_link)", "guide": "Cloud Video Intelligence API"}