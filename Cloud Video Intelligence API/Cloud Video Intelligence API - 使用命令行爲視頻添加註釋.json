{"title": "Cloud Video Intelligence API - \u4f7f\u7528\u547d\u4ee4\u884c\u7232\u8996\u983b\u6dfb\u52a0\u8a3b\u91cb", "url": "https://cloud.google.com/video-intelligence/docs/annotate-video-command-line?hl=zh-cn", "abstract": "# Cloud Video Intelligence API - \u4f7f\u7528\u547d\u4ee4\u884c\u7232\u8996\u983b\u6dfb\u52a0\u8a3b\u91cb\n# \u4f7f\u7528\u547d\u4ee4\u884c\u7232\u8996\u983b\u6dfb\u52a0\u8a3b\u91cb\n\u672c\u9801\u9762\u4ecb\u7d39\u5982\u4f55\u7232\u60a8\u64c1\u6709\u7684\u9805\u76ee\u4f7f\u7528 `curl` \u767c\u51fa Video Intelligence API \u8acb\u6c42\u3002\n\u60a8\u53ef\u4ee5\u6309\u7167\u672c\u9801\u4e2d\u6240\u8ff0\u7684\u6b65\u9a5f\u64cd\u4f5c\uff0c\u4e5f\u53ef\u4ee5\u5617\u8a66\u5c07\u672c\u5feb\u901f\u5165\u9580\u4f5c\u7232 Google Cloud \u57f9\u8a13\u5be6\u9a57\u5ba4\u3002\n [\u7acb\u5373\u8a66\u7528\u5be6\u9a57\u5ba4](https://www.cloudskillsboost.google/catalog_lab/804?qlcampaign=77-18-gcpd-921&%3Butm_source=gcp&%3Butm_medium=documentation&%3Butm_campaign=vintelligence&hl=zh-cn) ", "content": "## \u6e96\u5099\u5de5\u4f5c- Titles in dynamic includes are not used anywhere, and we should avoid paying to translate them## \u767c\u51fa\u8996\u983b\u8a3b\u91cb\u8acb\u6c42\n\u4f7f\u7528 gcloud CLI \u5c0d\u8981\u5206\u6790\u7684\u8996\u983b\u7684\u8def\u5f91\u8abf\u7528\n`detect-labels`\n\u547d\u4ee4\u3002\n```\ngcloud ml video detect-labels gs://YOUR_BUCKET/YOUR_OBJECT\n```\n- \u4f7f\u7528 `curl` \u5411 `videos:annotate` \u65b9\u6cd5\u767c\u51fa POST \u8acb\u6c42\uff0c\u4f7f\u7528 `gcloud auth application-default print-access-token` \u547d\u4ee4\u7c98\u8cbc\u670d\u52d9\u8cec\u865f\u7684\u8a2a\u554f\u4ee4\u724c\uff1a```\ncurl -X POST \\\u00a0 -H \"Authorization: Bearer \"$(gcloud auth application-default print-access-token) \\\u00a0 -H \"Content-Type: application/json; charset=utf-8\" \\\u00a0 --data '{\"inputUri\":\"gs://YOUR_BUCKET/YOUR_OBJECT\",\"features\":[\"LABEL_DETECTION\"]}'\\\u00a0 \"https://videointelligence.googleapis.com/v1/videos:annotate\"\n```\n- Video Intelligence API \u6703\u5275\u5efa\u4e00\u500b\u64cd\u4f5c\u4f86\u8655\u7406\u60a8\u7684\u8acb\u6c42\u3002 \u97ff\u61c9\u5305\u542b\u64cd\u4f5c\u540d\u7a31\uff1a```\n{\u00a0 \"name\": \"projects/PROJECT_NUMBER/locations/LOCATION_ID/operations/OPERATION_ID\"}\n```\n- \u60a8\u53ef\u4ee5\u901a\u904e\u8abf\u7528 `v1.operations` \u7aef\u9ede\u4f86\u8acb\u6c42\u6709\u95dc\u64cd\u4f5c\u7684\u4fe1\u606f\uff0c\u5c07\u4e0b\u9762\u793a\u4f8b\u4e2d\u7684 \u66ff\u63db\u7232\u4e0a\u4e00\u6b65\u4e2d\u8fd4\u56de\u7684\u540d\u7a31\uff1a```\n\u00a0curl -X GET \\\u00a0 \u00a0-H \"Authorization: Bearer \"$(gcloud auth application-default print-access-token) \\\u00a0 \u00a0https://videointelligence.googleapis.com/v1/OPERATION_NAME\n```\n- \u60a8\u5c07\u770b\u5230\u8207\u60a8\u64cd\u4f5c\u76f8\u95dc\u7684\u4fe1\u606f\u3002\u5982\u679c\u64cd\u4f5c\u5df2\u5b8c\u6210\uff0c\u5247\u5305\u542b\u4e00\u500b `done` \u5b57\u6bb5\u4e26\u5c07\u5176\u8a2d\u7f6e\u7232 `true` \uff1a```\n{\u00a0 \"name\": \"projects/PROJECT_NUMBER/locations/LOCATION_ID/operations/OPERATION_ID\",\u00a0 \"metadata\": {\u00a0 \"@type\": \"type.googleapis.com/google.cloud.videointelligence.v1.AnnotateVideoProgress\",\u00a0 \u00a0 \"annotationProgress\": [\u00a0 \u00a0 \u00a0 {\u00a0 \u00a0 \u00a0 \u00a0 \"inputUri\": \"/YOUR_BUCKET/YOUR_OBJECT\",\u00a0 \u00a0 \u00a0 \u00a0 \"progressPercent\": 100,\u00a0 \u00a0 \u00a0 \u00a0 \"startTime\": \"2020-04-01T22:13:17.978847Z\",\u00a0 \u00a0 \u00a0 \u00a0 \"updateTime\": \"2020-04-01T22:13:29.576004Z\"\u00a0 \u00a0 \u00a0 }\u00a0 \u00a0 ]\u00a0 },\u00a0 \"done\": true,\u00a0...}\n```\u5728\u767c\u51fa\u8acb\u6c42\u4e00\u6bb5\u6642\u9593\u5f8c\uff08\u901a\u5e38\u7d04\u7232\u4e00\u5206\u9418\uff09\uff0c\u76f8\u540c\u8acb\u6c42\u8fd4\u56de\u8a3b\u89e3\u7d50\u679c\uff1a\n```\n{\u00a0 \"name\": \"projects/PROJECT_NUMBER/locations/LOCATION_ID/operations/OPERATION_ID\",\u00a0 \"metadata\": {\u00a0 \u00a0 \"@type\": \"type.googleapis.com/google.cloud.videointelligence.v1.AnnotateVideoProgress\",\u00a0 \u00a0 \"annotationProgress\": [\u00a0 \u00a0 \u00a0 {\u00a0 \u00a0 \u00a0 \u00a0 \"inputUri\": \"YOUR_BUCKET/YOUR_OBJECT\",\u00a0 \u00a0 \u00a0 \u00a0 \"progressPercent\": 100,\u00a0 \u00a0 \u00a0 \u00a0 \"startTime\": \"2020-04-01T22:13:17.978847Z\",\u00a0 \u00a0 \u00a0 \u00a0 \"updateTime\": \"2020-04-01T22:13:29.576004Z\"\u00a0 \u00a0 \u00a0 }\u00a0 \u00a0 ]\u00a0 },\u00a0 \"done\": true,\u00a0 \"response\": {\u00a0 \u00a0 \"@type\": \"type.googleapis.com/google.cloud.videointelligence.v1.AnnotateVideoResponse\",\u00a0 \u00a0 \"annotationResults\": [\u00a0 \u00a0 \u00a0 {\u00a0 \u00a0 \u00a0 \u00a0 \"inputUri\": \"/YOUR_BUCKET/YOUR_OBJECT\",\u00a0 \u00a0 \u00a0 \u00a0 \"segmentLabelAnnotations\": [\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 {\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \"entity\": {\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \"entityId\": \"/m/07bsy\",\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \"description\": \"transport\",\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \"languageCode\": \"en-US\"\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 },\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \"segments\": [\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 {\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \"segment\": {\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \"startTimeOffset\": \"0s\",\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \"endTimeOffset\": \"38.757872s\"\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 },\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \"confidence\": 0.81231534\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 }\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 ]\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 },\u00a0 \u00a0 \u00a0 \u00a0 \u00a0{\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \"entity\": {\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \"entityId\": \"/m/01n32\",\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \"description\": \"city\",\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \"languageCode\": \"en-US\"\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 },\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \"categoryEntities\": [\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 {\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \"entityId\": \"/m/043rvww\",\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \"description\": \"geographical feature\",\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \"languageCode\": \"en-US\"\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 }\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 ],\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \"segments\": [\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 {\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \"segment\": {\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \"startTimeOffset\": \"0s\",\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \"endTimeOffset\": \"38.757872s\"\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 },\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \"confidence\": 0.3942462\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 }\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 ]\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 },\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 ...\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 {\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \"entity\": {\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \"entityId\": \"/m/06gfj\",\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \"description\": \"road\",\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \"languageCode\": \"en-US\"\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 },\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \"segments\": [\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 {\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \"segment\": {\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \"startTimeOffset\": \"0s\",\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \"endTimeOffset\": \"38.757872s\"\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 },\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \"confidence\": 0.86698604\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 }\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 ]\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 }\u00a0 \u00a0 \u00a0 \u00a0 ]\u00a0 \u00a0 \u00a0 }\u00a0 \u00a0 ]\u00a0 }}\u00a0 \u00a0\n```\n\u606d\u559c\uff01\u60a8\u5df2\u5411 Video Intelligence API \u767c\u9001\u4e86\u7b2c\u4e00\u500b\u8acb\u6c42\u3002## \u6e05\u7406\u7232\u907f\u514d\u7522\u751f\u4e0d\u5fc5\u8981\u7684 Google Cloud \u8cbb\u7528\uff0c\u8acb\u4f7f\u7528 [Google Cloud \u63a7\u5236\u6aaf](https://console.cloud.google.com/?hl=zh-cn) \u522a\u9664\u60a8\u4e0d\u9700\u8981\u7684\u9805\u76ee\u3002## \u5f8c\u7e8c\u6b65\u9a5f\n- \u700f\u89bd [\u65b9\u6cd5\u6307\u5357](https://cloud.google.com/video-intelligence/docs/how-to?hl=zh-cn) \u3002\n- \u700f\u89bd [\u793a\u4f8b\u548c\u6559\u7a0b](https://cloud.google.com/video-intelligence/docs/tutorials?hl=zh-cn) \u3002\n- \u5982\u9700\u5168\u9762\u77ad\u89e3\u6240\u6709 API \u8abf\u7528\uff0c\u8acb\u53c3\u95b1 [API \u53c3\u8003\u6587\u6a94](https://cloud.google.com/video-intelligence/docs/reference/rest?hl=zh-cn) \u3002", "guide": "Cloud Video Intelligence API"}