{"title": "Documentation - Update VM properties", "url": "https://cloud.google.com/distributed-cloud/hosted/docs/latest/gdch/overview", "abstract": "# Documentation - Update VM properties\nThis page describes which virtual machine (VM) properties you can update for an existing VM and how to perform such an update.\n", "content": "## Before you begin\nTo use `gdcloud` command-line interface (CLI) commands, ensure that you have downloaded, installed, and configured the [gdcloud CLI](/distributed-cloud/hosted/docs/latest/gdch/resources/gdcloud-overview) . All commands for Distributed Cloud Hosted use the `gdcloud` or `kubectl` CLI, and require an operating system (OS) environment.\n### Get the kubeconfig file path\nTo run commands against the org admin cluster, ensure you have the following resources:\n- Locate the org admin cluster name, or ask your Platform Administrator (PA) what the cluster name is.\n- [Sign in and generate](/distributed-cloud/hosted/docs/latest/gdch/application/ao-user/iam/sign-in#cli) the kubeconfig file for the org admin cluster if you don't have one.\n- Use the path to the kubeconfig file of the org admin cluster to replace `` in these instructions.## Updatable properties\nYou can only change the properties that are in the `spec` of the VM.\n### View updatable properties\nFind properties you want to change by using the GDCH console or `kubectl` .\n- In the navigation menu, click **Virtual Machines > Instances** .\n- In the list of VMs, click a VM name to view its properties.\n- Editable properties have an **Edit** icon.\n- View the list of properties for the VM `spec` and the valid values corresponding to each property:```\nkubectl --kubeconfig ORG_ADMIN_KUBECONFIG explain virtualmachines.virtualmachine.gdc.goog.spec\n```The output is similar to the following:```\nKIND: \u00a0 \u00a0 VirtualMachineVERSION: \u00a0virtualmachine.gdc.goog/v1RESOURCE: spec <Object>DESCRIPTION:\u00a0 \u00a0 \u00a0Defines the specification of the Virtual Machine.FIELDS:\u00a0 \u00a0compute \u00a0 \u00a0 \u00a0<Object>\u00a0 \u00a0 \u00a0Specifies the CPU and Memory of the VM. CPU and Memory can be defined\u00a0 \u00a0 \u00a0directly or through the VirtualMachineType. Changes to Compute require a\u00a0 \u00a0 \u00a0reboot to take effect. Compute is immutable when the VM is in `Unknown`\u00a0 \u00a0 \u00a0state.\u00a0 \u00a0disks \u00a0 \u00a0 \u00a0 \u00a0<[]Object> -required-\u00a0 \u00a0 \u00a0Specifies the list of disks attached to this vm. There must be exactly one\u00a0 \u00a0 \u00a0boot disk. Changes to disk attachments require a reboot to take effect.\u00a0 \u00a0...\n```\n- Recursively view the sub-properties for each property. These examples show the return for the `compute` and the `vcpus` sub-properties:- This example command returns the fields for the `compute` sub-property:```\nkubectl --kubeconfig ORG_ADMIN_KUBECONFIG explain virtualmachines.virtualmachine.gdc.goog.spec.compute\n```The output is similar to the following:```\nKIND: \u00a0 \u00a0 VirtualMachineVERSION: \u00a0virtualmachine.gdc.goog/v1RESOURCE: compute <Object>DESCRIPTION:\u00a0 \u00a0 \u00a0Specifies the CPU and Memory of the VM. CPU and Memory can be defined\u00a0 \u00a0 \u00a0directly or through the VirtualMachineType. Changes to Compute require a\u00a0 \u00a0 \u00a0reboot to take effect. Compute is immutable when the VM is in `Unknown`\u00a0 \u00a0 \u00a0state.FIELDS:\u00a0 \u00a0memory \u00a0 \u00a0 \u00a0 <>\u00a0 \u00a0 \u00a0Specifies the amount of physical memory available to the instance. memory\u00a0 \u00a0 \u00a0must have a minimum value of `1G`, and can be up to (including) `400G`.\u00a0 \u00a0vcpus \u00a0 \u00a0 \u00a0 \u00a0<integer>\u00a0 \u00a0 \u00a0Specifies the number of VCPUs that are available to the instance. Specify\u00a0 \u00a0 \u00a0`vcpus` as an integer. This value must be a multiple of 2, with 2 as the\u00a0 \u00a0 \u00a0minimum and 128 as the maximum allowed.\u00a0 \u00a0...\n```\n- This example command returns the fields for the `vcpus` sub-property:```\nkubectl --kubeconfig ORG_ADMIN_KUBECONFIG explain virtualmachines.virtualmachine.gdc.goog.spec.compute.vcpus\n```The output is similar to the following:```\nKIND: \u00a0 \u00a0 VirtualMachineVERSION: \u00a0virtualmachine.gdc.goog/v1FIELD: \u00a0 \u00a0vcpus <integer>DESCRIPTION:\u00a0 \u00a0 \u00a0Specifies the number of VCPUs that are available to the instance. Specify\u00a0 \u00a0 \u00a0`vcpus` as an integer. This value must be a multiple of 2, with 2 as the\u00a0 \u00a0 \u00a0minimum and 128 as the maximum allowed.\n```All of the properties can be updated on a running VM, but often require the VM to be restarted to take effect.\nThese property updates require that the VM be restarted for the changes to take effect:\n- compute\n- disks\n- firmware\n- [startupScripts](/distributed-cloud/hosted/docs/latest/gdch/application/ao-user/vms/manage-the-os/startup-script-vm-instance) \nThese property updates take effect immediately:\n- guestEnvironment\n- runningState## Update VM properties\nUpdate VM properties by using the GDCH console or `kubectl` .\n- In the navigation menu, click **Virtual Machines > Instances** .\n- In the list of VMs, click a VM name to view its properties.\n- Click **Edit** next to the property that you want to edit and make your changes.\n- If you want to replace the boot disk or add a new disk, see [Replace a boot disk](/distributed-cloud/hosted/docs/latest/gdch/application/ao-user/vms/manage-vm-boot-disks/replace-a-boot-disk) or [Add a disk to a VM](/distributed-cloud/hosted/docs/latest/gdch/application/ao-user/vms/manage-storage/add-a-vm-disk) .\n- Click **Save** .\n- Run the following command:```\nkubectl --kubeconfig ORG_ADMIN_KUBECONFIG \\\u00a0 \u00a0edit virtualmachines.virtualmachine.gdc.goog VM_NAME \\\u00a0 \u00a0-n PROJECT\n```Replace the variables as defined in the following table.| Variable    | Definition    |\n|:---------------------|:--------------------------|\n| ORG_ADMIN_KUBECONFIG | The kubeconfig file path. |\n| VM_NAME    | The VM's name.   |\n| PROJECT    | The project name.   |\n- Edit the `spec` to update the required fields and values for the updatable properties.\n- Save the file.\n- If the property update requires the VM to be restarted, use the [Restart a VM](/distributed-cloud/hosted/docs/latest/gdch/application/ao-user/vms/manage-vms/operations-and-lifecycle/start-and-stop-vm#restart-a-vm) instructions to restart the VM.", "guide": "Documentation"}