{"title": "Live Stream API - Manage long-running operations", "url": "https://cloud.google.com/livestream/docs/how-to/manage-long-running-operations", "abstract": "# Live Stream API - Manage long-running operations\nThis page describes how to manage the lifecycle of a Live Stream API Long-Running Operation (LRO).\n[Long-Running Operations](https://google.aip.dev/151) are returned when method calls might take a long time to complete. For example, the Live Stream API creates an LRO every time you call [projects.locations.inputs.create](/livestream/docs/reference/rest/v1/projects.locations.inputs/create) . The LRO tracks the status of the processing job.\nYou can use the [projects.locations.operations methods](/livestream/docs/reference/rest/v1/projects.locations.operations) that the Live Stream API provides to check the [status](#get-operation) of LROs. You can also [list](#list-operations) , [cancel](#cancel-operation) , or [delete](#delete-operation) LROs.\nLROs are managed at the Google Cloud project and location level. When making a request to the API, include the Google Cloud project and the location in which the LRO is running.\nThe record of an LRO is kept for approximately 30 days after the LRO finishes, meaning that you cannot view or list an LRO after that point.\n", "content": "## Get details about a long-running operation\nSuppose you [created an input endpoint](/livestream/docs/how-to/create-input-endpoints) . The `name` value in the response shows that the Live Stream API created an LRO named `projects/` `` `/locations/` `` `/operations/` `` .\nTo check if the input endpoint has been created, use the [projects.locations.operations.get](/livestream/docs/reference/rest/v1/projects.locations.operations/get) method. If the response contains `\"done\": false` , repeat the command until the response contains `\"done\": true` . This operation can take a few minutes to complete.\nYou can also retrieve the LRO name by [listing long-running operations](#list-operations) .\nBefore using any of the request data, make the following replacements:\n- ``: your Google Cloud project number; this is located in the **Project number** field on the [IAM Settings](https://console.cloud.google.com/iam-admin/settings) page\n- ``: the location where your input endpoint is  located; use one of the [supported regions](/livestream/docs/locations) \n- ``: the identifier for the operation\nTo send your request, expand one of these options:\nYou should receive a JSON response similar to the following:\n```\n{\n \"name\": \"projects/PROJECT_NUMBER/locations/LOCATION/operations/OPERATION_ID\",\n \"metadata\": {\n \"@type\": \"type.googleapis.com/google.cloud.video.livestream.v1.OperationMetadata\",\n \"createTime\": CREATE_TIME,\n \"endTime\": END_TIME,\n \"target\": \"projects/PROJECT_NUMBER/locations/LOCATION/inputs/INPUT_ID\",\n \"verb\": \"create\",\n \"requestedCancellation\": false,\n \"apiVersion\": \"v1\"\n },\n \"done\": true,\n \"response\": {\n \"@type\": \"type.googleapis.com/google.cloud.video.livestream.v1.Input\",\n \"name\": \"projects/PROJECT_NUMBER/locations/LOCATION/inputs/INPUT_ID\",\n \"createTime\": CREATE_TIME,\n \"updateTime\": UPDATE_TIME,\n \"type\": \"RTMP_PUSH\",\n \"uri\": INPUT_STREAM_URI, # For example, \"rtmp://1.2.3.4/live/b8ebdd94-c8d9-4d88-a16e-b963c43a953b\",\n \"tier\": \"HD\"\n }\n}\n```\n## List long-running operations\nTo list all of the operations in a given location, use the [projects.locations.operations.list](/livestream/docs/reference/rest/v1/projects.locations.operations/list) method.\nBefore using any of the request data, make the following replacements:\n- ``: your Google Cloud project number; this is located in the **Project number** field on the [IAM Settings](https://console.cloud.google.com/iam-admin/settings) page\n- ``: the location of the operations;  use one of the [supported regions](/livestream/docs/locations) \nTo send your request, expand one of these options:\nYou should receive a JSON response similar to the following:\n```\n{\n \"operations\": [ {\n  \"name\": \"projects/PROJECT_NUMBER/locations/LOCATION/operations/OPERATION_ID\",\n  \"metadata\": {\n  \"@type\": \"type.googleapis.com/google.cloud.livestream.v1.OperationMetadata\",\n  \"createTime\": CREATE_TIME,\n  \"endTime\": END_TIME,\n  \"target\": \"projects/PROJECT_NUMBER/locations/LOCATION/inputs/INPUT_ID,\n  \"verb\": \"create\",\n  \"requestedCancellation\": false,\n  \"apiVersion\": \"v1\"\n  },\n  \"done\": false\n },\n {\n  \"name\": \"projects/PROJECT_NUMBER/locations/LOCATION/operations/my-other-operation\",\n  \"metadata\": {\n  \"@type\": \"type.googleapis.com/google.cloud.livestream.v1.OperationMetadata\",\n  \"createTime\": CREATE_TIME,\n  \"endTime\": END_TIME,\n  \"target\": \"projects/PROJECT_NUMBER/locations/LOCATION/inputs/my-other-input\",\n  \"verb\": \"create\",\n  \"requestedCancellation\": false,\n  \"apiVersion\": \"v1\"\n  },\n  \"done\": true,\n  \"response\": {\n  \"@type\": \"type.googleapis.com/google.cloud.livestream.v1.Input\",\n  \"name\": \"projects/PROJECT_NUMBER/locations/LOCATION/inputs/my-other-input\",\n  \"createTime\": CREATE_TIME,\n  \"updateTime\": UPDATE_TIME,\n  \"type\": \"RTMP_PUSH\",\n  \"uri\": INPUT_STREAM_URI,\n  \"tier\": \"HD\"\n  }\n }\n ]\n}\n```\n## Cancel a long-running operation\nTo start asynchronous cancellation on a long-running operation, use the [projects.locations.operations.cancel](/livestream/docs/reference/rest/v1/projects.locations.operations/cancel) method. The server makes a best effort to cancel the operation, but success is not guaranteed.\nBefore using any of the request data, make the following replacements:\n- ``: your Google Cloud project number; this is located in the **Project number** field on the [IAM Settings](https://console.cloud.google.com/iam-admin/settings) page\n- ``: the location of the operation;  use one of the [supported regions](/livestream/docs/locations) \n- ``: the identifier for the operation\nTo send your request, expand one of these options:\n```\n{}\n```\n## Delete a long-running operation\nTo delete a completed long-running operation, use the [projects.locations.operations.delete](/livestream/docs/reference/rest/v1/projects.locations.operations/delete) method. This method indicates that the client is no longer interested in the operation result. It does not cancel the operation.\nBefore using any of the request data, make the following replacements:\n- ``: your Google Cloud project number; this is located in the **Project number** field on the [IAM Settings](https://console.cloud.google.com/iam-admin/settings) page\n- ``: the location of the operation;  use one of the [supported regions](/livestream/docs/locations) \n- ``: the identifier for the operation\nTo send your request, expand one of these options:\n```\n{}\n```", "guide": "Live Stream API"}