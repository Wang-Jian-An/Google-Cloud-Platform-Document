{"title": "Live Stream API - \u76e3\u63a7\u76f4\u64ad", "url": "https://cloud.google.com/livestream/docs/how-to/monitoring?hl=zh-cn", "abstract": "# Live Stream API - \u76e3\u63a7\u76f4\u64ad\n\u672c\u9801\u9762\u4ecb\u7d39\u77ad\u5982\u4f55\u67e5\u770b Cloud Monitoring \u4e2d\u7531 Live Stream API \u6536\u96c6\u7684\u6307\u6a19\u3002\u60a8\u53ef\u4ee5\u5728 [Google Cloud \u6307\u6a19](https://cloud.google.com/monitoring/api/metrics_gcp?hl=zh-cn) \u4e2d\u627e\u5230 Live Stream API \u6307\u6a19\u7684\u5217\u8868\u3002\n", "content": "## \u67e5\u770b Cloud Monitoring \u6307\u6a19\n\u5982\u9700\u4f7f\u7528 Metrics Explorer \u67e5\u770b\u53d7\u76e3\u63a7\u8cc7\u6e90\u7684\u6307\u6a19\uff0c\u8acb\u57f7\u884c\u4ee5\u4e0b\u64cd\u4f5c\uff1a\n- \u5728 Google Cloud \u63a7\u5236\u6aaf\u7684\u5c0e\u822a\u9762\u677f\u4e2d\uff0c\u9078\u64c7 **Monitoring** \uff0c\u7136\u5f8c\u9078\u64c7 **Metrics Explorer** \uff1a [\u9032\u5165 Metrics Explorer](https://console.cloud.google.com/monitoring/metrics-explorer?hl=zh-cn) \n- \u5728 **\u6307\u6a19** \u5143\u7d20\u4e2d\uff0c\u5c55\u958b **\u9078\u64c7\u6307\u6a19** \u83dc\u55ae\uff0c\u5728\u904e\u6ffe\u6b04\u4e2d\u8f38\u5165`Live Stream API Channel`\uff0c\u7136\u5f8c\u4f7f\u7528\u5b50\u83dc\u55ae\u9078\u64c7\u4e00\u500b\u7279\u5b9a\u8cc7\u6e90\u985e\u578b\u548c\u6307\u6a19\uff1a- \u5728 **\u6d3b\u8e8d\u8cc7\u6e90** \u83dc\u55ae\u4e2d\uff0c\u9078\u64c7 **Live Stream API Channel** \u3002\n- \u5982\u9700\u9078\u64c7\u6307\u6a19\uff0c\u8acb\u4f7f\u7528 **\u6d3b\u8e8d\u6307\u6a19\u985e\u5225** \u548c **\u6d3b\u8e8d\u6307\u6a19** \u83dc\u55ae\u3002\n- \u9ede\u64ca **\u61c9\u7528** \u3002\n- \u914d\u7f6e\u6578\u64da\u7684\u67e5\u770b\u65b9\u5f0f\u3002 \u4f8b\u5982\uff0c\u60a8\u53ef\u4ee5\u5728 **\u904e\u6ffe\u689d\u4ef6** \u5b57\u6bb5\u4e2d\u8f38\u5165`channel_id = my-channel`\uff0c\u4ee5\u7e6a\u88fd\u7279\u5b9a\u6e20\u9053\u7684\u5716\u8868\u3002\u5982\u9700\u8a73\u7d30\u77ad\u89e3\u5982\u4f55\u914d\u7f6e\u5716\u8868\uff0c\u8acb\u53c3\u95b1 [\u4f7f\u7528 Metrics Explorer \u6642\u9078\u64c7\u6307\u6a19](https://cloud.google.com/monitoring/charts/metrics-selector?hl=zh-cn) \u3002## \u8f49\u63db\u8f38\u5165\u6d41\u6bd4\u7279\u7387\u55ae\u4f4d\n\u60a8\u53ef\u4ee5\u4f7f\u7528 `channel/received_bytes_count` \u6307\u6a19\u4f86\u76e3\u63a7\u8f38\u5165\u6d41\u7684\u6bd4\u7279\u7387\u3002\u9ed8\u8a8d\u60c5\u6cc1\u4e0b\uff0c `channel/received_bytes_count` \u7684\u55ae\u4f4d\u7232\u6bcf\u79d2\u5b57\u7bc0\u6578\uff0c\u4ee5\u4fbf\u8207\u5176\u4ed6 Google Cloud \u6307\u6a19\u4fdd\u6301\u4e00\u81f4\u3002\n\u82e5\u8981\u5c07\u8a72\u55ae\u4f4d\u66f4\u6539\u7232\u5176\u4ed6\u6bd4\u7279\u7387\u55ae\u4f4d\uff0c\u4f8b\u5982 `mbps` \uff0c\u8acb\u6309\u4ee5\u4e0b\u6b65\u9a5f\u64cd\u4f5c\uff1a\n- \u5728 Metrics Explorer \u7684 **\u914d\u7f6e** \u6a19\u7c64\u9801\u4e2d\uff0c\u5c07 **\u8cc7\u6e90\u985e\u578b** \u5b57\u6bb5\u8a2d\u7f6e\u7232 **Live Stream API Channel** \uff0c\u5c07 **\u6307\u6a19** \u5b57\u6bb5\u8a2d\u7f6e\u7232 **\u63a5\u6536\u7684\u5b57\u7bc0\u6578** \u3002\n- \u9078\u64c7 **MQL** \u6a19\u7c64\u9801\u3002\n- \u5c07\u4e00\u500b\u7e2e\u653e\u51fd\u6578\u9644\u52a0\u5230\u7576\u524d\u67e5\u8a62\u7684\u672b\u5c3e\uff1a```\nfetch livestream.googleapis.com/Channel\n| metric 'livestream.googleapis.com/channel/received_bytes_count'\n| align rate(1m)\n| every 1m\n| scale(\"Mbit/s\")\n```\n- \u9ede\u64ca **\u904b\u884c\u67e5\u8a62** \uff0c\u4ee5\u55ae\u4f4d `mbps` \u91cd\u65b0\u7e6a\u88fd\u5716\u8868\u3002\n\u5982\u9700\u8a73\u7d30\u77ad\u89e3 MQL\uff0c\u8acb\u53c3\u95b1 [\u4f7f\u7528\u67e5\u8a62\u7de8\u8f2f\u5668](https://cloud.google.com/monitoring/mql/query-editor?hl=zh-cn) \u3002", "guide": "Live Stream API"}