{"title": "Live Stream API - \u5275\u5efa\u548c\u7ba1\u7406\u6c60", "url": "https://cloud.google.com/livestream/docs/how-to/create-pools?hl=zh-cn", "abstract": "# Live Stream API - \u5275\u5efa\u548c\u7ba1\u7406\u6c60\n\u672c\u9801\u4ecb\u7d39\u77ad\u5982\u4f55\u5275\u5efa\u548c\u7ba1\u7406 Live Stream API \u6c60\u3002\u6c60\u662f\u6309\u5340\u57df\u7232\u6bcf\u500b Google Cloud \u9805\u76ee\u5206\u914d\u7684\u8655\u7406\u55ae\u5143\uff0c\u5728\u6307\u5b9a\u5340\u57df\u4e2d\u7684\u6240\u6709\u6e20\u9053\u4e4b\u9593\u5171\u4eab\u3002\u6c60\u7528\u65bc\u4fdd\u8b77 VPC Service Controls \u908a\u754c\u5167\u7684\u8f38\u5165\u7aef\u9ede\u3002\u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1 [\u4f7f\u7528 VPC Service Controls \u4fdd\u8b77\u6d41\u6c34\u7dda](https://cloud.google.com/livestream/docs/how-to/vpc/secure-livestreams?hl=zh-cn) \u3002\n", "content": "## \u8a2d\u7f6e\u60a8\u7684 Google Cloud \u9805\u76ee\u548c\u8eab\u4efd\u9a57\u8b49\n[Google Cloud \u9805\u76ee](https://cloud.google.com/docs/overview?hl=zh-cn#projects)\n[\u6e96\u5099\u5de5\u4f5c](https://cloud.google.com/livestream/docs/how-to/before-you-begin?hl=zh-cn)\n## \u5275\u5efa\u6c60\n\u7576\u60a8\u9996\u6b21\u5728\u67d0\u500b\u4f4d\u7f6e\u4e2d [\u5275\u5efa\u8f38\u5165\u7aef\u9ede](https://cloud.google.com/livestream/docs/how-to/create-input-endpoints?hl=zh-cn) \u6642\uff0c\u7cfb\u7d71\u6703\u81ea\u52d5\u5275\u5efa\u8a72\u4f4d\u7f6e\u7684\u9ed8\u8a8d\u6c60\u3002\n## \u7372\u53d6\u6c60\u8a73\u60c5\n\u5982\u9700\u7372\u53d6\u6c60\u7684\u8a73\u7d30\u4fe1\u606f\uff0c\u8acb\u4f7f\u7528 [projects.locations.pools.get](https://cloud.google.com/livestream/docs/reference/rest/v1/projects.locations.pools/get?hl=zh-cn) \u65b9\u6cd5\u3002\n\u5728\u4f7f\u7528\u4efb\u4f55\u8acb\u6c42\u6578\u64da\u4e4b\u524d\uff0c\u8acb\u5148\u9032\u884c\u4ee5\u4e0b\u66ff\u63db\uff1a- ``\uff1a\u60a8\u7684 Google Cloud \u9805\u76ee\u7de8\u865f\uff1b\u4f4d\u65bc [IAM \u8a2d\u7f6e](https://console.cloud.google.com/iam-admin/settings?hl=zh-cn) \u9801\u9762\u4e0a\u7684 **\u9805\u76ee\u7de8\u865f** \u5b57\u6bb5\u4e2d\n- ``\uff1a\u4f7f\u7528\u60a8\u5df2\u5728\u5176\u4e2d\u5275\u5efa\u4e86\u8f38\u5165\u7684 [\u53d7\u652f\u6301\u7684\u5340\u57df](https://cloud.google.com/livestream/docs/locations?hl=zh-cn) \u4e4b\u4e00\n\u5982\u9700\u767c\u9001\u60a8\u7684\u8acb\u6c42\uff0c\u8acb\u5c55\u958b\u4ee5\u4e0b\u9078\u9805\u4e4b\u4e00\uff1a\u60a8\u61c9\u8a72\u6536\u5230\u985e\u4f3c\u4ee5\u4e0b\u5167\u5bb9\u7684 JSON \u97ff\u61c9\uff1a\n```\n{\n \"name\": \"projects/PROJECT_NUMBER/locations/LOCATION/pools/default\",\n \"createTime\": CREATE_TIME,\n \"updateTime\": UPDATE_TIME\n}\n```\n\u5982\u9700\u77ad\u89e3\u5982\u4f55\u5b89\u88dd\u548c\u4f7f\u7528 Live Stream API \u5ba2\u6236\u7aef\u5eab\uff0c\u8acb\u53c3\u95b1 [Live Stream API \u5ba2\u6236\u7aef\u5eab](https://cloud.google.com/livestream/docs/reference/libraries?hl=zh-cn) \u3002 \u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1 [Live Stream API C# API \u53c3\u8003\u6587\u6a94](https://cloud.google.com/dotnet/docs/reference/Google.Cloud.Video.LiveStream.V1/latest?hl=zh-cn) \u3002\n\u5982\u9700\u5411 Live Stream API \u9032\u884c\u8eab\u4efd\u9a57\u8b49\uff0c\u8acb\u8a2d\u7f6e\u61c9\u7528\u9ed8\u8a8d\u6191\u64da\u3002\u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1 [\u7232\u672c\u5730\u958b\u767c\u74b0\u5883\u8a2d\u7f6e\u8eab\u4efd\u9a57\u8b49](https://cloud.google.com/docs/authentication/provide-credentials-adc?hl=zh-cn#local-dev) \u3002\n [\u5728 GitHub \u4e0a\u67e5\u770b](https://github.com/GoogleCloudPlatform/dotnet-docs-samples/blob/HEAD/media/livestream/api/LiveStream.Samples/GetPool.cs) \n```\nusing Google.Cloud.Video.LiveStream.V1;public class GetPoolSample{\u00a0 \u00a0 public Pool GetPool(\u00a0 \u00a0 \u00a0 \u00a0 \u00a0string projectId, string locationId, string poolId)\u00a0 \u00a0 {\u00a0 \u00a0 \u00a0 \u00a0 // Create the client.\u00a0 \u00a0 \u00a0 \u00a0 LivestreamServiceClient client = LivestreamServiceClient.Create();\u00a0 \u00a0 \u00a0 \u00a0 GetPoolRequest request = new GetPoolRequest\u00a0 \u00a0 \u00a0 \u00a0 {\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 PoolName = PoolName.FromProjectLocationPool(projectId, locationId, poolId)\u00a0 \u00a0 \u00a0 \u00a0 };\u00a0 \u00a0 \u00a0 \u00a0 // Make the request.\u00a0 \u00a0 \u00a0 \u00a0 Pool response = client.GetPool(request);\u00a0 \u00a0 \u00a0 \u00a0 return response;\u00a0 \u00a0 }}\n```\u5982\u9700\u77ad\u89e3\u5982\u4f55\u5b89\u88dd\u548c\u4f7f\u7528 Live Stream API \u5ba2\u6236\u7aef\u5eab\uff0c\u8acb\u53c3\u95b1 [Live Stream API \u5ba2\u6236\u7aef\u5eab](https://cloud.google.com/livestream/docs/reference/libraries?hl=zh-cn) \u3002 \u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1 [Live Stream API Go API \u53c3\u8003\u6587\u6a94](https://pkg.go.dev/cloud.google.com/go/video/livestream) \u3002\n\u5982\u9700\u5411 Live Stream API \u9032\u884c\u8eab\u4efd\u9a57\u8b49\uff0c\u8acb\u8a2d\u7f6e\u61c9\u7528\u9ed8\u8a8d\u6191\u64da\u3002\u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1 [\u7232\u672c\u5730\u958b\u767c\u74b0\u5883\u8a2d\u7f6e\u8eab\u4efd\u9a57\u8b49](https://cloud.google.com/docs/authentication/provide-credentials-adc?hl=zh-cn#local-dev) \u3002\n [\u5728 GitHub \u4e0a\u67e5\u770b](https://github.com/GoogleCloudPlatform/golang-samples/blob/HEAD/media/livestream/get_pool.go) \n```\nimport (\u00a0 \u00a0 \u00a0 \u00a0 \"context\"\u00a0 \u00a0 \u00a0 \u00a0 \"fmt\"\u00a0 \u00a0 \u00a0 \u00a0 \"io\"\u00a0 \u00a0 \u00a0 \u00a0 livestream \"cloud.google.com/go/video/livestream/apiv1\"\u00a0 \u00a0 \u00a0 \u00a0 \"cloud.google.com/go/video/livestream/apiv1/livestreampb\")// getPool gets a pool.func getPool(w io.Writer, projectID, location, poolID string) error {\u00a0 \u00a0 \u00a0 \u00a0 // projectID := \"my-project-id\"\u00a0 \u00a0 \u00a0 \u00a0 // location := \"us-central1\"\u00a0 \u00a0 \u00a0 \u00a0 // poolID := \"default\"\u00a0 \u00a0 \u00a0 \u00a0 ctx := context.Background()\u00a0 \u00a0 \u00a0 \u00a0 client, err := livestream.NewClient(ctx)\u00a0 \u00a0 \u00a0 \u00a0 if err != nil {\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 return fmt.Errorf(\"NewClient: %w\", err)\u00a0 \u00a0 \u00a0 \u00a0 }\u00a0 \u00a0 \u00a0 \u00a0 defer client.Close()\u00a0 \u00a0 \u00a0 \u00a0 req := &livestreampb.GetPoolRequest{\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 Name: fmt.Sprintf(\"projects/%s/locations/%s/pools/%s\", projectID, location, poolID),\u00a0 \u00a0 \u00a0 \u00a0 }\u00a0 \u00a0 \u00a0 \u00a0 response, err := client.GetPool(ctx, req)\u00a0 \u00a0 \u00a0 \u00a0 if err != nil {\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 return fmt.Errorf(\"GetPool: %w\", err)\u00a0 \u00a0 \u00a0 \u00a0 }\u00a0 \u00a0 \u00a0 \u00a0 fmt.Fprintf(w, \"Pool: %v\", response.Name)\u00a0 \u00a0 \u00a0 \u00a0 return nil}\n```\u5982\u9700\u77ad\u89e3\u5982\u4f55\u5b89\u88dd\u548c\u4f7f\u7528 Live Stream API \u5ba2\u6236\u7aef\u5eab\uff0c\u8acb\u53c3\u95b1 [Live Stream API \u5ba2\u6236\u7aef\u5eab](https://cloud.google.com/livestream/docs/reference/libraries?hl=zh-cn) \u3002 \u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1 [Live Stream API Java API \u53c3\u8003\u6587\u6a94](https://cloud.google.com/java/docs/reference/google-cloud-live-stream/latest/overview?hl=zh-cn) \u3002\n\u5982\u9700\u5411 Live Stream API \u9032\u884c\u8eab\u4efd\u9a57\u8b49\uff0c\u8acb\u8a2d\u7f6e\u61c9\u7528\u9ed8\u8a8d\u6191\u64da\u3002\u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1 [\u7232\u672c\u5730\u958b\u767c\u74b0\u5883\u8a2d\u7f6e\u8eab\u4efd\u9a57\u8b49](https://cloud.google.com/docs/authentication/provide-credentials-adc?hl=zh-cn#local-dev) \u3002\n [\u5728 GitHub \u4e0a\u67e5\u770b](https://github.com/GoogleCloudPlatform/java-docs-samples/blob/HEAD/media/livestream/src/main/java/com/example/livestream/GetPool.java) \n```\nimport com.google.cloud.video.livestream.v1.LivestreamServiceClient;import com.google.cloud.video.livestream.v1.Pool;import com.google.cloud.video.livestream.v1.PoolName;import java.io.IOException;public class GetPool {\u00a0 public static void main(String[] args) throws Exception {\u00a0 \u00a0 // TODO(developer): Replace these variables before running the sample.\u00a0 \u00a0 String projectId = \"my-project-id\";\u00a0 \u00a0 String location = \"us-central1\";\u00a0 \u00a0 String poolId = \"default\"; // only 1 pool supported per location\u00a0 \u00a0 getPool(projectId, location, poolId);\u00a0 }\u00a0 public static void getPool(String projectId, String location, String poolId)\u00a0 \u00a0 \u00a0 throws IOException {\u00a0 \u00a0 // Initialize client that will be used to send requests. This client only needs to be created\u00a0 \u00a0 // once, and can be reused for multiple requests. In this example, try-with-resources is used\u00a0 \u00a0 // which automatically calls close() on the client to clean up resources.\u00a0 \u00a0 try (LivestreamServiceClient livestreamServiceClient = LivestreamServiceClient.create()) {\u00a0 \u00a0 \u00a0 PoolName name = PoolName.of(projectId, location, poolId);\u00a0 \u00a0 \u00a0 Pool response = livestreamServiceClient.getPool(name);\u00a0 \u00a0 \u00a0 System.out.println(\"Pool: \" + response.getName());\u00a0 \u00a0 }\u00a0 }}\n```\u5982\u9700\u77ad\u89e3\u5982\u4f55\u5b89\u88dd\u548c\u4f7f\u7528 Live Stream API \u5ba2\u6236\u7aef\u5eab\uff0c\u8acb\u53c3\u95b1 [Live Stream API \u5ba2\u6236\u7aef\u5eab](https://cloud.google.com/livestream/docs/reference/libraries?hl=zh-cn) \u3002 \u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1 [Live Stream API Node.js API \u53c3\u8003\u6587\u6a94](https://cloud.google.com/nodejs/docs/reference/livestream/latest?hl=zh-cn) \u3002\n\u5982\u9700\u5411 Live Stream API \u9032\u884c\u8eab\u4efd\u9a57\u8b49\uff0c\u8acb\u8a2d\u7f6e\u61c9\u7528\u9ed8\u8a8d\u6191\u64da\u3002\u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1 [\u7232\u672c\u5730\u958b\u767c\u74b0\u5883\u8a2d\u7f6e\u8eab\u4efd\u9a57\u8b49](https://cloud.google.com/docs/authentication/provide-credentials-adc?hl=zh-cn#local-dev) \u3002\n [\u5728 GitHub \u4e0a\u67e5\u770b](https://github.com/GoogleCloudPlatform/nodejs-docs-samples/blob/HEAD/media/livestream/getPool.js) \n```\n/**\u00a0* TODO(developer): Uncomment these variables before running the sample.\u00a0*/// projectId = 'my-project-id';// location = 'us-central1';// poolId = 'my-pool';// Imports the Livestream libraryconst {LivestreamServiceClient} = require('@google-cloud/livestream').v1;// Instantiates a clientconst livestreamServiceClient = new LivestreamServiceClient();async function getPool() {\u00a0 // Construct request\u00a0 const request = {\u00a0 \u00a0 name: livestreamServiceClient.poolPath(projectId, location, poolId),\u00a0 };\u00a0 const [pool] = await livestreamServiceClient.getPool(request);\u00a0 console.log(`Pool: ${pool.name}`);}getPool();\n```\u5982\u9700\u77ad\u89e3\u5982\u4f55\u5b89\u88dd\u548c\u4f7f\u7528 Live Stream API \u5ba2\u6236\u7aef\u5eab\uff0c\u8acb\u53c3\u95b1 [Live Stream API \u5ba2\u6236\u7aef\u5eab](https://cloud.google.com/livestream/docs/reference/libraries?hl=zh-cn) \u3002 \u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1 [Live Stream API PHP API \u53c3\u8003\u6587\u6a94](https://googleapis.github.io/google-cloud-php/#/docs/google-cloud/latest/videolivestream/readme) \u3002\n\u5982\u9700\u5411 Live Stream API \u9032\u884c\u8eab\u4efd\u9a57\u8b49\uff0c\u8acb\u8a2d\u7f6e\u61c9\u7528\u9ed8\u8a8d\u6191\u64da\u3002\u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1 [\u7232\u672c\u5730\u958b\u767c\u74b0\u5883\u8a2d\u7f6e\u8eab\u4efd\u9a57\u8b49](https://cloud.google.com/docs/authentication/provide-credentials-adc?hl=zh-cn#local-dev) \u3002\n [\u5728 GitHub \u4e0a\u67e5\u770b](https://github.com/GoogleCloudPlatform/php-docs-samples/blob/HEAD/media/livestream/src/get_pool.php) \n```\nuse Google\\Cloud\\Video\\LiveStream\\V1\\Client\\LivestreamServiceClient;use Google\\Cloud\\Video\\LiveStream\\V1\\GetPoolRequest;/**\u00a0* Gets a pool.\u00a0*\u00a0* @param string \u00a0$callingProjectId \u00a0 The project ID to run the API call under\u00a0* @param string \u00a0$location \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 The location of the pool\u00a0* @param string \u00a0$poolId \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 The ID of the pool\u00a0*/function get_pool(\u00a0 \u00a0 string $callingProjectId,\u00a0 \u00a0 string $location,\u00a0 \u00a0 string $poolId): void {\u00a0 \u00a0 // Instantiate a client.\u00a0 \u00a0 $livestreamClient = new LivestreamServiceClient();\u00a0 \u00a0 $formattedName = $livestreamClient->poolName($callingProjectId, $location, $poolId);\u00a0 \u00a0 // Get the pool.\u00a0 \u00a0 $request = (new GetPoolRequest())\u00a0 \u00a0 \u00a0 \u00a0 ->setName($formattedName);\u00a0 \u00a0 $response = $livestreamClient->getPool($request);\u00a0 \u00a0 // Print results\u00a0 \u00a0 printf('Pool: %s' . PHP_EOL, $response->getName());}\n```\u5982\u9700\u77ad\u89e3\u5982\u4f55\u5b89\u88dd\u548c\u4f7f\u7528 Live Stream API \u5ba2\u6236\u7aef\u5eab\uff0c\u8acb\u53c3\u95b1 [Live Stream API \u5ba2\u6236\u7aef\u5eab](https://cloud.google.com/livestream/docs/reference/libraries?hl=zh-cn) \u3002 \u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1 [Live Stream API Python API \u53c3\u8003\u6587\u6a94](https://cloud.google.com/python/docs/reference/livestream/latest?hl=zh-cn) \u3002\n\u5982\u9700\u5411 Live Stream API \u9032\u884c\u8eab\u4efd\u9a57\u8b49\uff0c\u8acb\u8a2d\u7f6e\u61c9\u7528\u9ed8\u8a8d\u6191\u64da\u3002\u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1 [\u7232\u672c\u5730\u958b\u767c\u74b0\u5883\u8a2d\u7f6e\u8eab\u4efd\u9a57\u8b49](https://cloud.google.com/docs/authentication/provide-credentials-adc?hl=zh-cn#local-dev) \u3002\n [\u5728 GitHub \u4e0a\u67e5\u770b](https://github.com/GoogleCloudPlatform/python-docs-samples/blob/HEAD/video/live-stream/get_pool.py) \n```\nimport argparsefrom google.cloud.video import live_stream_v1from google.cloud.video.live_stream_v1.services.livestream_service import (\u00a0 \u00a0 LivestreamServiceClient,)def get_pool(project_id: str, location: str, pool_id: str) -> live_stream_v1.types.Pool:\u00a0 \u00a0 \"\"\"Gets a pool.\u00a0 \u00a0 Args:\u00a0 \u00a0 \u00a0 \u00a0 project_id: The GCP project ID.\u00a0 \u00a0 \u00a0 \u00a0 location: The location of the pool.\u00a0 \u00a0 \u00a0 \u00a0 pool_id: The user-defined pool ID.\"\"\"\u00a0 \u00a0 client = LivestreamServiceClient()\u00a0 \u00a0 name = f\"projects/{project_id}/locations/{location}/pools/{pool_id}\"\u00a0 \u00a0 response = client.get_pool(name=name)\u00a0 \u00a0 print(f\"Pool: {response.name}\")\u00a0 \u00a0 return response\n```\u5982\u9700\u77ad\u89e3\u5982\u4f55\u5b89\u88dd\u548c\u4f7f\u7528 Live Stream API \u5ba2\u6236\u7aef\u5eab\uff0c\u8acb\u53c3\u95b1 [Live Stream API \u5ba2\u6236\u7aef\u5eab](https://cloud.google.com/livestream/docs/reference/libraries?hl=zh-cn) \u3002 \u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1 [Live Stream API Ruby API \u53c3\u8003\u6587\u6a94](https://cloud.google.com/ruby/docs/reference/google-cloud-video-live_stream/latest?hl=zh-cn) \u3002\n\u5982\u9700\u5411 Live Stream API \u9032\u884c\u8eab\u4efd\u9a57\u8b49\uff0c\u8acb\u8a2d\u7f6e\u61c9\u7528\u9ed8\u8a8d\u6191\u64da\u3002\u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1 [\u7232\u672c\u5730\u958b\u767c\u74b0\u5883\u8a2d\u7f6e\u8eab\u4efd\u9a57\u8b49](https://cloud.google.com/docs/authentication/provide-credentials-adc?hl=zh-cn#local-dev) \u3002\n [\u5728 GitHub \u4e0a\u67e5\u770b](https://github.com/googleapis/google-cloud-ruby/blob/HEAD/google-cloud-video-live_stream/samples/get_pool.rb) \n```\nrequire \"google/cloud/video/live_stream\"\n### Get the pool\n## @param project_id [String] Your Google Cloud project (e.g. \"my-project\")# @param location [String] The location (e.g. \"us-central1\")# @param pool_id [String] Your pool name (e.g. \"default\")#def get_pool project_id:, location:, pool_id:\u00a0 # Create a Live Stream client.\u00a0 client = Google::Cloud::Video::LiveStream.livestream_service\u00a0 # Build the resource name of the pool.\u00a0 name = client.pool_path project: project_id, location: location, pool: pool_id\u00a0 # Get the pool.\u00a0 pool = client.get_pool name: name\u00a0 # Print the pool name.\u00a0 puts \"Pool: #{pool.name}\"end\n```\n## \u66f4\u65b0\u6c60\n\u5982\u9700\u66f4\u65b0\u8f38\u5165\u7aef\u9ede\uff0c\u8acb\u4f7f\u7528 [projects.locations.pools.patch](https://cloud.google.com/livestream/docs/reference/rest/v1/projects.locations.pools/patch?hl=zh-cn) \u65b9\u6cd5\u3002\n\u5728\u4f7f\u7528\u4efb\u4f55\u8acb\u6c42\u6578\u64da\u4e4b\u524d\uff0c\u8acb\u5148\u9032\u884c\u4ee5\u4e0b\u66ff\u63db\uff1a- ``\uff1a\u60a8\u7684 Google Cloud \u9805\u76ee\u7de8\u865f\uff1b\u4f4d\u65bc [IAM \u8a2d\u7f6e](https://console.cloud.google.com/iam-admin/settings?hl=zh-cn) \u9801\u9762\u4e0a\u7684 **\u9805\u76ee\u7de8\u865f** \u5b57\u6bb5\u4e2d\n- ``\uff1a\u9ed8\u8a8d\u6c60\u7684\u4f4d\u7f6e\uff1b\u8acb\u4f7f\u7528 [\u652f\u6301\u7684\u5340\u57df](https://cloud.google.com/livestream/docs/locations?hl=zh-cn) \u4e4b\u4e00\n- ``\uff1a\u7528\u6236\u5b9a\u7fa9\u7684\u7576\u524d\u9805\u76ee\u4e2d\u7db2\u7d61\u6a19\u8b58\u7b26\uff0c\u7528\u65bc\u8207\u670d\u52d9\u5efa\u7acb\u5c0d\u7b49\u4e92\u9023\n\u5982\u9700\u767c\u9001\u60a8\u7684\u8acb\u6c42\uff0c\u8acb\u5c55\u958b\u4ee5\u4e0b\u9078\u9805\u4e4b\u4e00\uff1a\u60a8\u61c9\u8a72\u6536\u5230\u985e\u4f3c\u4ee5\u4e0b\u5167\u5bb9\u7684 JSON \u97ff\u61c9\uff1a\n```\n{\n \"name\": \"projects/PROJECT_NUMBER/locations/LOCATION/operations/OPERATION_ID\",\n \"metadata\": {\n \"@type\": \"type.googleapis.com/google.cloud.video.livestream.v1.OperationMetadata\",\n \"createTime\": CREATE_TIME,\n \"target\": \"projects/PROJECT_NUMBER/locations/LOCATION/pools/default\",\n \"verb\": \"update\",\n \"requestedCancellation\": false,\n \"apiVersion\": \"v1\"\n },\n \"done\": false\n}\n```\n\u6b64\u547d\u4ee4\u6703\u5275\u5efa\u4e00\u500b\u9577\u6642\u9593\u904b\u884c\u7684\u64cd\u4f5c (LRO)\uff0c\u53ef\u7528\u65bc\u8ddf\u8e64\u8acb\u6c42\u7684\u9032\u5ea6\u3002\u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1\n [\u7ba1\u7406\u9577\u6642\u9593\u904b\u884c\u7684\u64cd\u4f5c ](https://cloud.google.com/livestream/docs/how-to/manage-long-running-operations?hl=zh-cn) \n\u3002\n\u5982\u9700\u77ad\u89e3\u5982\u4f55\u5b89\u88dd\u548c\u4f7f\u7528 Live Stream API \u5ba2\u6236\u7aef\u5eab\uff0c\u8acb\u53c3\u95b1 [Live Stream API \u5ba2\u6236\u7aef\u5eab](https://cloud.google.com/livestream/docs/reference/libraries?hl=zh-cn) \u3002 \u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1 [Live Stream API C# API \u53c3\u8003\u6587\u6a94](https://cloud.google.com/dotnet/docs/reference/Google.Cloud.Video.LiveStream.V1/latest?hl=zh-cn) \u3002\n\u5982\u9700\u5411 Live Stream API \u9032\u884c\u8eab\u4efd\u9a57\u8b49\uff0c\u8acb\u8a2d\u7f6e\u61c9\u7528\u9ed8\u8a8d\u6191\u64da\u3002\u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1 [\u7232\u672c\u5730\u958b\u767c\u74b0\u5883\u8a2d\u7f6e\u8eab\u4efd\u9a57\u8b49](https://cloud.google.com/docs/authentication/provide-credentials-adc?hl=zh-cn#local-dev) \u3002\n [\u5728 GitHub \u4e0a\u67e5\u770b](https://github.com/GoogleCloudPlatform/dotnet-docs-samples/blob/HEAD/media/livestream/api/LiveStream.Samples/UpdatePoolAsync.cs) \n```\nusing Google.Cloud.Video.LiveStream.V1;using Google.LongRunning;using Google.Protobuf.WellKnownTypes;using System.Threading.Tasks;public class UpdatePoolSample{\u00a0 \u00a0 public async Task UpdatePoolAsync(\u00a0 \u00a0 \u00a0 \u00a0 \u00a0string projectId, string locationId, string poolId, string peeredNetwork)\u00a0 \u00a0 {\u00a0 \u00a0 \u00a0 \u00a0 // Create the client.\u00a0 \u00a0 \u00a0 \u00a0 LivestreamServiceClient client = LivestreamServiceClient.Create();\u00a0 \u00a0 \u00a0 \u00a0 UpdatePoolRequest request = new UpdatePoolRequest\u00a0 \u00a0 \u00a0 \u00a0 {\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 Pool = new Pool\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 {\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 PoolName = PoolName.FromProjectLocationPool(projectId, locationId, poolId),\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 NetworkConfig = new Pool.Types.NetworkConfig\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 {\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 PeeredNetwork = peeredNetwork\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 }\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 },\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 UpdateMask = new FieldMask { Paths = { \"network_config\" } }\u00a0 \u00a0 \u00a0 \u00a0 };\u00a0 \u00a0 \u00a0 \u00a0 // Make the request.\u00a0 \u00a0 \u00a0 \u00a0 Operation<Pool, OperationMetadata> response = await client.UpdatePoolAsync(request);\u00a0 \u00a0 \u00a0 \u00a0 // Get the name of the operation.\u00a0 \u00a0 \u00a0 \u00a0 string operationName = response.Name;\u00a0 \u00a0 \u00a0 \u00a0 // This name can be stored, then the long-running operation retrieved later by name.\u00a0 \u00a0 \u00a0 \u00a0 Operation<Pool, OperationMetadata> retrievedResponse = await client.PollOnceUpdatePoolAsync(operationName);\u00a0 \u00a0 \u00a0 \u00a0 // Check if the retrieved long-running operation has completed.\u00a0 \u00a0 \u00a0 \u00a0 if (retrievedResponse.IsCompleted)\u00a0 \u00a0 \u00a0 \u00a0 {\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 // If it has completed, then access the result.\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 _ = retrievedResponse.Result;\u00a0 \u00a0 \u00a0 \u00a0 }\u00a0 \u00a0 }}\n```\u5982\u9700\u77ad\u89e3\u5982\u4f55\u5b89\u88dd\u548c\u4f7f\u7528 Live Stream API \u5ba2\u6236\u7aef\u5eab\uff0c\u8acb\u53c3\u95b1 [Live Stream API \u5ba2\u6236\u7aef\u5eab](https://cloud.google.com/livestream/docs/reference/libraries?hl=zh-cn) \u3002 \u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1 [Live Stream API Go API \u53c3\u8003\u6587\u6a94](https://pkg.go.dev/cloud.google.com/go/video/livestream) \u3002\n\u5982\u9700\u5411 Live Stream API \u9032\u884c\u8eab\u4efd\u9a57\u8b49\uff0c\u8acb\u8a2d\u7f6e\u61c9\u7528\u9ed8\u8a8d\u6191\u64da\u3002\u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1 [\u7232\u672c\u5730\u958b\u767c\u74b0\u5883\u8a2d\u7f6e\u8eab\u4efd\u9a57\u8b49](https://cloud.google.com/docs/authentication/provide-credentials-adc?hl=zh-cn#local-dev) \u3002\n [\u5728 GitHub \u4e0a\u67e5\u770b](https://github.com/GoogleCloudPlatform/golang-samples/blob/HEAD/media/livestream/update_pool.go) \n```\nimport (\u00a0 \u00a0 \u00a0 \u00a0 \"context\"\u00a0 \u00a0 \u00a0 \u00a0 \"fmt\"\u00a0 \u00a0 \u00a0 \u00a0 \"io\"\u00a0 \u00a0 \u00a0 \u00a0 livestream \"cloud.google.com/go/video/livestream/apiv1\"\u00a0 \u00a0 \u00a0 \u00a0 \"cloud.google.com/go/video/livestream/apiv1/livestreampb\"\u00a0 \u00a0 \u00a0 \u00a0 \"google.golang.org/protobuf/types/known/fieldmaskpb\")// updatePool updates the pool's peered network.func updatePool(w io.Writer, projectID, location, poolID, peeredNetwork string) error {\u00a0 \u00a0 \u00a0 \u00a0 // projectID := \"my-project-id\"\u00a0 \u00a0 \u00a0 \u00a0 // location := \"us-central1\"\u00a0 \u00a0 \u00a0 \u00a0 // poolID := \"default\"\u00a0 \u00a0 \u00a0 \u00a0 // peeredNetwork := \u00a0\"projects/my-network-project-number/global/networks/my-network-name\"\u00a0 \u00a0 \u00a0 \u00a0 ctx := context.Background()\u00a0 \u00a0 \u00a0 \u00a0 client, err := livestream.NewClient(ctx)\u00a0 \u00a0 \u00a0 \u00a0 if err != nil {\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 return fmt.Errorf(\"NewClient: %w\", err)\u00a0 \u00a0 \u00a0 \u00a0 }\u00a0 \u00a0 \u00a0 \u00a0 defer client.Close()\u00a0 \u00a0 \u00a0 \u00a0 req := &livestreampb.UpdatePoolRequest{\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 Pool: &livestreampb.Pool{\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 Name: fmt.Sprintf(\"projects/%s/locations/%s/pools/%s\", projectID, location, poolID),\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 NetworkConfig: &livestreampb.Pool_NetworkConfig{\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 PeeredNetwork: peeredNetwork,\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 },\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 },\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 UpdateMask: &fieldmaskpb.FieldMask{\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 Paths: []string{\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \"network_config\",\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 },\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 },\u00a0 \u00a0 \u00a0 \u00a0 }\u00a0 \u00a0 \u00a0 \u00a0 // Updates the pool.\u00a0 \u00a0 \u00a0 \u00a0 op, err := client.UpdatePool(ctx, req)\u00a0 \u00a0 \u00a0 \u00a0 if err != nil {\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 return fmt.Errorf(\"UpdatePool: %w\", err)\u00a0 \u00a0 \u00a0 \u00a0 }\u00a0 \u00a0 \u00a0 \u00a0 response, err := op.Wait(ctx)\u00a0 \u00a0 \u00a0 \u00a0 if err != nil {\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 return fmt.Errorf(\"Wait: %w\", err)\u00a0 \u00a0 \u00a0 \u00a0 }\u00a0 \u00a0 \u00a0 \u00a0 fmt.Fprintf(w, \"Updated pool: %v\", response.Name)\u00a0 \u00a0 \u00a0 \u00a0 return nil}\n```\u5982\u9700\u77ad\u89e3\u5982\u4f55\u5b89\u88dd\u548c\u4f7f\u7528 Live Stream API \u5ba2\u6236\u7aef\u5eab\uff0c\u8acb\u53c3\u95b1 [Live Stream API \u5ba2\u6236\u7aef\u5eab](https://cloud.google.com/livestream/docs/reference/libraries?hl=zh-cn) \u3002 \u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1 [Live Stream API Java API \u53c3\u8003\u6587\u6a94](https://cloud.google.com/java/docs/reference/google-cloud-live-stream/latest/overview?hl=zh-cn) \u3002\n\u5982\u9700\u5411 Live Stream API \u9032\u884c\u8eab\u4efd\u9a57\u8b49\uff0c\u8acb\u8a2d\u7f6e\u61c9\u7528\u9ed8\u8a8d\u6191\u64da\u3002\u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1 [\u7232\u672c\u5730\u958b\u767c\u74b0\u5883\u8a2d\u7f6e\u8eab\u4efd\u9a57\u8b49](https://cloud.google.com/docs/authentication/provide-credentials-adc?hl=zh-cn#local-dev) \u3002\n [\u5728 GitHub \u4e0a\u67e5\u770b](https://github.com/GoogleCloudPlatform/java-docs-samples/blob/HEAD/media/livestream/src/main/java/com/example/livestream/UpdatePool.java) \n```\nimport com.google.cloud.video.livestream.v1.LivestreamServiceClient;import com.google.cloud.video.livestream.v1.Pool;import com.google.cloud.video.livestream.v1.Pool.NetworkConfig;import com.google.cloud.video.livestream.v1.PoolName;import com.google.cloud.video.livestream.v1.UpdatePoolRequest;import com.google.protobuf.FieldMask;import java.io.IOException;import java.util.concurrent.ExecutionException;import java.util.concurrent.TimeUnit;import java.util.concurrent.TimeoutException;public class UpdatePool {\u00a0 public static void main(String[] args) throws Exception {\u00a0 \u00a0 // TODO(developer): Replace these variables before running the sample.\u00a0 \u00a0 String projectId = \"my-project-id\";\u00a0 \u00a0 String location = \"us-central1\";\u00a0 \u00a0 String poolId = \"default\";\u00a0 \u00a0 String peeredNetwork = \"\";\u00a0 \u00a0 updatePool(projectId, location, poolId, peeredNetwork);\u00a0 }\u00a0 public static void updatePool(String projectId, String location, String poolId,\u00a0 \u00a0 \u00a0 String peeredNetwork)\u00a0 \u00a0 \u00a0 throws InterruptedException, ExecutionException, TimeoutException, IOException {\u00a0 \u00a0 // Initialize client that will be used to send requests. This client only needs to be created\u00a0 \u00a0 // once, and can be reused for multiple requests. After completing all of your requests, call\u00a0 \u00a0 // the \"close\" method on the client to safely clean up any remaining background resources.\u00a0 \u00a0 LivestreamServiceClient livestreamServiceClient = LivestreamServiceClient.create();\u00a0 \u00a0 var updatePoolRequest =\u00a0 \u00a0 \u00a0 \u00a0 UpdatePoolRequest.newBuilder()\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .setPool(\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 Pool.newBuilder()\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .setName(PoolName.of(projectId, location, poolId).toString())\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .setNetworkConfig(\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 NetworkConfig.newBuilder()\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .setPeeredNetwork(peeredNetwork)\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .build()\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 ))\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .setUpdateMask(FieldMask.newBuilder().addPaths(\"network_config\").build())\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .build();\u00a0 \u00a0 // Update pool can take 20+ minutes.\u00a0 \u00a0 Pool result =\u00a0 \u00a0 \u00a0 \u00a0 livestreamServiceClient.updatePoolAsync(updatePoolRequest).get(20, TimeUnit.MINUTES);\u00a0 \u00a0 System.out.println(\"Updated pool: \" + result.getName());\u00a0 \u00a0 livestreamServiceClient.close();\u00a0 }}\n```\u5982\u9700\u77ad\u89e3\u5982\u4f55\u5b89\u88dd\u548c\u4f7f\u7528 Live Stream API \u5ba2\u6236\u7aef\u5eab\uff0c\u8acb\u53c3\u95b1 [Live Stream API \u5ba2\u6236\u7aef\u5eab](https://cloud.google.com/livestream/docs/reference/libraries?hl=zh-cn) \u3002 \u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1 [Live Stream API Node.js API \u53c3\u8003\u6587\u6a94](https://cloud.google.com/nodejs/docs/reference/livestream/latest?hl=zh-cn) \u3002\n\u5982\u9700\u5411 Live Stream API \u9032\u884c\u8eab\u4efd\u9a57\u8b49\uff0c\u8acb\u8a2d\u7f6e\u61c9\u7528\u9ed8\u8a8d\u6191\u64da\u3002\u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1 [\u7232\u672c\u5730\u958b\u767c\u74b0\u5883\u8a2d\u7f6e\u8eab\u4efd\u9a57\u8b49](https://cloud.google.com/docs/authentication/provide-credentials-adc?hl=zh-cn#local-dev) \u3002\n [\u5728 GitHub \u4e0a\u67e5\u770b](https://github.com/GoogleCloudPlatform/nodejs-docs-samples/blob/HEAD/media/livestream/updatePool.js) \n```\n/**\u00a0* TODO(developer): Uncomment these variables before running the sample.\u00a0*/// projectId = 'my-project-id';// location = 'us-central1';// poolId = 'my-pool';// peeredNetwork = 'projects/my-network-project-number/global/networks/my-network-name';// Imports the Livestream libraryconst {LivestreamServiceClient} = require('@google-cloud/livestream').v1;// Instantiates a clientconst livestreamServiceClient = new LivestreamServiceClient();async function updatePool() {\u00a0 // Construct request\u00a0 const request = {\u00a0 \u00a0 pool: {\u00a0 \u00a0 \u00a0 name: livestreamServiceClient.poolPath(projectId, location, poolId),\u00a0 \u00a0 \u00a0 networkConfig: {\u00a0 \u00a0 \u00a0 \u00a0 peeredNetwork: peeredNetwork,\u00a0 \u00a0 \u00a0 },\u00a0 \u00a0 },\u00a0 \u00a0 updateMask: {\u00a0 \u00a0 \u00a0 paths: ['network_config'],\u00a0 \u00a0 },\u00a0 };\u00a0 // Run request\u00a0 const [operation] = await livestreamServiceClient.updatePool(request);\u00a0 const response = await operation.promise();\u00a0 const [pool] = response;\u00a0 console.log(`Updated pool: ${pool.name}`);}updatePool();\n```\u5982\u9700\u77ad\u89e3\u5982\u4f55\u5b89\u88dd\u548c\u4f7f\u7528 Live Stream API \u5ba2\u6236\u7aef\u5eab\uff0c\u8acb\u53c3\u95b1 [Live Stream API \u5ba2\u6236\u7aef\u5eab](https://cloud.google.com/livestream/docs/reference/libraries?hl=zh-cn) \u3002 \u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1 [Live Stream API PHP API \u53c3\u8003\u6587\u6a94](https://googleapis.github.io/google-cloud-php/#/docs/google-cloud/latest/videolivestream/readme) \u3002\n\u5982\u9700\u5411 Live Stream API \u9032\u884c\u8eab\u4efd\u9a57\u8b49\uff0c\u8acb\u8a2d\u7f6e\u61c9\u7528\u9ed8\u8a8d\u6191\u64da\u3002\u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1 [\u7232\u672c\u5730\u958b\u767c\u74b0\u5883\u8a2d\u7f6e\u8eab\u4efd\u9a57\u8b49](https://cloud.google.com/docs/authentication/provide-credentials-adc?hl=zh-cn#local-dev) \u3002\n [\u5728 GitHub \u4e0a\u67e5\u770b](https://github.com/GoogleCloudPlatform/php-docs-samples/blob/HEAD/media/livestream/src/update_pool.php) \n```\nuse Google\\Cloud\\Video\\LiveStream\\V1\\Pool;use Google\\Cloud\\Video\\LiveStream\\V1\\Client\\LivestreamServiceClient;use Google\\Cloud\\Video\\LiveStream\\V1\\UpdatePoolRequest;use Google\\Protobuf\\FieldMask;/**\u00a0* Updates a pool.\u00a0*\u00a0* @param string \u00a0$callingProjectId \u00a0 The project ID to run the API call under\u00a0* @param string \u00a0$location \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 The location of the pool\u00a0* @param string \u00a0$poolId \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 The ID of the pool to be updated\u00a0* @param string \u00a0$peeredNetwork \u00a0 \u00a0 \u00a0The updated peer network\u00a0*/function update_pool(\u00a0 \u00a0 string $callingProjectId,\u00a0 \u00a0 string $location,\u00a0 \u00a0 string $poolId,\u00a0 \u00a0 string $peeredNetwork): void {\u00a0 \u00a0 // Instantiate a client.\u00a0 \u00a0 $livestreamClient = new LivestreamServiceClient();\u00a0 \u00a0 $formattedName = $livestreamClient->poolName($callingProjectId, $location, $poolId);\u00a0 \u00a0 $pool = (new Pool())\u00a0 \u00a0 \u00a0 \u00a0 ->setName($formattedName)\u00a0 \u00a0 \u00a0 \u00a0 ->setNetworkConfig(\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 (new Pool\\NetworkConfig())\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 ->setPeeredNetwork($peeredNetwork));\u00a0 \u00a0 $updateMask = new FieldMask([\u00a0 \u00a0 \u00a0 \u00a0 'paths' => ['network_config']\u00a0 \u00a0 ]);\u00a0 \u00a0 // Run the pool update request. The response is a long-running operation ID.\u00a0 \u00a0 $request = (new UpdatePoolRequest())\u00a0 \u00a0 \u00a0 \u00a0 ->setPool($pool)\u00a0 \u00a0 \u00a0 \u00a0 ->setUpdateMask($updateMask);\u00a0 \u00a0 $operationResponse = $livestreamClient->updatePool($request);\u00a0 \u00a0 $operationResponse->pollUntilComplete();\u00a0 \u00a0 if ($operationResponse->operationSucceeded()) {\u00a0 \u00a0 \u00a0 \u00a0 $result = $operationResponse->getResult();\u00a0 \u00a0 \u00a0 \u00a0 // Print results\u00a0 \u00a0 \u00a0 \u00a0 printf('Updated pool: %s' . PHP_EOL, $result->getName());\u00a0 \u00a0 } else {\u00a0 \u00a0 \u00a0 \u00a0 $error = $operationResponse->getError();\u00a0 \u00a0 \u00a0 \u00a0 // handleError($error)\u00a0 \u00a0 }}\n```\u5982\u9700\u77ad\u89e3\u5982\u4f55\u5b89\u88dd\u548c\u4f7f\u7528 Live Stream API \u5ba2\u6236\u7aef\u5eab\uff0c\u8acb\u53c3\u95b1 [Live Stream API \u5ba2\u6236\u7aef\u5eab](https://cloud.google.com/livestream/docs/reference/libraries?hl=zh-cn) \u3002 \u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1 [Live Stream API Python API \u53c3\u8003\u6587\u6a94](https://cloud.google.com/python/docs/reference/livestream/latest?hl=zh-cn) \u3002\n\u5982\u9700\u5411 Live Stream API \u9032\u884c\u8eab\u4efd\u9a57\u8b49\uff0c\u8acb\u8a2d\u7f6e\u61c9\u7528\u9ed8\u8a8d\u6191\u64da\u3002\u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1 [\u7232\u672c\u5730\u958b\u767c\u74b0\u5883\u8a2d\u7f6e\u8eab\u4efd\u9a57\u8b49](https://cloud.google.com/docs/authentication/provide-credentials-adc?hl=zh-cn#local-dev) \u3002\n [\u5728 GitHub \u4e0a\u67e5\u770b](https://github.com/GoogleCloudPlatform/python-docs-samples/blob/HEAD/video/live-stream/update_pool.py) \n```\nimport argparsefrom google.cloud.video import live_stream_v1from google.cloud.video.live_stream_v1.services.livestream_service import (\u00a0 \u00a0 LivestreamServiceClient,)from google.protobuf import field_mask_pb2 as field_maskdef update_pool(\u00a0 \u00a0 project_id: str, location: str, pool_id: str, peered_network: str) -> live_stream_v1.types.Pool:\u00a0 \u00a0 \"\"\"Updates an pool.\u00a0 \u00a0 Args:\u00a0 \u00a0 \u00a0 \u00a0 project_id: The GCP project ID.\u00a0 \u00a0 \u00a0 \u00a0 location: The location of the pool.\u00a0 \u00a0 \u00a0 \u00a0 pool_id: The user-defined pool ID.\u00a0 \u00a0 \u00a0 \u00a0 peered_network: The updated peer network (e.g.,\u00a0 \u00a0 \u00a0 \u00a0 'projects/my-network-project-number/global/networks/my-network-name').\"\"\"\u00a0 \u00a0 client = LivestreamServiceClient()\u00a0 \u00a0 name = f\"projects/{project_id}/locations/{location}/pools/{pool_id}\"\u00a0 \u00a0 pool = live_stream_v1.types.Pool(\u00a0 \u00a0 \u00a0 \u00a0 name=name,\u00a0 \u00a0 \u00a0 \u00a0 network_config=live_stream_v1.types.Pool.NetworkConfig(\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 peered_network=peered_network,\u00a0 \u00a0 \u00a0 \u00a0 ),\u00a0 \u00a0 )\u00a0 \u00a0 update_mask = field_mask.FieldMask(paths=[\"network_config\"])\u00a0 \u00a0 operation = client.update_pool(pool=pool, update_mask=update_mask)\u00a0 \u00a0 response = operation.result()\u00a0 \u00a0 print(f\"Updated pool: {response.name}\")\u00a0 \u00a0 return response\n```\u5982\u9700\u77ad\u89e3\u5982\u4f55\u5b89\u88dd\u548c\u4f7f\u7528 Live Stream API \u5ba2\u6236\u7aef\u5eab\uff0c\u8acb\u53c3\u95b1 [Live Stream API \u5ba2\u6236\u7aef\u5eab](https://cloud.google.com/livestream/docs/reference/libraries?hl=zh-cn) \u3002 \u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1 [Live Stream API Ruby API \u53c3\u8003\u6587\u6a94](https://cloud.google.com/ruby/docs/reference/google-cloud-video-live_stream/latest?hl=zh-cn) \u3002\n\u5982\u9700\u5411 Live Stream API \u9032\u884c\u8eab\u4efd\u9a57\u8b49\uff0c\u8acb\u8a2d\u7f6e\u61c9\u7528\u9ed8\u8a8d\u6191\u64da\u3002\u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1 [\u7232\u672c\u5730\u958b\u767c\u74b0\u5883\u8a2d\u7f6e\u8eab\u4efd\u9a57\u8b49](https://cloud.google.com/docs/authentication/provide-credentials-adc?hl=zh-cn#local-dev) \u3002\n [\u5728 GitHub \u4e0a\u67e5\u770b](https://github.com/googleapis/google-cloud-ruby/blob/HEAD/google-cloud-video-live_stream/samples/update_pool.rb) \n```\nrequire \"google/cloud/video/live_stream\"\n### Update the pool's peered network\n## @param project_id [String] Your Google Cloud project (e.g. \"my-project\")# @param location [String] The location (e.g. \"us-central1\")# @param pool_id [String] Your pool name (e.g. \"my-pool\")# @param peered_network [String] The updated peer network# \u00a0 (e.g. \"projects/my-network-project-number/global/networks/my-network-name\")#def update_pool project_id:, location:, pool_id:, peered_network:\u00a0 # Create a Live Stream client.\u00a0 client = Google::Cloud::Video::LiveStream.livestream_service\u00a0 # Build the resource name of the pool.\u00a0 name = client.pool_path project: project_id, location: location, pool: pool_id\u00a0 # Set the update mask.\u00a0 update_mask = { paths: [\"network_config\"] }\u00a0 # Update the pool's peered network.\u00a0 update_pool = {\u00a0 \u00a0 name: name,\u00a0 \u00a0 network_config: {\u00a0 \u00a0 \u00a0 peered_network: peered_network\u00a0 \u00a0 }\u00a0 }\u00a0 operation = client.update_pool update_mask: update_mask, pool: update_pool\u00a0 # The returned object is of type Gapic::Operation. You can use this\u00a0 # object to check the status of an operation, cancel it, or wait\u00a0 # for results. Here is how to block until completion:\u00a0 operation.wait_until_done!\u00a0 # Print the pool name.\u00a0 puts \"Updated pool: #{operation.response.name}\"end\n```", "guide": "Live Stream API"}