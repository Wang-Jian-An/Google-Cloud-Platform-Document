{"title": "Live Stream API - Access control with IAM", "url": "https://cloud.google.com/livestream/docs/access-control", "abstract": "# Live Stream API - Access control with IAM\n", "content": "## Overview\nLive Stream API uses [Identity and Access Management (IAM)](/iam) for access control.\nYou can configure access control for the Live Stream API at the project level. For example, you can grant access for developers to list and get all events within a project.\nFor a detailed description of IAM and its features, see the [IAM documentation](/iam/docs) . In particular, see the section on [managing IAM policies](/iam/docs/granting-changing-revoking-access) .\nEvery Live Stream API method requires the caller to have the necessary permissions. For more information, see [Permissions](#permissions) and [Roles](#roles) .\n## Permissions\nThis section summarizes the Live Stream API permissions that IAM supports.\n### Required permissions\nThe following tables list the IAM permissions that are associated with Live Stream API.\n**Note:** Method names are shortened in the table; each method's full name begins with `projects.locations` .\n| Assets method name | Required permissions                          |\n|:---------------------|:-------------------------------------------------------------------------------------------------------------------------|\n| assets.create  | livestream.assets.create on the parent location, which is a specific Google Cloud project and data location combination. |\n| assets.delete  | livestream.assets.delete on the asset resource.                   |\n| assets.get   | livestream.assets.get on the asset resource.                    |\n| assets.list   | livestream.assets.list on the parent location, which is a specific Google Cloud project and data location combination. |\n| Channels method name | Required permissions                          |\n|:-----------------------|:---------------------------------------------------------------------------------------------------------------------------|\n| channels.create  | livestream.channels.create on the parent location, which is a specific Google Cloud project and data location combination. |\n| channels.delete  | livestream.channels.delete on the channel resource.                  |\n| channels.get   | livestream.channels.get on the channel resource.                   |\n| channels.list   | livestream.channels.list on the parent location, which is a specific Google Cloud project and data location combination. |\n| channels.patch   | livestream.channels.update on the channel resource.                  |\n| channels.start   | livestream.channels.start on the channel resource.                   |\n| channels.stop   | livestream.channels.stop on the channel resource.                   |\n| Events method name | Required permissions            |\n|:---------------------|:-----------------------------------------------------------------|\n| events.create  | livestream.events.create on the parent channel for the resource. |\n| events.delete  | livestream.events.delete on the event resource.     |\n| events.get   | livestream.events.get on the event resource.      |\n| events.list   | livestream.events.list on the parent channel for the resource. |\n| Inputs method name | Required permissions                          |\n|:---------------------|:-------------------------------------------------------------------------------------------------------------------------|\n| inputs.create  | livestream.inputs.create on the parent location, which is a specific Google Cloud project and data location combination. |\n| inputs.delete  | livestream.inputs.delete on the input resource.                   |\n| inputs.get   | livestream.inputs.get on the input resource.                    |\n| inputs.list   | livestream.inputs.list on the parent location, which is a specific Google Cloud project and data location combination. |\n| inputs.patch   | livestream.inputs.update on the input resource.                   |\n| Pools method name | Required permissions       |\n|:--------------------|:---------------------------------------------|\n| pools.get   | livestream.pools.get on the pool resource. |\n| pools.patch   | livestream.pools.patch on the pool resource. |\n## Roles\nThe following table lists the Live Stream API IAM roles, including the permissions associated with each role:\n| IAM role                   | Permissions                                                                                                                                                                                              |\n|:-----------------------------------------------------------------------------------|:--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| Live Stream Viewer (roles/livestream.viewer) Read access to Live Stream resources. | livestream.assets.get livestream.assets.list livestream.channels.get livestream.channels.list livestream.events.get livestream.events.list livestream.inputs.get livestream.inputs.list livestream.locations.* livestream.locations.get livestream.locations.list livestream.operations.get livestream.operations.list livestream.pools.get resourcemanager.projects.get resourcemanager.projects.list                                                                                               |\n| Live Stream Editor (roles/livestream.editor) Full access to Live Stream resources. | livestream.* livestream.assets.create livestream.assets.delete livestream.assets.get livestream.assets.list livestream.channels.create livestream.channels.delete livestream.channels.get livestream.channels.list livestream.channels.start livestream.channels.stop livestream.channels.update livestream.events.create livestream.events.delete livestream.events.get livestream.events.list livestream.inputs.create livestream.inputs.delete livestream.inputs.get livestream.inputs.list livestream.inputs.update livestream.locations.get livestream.locations.list livestream.operations.cancel livestream.operations.delete livestream.operations.get livestream.operations.list livestream.pools.get livestream.pools.update resourcemanager.projects.get resourcemanager.projects.list |\nFor more information about roles, see [Understanding roles](/iam/docs/understanding-roles) .\n## Access to Cloud Storage\nBy default, the Live Stream API has access to all of your project's Cloud Storage buckets. When you create your first live streaming event, the Live Stream API creates a service account using the following naming convention:\n`service-` `` `@gcp-sa-livestream.iam.gserviceaccount.com`\nis the number of your project with the Live Stream API enabled. This service account is granted the Live Stream Service Agent role and has permissions to do the following:\n- Read files in your project's Cloud Storage buckets\n- Upload files to your project's Cloud Storage buckets\n- Delete files in your project's Cloud Storage buckets\n- List files and their metadata in your project's Cloud Storage buckets\n**Note:** It can take up to 7 minutes for the service account permissions to fully propagate across the system, see [Access change propagation](/iam/docs/access-change-propagation) .\n### Limiting access\nTo limit this access to your Cloud Storage buckets, remove the Live Stream Service Agent role from the service account and replace it with more fine-grained access. Follow these steps:\n- Go to the [IAM](https://console.cloud.google.com/iam-admin/iam) page ( **Permissions** tab) in the Google Cloud console.\n- Find the service account with the Live Stream Service Agent role and select the edit button.\n- Delete the Live Stream Service Agent role from the service account.\n- Grant access to the service account for each individual Cloud Storage bucket:- Go to the [Cloud Storage Browser](https://console.cloud.google.com/storage/browser) page.\n- Click a bucket.\n- Select the **Permissions** tab.\n- Click **Add** .\n- In the **New principals** field, type the name of the service account.\n- Under **Role** , select **Storage Object Admin** .\n- Click **Save** . The Live Stream API now has access to the bucket.", "guide": "Live Stream API"}