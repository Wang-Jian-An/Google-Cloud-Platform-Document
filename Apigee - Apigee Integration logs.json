{"title": "Apigee - Apigee Integration logs", "url": "https://cloud.google.com/apigee/docs/api-platform/get-started/what-apigee", "abstract": "# Apigee - Apigee Integration logs\n**Announcement:** Application Integration is now available for your Google Cloud project. You can now use both Apigee Integration and Application Integration within the same Google Cloud project. [Learn more](/apigee/docs/api-platform/integration/using-application-integration)\nApigee Integration generates execution log messages for each run of an integration. The log messages contain information that can be helpful in determining the status of each step in an integration, or to troubleshoot a failed integration, task, or event. For more information about logging in Apigee Integration, see [Introduction to logs](/application-integration/docs/introduction-logs) .\n**Note:** Apigee Integration retains the execution logs of an integration for a maximum period of 32 days.\n", "content": "## View integration execution logs\nTo view the **Execution Logs** page, select one of the options:\n- In **Application Integration** , go to the **Logs** page. [Go to Application Integration Logs](https://console.cloud.google.com/integrations/logs) \n- In the navigation menu, click **Logs** . Alternatively, in the navigation menu, click **Integration** and select the integration for which you want to view logs. And then, click **View execution logs for this integration** . The **Execution Logs** page appears. **Note:** If the execution logs size is greater than 300 MB, Apigee Integration throws the`Response size too large`error and logs don't load on the **Execution Logs** page. In that case, use the` [projects.locations.integrations.executions.list](/application-integration/docs/reference/rest/v1/projects.locations.integrations.executions/list) `method as explained in the API tab.\n- From the **Region** list, select the region to view region specific execution logs of the integration. You can also click **\n    refresh\n     Refresh Logs** to reload the current log list.The following image shows a sample Apigee Integration **Execution Logs** page. The following attributes are displayed for each execution log message.- **Integration name:** Name of the integration.\n- **Execution ID:** An unique identifier generated for each run of an integration.\n- **Status:** Status of the integration execution.- **In process:** Indicates that the integration is currently being executed.\n- **Succeeded:** Indicates that the integration executed successfully.\n- **Failed:** Indicates that the integration failed to execute.\n- **Canceled:** Indicates that the integration execution was canceled by the user.\n- **On hold:** Indicates that the integration execution is temporarily paused and is waiting for an event or action to be completed.\n- **Retry on hold:** Indicates that the integration execution failed and is waiting for a retry.\n- **Suspended:** Indicates that the integration execution is temporarily paused and requires manual intervention to resume the integration.\n- **Start time:** Timestamp of when the integration started execution.\n- **Duration:** Time taken for execution of the integration. **Note:** Don't use the **Duration** value to calculate the end-to-end execution latency of an integration.     The time displayed in the **Duration** column does not reflect the total execution time of an integration, as     it doesn't account for any of the additional time taken by the integration before or after its execution. For example, time taken for quota enforcement or authentication is not reflected in the **Duration** value.\n- **Integration Version:** Version of the integration executed.\n- **Trigger ID:** ID value of the trigger.\n- In the **Filter** field, add filters. You can filter the logs based on criteria such as, integration name, execution ID,   date or time range, execution status, variable type, and variable name or value. For a more customized search, use the`projects.locations.integrations.executions.list`method as explained in the API tab.\nIf the size of the execution logs is greater than 300 MB, Apigee Integration throws the `Response too large error` error and logs don't load on the **Execution Logs** page. In this case, you must use the ` [projects.locations.integrations.executions.list](/application-integration/docs/reference/rest/v1/projects.locations.integrations.executions/list) ` method to get the logs. To view logs using the API method, follow these steps:- To get the execution ID for which you want to view the execution logs, construct a`GET`request using the` [projects.locations.integrations.executions.list](/application-integration/docs/reference/rest/v1/projects.locations.integrations.executions/list) `method with the`snapshotMetadataWithoutParams`parameter set to`TRUE`:```\ncurl -v -X -G GET\n -H \"Content-Type: application/json\"\n -H \"Authorization: Bearer $(gcloud auth print-access-token)\"\n -d 'snapshotMetadataWithoutParams=true'\n 'https://integrations.googleapis.com/v1/projects/PROJECT_ID/locations/LOCATION/integrations/INTEGRATION_NAME/executions'\n```Execution IDs are returned in the response. Copy the execution ID for which you want to view logs.\n- To get the execution log for the execution ID, construct a`POST`request using the`projects.locations.integrations.executions.list`method with a filter on the execution ID that you copied in the previous step:```\ncurl -v -X -G GET \n -H \"Content-Type: application/json\"\n -H \"Authorization: Bearer $(gcloud auth print-access-token)\"\n -d 'filter=execution_id=\"EXECUTION_ID\"'\n 'https://integrations.googleapis.com/v1/projects/PROJECT_ID/locations/LOCATION/integrations/INTEGRATION_NAME/executions'\n```In the response, see the ` [ExecutionDetails](/application-integration/docs/reference/rest/v1/projects.locations.integrations.executions#Execution.ExecutionDetails) ` field to view the log details.Alternatively, in the Google Cloud console, you can filter execution logs by the execution ID.\n- If you want to filter the response to list logs for all integrations expect for one integration, use the following format:\n- ```\ncurl -v -X -G GET \n -H \"Content-Type: application/json\"\n -H \"Authorization: Bearer $(gcloud auth print-access-token)\"\n -d 'filter= workflowName!=\"INTEGRATION_NAME\"'\n 'https://integrations.googleapis.com/v1/projects/PROJECT_ID/locations/LOCATION/integrations/-/executions'\n```## Use logs to troubleshoot\nThe following section explains how to troubleshoot failures using Apigee Integration execution log.\n### Troubleshoot integration failures\nExecution log messages can be valuable resources when troubleshooting unsuccessful integration runs.\nFor example, if an integration failed to run in a specific timeframe, use these steps to access and filter the logs to troubleshoot the failure:\n- Search for or select the integration to troubleshoot from the **Integrations** list and click to open the  integration editor.\n- Click **Logs** in the toolbar of the integration editor to view the log messages.\n- Click **Add a filter** to display the list of available filters.\n- Select **Integration name** .\n- Enter the integration name, then click **Apply** .\n- Click **Add a filter** to display the list of available filters.\n- Select **Execution status** to display the status list.\n- Select the **FAILED** checkbox, then click **Apply** to display failed integrations.\n- Click **Add a filter** to display the list of available filters.\n- Select **Date/time range** and enter the desired time range to check for failure. For example, enter:- **From Date:** Select`2020-12-16`\n- **From Time:** Select`04:00:00 PM`\n- **To Date:** Select`2019-12-16`\n- **To Time:** Select`05:00:00 PM`\n- Multiple filters are combined using the AND condition by default.\n- Click **Apply** .\nIf the integration failed during the filtered time frame, the **Execution Logs** page displays a list of log messages. Each log message corresponds to a specific failed run of the integration.\n### View stack trace exceptions\nTo view the list of exceptions, click on any log message. Click the links in each exception message to view the complete stack trace of the exception.\n**Note:** Execution log message event parameters (string or JSON) are truncated with a limit of 2000 characters.### Trace connector failures\nYou can use the execution log messages to troubleshoot and trace failed [connectors task](/apigee/docs/api-platform/integration/connectors-task) executions. Log data of a failed connector task is stored using [Cloud Logging](/logging/docs/overview) and can be viewed in the Logs Explorer.\n**Note:** Log data of a failed connectors task is available in Logs Explorer only if Cloud Logging is enabled for the respective connection in Integration Connectors. See [View connector logs](/integration-connectors/docs/logging) for more details.\nPerform the following steps to access the log data of a failed connector task from Apigee Integration:\n- Go to the **Execution Logs** page of your desired integration.\n- Expand the log message of your failed execution, and stack trace to the row containing the failed **Connectors task** .\n- In the **Status** column, click **Failed** . \n- Apigee Integration automatically runs the required query for the failed connectors task and opens the Logs Explorer page to display the detailed execution log data.\nTo manually retrieve the log data of a failed connectors task, you can run the following query in the Logs Explorer's [Query page](https://console.cloud.google.com/logs/query) . For more information about how to use Logs Explorer, see [Logs Explorer interface](/logging/docs/view/logs-explorer-interface#logs-viewer-interface) .\n```\nresource.type=\"connectors.googleapis.com/Connection\"\njsonPayload.integration_connectors_trace_id=\"EXECUTION_ID_EXECUTION_TASK_ID_EXECUTION_ATTEMPT_NUMBER\"\n``````\nresource.type=\"connectors.googleapis.com/Connection\"\njsonPayload.integration_connectors_trace_id=\"9db51e4b-7d57-473d-931f-cc27b282dfad_1_2\"\n```\n## Limitation\n- If [local logging](/application-integration/docs/local-logging) is disabled for an integration, then the execution logs are not generated for that integration.## What's next\n- For information about logs in Apigee Integration, see [Introduction to logs](/application-integration/docs/introduction-logs) .", "guide": "Apigee"}