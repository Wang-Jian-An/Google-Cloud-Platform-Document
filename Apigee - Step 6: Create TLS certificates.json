{"title": "Apigee - Step 6: Create TLS certificates", "url": "https://cloud.google.com/apigee/docs/api-platform/get-started/what-apigee", "abstract": "# Apigee - Step 6: Create TLS certificates\nYou are currently viewing version 1.5 of the Apigee hybrid documentation. **This version is end of life.** You should upgrade to a newer version. For more information, see [Supported versions](/apigee/docs/hybrid/supported-platforms#supported-versions) .\nThis step explains how to create the TLS credentials that are required for Apigee hybrid to operate.\n", "content": "## \n Create TLS certificates\nYou are required to provide TLS certificates for the runtime ingress gateway in your Apigee hybrid configuration. For the purpose of this quickstart (a non-production trial installation), the runtime gateway can accept self-signed credentials. In the following steps, [openssl](https://www.openssl.org/) is used to generate the self-signed credentials.\n**Note:** In a production environment, you will need to use signed certificates. You can either use either a certificate and key pair or a Kubernetes secret. For an example on how to obtain a TLS certificate from thecertificate authority (CA), see [Obtain TLS credentials: An example](/apigee/docs/hybrid/v1.5/lets-encrypt) .\nIn this step, you will create the TLS credential files and add them to the `` `/hybrid-files/certs` directory. In [Step 7: Configure the hybrid runtime](/apigee/docs/hybrid/v1.5/install-configure-cluster) , you will add the file paths to the cluster configuration file.\n- Be sure that you are in the`` `/hybrid-files`directory  you configured in [Set up the project directory structure](#setup-directory) .\n- Make sure to save a domain name to the **DOMAIN** environment variable using the following command:```\necho $DOMAIN\n```\n- Execute the following command from inside the`hybrid-files`directory:```\nopenssl req -nodes -new -x509 -keyout ./certs/keystore.key -out \\\n ./certs/keystore.pem -subj '/CN='$DOMAIN'' -days 3650\n```Where **DOMAIN** is the same one you used for your environment in [Part 1, Step 5: Create an  environment group](/apigee/docs/hybrid/v1.5/precog-add-environment) .This command creates a self-signed certificate/key pair that you can use for the quickstart  installation.\n- Check to make sure the files are in the`./certs`directory using the following command:```\nls ./certs\n keystore.pem\n keystore.key\n```Where `keystore.pem` is the self-signed TLS certificate file and `keystore.key` is the key file.\nYou now have the credentials needed to manage Apigee hybrid in your Kubernetes cluster. Next, you will create a file that is used by Kubernetes to deploy the hybrid runtime components to the cluster.\n## Next step\nstepper_buttons is defined in localvars Iterate over all the buttons in the data dictionary If the button's step matches the current step in the process, make the button disabled [1](/apigee/docs/hybrid/v1.5/install-create-cluster) If the button's step matches the current step in the process, make the button disabled [2](/apigee/docs/hybrid/v1.5/install-cert-manager) If the button's step matches the current step in the process, make the button disabled [3](/apigee/docs/hybrid/v1.5/install-asm) If the button's step matches the current step in the process, make the button disabled [4](/apigee/docs/hybrid/v1.5/install-apigeectl) If the button's step matches the current step in the process, make the button disabled [5](/apigee/docs/hybrid/v1.5/install-service-accounts) If the button's step matches the current step in the process, make the button disabled If the button's step matches the next step [6](/apigee/docs/hybrid/v1.5/install-create-tls-certificates) If the button's step matches the current step in the process, make the button disabled In all other cases (previous buttons or future buttons (after the next one), make them links [(NEXT) Step 7: Configure the hybrid runtime](/apigee/docs/hybrid/v1.5/install-configure-cluster) If the button's step matches the current step in the process, make the button disabled [8](/apigee/docs/hybrid/v1.5/install-enable-synchronizer-access) If the button's step matches the current step in the process, make the button disabled [9](/apigee/docs/hybrid/v1.5/install-hybrid-runtime)", "guide": "Apigee"}