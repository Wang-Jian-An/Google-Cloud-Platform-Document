{"title": "Cloud TPU - TPU \u5340\u57df\u548c\u53ef\u7528\u5340", "url": "https://cloud.google.com/tpu/docs/regions-zones?hl=zh-cn", "abstract": "# Cloud TPU - TPU \u5340\u57df\u548c\u53ef\u7528\u5340\n# TPU \u5340\u57df\u548c\u53ef\u7528\u5340", "content": "## \u6982\u89bd\n[TPU \u985e\u578b](https://cloud.google.com/tpu/docs/types-topologies?hl=zh-cn) \u4e4b\u9593\u7684\u4e3b\u8981\u5340\u5225\u5728\u65bc\u50f9\u683c\u3001\u6027\u80fd\u3001\u5167\u5b58\u5bb9\u91cf\u548c\u53ef\u7528\u5340\u7d1a\u53ef\u7528\u6027\u3002\nGoogle Cloud \u4f7f\u7528\u53ef\u7d30\u5206\u7232\u53ef\u7528\u5340\u7684\u5340\u57df\u4f86\u5b9a\u7fa9\u7269\u7406\u8a08\u7b97\u8cc7\u6e90\u7684\u5730\u7406\u4f4d\u7f6e\u3002\u4f8b\u5982\uff0c `us-central1` \u5340\u57df\u8868\u793a\u9760\u8fd1\u7f8e\u570b\u5730\u7406\u4e2d\u5fc3\u7684\u5340\u57df\u3002\u5275\u5efa TPU \u7bc0\u9ede\u6642\uff0c\u60a8\u53ef\u4ee5\u6307\u5b9a\u8981\u5728\u5176\u4e2d\u5275\u5efa\u8a72\u7bc0\u9ede\u7684\u5730\u5340\u3002\u5982\u9700\u8a73\u7d30\u77ad\u89e3\u5340\u57df\u548c\u53ef\u7528\u5340\u7d1a\u8cc7\u6e90\uff0c\u8acb\u53c3\u95b1 Compute Engine [\u5168\u7403\u3001\u5340\u57df\u548c\u53ef\u7528\u5340\u7d1a\u8cc7\u6e90](https://cloud.google.com/compute/docs/regions-zones/global-regional-zonal-resources?hl=zh-cn) \u6587\u6a94\u3002\n\u60a8\u53ef\u4ee5\u5728\u4e0b\u8868\u4e2d\u986f\u793a\u7684\u53ef\u7528\u5340\u4e2d\u5275\u5efa TPU \u914d\u7f6e\u3002\n| ('TPU \u985e\u578b (v2)', 'TPU \u985e\u578b (v3)', 'TPU \u985e\u578b (v4)', 'TPU \u985e\u578b (v5e)') | ('TPU v2 \u6838\u5fc3\u6578', 'TPU v3 \u6838\u5fc3\u6578', 'TPU v4 \u82af\u7247', 'TPU v5e \u82af\u7247') | ('\u53ef\u7528\u5730\u5340', '\u53ef\u7528\u5730\u5340', '\u53ef\u7528\u5730\u5340', '\u53ef\u7528\u5730\u5340') |\n|:------------------------------------------------------------------------|:--------------------------------------------------------------------|:---------------------------------------------------|\n| v2-8                 | 8                 | us-central1-b us-central1-c us-central1-f   |\n| v2-32                 | 32                 | us-central1-a          |\n| v2-128                 | 128                 | us-central1-a          |\n| v2-256                 | 256                 | us-central1-a          |\n| v2-512                 | 512                 | us-central1-a          |\n| v3-8                 | 8                 | us-central1-a us-central1-b us-central1-f   |\n| \u6240\u6709 v4 \u914d\u7f6e               | \u56e0\u5207\u7247\u5927\u5c0f\u800c\u7570              | us-central2-b          |\n| v5litepod-1                | 1                 | us-west4-a us-east5-b        |\n| v5litepod-4                | 4                 | us-west4-a us-east5-b        |\n| v5litepod-8                | 8                 | us-west4-a us-east5-b        |\n| v5litepod-16               | 16                 | us-west4-a us-east5-b        |\n| v5litepod-32               | 32                 | us-west4-a us-east5-b        |\n| V5litepod-64               | 64                 | us-west4-a us-east5-b        |\n| V5litepod-128               | 128                 | us-west4-a us-east5-b        |\n| V5litepod-256               | 256                 | us-west4-a us-east5-b        || ('TPU \u985e\u578b (v2)', 'TPU \u985e\u578b (v3)', 'TPU \u985e\u578b (v5e)') | ('TPU v2 \u6838\u5fc3\u6578', 'TPU v3 \u6838\u5fc3\u6578', 'TPU v5e \u82af\u7247') | ('\u53ef\u7528\u5730\u5340', '\u53ef\u7528\u5730\u5340', '\u53ef\u7528\u5730\u5340') |\n|:-------------------------------------------------------|-----------------------------------------------------:|:---------------------------------------|\n| v2-8             |             8 | europe-west4-a       |\n| v2-32             |             32 | europe-west4-a       |\n| v2-128             |             128 | europe-west4-a       |\n| v2-256             |             256 | europe-west4-a       |\n| v2-512             |             512 | europe-west4-a       |\n| v3-8             |             8 | europe-west4-a       |\n| v3-32             |             32 | europe-west4-a       |\n| v3-64             |             64 | europe-west4-a       |\n| v3-128             |             128 | europe-west4-a       |\n| v3-256             |             256 | europe-west4-a       |\n| v3-512             |             512 | europe-west4-a       |\n| v3-1024            |             1024 | europe-west4-a       |\n| v3-2048            |             2048 | europe-west4-a       |\n| v5lite-1            |             1 | europe-west4-b       |\n| V5lite-4            |             4 | europe-west4-b       |\n| V5lite-8            |             8 | europe-west4-b       || TPU \u985e\u578b (v2) | TPU v2 \u6838\u5fc3\u6578 | \u53ef\u7528\u5730\u5340  |\n|:----------------|----------------:|:-------------|\n| v2-8   |    8 | asia-east1-c |\n**\u6ce8\u610f** \uff1a\u53ea\u6709 [TPU Research Cloud (TRC) \u53c3\u8207\u8005](https://sites.research.google/trc?hl=zh-cn) \u53ef\u4ee5\u4f7f\u7528\u53ef\u7528\u5340 `us-central1-f` \u3002\n\u82af\u7247\u6216\u6838\u5fc3\u6578\u91cf\u8f03\u591a\u7684 TPU \u985e\u578b\u7684\u4f9b\u61c9\u91cf\u6709\u9650\u3002\u82af\u7247\u6216\u6838\u5fc3\u6578\u91cf\u8f03\u5c11\u7684 TPU \u985e\u578b\u53ef\u7528\u7684\u53ef\u80fd\u6027\u66f4\u5927\u3002\n## \u8a08\u7b97\u6027\u50f9\u6bd4\n\u7232\u4e86\u78ba\u5b9a\u8981\u4f7f\u7528\u54ea\u7a2e\u985e\u578b\u7684 TPU\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528 [Cloud TPU \u6559\u7a0b](https://cloud.google.com/tpu/docs/tutorials?hl=zh-cn) \u9032\u884c\u5be6\u9a57\uff0c\u4ee5\u8a13\u7df4\u8207\u60a8\u7684\u61c9\u7528\u985e\u4f3c\u7684\u6a21\u578b\u3002\n\u904b\u884c\u672c\u6559\u7a0b\u7684\u6b65\u6578\u7232\u5728 `v2-8` \u6216 `v3-8` TPU \u985e\u578b\u4e0a\u904b\u884c\u5b8c\u6574\u8a13\u7df4\u6642\u6240\u9700\u6b65\u9a5f\u6578\u7684 5-10%\u3002\u7d50\u679c\u6703\u544a\u8a34\u60a8\u5728\u6bcf\u7a2e TPU \u985e\u578b\u4e0a\u904b\u884c\u8a72\u6a21\u578b\u7684\u76f8\u61c9\u6b65\u6578\u6240\u9700\u7684\u6642\u9593\u3002\n\u7531\u65bc TPU \u985e\u578b\u7684\u6027\u80fd\u662f\u7dda\u6027\u64f4\u7e2e\u7684\uff0c\u5982\u679c\u60a8\u77e5\u9053\u5728 `v2-8` \u6216 `v3-8` TPU \u985e\u578b\u4e0a\u904b\u884c\u4efb\u52d9\u9700\u8981\u591a\u9577\u6642\u9593\uff0c\u5c31\u53ef\u4ee5\u4f30\u7b97\u5728\u5177\u6709\u66f4\u591a\u82af\u7247\u6216\u6838\u5fc3\u7684\u66f4\u5927 TPU \u985e\u578b\u4e0a\u904b\u884c\u6a21\u578b\u53ef\u4ee5\u6e1b\u5c11\u591a\u5c11\u4efb\u52d9\u6642\u9593\u3002\n\u4f8b\u5982\uff0c\u5982\u679c `v2-8` TPU \u985e\u578b\u9700\u8981 60 \u5206\u9418\u5b8c\u6210 10,000 \u6b65\uff0c\u5247 `v2-32` \u7bc0\u9ede\u61c9\u8a72\u9700\u8981\u5927\u7d04 15 \u5206\u9418\u4f86\u57f7\u884c\u540c\u4e00\u4efb\u52d9\u3002\n\u5728\u77ad\u89e3\u6a21\u578b\u5728\u5e7e\u7a2e\u4e0d\u540c TPU \u985e\u578b\u7684\u5927\u81f4\u8a13\u7df4\u6642\u9593\u5f8c\uff0c\u60a8\u53ef\u4ee5\u6839\u64da\u8a13\u7df4\u6642\u9593\u4f86\u6b0a\u8861\u865b\u64ec\u6a5f/TPU \u7684\u8cbb\u7528\uff0c\u5f9e\u800c\u78ba\u5b9a\u6700\u4f73\u6027\u50f9\u6bd4\u3002\n\u8981\u78ba\u5b9a Cloud TPU \u548c\u76f8\u95dc Compute Engine \u865b\u64ec\u6a5f\u7684\u4e0d\u540c TPU \u985e\u578b\u4e4b\u9593\u7684\u8cbb\u7528\u5dee\u7570\uff0c\u8acb\u53c3\u95b1 [TPU \u50f9\u683c\u9801\u9762](https://cloud.google.com/tpu/docs/pricing?hl=zh-cn) \u3002\n## \u6307\u5b9a TPU \u985e\u578b\n\u7121\u8ad6\u60a8\u4f7f\u7528\u54ea\u7a2e\u6846\u67b6\uff0c\u90fd\u53ef\u4ee5\u6307\u5b9a `v2` \u6216 `v3`\nTPU \u985e\u578b\u53ca `accelerator-type` \u53c3\u6578\uff08\u5728 [\u5553\u52d5 TPU](https://cloud.google.com/tpu/docs/managing-vm-tpu-resources?hl=zh-cn) \u6642\u6307\u5b9a\uff09\u3002\u5c0d\u65bc TPU v4 \u6216\u66f4\u9ad8\u7248\u672c\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528 `AcceleratorType` \u6216 `AcceleratorConfig` \u6307\u5b9a\u985e\u578b\u548c\u5927\u5c0f\u3002\u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1 [TPU \u914d\u7f6e](https://cloud.google.com/tpu/docs/supported-tpu-configurations?hl=zh-cn) \u3002TPU \u985e\u578b\u547d\u4ee4\u53d6\u6c7a\u65bc\u60a8\u4f7f\u7528\u7684\u662f TPU \u865b\u64ec\u6a5f\u9084\u662f TPU \u7bc0\u9ede\u3002 [\u7ba1\u7406 TPU](https://cloud.google.com/tpu/docs/managing-tpus-tpu-vm?hl=zh-cn) \u4e2d\u986f\u793a\u4e86\u793a\u4f8b\u547d\u4ee4\u3002\n**\u6ce8\u610f** \uff1a\u5982\u9700\u8a73\u7d30\u77ad\u89e3 TPU \u865b\u64ec\u6a5f\u548c TPU \u7bc0\u9ede\u4e4b\u9593\u7684\u5dee\u7570\uff0c\u8acb\u53c3\u95b1 [\u7cfb\u7d71\u67b6\u69cb](https://cloud.google.com/tpu/docs/system-architecture-tpu-vm?hl=zh-cn) \u3002\n## \u5f8c\u7e8c\u6b65\u9a5f\n- \u5982\u9700\u67e5\u770b\u6bcf\u500b\u5340\u57df\u7684 TPU \u50f9\u683c\uff0c\u8acb\u53c3\u95b1 [\u50f9\u683c](https://cloud.google.com/tpu/pricing?hl=zh-cn) \u9801\u9762\u3002\n- \u5982\u9700\u8a73\u7d30\u77ad\u89e3 TPU \u67b6\u69cb\uff0c\u8acb\u53c3\u95b1 [\u7cfb\u7d71\u67b6\u69cb](https://cloud.google.com/tpu/docs/system-architecture-tpu-vm?hl=zh-cn) \u9801\u9762\u3002\n- \u8acb\u53c3\u95b1 [\u4f55\u6642\u4f7f\u7528 TPU](https://cloud.google.com/tpu/docs/tpus?hl=zh-cn#when_to_use_tpus) \uff0c\u77ad\u89e3\u9069\u7528\u65bc Cloud TPU \u7684\u6a21\u578b\u985e\u578b\u3002", "guide": "Cloud TPU"}