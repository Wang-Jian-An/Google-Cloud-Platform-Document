{"title": "Cloud TPU - \u6392\u67e5 Cloud TPU \u5de5\u4f5c\u6d41\u554f\u984c", "url": "https://cloud.google.com/tpu/docs/troubleshooting/troubleshooting?hl=zh-cn", "abstract": "# Cloud TPU - \u6392\u67e5 Cloud TPU \u5de5\u4f5c\u6d41\u554f\u984c\n# \u6392\u67e5 Cloud TPU \u5de5\u4f5c\u6d41\u554f\u984c\n\u5728 TPU \u4e0a\u904b\u884c\u8a13\u7df4\u6216\u63a8\u7406\u5de5\u4f5c\u8ca0\u8f09\u5f8c\uff0c\u4e0b\u4e00\u6b65\u662f\u78ba\u4fdd\u5de5\u4f5c\u8ca0\u8f09\u6309\u9810\u671f\u5de5\u4f5c\u3002Cloud TPU \u6703\u751f\u6210\u6307\u6a19\u548c\u65e5\u8a8c\uff0c\u4f7f\u60a8\u80fd\u5920\u67e5\u627e\u4e26\u8abf\u8a66\u4efb\u4f55\u884c\u7232\u7570\u5e38\u7684 TPU \u865b\u64ec\u6a5f\u3002\u5728\u672c\u6587\u6a94\u4e2d\uff0c\u6211\u5011\u5c07\u6b64\u985e\u865b\u64ec\u6a5f\u7a31\u7232\u96e2\u7fa3\u503c \u3002\n\u5e38\u898f\u554f\u984c\u6392\u67e5\u5de5\u4f5c\u6d41\u5982\u4e0b\uff1a\n- \u67e5\u770b Cloud TPU \u6307\u6a19\u4ee5\u6aa2\u67e5\u96e2\u7fa3 TPU \u865b\u64ec\u6a5f\n- \u67e5\u770b\u96e2\u7fa3 TPU \u865b\u64ec\u6a5f\u7684 Cloud TPU \u65e5\u8a8c\n- \u5206\u6790\u5de5\u4f5c\u8ca0\u8f09\n\u60a8\u53ef\u4ee5\u5728 Google Cloud \u63a7\u5236\u6aaf\u7684 [Metrics Explorer](https://cloud.google.com/monitoring/charts/metrics-explorer?hl=zh-cn) \u548c [Logs Explorer](https://cloud.google.com/logging/docs/view/logs-explorer-interface?hl=zh-cn) \u4e2d\u67e5\u770b\u6307\u6a19\u548c\u65e5\u8a8c\u3002\u60a8\u9084\u53ef\u4ee5\u4f7f\u7528\u76e3\u63a7\u548c\u65e5\u8a8c\u8a18\u9304\u4fe1\u606f\u4e2d\u5fc3\u5728\u55ae\u7368\u7684\u4fe1\u606f\u4e2d\u5fc3\u5167\u6536\u96c6\u6240\u6709\u8207 Cloud TPU \u76f8\u95dc\u7684\u6307\u6a19\u548c\u65e5\u8a8c\u3002\n", "content": "## Cloud TPU \u865b\u64ec\u6a5f\u6307\u6a19\nCloud Monitoring \u6703\u81ea\u52d5\u5f9e\u60a8\u7684 TPU \u53ca\u5176\u4e3b\u6a5f Compute Engine \u865b\u64ec\u6a5f\u6536\u96c6\u6307\u6a19\u3002\u6307\u6a19\u6703\u8ddf\u8e64\u4e00\u6bb5\u6642\u9593\u5167\u7684\u6578\u503c\u6578\u91cf\uff0c\u4f8b\u5982 CPU \u5229\u7528\u7387\u3001\u7db2\u7d61\u4f7f\u7528\u60c5\u6cc1\u6216 TensorCore \u7a7a\u9592\u6642\u9577\u3002\u5982\u9700\u8a73\u7d30\u77ad\u89e3 Cloud TPU \u6307\u6a19\uff0c\u8acb\u53c3\u95b1 [\u76e3\u63a7 TPU \u865b\u64ec\u6a5f](https://cloud.google.com/tpu/docs/troubleshooting/tpu-vm-monitoring?hl=zh-cn) \u3002\n## Cloud TPU \u65e5\u8a8c\nCloud Logging \u6703\u81ea\u52d5\u5f9e\u60a8\u7684 TPU \u53ca\u5176\u4e3b\u6a5f Compute Engine \u865b\u64ec\u6a5f\u6536\u96c6\u65e5\u8a8c\u3002Cloud Logging \u6703\u8ddf\u8e64 Cloud TPU \u751f\u6210\u7684\u4e8b\u4ef6\u3002\u60a8\u9084\u53ef\u4ee5\u901a\u904e\u4ee3\u78bc\u63d2\u6a01\u4f86\u751f\u6210\u65e5\u8a8c\u3002Cloud TPU \u6703\u751f\u6210\u5169\u7a2e\u985e\u578b\u7684\u65e5\u8a8c\uff1a\n- TPU \u5de5\u4f5c\u5668\u65e5\u8a8c\n- \u5df2\u5be9\u8988\u7684\u8cc7\u6e90\u65e5\u8a8c\nTPU \u5de5\u4f5c\u5668\u65e5\u8a8c\u5305\u542b\u6709\u95dc\u7279\u5b9a\u5340\u57df\u4e2d\u7279\u5b9a TPU \u5de5\u4f5c\u5668\u7684\u4fe1\u606f\uff0c\u4f8b\u5982 TPU \u5de5\u4f5c\u5668\u4e0a\u7684\u53ef\u7528\u5167\u5b58\u91cf (system_available_memory_GiB)\u3002\n\u5df2\u5be9\u8988\u7684\u8cc7\u6e90\u65e5\u8a8c\u5305\u542b\u6709\u95dc\u8abf\u7528\u7279\u5b9a Cloud TPU API \u7684\u6642\u9593\u4ee5\u53ca\u8abf\u7528\u8005\u7684\u4fe1\u606f\u3002\u4f8b\u5982 `CreateNode` \u3001 `UpdateNode` \u548c `DeleteNode` \u3002\n\u60a8\u9084\u53ef\u4ee5\u4f7f\u7528 `cloud-tpu-diagnostics` PyPi \u8edf\u4ef6\u5305\u5c07\u5806\u68e7\u8ecc\u8de1\u5beb\u5165\u65e5\u8a8c\u3002\u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1 [\u8abf\u8a66 TPU \u865b\u64ec\u6a5f](https://cloud.google.com/tpu/docs/troubleshooting/debugging?hl=zh-cn) \u3002\n\u5982\u9700\u8a73\u7d30\u77ad\u89e3\u65e5\u8a8c\uff0c\u8acb\u53c3\u95b1 [Logging](https://cloud.google.com/tpu/docs/troubleshooting/tpu-vm-monitoring?hl=zh-cn#locate_logs) \u3002\n## \u76e3\u63a7\u548c\u65e5\u8a8c\u8a18\u9304\u4fe1\u606f\u4e2d\u5fc3\n\u5728 Google Cloud \u63a7\u5236\u6aaf\u4e2d\u5275\u5efa\u4e00\u500b\u9801\u9762\uff0c\u53ef\u4ee5\u66f4\u8f15\u9b06\u5730\u67e5\u770b\u548c\u89e3\u8b80\u8207 Cloud TPU \u76f8\u95dc\u7684\u6307\u6a19\u548c\u65e5\u8a8c\u3002 [monitoring-debugging](https://github.com/google/cloud-tpu-monitoring-debugging) GitHub \u4ee3\u78bc\u5eab\u5305\u542b\u4e00\u7d44\u8173\u672c\u548c\u914d\u7f6e\u6587\u4ef6\uff0c\u9019\u4e9b\u6587\u4ef6\u4f7f\u7528 [Terraform](https://developer.hashicorp.com/terraform) \u81ea\u52d5\u90e8\u7f72\u4fe1\u606f\u4e2d\u5fc3\uff0c\u5176\u4e2d\u5305\u542b\u4fe1\u606f\u4e2d\u5fc3\u5167\u7684\u6240\u6709 Cloud TPU \u76f8\u95dc\u6307\u6a19\u548c\u65e5\u8a8c\u3002\u5982\u9700\u5728 Google Cloud \u9805\u76ee\u4e2d\u8a2d\u7f6e\u9019\u4e9b\u4fe1\u606f\u4e2d\u5fc3\uff0c\u8acb\u53c3\u95b1 [Monitoring \u548c Logging \u4fe1\u606f\u4e2d\u5fc3](https://cloud.google.com/tpu/docs/troubleshooting/dashboards?hl=zh-cn) \u3002\n## \u5728 TPU \u865b\u64ec\u6a5f\u4e0a\u5256\u6790\u5de5\u4f5c\u8ca0\u8f09\u7684\u6027\u80fd\n\u901a\u904e\u6027\u80fd\u5206\u6790\uff0c\u60a8\u53ef\u4ee5\u512a\u5316\u6a21\u578b\u5728 TPU \u865b\u64ec\u6a5f\u4e0a\u7684\u8a13\u7df4\u6027\u80fd\u3002\u60a8\u53ef\u4ee5\u4f7f\u7528 [TensorBoard](https://www.tensorflow.org/tensorboard?hl=zh-cn) \u548c [TPU TensorBoard \u63d2\u4ef6](https://cloud.google.com/tpu/docs/profile-tpu-vm?hl=zh-cn#install-plugin) \u4f86\u5206\u6790\u6a21\u578b\u3002\u5982\u9700\u8a73\u7d30\u77ad\u89e3\u5982\u4f55\u5206\u6790\u5de5\u4f5c\u8ca0\u8f09\uff0c\u8acb\u53c3\u95b1 [\u5728 TPU \u865b\u64ec\u6a5f\u4e0a\u5206\u6790\u6a21\u578b](https://cloud.google.com/tpu/docs/profile-tpu-vm?hl=zh-cn) \u3002\n\u5982\u9700\u8a73\u7d30\u77ad\u89e3\u5982\u4f55\u5c07 TensorBoard \u8207\u652f\u6301\u7684\u6846\u67b6\u4e4b\u4e00\u642d\u914d\u4f7f\u7528\uff0c\u8acb\u53c3\u95b1\u4ee5\u4e0b\u6587\u6a94\uff1a\n- [TensorFlow \u6027\u80fd\u6307\u5357](https://cloud.google.com/tpu/docs/tensorflow-performance-guide?hl=zh-cn) \n- [PyTorch \u6027\u80fd\u6307\u5357](https://cloud.google.com/tpu/docs/pytorch-xla-performance-profiling-tpu-vm?hl=zh-cn) \n- [JAX \u6027\u80fd\u6307\u5357](https://jax.readthedocs.io/en/latest/profiling.html)", "guide": "Cloud TPU"}