{"title": "Vertex AI Search and Conversation - Search for images on websites", "url": "https://cloud.google.com/generative-ai-app-builder/docs/image-search?hl=zh-cn", "abstract": "# Vertex AI Search and Conversation - Search for images on websites\nWith Vertex AI Search, you can search for images using a app with website data. You supply a query in the form of a text string or an image, and the `default_config.search` method returns images for that query.\n**Note:** Image search is not available using the Google Cloud console.\n", "content": "## Before you begin\nMake sure you satisfy the following prerequisites. Requirements vary depending on whether you search using a text query or an image query.\n- If you search using a text query in your website search app, make sure the following is turned on: [Enterprise edition features](/generative-ai-app-builder/docs/about-advanced-features#enterprise-features) \n- If you search using an image query in your website search app, make sure the following are turned on:- [Enterprise edition features](/generative-ai-app-builder/docs/about-advanced-features#enterprise-features) \n- [Advanced website indexing](/generative-ai-app-builder/docs/about-advanced-features#advanced-website-indexing) \n## Preview image search\nTo use the command line to preview image results for a website, follow these steps:\n- Find your data store ID. If you already have your data store ID, skip to the next step.- In the Google Cloud console, go to the **Search and Conversation** page and in the navigation menu, click **Data stores** . [Go to the Data stores page](https://console.cloud.google.com/gen-app-builder/data-stores) \n- Click the name of your data store.\n- On the **Data** page for your data store, get the data store ID.\n- Call the [default_config.search](/generative-ai-app-builder/docs/reference/rest/v1/projects.locations.dataStores.servingConfigs/search) method, specifying `1` for the `search_type` . Choose the method syntax depending on whether your query is text or image bytes.\n```\ncurl -X POST \\-H \"Authorization: Bearer $(gcloud auth print-access-token)\" \\-H \"Content-Type: application/json\" \\-H \"X-Goog-User-Project: PROJECT_ID\" \\\"https://discoveryengine.googleapis.com/v1beta/projects/PROJECT_ID/locations/global/dataStores/DATA_STORE_ID/servingConfigs/default_config:search\" \\-d '{\"servingConfig\": \"projects/PROJECT_ID/locations/global/dataStores/DATA_STORE_ID/servingConfigs/default_config\",\"query\": \"QUERY\",\"pageSize\": \"PAGE_SIZE\",\"offset\": \"OFFSET\",\"params\": {\"search_type\": 1}}'\n```\n```\ncurl -X POST \\-H \"Authorization: Bearer $(gcloud auth print-access-token)\" \\-H \"Content-Type: application/json\" \\-H \"X-Goog-User-Project: PROJECT_ID\" \\\"https://discoveryengine.googleapis.com/v1beta/projects/PROJECT_ID/locations/global/dataStores/DATA_STORE_ID/servingConfigs/default_config:search\" \\-d '{\"servingConfig\": \"projects/PROJECT_ID/locations/global/dataStores/DATA_STORE_ID/servingConfigs/default_config\",\"imageQuery\": {\"imageBytes\":\"IMAGE_BYTES\"},\"pageSize\": \"PAGE_SIZE\",\"offset\": \"OFFSET\",\"params\": {\"search_type\": 1}}'\n```- : The ID of your project.\n- : The ID of your data store.\n- : The search query text. For example, \"Round headlight cars\" or \"show me dress with stripes.\"\n- : The image in Base64 encoded bytes. Supported formats are JPEG, PNG, and BMP.\n- : Optional. The number of results returned by the search. The default value is 10 for website search.- Values below 0 cause an error.\n- Values above 100 cause the value to be set to 100.\n- : Optional. The starting index of the results. The default value is 0.For example, if the offset is 2 and the page size is 10, results 2 through 11 are returned.\n- Review the response. See the following table for field descriptions:| Field     | Description                       |\n|:----------------------|:-------------------------------------------------------------------------------------------------------|\n| title     | The plain text title of the web page that contains the image           |\n| htmlTitle    | The title, in HTML, of the web page that contains the image           |\n| displayLink   | An abridged version of this search's result URL, usually the domain name\u2014for example, www.example.com |\n| link     | The URL of the image                     |\n| image.contextLink  | Context link: A URL pointing to the web page that contains the image         |\n| image.byteSize  | The size of the image, in bytes                  |\n| image.width   | The width of the image, in pixels                  |\n| image.height   | The height of the image, in pixels                  |\n| image.thumbnailWidth | The width of the thumbnail image, in pixels               |\n| image.thumbnailHeight | The height of the thumbnail image, in pixels               |\n| image.thumbnailLink | The URL of the thumbnail image                   |\n| mime     | The MIME type of the image                    |\n| fileFormat   | The file format of the image                   |", "guide": "Vertex AI Search and Conversation"}