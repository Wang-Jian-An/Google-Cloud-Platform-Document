{"title": "Vertex AI Search and Conversation - About apps and data stores", "url": "https://cloud.google.com/generative-ai-app-builder/docs/create-datastore-ingest?hl=zh-cn", "abstract": "# Vertex AI Search and Conversation - About apps and data stores\nThis page describes Vertex AI Search apps and data stores. For information about Vertex AI Conversation data stores, see [Vertex AI Conversation data stores](/generative-ai-app-builder/docs/agent-data-store) .\nWith Vertex AI Search, you create a search or recommendations app and connect it to a data store. A Google Cloud project can contain multiple apps.\n", "content": "## Relationship between apps and data stores\nThe relationship between apps and data stores depends on the type of app:\n- For generic search apps:- In most cases, a generic search app has a one-to-one connection with its data store.\n- Public preview: A generic search app can be connected to multiple data stores. This is called [blended search](/generative-ai-app-builder/docs/create-data-store-es#multi-data-stores) .\n- A generic recommendations app has a one-to-one connection with its data store.\n- A media app has a many-to-one relationship with its data store. An app can only connect to one data store, whereas a given data store can be connected to several apps. For example, a media search app and a media recommendations app can share a data store.\n- A healthcare search app has a many-to-one relationship with its data store. An app can only connect to one data store, whereas a given data store can be connected to several apps. For example, a patient-facing app and a provider-facing app can connect to the same data store.\n**Note:** Blended search, where multiple data stores can be connected to a single generic search app, is available in Public preview. For more information, see [About connecting multiple data stores](/generative-ai-app-builder/docs/create-data-store-es#multi-data-stores) .\nAfter a data store is connected to an app, it can't be disconnected.\n## Order of creation of apps and data stores\nThe order in which you create a data store and an app depends on the type of app:\n- For generic search and recommendations, you can either create a data store along with an app, or create a data store separately and then connect it when you create the app.\n- For media search and recommendations, data stores can only be created during app creation; media data stores can't be created from the **Data stores** page.\n- For healthcare search, you can either create a data store along with an app, or create a data store separately and then connect it when you create the app.## Method of app creation and data ingestion\nHow you create an app and ingest data depends on the type of data you have:\n- For website data, you use the Google Cloud console, not the API, to create your app and ingest data.\n- For structured or unstructured data, you can use either the Google Cloud console or the API.\n- For healthcare data, you can use either the Google Cloud console or the API.## Documents\nEach data store has one or more data records, called . What a document represents varies depending on the type of data in the data store:\n- **Website** . A document is a web page.\n- **Structured data (Preview)** . A document is a row in a table or a JSON record that follows a particular schema. You can provide this schema yourself or you can let Vertex AI Search and Conversation derive the schema from the ingested data.\n- **Structured data for media** . A document is a row in a table or a JSON record that follows a predefined schema, which is specific to media. The documents are records pertaining to media content, such as videos, news articles, music files, and podcasts. A document contains information that describes the media item, such as title, URI to the content location, description, category, language, year, and rating.\n- **Structured data for third-party data sources (Preview with allowlist)** . A document is an entity specific to the third-party data source, such as a Jira issue or Confluence space.\n- **Unstructured data** . A document is a file in HTML, PDF with embedded text, or TXT format. PPTX and DOCX formats are available in Preview.\n- **Healthcare FHIR data** . A document is a supported [FHIR R4](/healthcare-api/docs/concepts/fhir) resource. For a list of FHIR R4 resources that Vertex AI Search supports, see [Healthcare FHIR R4 data schema reference](/generative-ai-app-builder/docs/fhir-schema-reference) .## Data stores and apps\nIn Vertex AI Search and Conversation, there are various kinds of data stores. A data store can contain only one type of data.\n- [Website data](#websites) \n- [Structured data (Preview)](#structured-data) \n- [Structured content (media)](#structured-data-media) \n- [Structured content for third-party data sources](#structured-third-party) \n- [Unstructured data](#unstructured-data) \n- [Healthcare FHIR data](#healthcare-data) \n### Website data\nA data store with website data uses data indexed from public websites. You can provide a set of domains and set up search or recommendations over data crawled from the domains. This data includes text and images tagged with metadata.\nFor example, you can provide domains such as `yourexamplewebsite.com/faq` and `yourexamplewebsite.com/events` and enable search or recommendations over the content at those domains.\nYou can include up to 10 URL patterns either from the same or different domains. You can also provide up to 20 URL patterns to exclude from the search.\nA website contains unstructured data, but you can add metadata in the form of `meta` tags and edit the website's schema as explained in [Add metadata for advanced website indexing](/generative-ai-app-builder/docs/add-website-metadata) .\n### Structured data\n**Note:** This feature is a Preview offering, subject to the \"Pre-GA Offerings Terms\" of the [GCP Service Specific Terms](https://cloud.google.com/terms/service-terms) . Pre-GA products and features may have limited support, and changes to pre-GA products and features may not be compatible with other pre-GA versions. For more information, see the [launch stage descriptions](https://cloud.google.com/products#product-launch-stages) . Further, by using this feature, you agree to the [Generative AI Preview terms and conditions](https://cloud.google.com/trustedtester/aitos) (\"Preview Terms\"). For this feature, you can process personal data as outlined in the [Cloud Data Processing Addendum](https://cloud.google.com/terms/data-processing-terms) , subject to applicable restrictions and obligations in the Agreement (as defined in the Preview Terms).\nA data store with structured data enables semantic search or recommendations over structured data. You can import data from BigQuery or Cloud Storage. You can also submit structured data as an HTTP request payload.\nFor example, you can enable search or recommendations over a product catalog for your ecommerce experience, a movie catalog for movie search or recommendations, or a directory of doctors for provider search or recommendations.\nVertex AI Search and Conversation auto-detects the schema from the data that you import. Optionally, you can provide a schema for your data. Providing a schema for your data typically improves the quality of results.\n### Structured data for media\nMedia apps can only be connected to media data stores. Media data stores are structured data stores with a specific, predefined schema. For more information about the schema, see [About media documents and datastores](/generative-ai-app-builder/docs/media-documents) .\nFor example, you can enable recommendations by creating a media recommendations app for a movie catalog or a news site so that your users will have suitable and personalized suggestion made for them.\nIn addition to media documents, media data stores also contain the user event information that allows Vertex AI Search to customize recommendations and search for your users. User events are required for media apps and are recommended for media apps. For information about user events, see [Record real-time userevents](/generative-ai-app-builder/docs/record-user-events) .\n**Note:** Media search is in Preview with allowlist.\n### Structured data for third-party data stores\n**Note:** This feature is in Preview with allowlist.\nThe following third-party data source connectors are available in Preview with allowlist:\n- Confluence\n- Jira\n- Salesforce\nData from these third parties is considered structured data.\nWhen you set up a new connector, you select a synchronization frequency. You also select which entities to sync. Entities vary depending on the source, such as issues for Jira and content and spaces for Confluence.\nHow the data connector is displayed in the console depends on the source:\n- Confluence: A unique data store is created for each entity. Entity data stores are grouped by connector instance.\n- Jira and Salesforce: Each connector instance is displayed as a single data store.\n### Unstructured data\nAn unstructured data store enables semantic search or recommendations over data such as documents and images.\nUnstructured data stores support documents in HTML, PDF with embedded text, and TXT format. PPTX and DOCX formats are available in Preview.\nSearch provides results in the form of 10 URLs and summarized answers for natural language queries. Documents must be uploaded to a Cloud Storage bucket with appropriate access permissions. For example, a financial institution can enable search or recommendations over their private corpus of financial research publications, or a biotech company can enable search or recommendations over their private repository of medical research.\n### Healthcare FHIR data\nA healthcare search app uses FHIR R4 data imported from a Cloud Healthcare API FHIR store. For a list of FHIR R4 resources that Vertex AI Search supports, see [Healthcare FHIR R4 data schema reference](/generative-ai-app-builder/docs/fhir-schema-reference) . A FHIR R4 data store must satisfy some requirements before it can be used as a data source for Vertex AI Search data store. For more information, see how to [prepare healthcare FHIR data](/generative-ai-app-builder/docs/prepare-data#hc-fhir-data) for ingestion.\n## Create an app and ingest data\nThe process for creating an app and ingesting data varies depending on the kind of search or recommendations app you want. See the following documentation:\nFor search:\n- [Create a search data store](/generative-ai-app-builder/docs/create-data-store-es) \n- [Create a search app](/generative-ai-app-builder/docs/create-engine-es) \nFor generic recommendations:\n- [Create a generic recommendations data store](/generative-ai-app-builder/docs/create-data-store-recommendations) \n- [Create a generic recommendations app](/generative-ai-app-builder/docs/create-engine-personalize) \nFor media data:\n- [Create a media app and a data store](/generative-ai-app-builder/docs/create-app-data-store-media-recommendations) \n- [Import data into a media data store](/generative-ai-app-builder/docs/import-data-media-recommendations) \nFor healthcare FHIR R4 search:\n- [Create a healthcare search data store](/generative-ai-app-builder/docs/create-data-store-hc) \n- [Create a healthcare search app](/generative-ai-app-builder/docs/create-app-hc)", "guide": "Vertex AI Search and Conversation"}