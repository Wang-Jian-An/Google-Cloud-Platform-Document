{"title": "Vertex AI Search and Conversation - Create a healthcare search app", "url": "https://cloud.google.com/generative-ai-app-builder/docs/create-app-hc?hl=zh-cn", "abstract": "# Vertex AI Search and Conversation - Create a healthcare search app\n**Caution:** - Restrictions for healthcare: As a customer, you will not, and will not allow End Users to, use the Generative AI Services for clinical purposes (for clarity, non-clinical research, scheduling, or other administrative tasks is not restricted), as a substitute for professional medical advice, or in any manner that is overseen by or requires clearance or approval from any applicable regulatory authority. For more information, see [Service Specific Terms](https://cloud.google.com/terms/service-terms) .\n- The generated output may not always be completely reliable. Due to the nature of LLMs and Generative AI, outputs may have incorrect or biased (for example, stereotypes or other harmful content) information and should be reviewed. All summaries or answers should be considered draft and not final.\n- This product's intended usage is not to provide information pertaining to the prevention, diagnosis or treatment of illness or disease. Questions regarding diagnosis or treatment recommendations are not intended to be addressed by the product. This product's intended use is to retrieve and summarize existing medical information provided by users.\n- Due to limited test data, this product may or may not be applicable to age group 0-18 and to age group 85 and above. Therefore, when reviewing the generated output, customers must consider the representativeness of subpopulations within their source data.To search clinical data in Vertex AI Search, you can follow one of these workflows:\n- Create a healthcare data store, import FHIR R4 data into the data store, connect it to a healthcare search app, and query the clinical data. For more information, see [Create a healthcare data store](/generative-ai-app-builder/docs/create-data-store-hc) .\n- Create a healthcare search app, create a healthcare data store and import FHIR R4 data into the data store during the app creation process, and query the clinical data.\nThis page describes the second method.\n", "content": "## Before you begin\nBefore you create the healthcare search app, complete these requirements:\n- Understand the relationship between apps and data stores for healthcare search. For more information, see [About apps and data stores](/generative-ai-app-builder/docs/create-datastore-ingest) .\n- [Prepare your FHIR data for ingestion](/generative-ai-app-builder/docs/prepare-data#hc-fhir-data) .\n- Vertex AI Search for healthcare provides search services only in the US multi-region ( `us` ). Therefore, your healthcare search app and data stores must reside in the `us` multi-region.## Create an app\nYou can create a healthcare search app either in the Google Cloud console or using the API. The two approaches differ in the following way:\n- In the Google Cloud console: The source FHIR store must be in the same Google Cloud project as the Vertex AI Search app and data store. Select the source FHIR store in the Cloud Healthcare API and import FHIR data as part of the healthcare search app creation process.\n- Through the REST API: You can import FHIR data from a Cloud Healthcare API FHIR store that's in the same Google Cloud project or a different one.- Use the [dataStores.create](/generative-ai-app-builder/docs/reference/rest/v1alpha/projects.locations.collections.dataStores/create) method to create a healthcare data store.\n- Use the [documents.import](/generative-ai-app-builder/docs/reference/rest/v1alpha/projects.locations.dataStores.branches.documents/import) method to specify the FHIR store in Cloud Healthcare API and import FHIR data.\n- Use the [engines.create](/generative-ai-app-builder/docs/reference/rest/v1alpha/projects.locations.collections.engines/create) method to create the healthcare search app and specify an existing healthcare data store.To create a healthcare search app, complete the following steps.- In the Google Cloud console, go to the **Search and Conversation** page. [Search and Conversation](https://console.cloud.google.com/gen-app-builder/) \n- On the **Apps** page, click **New app** .\n- On the **Create app** page, select **Search** .\n- In the **Search app configuration** pane, select **Healthcare** .\n- To turn on advanced LLM features for this app, click the **Advanced LLMfeatures** toggle.Activate advanced LLM features to get search summaries, which are short summarizations of the top one or more search results.When you activate LLM features, it can take up to five minutes for the supported features to become available.\n- In the **Your app name** field, enter a name for your app.\n- In the **External name of your company or organization** field, enter the common name for your company or organization. You don't need to include suffixes such as Inc or LLC. This field is useful for the LLM to identify the company that the app represents.\n- Click **Continue** .\n- On the **Data stores** page, do one of the following:\n- Select an existing healthcare data store. To create a data store before creating an app, see [Create a healthcare data store](/generative-ai-app-builder/docs/create-data-store-hc#create-data-store-healthcare-console) .\n- Create a data store:- Click **Create New data store** .\n- In the **Select a data source** pane, select **Healthcare API (FHIR)** as your data source.\n- To import data from your FHIR store, do one of the following:- Select the FHIR store from the list of available FHIR stores:- Expand the **FHIR store** field.\n- In this list, select a dataset that resides in a [permitted location](/generative-ai-app-builder/docs/prepare-data#hc-fhir-data) and then select a FHIR store that uses FHIR version R4.\n- Enter the FHIR store manually:- Expand the **FHIR store** field.\n- Click **Enter FHIR store manually** .\n- In the **FHIR store name** dialog, enter the full name of the FHIR store in the following format: `project/` `` `/locations/` `` `/datasets/` `` `/fhirStores/` `` `` \n- Click **Save** .\n- Click **Continue** .\n- In the **Your data store name** field, enter a name for your data store.\n- Click **Create** .\n- The data store you created is listed on the **Data Stores** page.\n- Select the created data store.\n- Click **Create** . If the app and data store are created successfully, the data store details page displays the details of the imported FHIR data.\n- [Create a healthcare data store and import healthcare data into it](/generative-ai-app-builder/docs/create-data-store-hc#create-data-store-healthcare-rest) .\n- Create a healthcare search app. **Key Term:** In Vertex AI Search, the term can be used interchangeably with the term in the context of APIs.```\ncurl -X POST\\\n -H \"Authorization: Bearer $(gcloud auth print-access-token)\" \\\n -H \"Content-Type: application/json\"\\\n -H \"X-Goog-User-Project: PROJECT_ID\" \\\n\"https://us-discoveryengine.googleapis.com/v1alpha/projects/PROJECT_ID/locations/us/collections/default_collection/engines?engineId=ENGINE_ID\" \\\n -d '{\n \"displayName\": \"ENGINE_DISPLAY_NAME\",\n \"data_store_ids\":\"DATA_STORE_ID\",\n \"industryVertical\": \"HEALTHCARE_FHIR\",\n \"solutionTypes\": [\"SOLUTION_TYPE_SEARCH\"],\n \"searchEngineConfig\": {\n  \"searchTier\": \"STANDARD\",\n  \"searchAddOns\": [\"SEARCH_ADD_ON\"]\n }\n}'\n```Replace the following:- ``: the ID of your Google Cloud project.\n- ``: the ID of the Vertex AI Search healthcare app that you want to create.\n- ``: the display name of the Vertex AI Search data store that you want to create.\n- ``: the ID of an existing healthcare data store that you want to add to the healthcare search app.\n- ``: an optional field to specify whether you want the advanced LLM features, such as [searching with generative AI answers](/generative-ai-app-builder/docs/search-hc-data#nl-search-genAI) , for this app. To activate advanced LLM features, enter the value`SEARCH_ADD_ON_LLM`. If you don't want advanced LLM features, remove the`searchAddOns`field or leave this list empty. For more information, see [Advanced LLM features](/generative-ai-app-builder/docs/about-advanced-features#advanced-llm-features) .\n## Verify app creation\nThis task shows you how to verify whether a healthcare search app was created successfully and whether FHIR data was imported into the data store successfully.\n- In the Google Cloud console: Select the app and verify its details.\n- Through the REST API, use the [engines.get](/generative-ai-app-builder/docs/reference/rest/v1alpha/projects.locations.collections.engines/get) method to get the healthcare data store details.\nTo verify data store creation and data import, complete the following steps.\n- In the Google Cloud console, go to the **Search and Conversation** page. [Search and Conversation](https://console.cloud.google.com/gen-app-builder/) \n- On the **Apps** page, verify whether the app that you created is in the apps list.\n- Verify that the data store that you connected to the app is listed in the **Connected data stores** column.\n- Select the data store and [verify the data store details](/generative-ai-app-builder/docs/create-data-store-hc#verify-data-store-console) .\n- Verify the app creation.```\ncurl -X GET -H \"Authorization: Bearer $(gcloud auth print-access-token)\" \\\n -H \"Content-Type: application/json\"\\\n -H \"X-Goog-User-Project: PROJECT_ID\" \\\n \"https://us-discoveryengine.googleapis.com/v1alpha/projects/PROJECT_ID/locations/us/collections/default_collection/engines/ENGINE_ID\"\n```Replace the following:- ``: the ID of your Google Cloud project\n- ``: the ID of the Vertex AI Search healthcare app\n- [Verify data store creation and FHIR data import](/generative-ai-app-builder/docs/create-data-store-hc#verify-data-store-rest) .\n## What's next\n- [Search for healthcare data](/generative-ai-app-builder/docs/search-hc-data) in your healthcare search app.\n- [Refresh healthcare data](/generative-ai-app-builder/docs/refresh-hc-data) .", "guide": "Vertex AI Search and Conversation"}