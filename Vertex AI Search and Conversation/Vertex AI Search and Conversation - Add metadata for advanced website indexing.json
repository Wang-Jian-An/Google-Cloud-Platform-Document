{"title": "Vertex AI Search and Conversation - Add metadata for advanced website indexing", "url": "https://cloud.google.com/generative-ai-app-builder/docs/add-website-metadata?hl=zh-cn", "abstract": "# Vertex AI Search and Conversation - Add metadata for advanced website indexing\n**Note:** This feature is available in Public preview.\nIf advanced website indexing is enabled in your data store, you can add metadata to the schema to enrich your indexing.\n", "content": "## Example use case\nSuppose you have a large number of web pages that are relevant to various departments in your organization. You can use `meta` tags to label the pages that are relevant for each department. You can then use the indexed tags as filters in your queries. This lets you to restrict search results to web pages containing a label that matches any of the specified departments.\nThis process can be summarized as follows:\n- Add the following`meta`tags to a subset of your webpages:- Relevant to engineering and IT departments:`<meta name=\"department\" content=\"eng, infotech\">`\n- Relevant to finance and HR departments:`<meta name=\"department\" content=\"finance, human resources\">`\n- Recrawl the updated pages.\n- Add`department`to your data store schema as an indexable array as described in the [Add metadata to the store schema](#add-metadata) section.\nAfter updating your schema, your data store is automatically reindexed. After the reindexing is complete, you can use the `department` filter in a [filter expression](/generative-ai-app-builder/docs/filter-search-metadata#filter-expression-syntax) to reorder or filter search results. For example, when users from the finance department issue queries, the search results can be made more relevant for them with the `department` [filter](/generative-ai-app-builder/docs/filter-website-search#filter-website-search) set to `finance` .\n## Before you begin\nBefore you update the data store's schema, do the following:\n- Turn on advanced website indexing for the data store. For more information, see [Turn on advanced website indexing](/generative-ai-app-builder/docs/turn-on-advanced-indexing) .\n- Understand that after you add`meta`tags, you must recrawl the pages. This might take several hours.\n- Understand that after you add metadata and update the data store schema, the website in your data store is reindexed automatically. Reindexing is a long-running operation that might take several hours.## Add metadata to the data store schema\nTo add metadata to the data store schema:\n- Add `meta` tags to all the pages in your website that you that you want to enrich with metadata indexing.Each `meta` tag must have its `name` attribute set to the field you want to index and its `content` attribute to a string comprising one or more comma-separated values.Vertex AI Search supports all `meta` tags with names that match the pattern `[a-zA-Z0-9][a-zA-Z0-9-_]*` . Ensure that you don't use [unsupported meta tags](https://developers.google.com/search/docs/crawling-indexing/special-tags#unsupported-tags-and-attributes) .\n- [Recrawl](/generative-ai-app-builder/docs/recrawl-websites) the updated web pages.\n- [View the schema definition](/generative-ai-app-builder/docs/get-schema-definition) for your data store over REST API.\n- [Update the data store schema](/generative-ai-app-builder/docs/update-schemas) over REST API by adding the field that has its `type` set to `array` . The following is an example of a schema update for a website:```\n{\n \"type\": \"object\",\n \"properties\": {\n \"Meta_Tag_Name\": {\n  \"type\": \"array\",\n  \"items\": {\n  \"type\": \"string\",\n  \"searchable\": true,\n  \"retrievable\": true,\n  \"indexable\": true\n  }\n }\n },\n \"$schema\": \"https://json-schema.org/draft/2020-12/schema\"\n}\n```Replace with the exact `name` attribute's value.After you update the website schema, the website is reindexed automatically. This is a long-running operation that can take multiple hours.## What's next\nUse the indexed metadata for the following:\n- [Serving controls](/generative-ai-app-builder/docs/configure-serving-controls) , such as boost, bury, and filter\n- Surfacing as [facets](/generative-ai-app-builder/docs/configure-widget-facets) in search results\n- [Filter](/generative-ai-app-builder/docs/filter-website-search#filter-website-search) search results", "guide": "Vertex AI Search and Conversation"}