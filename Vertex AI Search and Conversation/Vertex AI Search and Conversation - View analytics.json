{"title": "Vertex AI Search and Conversation - View analytics", "url": "https://cloud.google.com/generative-ai-app-builder/docs/view-analytics?hl=zh-cn", "abstract": "# Vertex AI Search and Conversation - View analytics\nAnalytics give you insight into the usage trends, search quality, and end-user engagement of your search app. The Vertex AI Search and Conversation console provides an interactive dashboard experience powered by Looker. You can see per-search metrics and per-search-session metrics based on search logs and user events. You can also filter metrics by date range, queries, and device.\n", "content": "## Data sources for analytics\nReview the prerequisites described in this section before using the analytics dashboard.\nVertex AI Search and Conversation analytics use both search logs and ingested user events as data sources for metrics. Search count, no result rate, and search session count are based on search logs. Click-through-rate, views per search session, and bounce rate are based on user events.\nYou must complete user events integration to be able to see user event analytics.\n### Search logs\nSearch logs are based on search requests. To allow Vertex AI Search and Conversation to identify user sessions so that it can deliver per-session analytics and higher quality search results, Google strongly recommends that you set the optional field `SearchRequest.UserPseudoId` .\n### User events\nThe following user events are required to view some metrics:\n- **Search events.** Required for click-through-rate.\n- **View-item events.** Required for click-through-rate.\nThe following information is also used for analytics:\n- **Impressions** . You can provide impressions (item views or clicks) that are attributable to Vertex AI Search by including the associated item in`UserEvent.Documents`when ingesting user events. This information is needed for attribution and to compute per-search metrics.\n- **Attribution tokens** . Attribution tokens are unique IDs generated by Vertex AI Search and returned with each search request. Make sure to include that attribution token as`UserEvent.attributionToken`with any user events resulting from a search. This is needed to identify if a search is served by the API. Only user events with a Google-generated attribution token are used to compute metrics.\n- **User agent** . Include`UserInfo.userAgent`with user events so that you can filter on user event metrics by device type.## View the analytics dashboard\nMetrics are refreshed about every 6 hours, so it can take several hours before you can use the **Analytics** page after you create your search app.\nIf there are not yet any search logs or user events, default values are shown for all metrics.\n**Note:** Analytics for US and EU multi-regions are in Public preview. See [Limitations for multi-regions](/generative-ai-app-builder/docs/locations#limitations) .\nTo view analytics:\n- In the Google Cloud console, go to the **Search and Conversation** page. [Search and Conversation](https://console.cloud.google.com/gen-app-builder/start) \n- Click the name of the app that you want to view analytics for.\n- Click **Analytics** .\n- Click a tab to view that metric group:- **Per Search** . Metrics are grouped by searches.\n- **Per Session** . Metrics are grouped by search sessions.\n- **Compare** . Baseline metrics are shown alongside metrics from a comparison period. Select date ranges for the baseline metrics (an earlier time range) and comparison metrics (a later time range). These time ranges cannot overlap.\n- To filter your metrics, use the following filters:- **Date range** . Select a preset date range or, if available, enter a custom date range.\n- **Search query** . Select a condition and search query value. You can add multiple search query filters. Available for **Per Search** and **Compare** metrics.\n- **Device type** . Select a device type that queries occurred on.\n## Metrics definitions\n| Metric name       | Metrics Definition             | Notes                                                  |\n|:------------------------------------|:--------------------------------------------------------------------|:-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| Search count      | Count of search events            | nan                                                   |\n| No result rate      | Count of search events without results / Search count    | nan                                                   |\n| Click-through rate (CTR) per search | Count of search clicks / Search count        | Search clicks are view-item events that can be attributed to a previous search event.                              |\n| Search session count    | Count of search sessions           | A search session is a user session containing at least one search event. A user session, also called a visit, is a continuous set of user events. When there are 30 minutes of inactivity, the session ends. |\n| Page view per search visit   | Count of view-item events in search sessions / Search session count | This metric includes all page views in search visits regardless of whether they can be attributed to Vertex AI Search.                      |\n| Bounce rate       | Count of bounces in search sessions / Search session count   | A search session bounce is defined as a session with a single search, where the user left after only making one search.                      |", "guide": "Vertex AI Search and Conversation"}