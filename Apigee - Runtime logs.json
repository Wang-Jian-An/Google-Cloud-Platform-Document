{"title": "Apigee - Runtime logs", "url": "https://cloud.google.com/apigee/docs/api-platform/get-started/what-apigee", "abstract": "# Apigee - Runtime logs\nYou are currently viewing version 1.1 of the Apigee hybrid documentation. **This version is end of life.** You should upgrade to a newer version. For more information, see [Supported versions](/apigee/docs/hybrid/supported-platforms#supported-versions) .\nUse the runtime logs to help diagnose problems with the `apigee-runtime` pods. Each runtime pod contains a message processor, which is responsible for processing API proxy traffic, executing policies, routing requests, and more.\n", "content": "## Using runtime logs\nLogs are a good way to troubleshoot problems with your installation. See [Logging](/apigee/docs/hybrid/v1.1/logging) for details.\n### \n Use the logs command\nYou can view runtime system logs using the `kubectl logs` command. For example:\n```\nkubectl logs -f -n hybrid apigee-runtime-apigee-gcp-prod1-test-blue-hd77q\n```\n### \n Viewing logs on the filesystem\nYou can find the message processor log files on the `apigee-runtime` pod's filesystem. To view the files, open a shell in an `apigee-runtime` pod:\n```\nkubectl exec -it -n namespace apigee-runtime-pod-name bash\n```\nFor example:\n```\nkubectl exec -it -n hybrid apigee-runtime-apigee-gcp-prod1-test-blue-cnj5x bash\n```\nOnce you have the pod shell open, you can find hybrid message processor logs under `/opt/apigee/var/log/apigee-runtime/config.log` .\n### Contract version information\nThe following table briefly describes log entries related to loading the contract from the management plane:\n| 0                                      | 1                    |\n|:-------------------------------------------------------------------------------------------------------------------------------------------------------|:---------------------------------------------------------------------------------|\n| Log Entry                                    | Meaning                   |\n| hybrid-runtime Apigee-Timer-9 INFO RUNTIME-SYNC-SERVICE - RuntimeSyncServiceImpl.updateToVersion() : Switched to newer version 750 from version null | The MP changed to a newer version of the configuration contract.     |\n| hybrid-runtime Apigee-Timer-6 INFO RUNTIME-SYNC-SERVICE - RuntimeSyncServiceImpl.loadLatestVersionIfAvailable() : Found a newer version 750   | The MP loaded the latest contract configuration version from version.properties. |\n| hybrid-runtime Apigee-Timer-6 INFO RUNTIME-SYNC-SERVICE - RuntimeSyncServiceImpl.updateToVersion() : Attempting to update to a newer version 750  | The MP is updating to a newer version of the configuration contract.    |\n| hybrid-runtime Apigee-Timer-6 INFO RUNTIME-SYNC-SERVICE - RuntimeSyncServiceImpl.updateToVersion() : Switched to newer version 751 from version 750 | The MP loaded the latest contract configuration version from version.properties. |\n### Deployment errors\nThe following runtime errors relate to proxy deployments:\n| 0                                                      | 1                |\n|:----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|:---------------------------------------------------------------|\n| Log Entry                                                    | Meaning              |\n| hybrid-runtime org:hybrid env:prod Apigee-Main-6 ERROR i.a.h.e.i.HermesEngineImpl - HermesEngineImpl.handleHermesException() : Keyspace cache_hybrid_hybrid does not exist           | Keyspace cache_orgname_hybrid is not provisioned in Cassandra. |\n| hybrid-runtime org:hybrid Apigee-Timer-9 ERROR c.a.s.e.k.HybridEncryptionKeyServiceImpl - HybridEncryptionKeyServiceImpl.getEncryptionKey() : Encryption key does not exist for organization hybrid and type KmsKey | Keyspace kms_orgname_hybrid is not provisioned in Cassandra. |\n### \n Message processor deployment error logs\nLook for the following deployment error entries in the message processor logs:\n| Log entry                                                   | Description             |\n|:---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|:---------------------------------------------------------------|\n| hybrid-runtime org:hybrid env:prod Apigee-Main-6 ERROR i.a.h.e.i.HermesEngineImpl - HermesEngineImpl.handleHermesException() : Keyspace cache_hybrid_hybrid does not exist           | Keyspace cache_orgname_hybrid is not provisioned in Cassandra. |\n| hybrid-runtime org:hybrid Apigee-Timer-9 ERROR c.a.s.e.k.HybridEncryptionKeyServiceImpl - HybridEncryptionKeyS erviceImpl.getEncryptionKey() : Encryption key does not exist for organization hybrid and type KmsKey | Keyspace kms_orgname_hybrid is not provisioned in Cassandra. |\n## \n Message processor error codes\nError codes for the message processor start with `runtime.sync.` `` . For example:\n| 0                | 1                                                                                      |\n|:----------------------------------------------------------------|:------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| Log Entry              | Meaning                                                                                    |\n| runtime.sync.ContractLoadFailedMessage: Error loading spec file | Reason: The error could be caused by an invalid schema, corrupted contract specification file, or invalid contract. Any of these issues could prevent the message processor from loading the spec file. Remedy: Make sure either the contract specification file is available, the file system is not corrupted, or the schema/contract is valid. |", "guide": "Apigee"}