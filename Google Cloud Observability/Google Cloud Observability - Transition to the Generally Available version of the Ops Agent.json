{"title": "Google Cloud Observability - Transition to the Generally Available version of the Ops Agent", "url": "https://cloud.google.com/stackdriver/docs/solutions/agents/ops-agent/transition", "abstract": "# Google Cloud Observability - Transition to the Generally Available version of the Ops Agent\nThe Ops Agent is now Generally Available. The GA version incorporates fixes and improvements based on the feedback from Preview users. This guide provides migration steps for the following users:\n- Ops Agent Preview users to migrate to the GA version of the agent.\n- Users of the legacy Logging and Monitoring agents to migrate to the Ops Agent.", "content": "## Migrating from Ops Agent Preview to the GA version\nTo install the latest version of the Ops Agent, complete the [Upgrading the agent](/stackdriver/docs/solutions/agents/ops-agent/installation#upgrade) procedures.\nIf you edited the agent's default configuration to remove the `default_pipeline` , add the following snippet to the [agentconfiguration](/stackdriver/docs/solutions/agents/ops-agent/configuration) to keep that pipeline disabled:\n```\nlogging:\n service:\n pipelines:\n  default_pipeline:\n  receivers: []\n  exporters: []\nmetrics:\n service:\n pipelines:\n  default_pipeline:\n  receivers: []\n  exporters: []\n```\n### Changes in commands for managing the Ops Agent\nThe following table lists the commands for managing the agent that changed for the GA release:\n| Procedure    | GA version         | Preview version          |\n|:----------------------|:--------------------------------------------|:-----------------------------------------------------|\n| Starting the agent | sudo service google-cloud-ops-agent start | nan             |\n| Stopping the agent | sudo service google-cloud-ops-agent stop | nan             |\n| Restarting the agent | sudo service google-cloud-ops-agent restart | sudo systemctl restart google-cloud-ops-agent.target |\n| Checking agent status | sudo service google-cloud-ops-agent status | sudo systemctl status google-cloud-ops-agent.target |\n## Migrating from the legacy agents to the Ops Agent\nTo migrate from the legacy Logging and Monitoring agents, complete the following steps.\n- Uninstall the [Logging](/logging/docs/agent/logging/installation#uninstall) and the [Monitoring](/monitoring/agent/monitoring/installation#uninstall) agents.After you uninstall the agent, the Google Cloud console might take up to one hour to report this change.\n- Install the latest version of the [Ops Agent on a single virtualmachine](/stackdriver/docs/solutions/agents/ops-agent/installation#install-latest-version) .You also have the option of [installing and managing the Ops Agent onmultiple VMs](/stackdriver/docs/solutions/agents/ops-agent/install-index) .\n- [Configure the Ops Agent](/stackdriver/docs/solutions/agents/ops-agent/configuration) as needed.## Differences in how metrics are collected\n| Metric type, omitting agent.googleapis.com | Ops Agent (GA)\u2020                             | Ops Agent (Preview)\u2020                           | Monitoring agent                            |\n|:---------------------------------------------|:-----------------------------------------------------------------------------------------------------------------------------------|:--------------------------------------------------------------------------------------------------------------------------------|:--------------------------------------------------------------------------------------------------------------------------------|\n| cpu_state         | The possible values for Windows are idle, interrupt, system and user.                | The possible values for Windows are idle, interrupt, system and user.               | The possible values for Windows are idle and used.                    |\n| disk/bytes_used and disk/percent_used  | Ingested with the full path in the device label; for example, /dev/sda15. Not ingested for virtual devices like tmpfs and udev. | Ingested without /dev in the path in the device label; for example, sda15. Ingested for virtual devices like tmpfs and udev. | Ingested without /dev in the path in the device label; for example, sda15. Ingested for virtual devices like tmpfs and udev. |", "guide": "Google Cloud Observability"}