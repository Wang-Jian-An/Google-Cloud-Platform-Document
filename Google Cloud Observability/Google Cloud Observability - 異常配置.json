{"title": "Google Cloud Observability - \u7570\u5e38\u914d\u7f6e", "url": "https://cloud.google.com/stackdriver/docs/managed-prometheus/best-practices/unusual-configs?hl=zh-cn", "abstract": "# Google Cloud Observability - \u7570\u5e38\u914d\u7f6e\n", "content": "## \u5728 Google Cloud \u4e4b\u5916\u904b\u884c\n\u5982\u679c\u60a8\u7684\u96c6\u7fa3\u672a\u5728 Google Cloud \u4e2d\u904b\u884c\uff0c\u60a8\u5fc5\u9808\u624b\u52d5\u914d\u7f6e `project_id` \u548c `location` \u6a19\u7c64\u7684\u503c\u3002\u6211\u5011\u5efa\u8b70\u60a8\u57f7\u884c\u4ee5\u4e0b\u64cd\u4f5c\uff1a\n- \u6839\u64da\u6b64\u96c6\u7fa3\u5982\u4f55\u9069\u61c9\u591a\u79df\u6236\u76e3\u63a7\u6a21\u578b\u8a2d\u7f6e `project_id` \u3002\u60a8\u7684\u670d\u52d9\u8cec\u865f\u5fc5\u9808\u914d\u7f6e\u6709\u6240\u9078 `project_id` \u7684\u6b63\u78ba\u6b0a\u9650\u3002\n- \u6839\u64da\u6700\u9760\u8fd1\u60a8\u7684\u90e8\u7f72\u7684 Google Cloud \u5340\u57df\u8a2d\u7f6e `location` \u3002\n\u60a8\u7121\u6cd5\u4f7f\u7528\u91cd\u65b0\u6dfb\u52a0\u6a19\u7c64\u898f\u5247\u91cd\u5beb\u9019\u4e9b\u6a19\u7c64\u3002\n## \u60a8\u7684\u7d44\u7e54\u4e2d\u7684\u9805\u76ee\u6578\u8d85\u904e 1,000 \u500b\n\u6307\u6a19\u7bc4\u570d\u5167\u652f\u6301\u7684\u9805\u76ee\u6578\u4e0a\u9650\u7232 375\uff0c\u4f46\u6307\u6a19\u7bc4\u570d\u5167\u4e0d\u53d7\u652f\u6301\u7684\u9805\u76ee\u6578\u4e0a\u9650\u7232 1,000\u3002\n\u5982\u679c\u60a8\u64c1\u6709\u7684\u9805\u76ee\u6578\u91cf\u8d85\u904e 1,000 \u500b\uff0c\u5efa\u8b70\u7684\u89e3\u6c7a\u65b9\u6cd5\u662f\u5c07\u6536\u96c6\u5668\u914d\u7f6e\u7232\u4f7f\u7528\u4e2d\u592e `project_id` \uff0c\u800c\u4e0d\u662f\u904b\u884c\u5b83\u5011\u7684\u9805\u76ee\u7684 ID\u3002\u7136\u5f8c\uff0c\u6240\u6709\u9805\u76ee\u7684\u6307\u6a19\u90fd\u5b58\u5132\u5728 Monarch \u7684\u8a72\u4e2d\u592e\u9805\u76ee ID \u4e0b\uff0c\u60a8\u53ea\u9700\u5c07\u4e2d\u592e\u9805\u76ee\u653e\u5165\u6307\u6a19\u7bc4\u570d\u5167\u3002\n\u5982\u679c\u4f7f\u7528\u6b64\u65b9\u6cd5\uff0c\u8acb\u6ce8\u610f\u4ee5\u4e0b\u6f5b\u5728\u7f3a\u9ede\uff1a\n- \u57f7\u884c\u6b64\u64cd\u4f5c\u6703\u4e1f\u5931\u4e00\u4e9b\u591a\u79df\u6236\u7c92\u5ea6\uff0c\u56e0\u7232\u6b0a\u9650\u53ea\u80fd\u5728\u9805\u76ee\u7d1a\u8a2d\u7f6e\u3002\u60a8\u53ef\u80fd\u5e0c\u671b\u5c07\u9805\u76ee\u5728\u908f\u8f2f\u4e0a\u5283\u5206\u7232\u5e7e\u500b\u985e\u5225\uff0c\u4f75\u7232\u6bcf\u500b\u985e\u5225\u4f7f\u7528\u4e0d\u540c\u7684\u4e2d\u592e\u9805\u76ee\u3002\n- \u60a8\u7121\u6cd5\u66ff\u63db Google Cloud \u7cfb\u7d71\u6307\u6a19\u7684`project_id`\u503c\u3002\u6b64\u89e3\u6c7a\u65b9\u6cd5\u4e0d\u6703\u8b93\u60a8\u5728\u4e2d\u592e\u9805\u76ee\u4e2d\u770b\u5230 [\u514d\u8cbb\u7684 Google Kubernetes Engine \u6307\u6a19](https://cloud.google.com/monitoring/api/metrics_kubernetes?hl=zh-cn) \uff0c\u56e0\u7232\u9019\u4e9b\u6307\u6a19\u4fdd\u7559\u5728\u6bcf\u500b\u539f\u59cb\u9805\u76ee\u4e2d\u3002\n- \u4f7f\u7528\u4e2d\u592e\u9805\u76ee\u53ef\u80fd\u6703\u4f7f Rules \u548c ClusterRules \u7684\u7528\u6cd5\u8907\u96dc\u5316\uff0c\u56e0\u7232\u9019\u4e9b\u898f\u5247\u7684\u7bc4\u570d\u50c5\u9650\u65bc\u5b89\u88dd\u5b83\u5011\u7684\u9805\u76ee\uff0c\u4e26\u4e14\u60a8\u4e0d\u592a\u53ef\u80fd\u5728\u6bcf\u500b\u9805\u76ee\u4e2d\u64c1\u6709\u76f8\u540c\u7684\u96c6\u7fa3\u548c\u547d\u540d\u7a7a\u9593\u540d\u7a31\u96c6\u3002\u60a8\u53ef\u80fd\u5fc5\u9808\u6539\u7528 GlobalRules\u3002## \u624b\u52d5\u5b9a\u4f4d\u55ae\u500b Google Cloud \u5340\u57df\u4e2d\u7684\u6578\u64da\n\u9ed8\u8a8d\u60c5\u6cc1\u4e0b\uff0cManaged Service for Prometheus \u5c07\u6578\u64da\u5b58\u5132\u5728\u751f\u6210\u6578\u64da\u7684 Google Cloud \u5340\u57df\u4e2d\uff0c\u4e26\u4e14\u67e5\u8a62\u81ea\u7136\u662f\u5168\u7403\u6027\u7684\uff0c\u9019\u610f\u5473\u7740\u60a8\u7121\u9700\u5728\u5730\u7406\u4f4d\u7f6e\u4e0a\u5171\u7f6e\u6578\u64da\u5373\u53ef\u67e5\u8a62\u8de8\u591a\u500b Google Cloud \u5340\u57df\u7684\u6578\u64da\u3002\n\u5728\u5927\u591a\u6578\u60c5\u6cc1\u4e0b\uff0c\u6b64\u9ed8\u8a8d\u884c\u7232\u5c31\u8db3\u5920\u4e86\u3002\u4f46\u5728\u67d0\u4e9b\u60c5\u6cc1\u4e0b\uff0c\u60a8\u53ef\u80fd\u5e0c\u671b\u5c07\u6240\u6709\u6307\u6a19\u6578\u64da\u5b58\u5132\u5728\u55ae\u500b Google Cloud \u5340\u57df\u4e2d\uff0c\u4f8b\u5982\uff0c\u60a8\u5728\u56b4\u683c\u76e3\u7ba1\u7684\u74b0\u5883\u4e2d\u3002\n\u5982\u9700\u5c07\u6240\u6709\u6307\u6a19\u6578\u64da\u5b58\u5132\u5728\u55ae\u500b\u5340\u57df\u4e2d\uff0c\u8acb\u5c07\u6536\u96c6\u5668\u914d\u7f6e\u7232\u4f7f\u7528\u55ae\u500b `location` \uff0c\u800c\u4e0d\u662f\u6b63\u5728\u904b\u884c\u5b83\u5011\u7684\u96c6\u7fa3\u7684\u81ea\u52d5\u6aa2\u6e2c\u4f4d\u7f6e\u3002\n\u5c07\u6578\u64da\u5b58\u5132\u5728\u55ae\u500b Google Cloud \u5340\u57df\u4e2d\u53ef\u80fd\u6703\u4f7f Rules \u548c ClusterRules \u7684\u7528\u6cd5\u8907\u96dc\u5316\uff0c\u56e0\u7232\u9019\u4e9b\u898f\u5247\u7684\u7bc4\u570d\u50c5\u9650\u65bc\u5b89\u88dd\u4f4d\u7f6e\uff0c\u4e26\u4e14\u60a8\u4e0d\u592a\u53ef\u80fd\u5728\u6bcf\u500b Google Cloud \u5340\u57df\u4e2d\u64c1\u6709\u76f8\u540c\u7684\u96c6\u7fa3\u548c\u547d\u540d\u7a7a\u9593\u540d\u7a31\u96c6\u3002\u60a8\u53ef\u80fd\u5fc5\u9808\u6539\u7528 GlobalRules\u3002", "guide": "Google Cloud Observability"}