{"title": "Documentation - Service Mesh Envoy access logs", "url": "https://cloud.google.com/distributed-cloud/hosted/docs/latest/gdch/overview", "abstract": "# Documentation - Service Mesh Envoy access logs\nApplications (Envoy sidecars) that generate audit logs on the service mesh upon receiving requests have the following log format.\n**JSON representation**\n```\n{\u00a0 \"bytes_sent\": string,\u00a0 \"x_forwarded_for\": string,\u00a0 \"severity_text\": string,\u00a0 \"observed_time_unix_nano\": integer,\u00a0 \"user_agent\": string,\u00a0 \"x_request_id\": string,\u00a0 \"start_time\": string,\u00a0 \"upstream_local_address\": string,\u00a0 \"connection_termination_details\": string,\u00a0 \"severity_number\": integer,\u00a0 \"resource\": {\u00a0 \u00a0 object\u00a0 },\u00a0 \"x_envoy_upstream_service_time\": string,\u00a0 \"response_code_details\": string,\u00a0 \"upstream_host\": string,\u00a0 \"duration\": string,\u00a0 \"upstream_cluster\": string,\u00a0 \"upstream_transport_failure_reason\": string,\u00a0 \"authority\": string,\u00a0 \"username\": string,\u00a0 \"protocol\": string,\u00a0 \"route_name\": string,\u00a0 \"requested_server_name\": string,\u00a0 \"method\": string,\u00a0 \"time_unix_nano\": integer,\u00a0 \"bytes_received\": string,\u00a0 \"path\": string,\u00a0 \"response_flags\": string,\u00a0 \"x_goog_api_client\": string,\u00a0 \"body\": {\u00a0 \u00a0 object\u00a0 },\u00a0 \"downstream_local_address\": string,\u00a0 \"downstream_remote_address\": string,\u00a0 \"response_code\": string}\n```\n| Fields       | Fields.1                                                                   |\n|:----------------------------------|:-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| bytes_sent      | string The bytes sent in the body. For a websocket connection, it also includes the bytes sent in the response header. For example, \"46259\"                                  |\n| x_forwarded_for     | string The IP addresses visited by a request from the client to the server. For example, \"10.200.0.1\"                                            |\n| severity_text      | string Information about the severity level of the log entry. It might be an empty value.                                               |\n| observed_time_unix_nano   | integer The UNIX epoch time in nanoseconds of the log entry collection. For example, 1668556781041333000                                           |\n| user_agent      | string The name of the software that retrieves, renders, and facilitates end-user interaction with the web content. It also refers to the user interface implemented using web technologies. For example, \"Mozilla/5.0 (X11; Linux x86_64; rv:102.0) Gecko/20100101 Firefox/102.0\" |\n| x_request_id      | string The unique ID of a single request. For example, \"a4cadca4-662f-4a9c-af63-39a5b3275d8b\"                                              |\n| start_time      | string The start time of the request up to milliseconds. For example, \"2022-11-15T23:59:41.041Z\"                                             |\n| upstream_local_address   | string The local address of the upstream connection. If it is an IP address, it includes the address and the port. For example, \"127.0.0.6:42179\"                                 |\n| connection_termination_details | string Additional information about why Envoy terminated the connection. It might be an empty value.                                            |\n| severity_number     | integer The severity level of the log entry. For example, 0                                                      |\n| resource       | object The attributes of the Envoy resource that produced the log entry. These attributes are in key-value pairs in the object. For example, { \"log_name\": string, \"cluster_name\": string, \"node_name\": string, \"zone_name\": string }           |\n| x_envoy_upstream_service_time  | string The time in milliseconds that the upstream host spent processing the request. For example, \"0\"                                            |\n| response_code_details    | string Additional information about the response code, such as who set it (the upstream or Envoy) and why. For example, \"via_upstream\"                                    |\n| upstream_host      | string The URL of the upstream host. For example, \"10.253.132.163:80\"                                                    |\n| duration       | string Total duration in milliseconds of the request from the start time to the last byte out. For example, \"4\"                                         |\n| upstream_cluster     | string The cluster to which the upstream host belongs. For example, \"inbound|80||\"                                                 |\n| upstream_transport_failure_reason | string If the upstream connection fails due to a transport socket, it provides the failure reason from the transport socket. The format of this field depends on the configured upstream transport socket. For example, \"SSLV3_ALERT_CERTIFICATE_EXPIRED\"       |\n| authority       | string The host and port information from the target URI. For example, \"console.zone1.google.gdch.test\"                                           |\n| username       | string The user identity that initiated the request. For example, \"fop-cluster-admin@example.com\"                                             |\n| protocol       | string The protocol type of the request. For example, \"HTTP/1.1\"                                                     |\n| route_name      | string The name of the route. For example, \"default\"                                                        |\n| requested_server_name    | string The value set on the SSL connection socket for Server Name Indication (SNI). For example, \"outbound_.80_._.fleet-admin-platform-admin-ui.gpc-system.svc.cluster.local\"                          |\n| method       | string The name of the method. For example, \"GET\"                                                         |\n| time_unix_nano     | integer The UNIX epoch time in nanoseconds of the log entry collection. For example, 1668556781041333000                                           |\n| bytes_received     | string The bytes received in the body. For example, \"0\"                                                       |\n| path        | string The path of the HTTP request. For example, \"/metrics\"                                                      |\n| response_flags     | string Additional details about the response or connection, if any. For example, \"UH (no healthy upstream hosts)\"                                         |\n| x_goog_api_client     | string The API client identification. It might be an empty value.                                                     |\n| body        | object The request body. It might be an empty value.                                                        |\n| downstream_local_address   | string The local address of the downstream connection. If it is an IP address, it includes the address and the port. For example, \"10.253.132.163:80\"                                |\n| downstream_remote_address   | string The remote address of the downstream connection. If it is an IP address, it includes the address and the port. For example, \"10.200.0.1:0\"                                 |\n| response_code      | string The HTTP response code. Possible values: \"200\" (Success) \"403\" (Forbidden request) \"500\" (Error)                                           ", "content": "|", "guide": "Documentation"}