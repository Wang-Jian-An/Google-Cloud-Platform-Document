{"title": "Cloud Architecture Center - Quickstart for Cloud Volumes Service", "url": "https://cloud.google.com/architecture/reference-patterns/overview", "abstract": "# Cloud Architecture Center - Quickstart for Cloud Volumes Service\nLast reviewed 2023-08-22 UTC\nThis page provides details for purchasing, enabling, and configuring NetApp Cloud Volumes Service for Google Cloud from the Google Cloud Marketplace. You can follow along with the written instructions or the video. Both demonstrate the same process.\nIf you encounter any problems, follow the instructions for [obtaining support](/architecture/partners/netapp-cloud-volumes/support) or email the NetApp team for Google Cloud at `GCInfo@NetApp.com` .\n", "content": "## Purchase the service\n**Important:** If you're a new customer and want to subscribe to Cloud Volumes Service, visit [Google Cloud NetApp Volumes](/netapp-volumes#section-1) , Google Cloud's newest first-party, fully managed, and integrated data storage service. To learn more and get started, see [NetApp Volumes documentation](/netapp/volumes/docs/discover/overview) .\n- Ensure that you have the [Billing Account Administrator role](/architecture/partners/netapp-cloud-volumes/before-you-begin-cloud-volumes) in Google Cloud.\n- On the [NetApp Cloud Volumes Service page](https://console.cloud.google.com/marketplace/product/endpoints/cloudvolumesgcp-api.netapp.com?q=netapp&id=16bc2509-9f5f-47f4-bd33-53d9f8976c1d) in the Google Cloud Marketplace, click **Purchase** .Project charges are incurred when you start creating volumes and allocating capacity to those volumes.\n- Review and fill out required fields in the order summary.The **Plan** and **Subscription period** fields are pre-filled. The **Usage fee** field shows the service tiers and the allocated prices per GB.\n- Select a billing account and agree to the terms and conditions.\n- Select the second box under **Additional terms** that begins with , which allows NetApp and Google to provide support for issues that you submit through the service.\n- Click **Subscribe** .## Enable the service\n- Click **Go to Marketplace** to return to the **Cloud Volumes Service** page.\n- Click **Enable** to enable the API and open the **Cloud Volumes** page in the Google Cloud console.## Configure private services access\nIn this section, you configure the [private services access](/architecture/partners/netapp-cloud-volumes/setting-up-private-services-access) connections between your environment, your project, and the NetApp Cloud Volumes project.\nConfiguring private services access peers your VPC network to a service producer project that hosts the volumes. The configuration occurs during the initial creation of the storage pool and volumes.\nTo configure private services access, you need a network administrator role so that you can run the Google Cloud commands.\n**Note:** This quickstart guide doesn't include optional steps, such as adding a storage pool label for a volume of the CVS service type or setting up volume replication and snapshots for a volume of the CVS-Performance service type. For details, see [Creating an NFS volume](/architecture/partners/netapp-cloud-volumes/creating-nfs-volumes) and [Creating an SMB volume](/architecture/partners/netapp-cloud-volumes/creating-smb-volumes) .\nChoose from the following two sections depending on the service type of the volume that you're creating.\n### Create a volume of the CVS service type\n**Important:** If you are using a Shared VPC network, you must first select the host project from the project drop-down menu and then access the **Cloud Volumes** page. Complete this action only once for each Shared VPC network.\n- On the **Cloud Volumes** page in the Google Cloud console, select **Storage pools** , and then select **Create** .The **Create storage pools** dialog opens, in which you enter and select values in the next several steps.The service type is automatically set to **CVS** .\n- Select the service level.For details on selecting the service level, see [pricing](/architecture/partners/netapp-cloud-volumes/costs) and [Selecting the appropriate service level and allocated capacity for NetApp Cloud Volumes Service](/architecture/partners/netapp-cloud-volumes/selecting-the-appropriate-service-level-and-allocated-capacity-for-netapp-cloud-volumes-service) .\n- Select the region.\n- In **Availability** , select the zone hosting the storage pool.For storage pools with the service type Zone Redundant Standard-SW, select **Zone redundancy** .\n- In **Pool details** , enter a pool name and a pool capacity.\n- If you are running a shared VPC network, select **Shared VPC configuration** under **Network details** .\n- Select the name of the VPC you want to connect.If you have not set up network peering, a dialog appears, telling you that you must set up network peering. In these steps, you copy three commands and run them in Cloud Shell to reserve the address range, set up peering, and enable custom route propagation. You only need to perform these steps once for each VPC network, when you first set up network peering.The commands require appropriate permission in the host project.- In the dialog, click **View commands how to set up network peering** .To customize your address range, click **Use custom address range** .\n- Copy the first command, for the user-input address range.\n- Open Cloud Shell by clicking the **Activate Cloud Shell** button in the navigation bar in the upper-right corner of the Google Cloud console.\n- Paste the first command for the user-input address range into Cloud Shell, and run the command.This command reserves the address range.\n- Click **View commands** again.\n- Copy the second command, for VPC network peering.\n- Paste the command into Cloud Shell, and run the command. Type `Y` when prompted.VPC network peering takes a few minutes to set up.\n- Click **View commands** again.\n- Copy the third command, to propagate routes.\n- Paste the command into Cloud Shell, and run the command.\n- Click **Save** .It takes 10-15 minutes to create your first pool. **Note:** For more storage pool options and to modify your pool, go to **Storage pools** and click the menu under **Show more** to the right of the pool name.\n- To create your first volume, go to the **Cloud Volumes** page, select **Volumes** , and then select **Create** .For this quickstart, create your first volume with protocol type NFSv3. If you only want to use SMB volumes in production, you can delete the NFSv3 volume after completing this quickstart.\n### Create a volume of the CVS-Performance service type\n- On the **Cloud Volumes** page in the Google Cloud console, select **Volumes** and then **Create** .The **Create file system** dialog opens, where you enter and select values in the next several steps.\n- Select the service type.\n- Select the region.\n- Select the service level.For details on selecting the service level, see [pricing](/architecture/partners/netapp-cloud-volumes/costs) and [Selecting the appropriate service level and allocated capacity for NetApp Cloud Volumes Service](/architecture/partners/netapp-cloud-volumes/selecting-the-appropriate-service-level-and-allocated-capacity-for-netapp-cloud-volumes-service) .\n- In **Volume details** , enter a volume name.\n- Enter the allocated capacity.\n- Select the protocol type.For this quickstart, create your first volume with protocol type NFSv3. If you only want to use SMB volumes in production, you can delete the NFSv3 volume after completing this quickstart.\n- If you are running a shared VPC network, select **Shared VPC configuration** under **Network details** .\n- Select the name of the VPC you want to connect.If you have not set up network peering, a dialog appears, telling you that you must set up network peering. In these steps, you copy three commands and run them in Cloud Shell to reserve the address range, set up peering, and enable custom route propagation. You only need to perform these steps once for each VPC network, when you first set up network peering.The commands require appropriate permission in the host project.- In the dialog, click **View commands how to set up network peering** .To customize your address range, click **Use custom address range** .\n- Copy the first command, for the user-input address range.\n- Open Cloud Shell by clicking the **Activate Cloud Shell** button in the navigation bar in the upper-right corner of the Google Cloud console.\n- Paste the first command for the user-input address range into Cloud Shell, and run the command.This command reserves the address range.\n- Click **View commands** again.\n- Copy the second command, for VPC network peering.\n- Paste the command into Cloud Shell, and run the command. Type `Y` when prompted.VPC network peering takes a few minutes to set up.\n- Click **View commands** again.\n- Copy the third command, to propagate routes.\n- Paste the command into Cloud Shell, and run the command.\n- Click **Save** .The creation of your first volume takes a few minutes. The creation of each subsequent volume takes around 10 seconds.\n**Note:** To modify your volume or see more options, select **Show More** to the right of the volume name on the **Cloud Volumes** page in the Google Cloud console.", "guide": "Cloud Architecture Center"}