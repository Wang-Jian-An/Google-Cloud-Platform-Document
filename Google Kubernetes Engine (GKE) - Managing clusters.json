{"title": "Google Kubernetes Engine (GKE) - Managing clusters", "url": "https://cloud.google.com/kubernetes-engine/docs/concepts/kubernetes-engine-overview", "abstract": "# Google Kubernetes Engine (GKE) - Managing clusters\nThis page shows you how to manage your clusters in Google Kubernetes Engine (GKE). To learn about how clusters work, refer to [Cluster architecture](/kubernetes-engine/docs/concepts/cluster-architecture) .\n", "content": "## Before you begin\nBefore you start, make sure you have performed the following tasks:\n- Enable    the Google Kubernetes Engine API.\n- [    Enable Google Kubernetes Engine API   ](https://console.cloud.google.com/flows/enableapi?apiid=container.googleapis.com) \n- If you want to use the Google Cloud CLI for this task, [install](/sdk/docs/install) and then [initialize](/sdk/docs/initializing) the  gcloud CLI. If you previously installed the gcloud CLI, get the latest  version by running`gcloud components update`. **Note:** For existing gcloud CLI  installations, make sure to set the`compute/region`and`compute/zone` [properties](/sdk/docs/properties#setting_properties) . By setting default locations,  you can avoid errors in gcloud CLI like the following:`One of [--zone, --region] must be supplied: Please specify location`.## Viewing your clusters\nTo view a specific cluster, run the following command:\n```\ngcloud container clusters describe CLUSTER_NAME\n```\nReplace `` with the name of your cluster.\nTo view all clusters in your default zone:\n```\ngcloud container clusters list\n```\nTo view your clusters, go to the **Google Kubernetes Engine** page in the Google Cloud console.\n [Go to Google Kubernetes Engine](https://console.cloud.google.com/kubernetes/list) \nTo see more information about a cluster, select the cluster from the list.\n## Setting a default cluster for kubectl\nIf you have multiple clusters, you can set a default cluster for the `kubectl` command-line tool.\nTo learn more, refer to [Setting a default cluster for kubectlcommands](/kubernetes-engine/docs/how-to/cluster-access-for-kubectl#default_cluster_kubectl) .\n## Setting a default cluster for gcloud\nTo set a default cluster for `gcloud` commands, run the following command:\n```\ngcloud config set container/cluster CLUSTER_NAME\n```\nReplace `` with the name of your cluster.\n## Upgrading clusters\nBy default, GKE automatically upgrades your clusters. However, you can choose to upgrade your Standard clusters yourself. To learn more, see [Manually upgrading a cluster](/kubernetes-engine/docs/how-to/upgrading-a-cluster) .\nFor guidance on upgrading clusters, see [Best practices for upgrading clusters](/kubernetes-engine/docs/best-practices/upgrading-clusters) .\n## Adding or removing zones in a Standard cluster\nThe following sections explain how to add or remove cluster zones. All zones must be in the cluster's region.\n**Warning:** If you change the cluster zones, nodes are immediately added or removed. Before you remove a zone, ensure that your workloads in that zone are prepared for disruption.\n### Changing zones for zonal clusters\nFor existing zonal clusters, you can add or remove zones.\nTo add or remove zones for a zonal cluster, use the `gcloud container clusters update` command:\n```\ngcloud container clusters update CLUSTER_NAME \\\u00a0 --zone COMPUTE_ZONE \\\u00a0 --node-locations COMPUTE_ZONE,COMPUTE_ZONE1\n```\nReplace the following:- ``: the name you choose for the cluster.\n- ``: the zone for the cluster control plane.\n- `` `,` `` `,[...]`: the zones in which nodes are created. You can specify as many zones as needed for your cluster. All zones must be in the same region as the cluster's control plane, specified by the`--zone`flag. For zonal clusters,`--node-locations`must contain the cluster's primary zone.\n **Note:** In `--node-locations` , do not put spaces between the zone names.\nFor example, `example-cluster` runs in `us-central1-a` . To add two more zones to the cluster, you'd run the following command:\n```\ngcloud container clusters update example-cluster \\\u00a0 --zone us-central1-a\u00a0 --node-locations us-central1-a,us-central1-b,us-central1-c\n```\nAs another example, `example-cluster` runs in `us-central1-a` , `us-central1-b` and `us-central1-c` . If you only want the cluster to run in `us-central1-a` and `us-central1-b` , you'd run the following command:\n```\ngcloud container clusters update example-cluster \\\u00a0 --zone us-central1-a \\\u00a0 --node-locations us-central1-a,us-central1-b\n```\nTo add or remove zones in an existing cluster, perform the following steps:- Go to the **Google Kubernetes Engine** page in the Google Cloud console. [Go to Google Kubernetes Engine](https://console.cloud.google.com/kubernetes/list) \n- Beside the cluster you want to edit, click **Actions** , then click **Edit** .\n- Under the Details tab, for the **Default node zones** field, click **Edit node pools** .\n- Select the desired zones and save your changes.\n### Changing zones for regional clusters\nCurrently, it is only possible to change the zones for existing regional clusters using the `gcloud` command.\nTo add or remove zones for a regional cluster, use the `gcloud container clusters update` command with the `--region` flag:\n```\ngcloud container clusters update CLUSTER_NAME \\\u00a0 --region COMPUTE_REGION \\\u00a0 --node-locations COMPUTE_ZONE,COMPUTE_ZONE1\n```\nReplace the following:\n- ``: the name of the cluster.\n- ``: the [region](/compute/docs/regions-zones#available) in which the cluster runs.\n- ``,`` `,[...]`: the [zones](/compute/docs/regions-zones#available) control plane region in which the nodes are created. The zones must be in the same``as the cluster's control plane(s), specified by the`--region`flag.\n**Note:** In `--node-locations` , do not put spaces between the zones.\nFor example, `example-cluster` runs in `us-central1-a` and `us-central1-b` . To add `us-central1-c` , you'd run the following command:\n```\ngcloud container clusters update example-cluster \\\u00a0 --region us-central1 \\\u00a0 --node-locations us-central1-a,us-central1-b,us-central1-c\n```\nAs another example, `example-cluster` runs in `us-central1-a` , `us-central1-b` and `us-central1-c` . If you only want the cluster to run in `us-central1-a` and `us-central1-b` , you'd run the following command:\n```\ngcloud container clusters update example-cluster \\\u00a0 --region us-central1 \\\u00a0 --node-locations us-central1-a,us-central1-b\n```\n## Resizing clusters\nYou can resize a Standard cluster to increase or decrease the number of nodes it has. For example, if you want to stop your cluster from consuming resources without deleting it, you can scale the nodes down to zero. To learn more about resizing, see [Resizing a cluster](/kubernetes-engine/docs/how-to/resizing-a-cluster) .\nAutopilot clusters are sized automatically based on your Pod specifications, so resizing your cluster isn't something you need to worry about. For example, if you change the number of replicas of your Pod, or the resources it requests, the cluster will be sized up or down appropriately.\nIf you would like a more efficient way to optimize your clusters, you can also use [Vertical Pod Autoscaling (VPA)](/kubernetes-engine/docs/concepts/verticalpodautoscaler) . The autoscaler can recommend values for CPU and memory requests and limits, or it can automatically update the values.\n## Deleting clusters\nWhen needed, you can delete a cluster. To learn more, see [Deleting a cluster](/kubernetes-engine/docs/how-to/deleting-a-cluster) .\n## Adding clusters to a fleet\nIf your organization uses multiple clusters, you can simplify multi-cluster management by adding the clusters to a : a logical grouping of Kubernetes clusters. Creating a fleet helps your organization uplevel management from individual clusters to entire groups of clusters, and lets you use fleet-enabled features such as [Multi Cluster Ingress](/kubernetes-engine/docs/concepts/multi-cluster-ingress) , [Config Sync](/anthos-config-management/docs/config-sync-overview) , and [Policy Controller](/anthos-config-management/docs/concepts/policy-controller) .\nYou can add GKE clusters to a fleet by using the Google Cloud console, gcloud CLI, or declaratively using Terraform or Config Connector.\nYou can learn more about how fleets work in [Fleet management](/kubernetes-engine/docs/fleets-overview) , and about creating fleets in [Create fleets to simplify multi-cluster management](/kubernetes-engine/docs/how-to/creating-fleets) .\n## What's next\n- [Learn about how clusters work](/kubernetes-engine/docs/concepts/cluster-architecture) .\n- [Learn about adding and managing your clusters' node pools](/kubernetes-engine/docs/how-to/node-pools) .\n- [Best practices for upgrading clusters](/kubernetes-engine/docs/best-practices/upgrading-clusters) .", "guide": "Google Kubernetes Engine (GKE)"}