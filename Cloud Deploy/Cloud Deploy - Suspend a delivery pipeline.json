{"title": "Cloud Deploy - Suspend a delivery pipeline", "url": "https://cloud.google.com/deploy/docs/suspend-pipeline", "abstract": "# Cloud Deploy - Suspend a delivery pipeline\nThis page describes how to suspend a Cloud Deploy delivery pipeline.\nYou can a delivery pipeline. Suspending a pipeline means that it can no longer be used for the following:\n- Create a release\n- Promote a release\n- Roll back a release\n- Redeploy a release\n- Approve or reject a rollout\nHere are some possible reasons for suspending a delivery pipeline:\n- There's a problem with a release and you want to prevent further action on that pipeline until the problem is found.\n- Your organization observes a holiday freeze, for example during peak holiday shopping season.\nTo suspend a delivery pipeline:\n- In the delivery pipeline configuration file, include the following property:```\nsuspended: true\n```This property goes at the top level, as shown:```\napiVersion: deploy.cloud.google.com/v1kind: DeliveryPipelinemetadata:\u00a0Name: my-appdescription: main application pipelinesuspended: trueserialPipeline:\u00a0stages:\u00a0 \u00a0- targetId: dev\u00a0 \u00a0 \u00a0profiles: []\u00a0 \u00a0- targetId: staging\u00a0 \u00a0 \u00a0profiles: []\u00a0 \u00a0- targetId: prod\u00a0 \u00a0 \u00a0profiles: []\n```\n- Register the delivery pipeline:```\ngcloud deploy apply --file=PIPELINE_CONFIG --region=REGION --project=PROJECT_ID\n```Where:- Is the name of the delivery pipeline configuration file, typically `clouddeploy.yaml` . This is required.\n- Is the name of the region in which the delivery pipeline was created, for example `us-central1` . This is required.\n- Is the project ID of the project in which the delivery pipeline was created. This is required.The delivery pipeline is now in a suspended state, which prevents release creation, promotion, rollback and redeploy, and rollout approval.\n", "content": "## Rollouts from suspended delivery pipelines\nIf there are any rollouts in progress or queued when you suspend a delivery pipeline, those rollouts continue to completion\u2014they are not canceled. However, because you can't create or promote a release, no new rollouts can be created using that pipeline until it's [resumed](#resume_a_suspended_delivery_pipeline) .\n## IAM permissions required for suspending a pipeline\nThe IAM permissions required for suspending a delivery pipeline are included in the following roles:\n- roles/clouddeploy.admin\n- roles/clouddeploy.operator\n- roles/clouddeploy.developer## Resume a suspended delivery pipeline\nTo re-enable a suspended delivery pipeline:\n- In the delivery pipeline configuration file, remove the property `suspended: true` , or set it to `false` .\n- Apply the configuration:```\ngcloud deploy apply --file=PIPELINE_CONFIG --region=REGION --project=PROJECT_ID\n```## Find out what pipelines are suspended\nAny delivery pipelines that are locked are shown with a lock icon next to the name in the Google Cloud console **Delivery pipelines** view:\n## What's next\n- Find out how to [view a delivery pipeline](/deploy/docs/view-pipeline) that's already in use.\n- Learn how to [update a delivery pipeline](/deploy/docs/update-pipeline) .\n- Find out how to [delete a delivery pipeline](/deploy/docs/delete-pipeline) .\n- Learn how to [use service notifications](/deploy/docs/subscribe-deploy-notifications)", "guide": "Cloud Deploy"}