{"title": "Cloud Deploy - About the automation resource", "url": "https://cloud.google.com/deploy/docs/automation-resource", "abstract": "# Cloud Deploy - About the automation resource\nThis document describes the Cloud Deploy resources used to execute [automations](/deploy/docs/automation) .\nYou can configure Cloud Deploy to automatically perform certain delivery pipeline tasks, such as promote a release or advance a rollout to a given phase. These automations rely on two Cloud Deploy resources:\n- The `Automation` itself\n- The `AutomtationRun`\nThese resources are described in this document.\n", "content": "## The Automation resource\nAn `Automation` is a Cloud Deploy resource that defines how to automate one or more delivery pipeline tasks. The `Automation` associates one or more target resources with one or more automation `rules` .\nThe `Automation` resource includes the following:\n- A reference to the target against which to perform the automation (the `selector` ).\n- An automation rule that determines how to do the automation.\n- Metadata, such as `description` , `annotations` , and `labels` .\n- A `suspended` property.\n- The service account to use to perform the automation. The service account is required, and it must have the [necessary permissions](/deploy/docs/automation#roles_and_permissions_required) to perform the automation. Automation doesn't assume a default service account.\nThe `Automation` resource is a child resource of the [delivery pipeline](/deploy/docs/architecture#resources) ; if you [delete a delivery pipeline](/deploy/docs/delete-pipeline) , all automations that are children of that pipeline are also deleted.\nThe [configuration file schema](/deploy/docs/config-files#automation_definitions) describes how to configure the `Automation` .\n## The AutomationRun resource\nAn `AutomationRun` represents an execution of an [automation rule](/deploy/docs/automation-rules) .\n## The automation service account\nThe service account you use to invoke an automation can be the [default service account](/deploy/docs/cloud-deploy-service-account#execution_service_account) or another service account. However, even if you're using the default service account, you must specify it, using the `serviceAccount` property in the `Automation` configuration.\nThe automation service account must have `actAs` permission on the [applicable execution service account](/deploy/docs/cloud-deploy-service-account#execution_service_account) . Also, if the automation service account isn't in the same project as the delivery pipeline, the Cloud Deploy [service agent](/deploy/docs/cloud-deploy-service-account#service_agent) must have `actAs` on the automation service account.\n### Required permissions on the automation service account\nWhether you specify the default or a non-default service account for an automation, the service account must have the following permissions:\n- Permission to `actAs` the [execution service account](/deploy/docs/cloud-deploy-service-account#execution_service_account) .\n- [Permissions](/deploy/docs/iam-roles-permissions#permissions) to perform the operations that are being automated ( `clouddeploy.rollouts.advance` , `clouddeploy.releases.promote` , for example).## What's next\n- Try the [quickstart: Automate release creation and rollout advancement](/deploy/docs/deploy-app-automation) .\n- Read about [automation rules](/deploy/docs/automation-rules) .", "guide": "Cloud Deploy"}