{"title": "Vertex AI - Prepare text training data for entity extraction", "url": "https://cloud.google.com/vertex-ai/docs/start/introduction-unified-platform", "abstract": "# Vertex AI - Prepare text training data for entity extraction\nEntity extraction training data consists of documents that are annotated with the labels that identify the types of entities that you want your model to identify. For example, you might create an entity extraction model to identify specialized terminology in legal documents or patents. Annotations specify the locations of the entities that you're labeling and the labels themselves.\nIf you're annotating structured or semi-structure documents for a dataset used to train AutoML models, such as invoices or contracts, Vertex AI can consider an annotation's position on the page as a factor contributing to its proper label. For example, a real estate contract has both an acceptance date and a closing date. Vertex AI can learn to distinguish between the entities based on the spatial position of the annotation.\n", "content": "## Data requirements\n- You must supply at least 50, and no more than 100,000, training documents.\n- You must supply at least 1, and no more than 100, unique labels to annotate entities that you want to extract.\n- You can use a label to annotate between 1 and 10 words.\n- Label names can be between 2 and 30 characters.\n- You can include annotations in your JSON Lines files, or you can add annotations later by using the Google Cloud console after uploading documents.\n- You can include documents inline or reference TXT files that are in Cloud Storage buckets.## Best practices for text data used to train AutoML models\nThe following recommendations apply to datasets used to train AutoML models.\n- Use each label at least 200 times in your training dataset.\n- Annotate every occurrence of entities that you want your model to identify.## Input files\nInput file types for entity extraction must be JSON Lines. The format, field names, and value types for JSON Lines files are determined by a schema file, which are publicly accessible YAML files.\nYou can download the schema file for entity extraction from the following Cloud Storage location:  [gs://google-cloud-aiplatform/schema/dataset/ioformat/text_extraction_io_format_1.0.0.yaml](https://storage.cloud.google.com/google-cloud-aiplatform/schema/dataset/ioformat/text_extraction_io_format_1.0.0.yaml) .\nThe following example shows how you might use the schema to create your own JSON Lines file. The example includes line breaks for readability. In your JSON files, include line breaks only after each document. The `dataItemResourceLabels` field specifies, for example, ` [ml_use](/vertex-ai/docs/general/ml-use) ` and is optional.\n```\n{\n \"textSegmentAnnotations\": [  {\n  \"startOffset\":number,\n  \"endOffset\":number,\n  \"displayName\": \"label\"\n  },\n  ...\n ],\n \"textContent\": \"inline_text\",\n \"dataItemResourceLabels\": {\n  \"aiplatform.googleapis.com/ml_use\": \"training|test|validation\"\n }\n}\n{\n \"textSegmentAnnotations\": [  {\n  \"startOffset\":number,\n  \"endOffset\":number,\n  \"displayName\": \"label\"\n  },\n  ...\n ],\n \"textGcsUri\": \"gcs_uri_to_file\",\n \"dataItemResourceLabels\": {\n  \"aiplatform.googleapis.com/ml_use\": \"training|test|validation\"\n }\n}\n```\nYou can also annotate documents by using the Google Cloud console. Create a JSON Lines file with content only (without the `textSegmentAnnotations` field); documents are uploaded to Vertex AI without any annotations.", "guide": "Vertex AI"}