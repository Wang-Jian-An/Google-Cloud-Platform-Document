{"title": "Vertex AI - \u5275\u5efa\u8d85\u53c3\u6578\u8abf\u7bc0\u4f5c\u696d", "url": "https://cloud.google.com/vertex-ai/docs/training/using-hyperparameter-tuning?hl=zh-cn", "abstract": "# Vertex AI - \u5275\u5efa\u8d85\u53c3\u6578\u8abf\u7bc0\u4f5c\u696d\n\u5982\u9700\u67e5\u770b\u5982\u4f55\u5728 Vertex AI \u4e2d\u4f7f\u7528\u8d85\u53c3\u6578\u8abf\u7bc0\u7684\u793a\u4f8b\uff0c\u8acb\u5728\u4ee5\u4e0b\u4efb\u4e00\u74b0\u5883\u4e2d\u904b\u884c\u201c\u7232 TensorFlow \u6a21\u578b\u904b\u884c\u8d85\u53c3\u6578\u8abf\u7bc0\u201dJupyter \u7b46\u8a18\u672c\uff1a [\u5728 Colab \u4e2d\u904b\u884c](https://colab.research.google.com/github/GoogleCloudPlatform/vertex-ai-samples/blob/main/notebooks/official/training/hyperparameter_tuning_tensorflow.ipynb?hl=zh-cn) | [\u5728 Vertex AI Workbench \u7528\u6236\u7ba1\u7406\u7684\u7b46\u8a18\u672c\u4e2d\u6253\u958b](https://console.cloud.google.com/vertex-ai/workbench/deploy-notebook?download_url=https%3A%2F%2Fraw.githubusercontent.com%2FGoogleCloudPlatform%2Fvertex-ai-samples%2Fmain%2Fnotebooks%2Fofficial%2Ftraining%2Fhyperparameter_tuning_tensorflow.ipynb&hl=zh-cn) | [\u5728 GitHub \u4e0a\u67e5\u770b](https://github.com/GoogleCloudPlatform/vertex-ai-samples/blob/main/notebooks/official/training/hyperparameter_tuning_tensorflow.ipynb)\n\u8d85\u53c3\u6578\u662f\u63a7\u5236\u6a21\u578b\u8a13\u7df4\u6d41\u7a0b\u7684\u8b8a\u91cf\uff0c\u4f8b\u5982\u6279\u91cf\u5927\u5c0f\u6216\u6df1\u5ea6\u795e\u7d93\u7db2\u7d61\u4e2d\u7684\u96b1\u85cf\u5c64\u6578\u3002\u8d85\u53c3\u6578\u8abf\u7bc0\u901a\u904e\u5728\u4e00\u7cfb\u5217\u8a66\u9a57\u4e2d\u512a\u5316\u6307\u6a19\u503c\u4f86\u641c\u5c0b\u8d85\u53c3\u6578\u503c\u7684\u6700\u4f73\u7d44\u5408\u3002\u6307\u6a19\u662f\u6dfb\u52a0\u5230\u8a13\u7df4\u7a0b\u5e8f\u4e2d\u7684\u6a19\u91cf\u6458\u8981\uff0c\u4f8b\u5982\u6a21\u578b\u6e96\u78ba\u7387\u3002\n[\u8a73\u7d30\u77ad\u89e3 Vertex AI \u4e0a\u7684\u8d85\u53c3\u6578\u8abf\u7bc0](https://cloud.google.com/vertex-ai/docs/training/hyperparameter-tuning-overview?hl=zh-cn) \u3002\u5982\u9700\u67e5\u770b\u5206\u6b65\u793a\u4f8b\uff0c\u8acb\u53c3\u95b1 [Vertex AI\uff1a\u8d85\u53c3\u6578\u8abf\u7bc0 Codelab](https://codelabs.developers.google.com/vertex_hyperparameter_tuning?hl=zh-cn#0) \u3002\n\u672c\u9801\u4ecb\u7d39\u5982\u4f55\u57f7\u884c\u4ee5\u4e0b\u64cd\u4f5c\uff1a\n- \u66f4\u65b0\u60a8\u7684\u8a13\u7df4\u61c9\u7528\u4ee5 [\u63a5\u53d7\u8d85\u53c3\u6578\u4f5c\u7232\u547d\u4ee4\u884c\u53c3\u6578](#command-line-arguments) \uff0c\u4e26 [\u5c07\u6307\u6a19\u503c\u5831\u544a\u7d66 Vertex AI](#report-metrics) \uff0c\u7232\u8d85\u53c3\u6578\u8abf\u7bc0\u505a\u597d\u6e96\u5099\u3002\n- [\u5275\u5efa\u8d85\u53c3\u6578\u8a13\u7df4\u4f5c\u696d](#create) \u3002\u5982\u9700\u8a73\u7d30\u77ad\u89e3\u914d\u7f6e\u9078\u9805\uff0c\u8acb\u53c3\u95b1 [\u77ad\u89e3\u8d85\u53c3\u6578\u8abf\u7bc0\u914d\u7f6e](#configuration) \u3002", "content": "## \u6e96\u5099\u8a13\u7df4\u61c9\u7528\n\u5728\u8d85\u53c3\u6578\u8abf\u7bc0\u4f5c\u696d\u4e2d\uff0cVertex AI \u4f7f\u7528\u4e0d\u540c\u7684\u8d85\u53c3\u6578\u96c6\u5275\u5efa\u8a13\u7df4\u4f5c\u696d\u7684\u8a66\u9a57\uff0c\u4e26\u4f7f\u7528\u60a8\u6307\u5b9a\u7684\u6307\u6a19\u8a55\u4f30\u8a66\u9a57\u7684\u6709\u6548\u6027\u3002Vertex AI \u5c07\u8d85\u53c3\u6578\u503c\u4f5c\u7232\u547d\u4ee4\u884c\u53c3\u6578\u50b3\u905e\u7d66\u8a13\u7df4\u61c9\u7528\u3002\u8981\u8b93 Vertex AI \u8a55\u4f30\u8a66\u9a57\u7684\u6709\u6548\u6027\uff0c\u60a8\u7684\u8a13\u7df4\u61c9\u7528\u5fc5\u9808\u5411 Vertex AI \u544a\u60a8\u7684\u6307\u6a19\u3002\n\u4ee5\u4e0b\u90e8\u5206\u4ecb\u7d39\u4e86\u4ee5\u4e0b\u5167\u5bb9\uff1a\n- Vertex AI \u5982\u4f55\u5c07\u8d85\u53c3\u6578\u50b3\u905e\u7d66\u8a13\u7df4\u61c9\u7528\u3002\n- \u5c07\u6307\u6a19\u5f9e\u8a13\u7df4\u61c9\u7528\u50b3\u905e\u7d66 Vertex AI \u7684\u9078\u9805\u3002\n\u5982\u9700\u8a73\u7d30\u77ad\u89e3\u5728 Vertex AI \u4e0a\u904b\u884c\u81ea\u5b9a\u7fa9\u8a13\u7df4\u61c9\u7528\u7684\u8981\u6c42\uff0c\u8acb\u53c3\u95b1 [\u8a13\u7df4\u4ee3\u78bc\u8981\u6c42](https://cloud.google.com/vertex-ai/docs/training/code-requirements?hl=zh-cn) \u3002\n### \u8655\u7406\u8981\u8abf\u7bc0\u7684\u8d85\u53c3\u6578\u7684\u547d\u4ee4\u884c\u53c3\u6578\nVertex AI \u5728\u8abf\u7528\u60a8\u7684\u8a13\u7df4\u61c9\u7528\u6642\u8a2d\u7f6e\u547d\u4ee4\u884c\u53c3\u6578\u3002\u56e0\u6b64\u8acb\u5728\u4ee3\u78bc\u4e2d\u4f7f\u7528\u547d\u4ee4\u884c\u53c3\u6578\uff1a\n- \u7232\u6bcf\u500b\u8d85\u53c3\u6578\u5b9a\u7fa9\u4e00\u500b\u540d\u7a31\uff0c\u4e26\u4f7f\u7528\u60a8\u559c\u6b61\u7684\u4efb\u4f55\u53c3\u6578\u89e3\u6790\u5668\uff08\u4f8b\u5982 [argparse](https://docs.python.org/3/library/argparse.html) \uff09\u5c0d\u5176\u9032\u884c\u89e3\u6790\u3002\u914d\u7f6e\u8d85\u53c3\u6578\u8a13\u7df4\u4f5c\u696d\u6642\uff0c\u8acb\u4f7f\u7528\u76f8\u540c\u7684\u53c3\u6578\u540d\u7a31\u3002\u4f8b\u5982\uff0c\u5982\u679c\u60a8\u7684\u8a13\u7df4\u61c9\u7528\u662f\u540d\u7232 `my_trainer` \u7684 Python \u6a21\u584a\uff0c\u4e26\u4e14\u60a8\u60f3\u8981\u8abf\u6574\u540d\u7232 `learning_rate` \u7684\u8d85\u53c3\u6578\uff0c\u5247 Vertex AI \u6703\u5728\u6bcf\u6b21\u8a66\u9a57\u4e2d\u5553\u52d5\u5982\u4e0b\u6240\u793a\u7684\u547d\u4ee4\uff1a```\npython3 -m my_trainer --learning_rate learning-rate-in-this-trial\n```Vertex AI \u78ba\u5b9a \u4e26\u4f7f\u7528 `learning_rate` \u53c3\u6578\u50b3\u5165\u5b83\u3002\n- \u5c07\u547d\u4ee4\u884c\u53c3\u6578\u4e2d\u7684\u503c\u5206\u914d\u7d66\u8a13\u7df4\u4ee3\u78bc\u4e2d\u7684\u8d85\u53c3\u6578\u3002\n[\u8a73\u7d30\u77ad\u89e3\u89e3\u6790\u547d\u4ee4\u884c\u53c3\u6578\u7684\u8981\u6c42](https://cloud.google.com/vertex-ai/docs/training/code-requirements?hl=zh-cn#command-line-arguments) \u3002\n### \u5411 Vertex AI \u5831\u544a\u6307\u6a19\n\u5982\u9700\u5411 Vertex AI \u544a\u60a8\u7684\u6307\u6a19\uff0c\u8acb\u4f7f\u7528 [cloudml-hypertune Python \u8edf\u4ef6\u5305](https://github.com/GoogleCloudPlatform/cloudml-hypertune) \u3002\u6b64\u5eab\u63d0\u4f9b\u7528\u65bc\u5411 Vertex AI \u544a\u6307\u6a19\u7684\u8f14\u52a9\u51fd\u6578\u3002\n[\u8a73\u7d30\u77ad\u89e3\u5982\u4f55\u5831\u544a\u8d85\u53c3\u6578\u6307\u6a19](https://cloud.google.com/vertex-ai/docs/training/code-requirements?hl=zh-cn#hp-tuning-metric) \u3002\n## \u5275\u5efa\u8d85\u53c3\u6578\u8abf\u7bc0\u4f5c\u696d\n\u6839\u64da\u60a8\u8981\u7528\u65bc\u5275\u5efa `HyperparameterTuningJob` \u7684\u5de5\u5177\uff0c\u9078\u64c7\u4ee5\u4e0b\u6a19\u7c64\u9801\u4e4b\u4e00\uff1a\n\u5728 Google Cloud \u63a7\u5236\u6aaf\u4e2d\uff0c\u60a8\u7121\u6cd5\u76f4\u63a5\u5275\u5efa `HyperparameterTuningJob` \u8cc7\u6e90\u3002\u4f46\u662f\uff0c\u60a8\u53ef\u4ee5\u5275\u5efa\u4e00\u500b\u5275\u5efa `HyperparameterTuningJob` \u7684 `TrainingPipeline` \u8cc7\u6e90\u3002\n\u4ee5\u4e0b\u8aaa\u660e\u4ecb\u7d39\u77ad\u5982\u4f55\u5275\u5efa `TrainingPipeline` \uff0c\u7528\u65bc\u5275\u5efa `HyperparameterTuningJob` \u4e14\u4e0d\u57f7\u884c\u5176\u4ed6\u64cd\u4f5c\u3002\u5982\u679c\u60a8\u60f3\u4f7f\u7528\u5176\u4ed6 `TrainingPipeline` \u529f\u80fd\uff08\u4f8b\u5982\u4f7f\u7528\u8a17\u7ba1\u6578\u64da\u96c6\u9032\u884c\u8a13\u7df4\uff09\uff0c\u8acb\u53c3\u95b1 [\u5275\u5efa\u8a13\u7df4\u6d41\u6c34\u7dda](https://cloud.google.com/vertex-ai/docs/training/create-training-pipeline?hl=zh-cn) \u3002- \u5728 Google Cloud \u63a7\u5236\u6aaf\u7684 Vertex AI \u90e8\u5206\u4e2d\uff0c\u8f49\u5230 **\u8a13\u7df4\u6d41\u6c34\u7dda** \u9801\u9762\u3002 [\u8f49\u5230\u201c\u8a13\u7df4\u6d41\u6c34\u7dda\u201d](https://console.cloud.google.com/vertex-ai/training/training-pipelines?hl=zh-cn) \n- \u9ede\u64ca **add_box \u5275\u5efa** \u4ee5\u6253\u958b **\u8a13\u7df4\u65b0\u6a21\u578b** \u7a97\u683c\u3002 **\u6ce8\u610f** \uff1a\u60a8\u53ef\u4ee5\u5728\u700f\u89bd\u5668\u4e2d\u8f38\u5165 [model.new](https://model.new) \uff0c\u4ee5\u76f4\u63a5\u8f49\u5230\u6a21\u578b\u5275\u5efa\u9801\u9762\u3002\n- \u5728 **\u8a13\u7df4\u65b9\u6cd5** \u6b65\u9a5f\u4e2d\uff0c\u6307\u5b9a\u4ee5\u4e0b\u8a2d\u7f6e\uff1a- \u5728 **\u6578\u64da\u96c6** \u4e0b\u62c9\u5217\u8868\u4e2d\uff0c\u9078\u64c7 **\u7121\u4ee3\u7ba1\u5f0f\u6578\u64da\u96c6** \u3002\n- \u9078\u64c7 **\u81ea\u5b9a\u7fa9\u8a13\u7df4\uff08\u9ad8\u7d1a\uff09** \u3002\n\u9ede\u64ca **\u7e7c\u7e8c** \u3002\n- \u5728 **\u6a21\u578b\u8a73\u60c5** \u6b65\u9a5f\u4e2d\uff0c\u9078\u64c7 **\u8a13\u7df4\u65b0\u6a21\u578b** \u6216 **\u8a13\u7df4\u65b0\u7248\u672c** \u3002\u5982\u679c\u60a8\u9078\u64c7\u8a13\u7df4\u65b0\u6a21\u578b\uff0c\u8acb\u7232\u6a21\u578b\u8f38\u5165\u4e00\u500b\u540d\u7a31 \u3002\u9ede\u64ca **\u7e7c\u7e8c** \u3002\n- \u5728 **\u8a13\u7df4\u5bb9\u5668** \u6b65\u9a5f\u4e2d\uff0c\u6307\u5b9a\u4ee5\u4e0b\u8a2d\u7f6e\uff1a- \u9078\u64c7 [\u8981\u4f7f\u7528\u9810\u69cb\u5efa\u5bb9\u5668\u9084\u662f\u81ea\u5b9a\u7fa9\u5bb9\u5668](https://cloud.google.com/vertex-ai/docs/training/custom-training-methods?hl=zh-cn#pre-built-custom) \u9032\u884c\u8a13\u7df4\u3002\n- \u6839\u64da\u60a8\u7684\u9078\u64c7\uff0c\u57f7\u884c\u4ee5\u4e0b\u76f8\u61c9\u64cd\u4f5c\uff1a- \u5982\u679c\u8981\u4f7f\u7528\u9810\u69cb\u5efa\u5bb9\u5668\u9032\u884c\u8a13\u7df4\uff0c\u8acb\u5411 Vertex AI \u63d0\u4f9b\u4f7f\u7528\u60a8\u4e0a\u50b3\u5230 Cloud Storage \u7684\u8a13\u7df4\u8edf\u4ef6\u5305\u6240\u9700\u7684\u4fe1\u606f\uff1a- \u4f7f\u7528 **\u6a21\u578b\u6846\u67b6** \u548c **\u6a21\u578b\u6846\u67b6\u7248\u672c** \u4e0b\u62c9\u5217\u8868\u6307\u5b9a\u8981\u4f7f\u7528\u7684 [\u9810\u69cb\u5efa\u5bb9\u5668](https://cloud.google.com/vertex-ai/docs/training/pre-built-containers?hl=zh-cn) \u3002\n- \u5728 **\u8edf\u4ef6\u5305\u4f4d\u7f6e** \u5b57\u6bb5\u4e2d\uff0c\u6307\u5b9a [\u60a8\u5275\u5efa\u4e26\u4e0a\u50b3\u7684 Python \u8a13\u7df4\u61c9\u7528](https://cloud.google.com/vertex-ai/docs/training/create-python-pre-built-container?hl=zh-cn) \u7684 Cloud Storage URI\u3002\u6b64\u6587\u4ef6\u901a\u5e38\u4ee5 `.tar.gz` \u7d50\u5c3e\u3002\n- \u5728 **Python \u6a21\u584a** \u5b57\u6bb5\u4e2d\uff0c\u8f38\u5165 [\u8a13\u7df4\u61c9\u7528\u7684\u5165\u53e3\u9ede\u7684\u6a21\u584a\u540d\u7a31](https://cloud.google.com/vertex-ai/docs/training/create-python-pre-built-container?hl=zh-cn#python-modules) \u3002\n- \u5982\u679c\u8981\u4f7f\u7528 [\u81ea\u5b9a\u7fa9\u5bb9\u5668\u9032\u884c\u8a13\u7df4](https://cloud.google.com/vertex-ai/docs/training/create-custom-container?hl=zh-cn) \uff0c\u8acb\u5728 **\u5bb9\u5668\u6620\u50cf** \u5b57\u6bb5\u4e2d\u6307\u5b9a\u5bb9\u5668\u6620\u50cf\u7684 Artifact Registry \u6216 Docker Hub URI\u3002\n- \u5728 **Model output directory** \u5b57\u6bb5\u4e2d\uff0c\u60a8\u53ef\u4ee5\u6307\u5b9a\u60a8\u6709\u6b0a\u8a2a\u554f\u7684\u5b58\u5132\u6876\u4e2d\u7684\u76ee\u9304\u7684 Cloud Storage URI\u3002\u76ee\u9304\u4e0d\u9700\u8981\u5df2\u7d93\u5b58\u5728\u3002\u6b64\u503c\u6703\u5728 [baseOutputDirectory API \u5b57\u6bb5](https://cloud.google.com/vertex-ai/docs/reference/rest/v1/CustomJobSpec?hl=zh-cn#FIELDS.base_output_directory) \u4e2d\u50b3\u905e\u7d66 Vertex AI\uff0c\u8a72\u5b57\u6bb5\u8a2d\u7f6e [\u8a13\u7df4\u61c9\u7528\u5728\u5176\u904b\u884c\u6642\u53ef\u4ee5\u8a2a\u554f\u7684\u5e7e\u500b\u74b0\u5883\u8b8a\u91cf](https://cloud.google.com/vertex-ai/docs/training/code-requirements?hl=zh-cn#environment-variables) \u3002\n- **\u53ef\u9078** \uff1a\u5728 **\u53c3\u6578** \u5b57\u6bb5\u4e2d\uff0c\u60a8\u53ef\u4ee5\u6307\u5b9a Vertex AI \u958b\u59cb\u904b\u884c\u8a13\u7df4\u4ee3\u78bc\u6642\u4f7f\u7528\u7684\u53c3\u6578\u3002\u6240\u6709\u53c3\u6578\u7684\u7e3d\u9577\u5ea6\u4e0a\u9650\u7232 10 \u842c\u500b\u5b57\u7b26\u3002\u9019\u4e9b\u53c3\u6578\u7684\u884c\u7232\u56e0\u60a8\u4f7f\u7528\u7684\u5bb9\u5668\u985e\u578b\u800c\u7570\uff1a- \u5982\u679c\u60a8\u4f7f\u7528\u7684\u662f\u9810\u69cb\u5efa\u5bb9\u5668\uff0cVertex AI \u6703\u5c07\u53c3\u6578\u4f5c\u7232\u547d\u4ee4\u884c\u6a19\u8a8c\u50b3\u905e\u7d66 **Python \u6a21\u584a** \u3002\n- \u5982\u679c\u60a8\u4f7f\u7528\u7684\u662f\u81ea\u5b9a\u7fa9\u5bb9\u5668\uff0c\u5247 Vertex AI \u6703 [\u4f7f\u7528\u53c3\u6578\u66ff\u63db\u5bb9\u5668\u7684 CMD \u6307\u4ee4](https://cloud.google.com/vertex-ai/docs/training/configure-container-settings?hl=zh-cn#configure) \u3002\u9ede\u64ca **\u7e7c\u7e8c** \u3002\n- \u5728 **\u8d85\u53c3\u6578\u8abf\u7bc0** \u6b65\u9a5f\u4e2d\uff0c\u9078\u4e2d **\u5553\u7528\u8d85\u53c3\u6578\u8abf\u7bc0** \u8907\u9078\u6846\uff0c\u4e26\u6307\u5b9a\u4ee5\u4e0b\u8a2d\u7f6e\uff1a- \u5728 **\u65b0\u5efa\u8d85\u53c3\u6578** \u90e8\u5206\u4e2d\uff0c\u6307\u5b9a\u8981\u8abf\u7bc0\u7684\u8d85\u53c3\u6578\u7684 **\u53c3\u6578\u540d\u7a31** \u548c **\u985e\u578b** \u3002\u914d\u7f6e\u60a8\u6307\u5b9a\u7684\u5176\u4ed6\u8d85\u53c3\u6578\u8a2d\u7f6e\uff0c\u5177\u9ad4\u53d6\u6c7a\u65bc\u60a8\u6307\u5b9a\u7684\u985e\u578b\u3002\u8a73\u7d30\u77ad\u89e3 [\u8d85\u53c3\u6578\u985e\u578b\u53ca\u5176\u914d\u7f6e](https://cloud.google.com/vertex-ai/docs/training/hyperparameter-tuning-overview?hl=zh-cn#hyperparameters) \u3002\n- \u5982\u679c\u8981\u8abf\u6574\u591a\u500b\u8d85\u53c3\u6578\uff0c\u8acb\u9ede\u64ca **\u6dfb\u52a0\u65b0\u53c3\u6578** \uff0c\u7136\u5f8c\u5728\u96a8\u5373\u986f\u793a\u7684\u65b0\u90e8\u5206\u4e2d\u91cd\u8907\u4e0a\u4e00\u6b65\u3002\u5c0d\u8981\u8abf\u7bc0\u7684\u6bcf\u500b\u8d85\u53c3\u6578\u91cd\u8907\u6b64\u6b65\u9a5f\u3002\n- \u5728 **\u8981\u512a\u5316\u7684\u6307\u6a19** \u5b57\u6bb5\u548c **\u9032\u7403** \u4e0b\u62c9\u5217\u8868\u4e2d\uff0c\u6307\u5b9a\u5176\u540d\u7a31\u548c\u76ee\u6a19 [\u8981\u512a\u5316\u7684\u6307\u6a19](https://cloud.google.com/vertex-ai/docs/training/hyperparameter-tuning-overview?hl=zh-cn#what_hyperparameter_tuning_optimizes) \u3002\n- \u5728 **\u8a66\u9a57\u6578\u91cf\u4e0a\u9650** \u5b57\u6bb5\u4e2d\uff0c\u6307\u5b9a\u60a8\u5e0c\u671b Vertex AI \u7232\u8d85\u53c3\u6578\u8abf\u7bc0\u4f5c\u696d\u904b\u884c\u7684 [\u8a66\u9a57\u6578\u4e0a\u9650](https://cloud.google.com/vertex-ai/docs/training/using-hyperparameter-tuning?hl=zh-cn#understanding-trials) \u3002\n- \u5728 **\u4e26\u884c\u8a66\u9a57\u6578\u4e0a\u9650** \u5b57\u6bb5\u4e2d\uff0c\u6307\u5b9a [\u5141\u8a31 Vertex AI \u540c\u6642\u904b\u884c\u7684\u6700\u5927\u8a66\u9a57\u6b21\u6578](https://cloud.google.com/vertex-ai/docs/training/using-hyperparameter-tuning?hl=zh-cn#parallel-trials) \u3002\n- \u5728 **\u641c\u7d22\u7b97\u6cd5** \u4e0b\u62c9\u5217\u8868\u4e2d\uff0c\u6307\u5b9a\u4f9b Vertex AI \u4f7f\u7528\u7684 [\u641c\u7d22\u7b97\u6cd5](https://cloud.google.com/vertex-ai/docs/training/hyperparameter-tuning-overview?hl=zh-cn#search_algorithms) \u3002\n- \u5ffd\u7565 **\u5553\u7528\u63d0\u524d\u505c\u6b62** \u5207\u63db\u958b\u95dc\uff0c\u8a72\u64cd\u4f5c\u4e0d\u8d77\u4f5c\u7528\u3002\n\u9ede\u64ca **\u7e7c\u7e8c** \u3002\n- \u5728 **\u8a08\u7b97\u548c\u50f9\u683c** \u6b65\u9a5f\u4e2d\uff0c\u6307\u5b9a\u4ee5\u4e0b\u8a2d\u7f6e\uff1a- \u5728 **\u5340\u57df** \u4e0b\u62c9\u5217\u8868\u4e2d\uff0c\u9078\u64c7\u4e00\u500b [\u652f\u6301\u81ea\u5b9a\u7fa9\u8a13\u7df4\u7684\u5340\u57df](https://cloud.google.com/vertex-ai/docs/general/locations?hl=zh-cn) \u3002\n- \u5728 **\u5de5\u4f5c\u5668\u6c60 0** \u90e8\u5206\u4e2d\uff0c\u6307\u5b9a\u7528\u65bc\u8a13\u7df4\u7684 [\u8a08\u7b97\u8cc7\u6e90](https://cloud.google.com/vertex-ai/docs/training/configure-compute?hl=zh-cn) \u3002\u5982\u679c\u6307\u5b9a\u52a0\u901f\u5668\uff0c\u8acb [\u78ba\u4fdd\u6240\u9078\u52a0\u901f\u5668\u985e\u578b\u5728\u6240\u9078\u5340\u57df\u53ef\u7528](https://cloud.google.com/vertex-ai/docs/general/locations?hl=zh-cn#region_considerations) \u3002\u5982\u679c\u60a8\u8981\u57f7\u884c [\u5206\u4f48\u5f0f\u8a13\u7df4](https://cloud.google.com/vertex-ai/docs/training/distributed-training?hl=zh-cn) \uff0c\u5247\u9ede\u64ca **Add more worker pools** \uff0c\u4f75\u7232\u60a8\u9700\u8981\u7684\u6bcf\u500b\u984d\u5916\u5de5\u4f5c\u5668\u6c60\u6307\u5b9a\u4e00\u7d44\u984d\u5916\u7684\u8a08\u7b97\u8cc7\u6e90\u3002\n\u9ede\u64ca **\u7e7c\u7e8c** \u3002\n- \u5728 **\u9810\u6e2c\u5bb9\u5668** \u6b65\u9a5f\u4e2d\uff0c\u9078\u64c7 **No prediction container** \u3002\n- \u9ede\u64ca **\u958b\u59cb\u8a13\u7df4** \u4ee5\u5553\u52d5\u81ea\u5b9a\u7fa9\u8a13\u7df4\u6d41\u6c34\u7dda\u3002\n\u4ee5\u4e0b\u6b65\u9a5f\u5c55\u793a\u77ad\u5982\u4f55\u4f7f\u7528 Google Cloud CLI \u4f86\u5275\u5efa\u5177\u6709\u76f8\u5c0d\u6700\u4f4e\u914d\u7f6e\u7684 `HyperparameterTuningJob` \u3002\u5982\u9700\u77ad\u89e3\u53ef\u7528\u65bc\u6b64\u4efb\u52d9\u7684\u6240\u6709\u914d\u7f6e\u9078\u9805\uff0c\u8acb\u53c3\u95b1 [gcloud ai hp-tuning-jobs create \u547d\u4ee4](https://cloud.google.com/sdk/gcloud/reference/ai/hp-tuning-jobs/create?hl=zh-cn) \u548c [HyperparameterTuningJob API \u8cc7\u6e90](https://cloud.google.com/vertex-ai/docs/reference/rest/v1/projects.locations.hyperparameterTuningJobs?hl=zh-cn) \u7684\u53c3\u8003\u6587\u6a94\u3002- \u5275\u5efa\u4e00\u500b\u540d\u7232 `config.yaml` \u7684 YAML \u6587\u4ef6\uff0c\u5176\u4e2d\u5305\u542b\u60a8\u8981\u7232\u65b0\u7684 `HyerparameterTuningJob` \u6307\u5b9a\u7684\u67d0\u4e9b API \u5b57\u6bb5\uff1a```\nstudySpec:\u00a0 metrics:\u00a0 - metricId: METRIC_ID\u00a0 \u00a0 goal: METRIC_GOAL\u00a0 parameters:\u00a0 - parameterId: HYPERPARAMETER_ID\u00a0 \u00a0 doubleValueSpec:\u00a0 \u00a0 \u00a0 minValue: DOUBLE_MIN_VALUE\u00a0 \u00a0 \u00a0 maxValue: DOUBLE_MAX_VALUEtrialJobSpec:\u00a0 workerPoolSpecs:\u00a0 \u00a0 - machineSpec:\u00a0 \u00a0 \u00a0 \u00a0 machineType: MACHINE_TYPE\u00a0 \u00a0 \u00a0 replicaCount: 1\u00a0 \u00a0 \u00a0 containerSpec:\u00a0 \u00a0 \u00a0 \u00a0 imageUri: CUSTOM_CONTAINER_IMAGE_URI\n```\u66ff\u63db\u4ee5\u4e0b\u5167\u5bb9\uff1a- `` \uff1a\u8981\u512a\u5316\u7684 [\u8d85\u53c3\u6578\u6307\u6a19](https://cloud.google.com/vertex-ai/docs/training/hyperparameter-tuning-overview?hl=zh-cn#what_hyperparameter_tuning_optimizes) \u7684\u540d\u7a31\u3002\u60a8\u7684\u8a13\u7df4\u4ee3\u78bc\u5728\u904b\u884c\u6642\u5fc5\u9808 [\u5831\u544a\u6b64\u6307\u6a19](#report-metrics) \u3002\n- `` \uff1a\u8d85\u53c3\u6578\u6307\u6a19\u7684\u76ee\u6a19\uff0c\u5373 `MAXIMIZE` \u6216 `MINIMIZE` \u3002\n- `` \uff1a\u8981\u8abf\u7bc0\u7684\u8d85\u53c3\u6578\u7684\u540d\u7a31\u3002 \u60a8\u7684\u8a13\u7df4\u4ee3\u78bc\u5fc5\u9808 [\u4f7f\u7528\u6b64\u540d\u7a31\u89e3\u6790\u547d\u4ee4\u884c\u6a19\u8a8c](#command-line-arguments) \u3002\u5728\u6b64\u793a\u4f8b\u4e2d\uff0c\u8d85\u53c3\u6578\u5fc5\u9808\u63a1\u7528\u6d6e\u9ede\u503c\u3002\u77ad\u89e3\u5176\u4ed6 [\u8d85\u53c3\u6578\u6578\u64da\u985e\u578b](https://cloud.google.com/vertex-ai/docs/training/hyperparameter-tuning-overview?hl=zh-cn#data-types) \u3002\n- `` \uff1a\u60a8\u5e0c\u671b Vertex AI \u5617\u8a66\u7528\u65bc\u6b64\u8d85\u53c3\u6578\u7684\u6700\u5c0f\u503c\uff08\u6578\u5b57\uff09\u3002\n- `` \uff1a\u60a8\u5e0c\u671b Vertex AI \u5617\u8a66\u7528\u65bc\u6b64\u8d85\u53c3\u6578\u7684\u6700\u5927\u503c\uff08\u6578\u5b57\uff09\u3002\n- `` \uff1a\u7528\u65bc\u8a13\u7df4\u7684 [\u865b\u64ec\u6a5f\u985e\u578b](https://cloud.google.com/vertex-ai/docs/training/configure-compute?hl=zh-cn#machine-types) \u3002\n- `` \uff1a\u5305\u542b\u8a13\u7df4\u4ee3\u78bc\u7684 Docker \u5bb9\u5668\u6620\u50cf\u7684 URI\u3002\u77ad\u89e3\u5982\u4f55 [\u5275\u5efa\u81ea\u5b9a\u7fa9\u5bb9\u5668\u6620\u50cf](https://cloud.google.com/vertex-ai/docs/training/create-custom-container?hl=zh-cn) \u3002\u5728\u6b64\u793a\u4f8b\u4e2d\uff0c\u60a8\u5fc5\u9808\u4f7f\u7528\u81ea\u5b9a\u7fa9\u5bb9\u5668\u3002 `HyperparameterTuningJob` \u8cc7\u6e90\u9084\u652f\u6301 [\u5728 Python \u6e90\u4ee3\u78bc\u767c\u884c\u7248\u4e2d\u8a13\u7df4\u4ee3\u78bc](https://cloud.google.com/vertex-ai/docs/training/create-python-pre-built-container?hl=zh-cn) \uff0c\u4f46\u4e0d\u652f\u6301\u5728\u81ea\u5b9a\u7fa9\u5bb9\u5668\u9032\u884c\u8a13\u7df4\u3002\n- \u5728 `config.yaml` \u6587\u4ef6\u6240\u5728\u7684\u76ee\u9304\u4e2d\uff0c\u904b\u884c\u4ee5\u4e0b shell \u547d\u4ee4\uff1a```\ngcloud ai hp-tuning-jobs create \\\u00a0 \u00a0 --region=LOCATION \\\u00a0 \u00a0 --display-name=DISPLAY_NAME \\\u00a0 \u00a0 --max-trial-count=MAX_TRIAL_COUNT \\\u00a0 \u00a0 --parallel-trial-count=PARALLEL_TRIAL_COUNT \\\u00a0 \u00a0 --config=config.yaml\n```\u66ff\u63db\u4ee5\u4e0b\u5167\u5bb9\uff1a- `` \uff1a\u8981\u5728\u5176\u4e2d\u5275\u5efa `HyperparameterTuningJob` \u7684\u5340\u57df\u3002\u4f7f\u7528 [\u652f\u6301\u81ea\u5b9a\u7fa9\u8a13\u7df4\u7684\u5340\u57df](https://cloud.google.com/vertex-ai/docs/general/locations?hl=zh-cn#feature-availability) \u3002\n- `` \uff1a\u60a8\u7232 `HyperparameterTuningJob` \u9078\u64c7\u7684\u5bb9\u6613\u8a18\u4f4f\u7684\u986f\u793a\u540d\u3002\u77ad\u89e3 [\u8cc7\u6e90\u540d\u7a31\u8981\u6c42](https://cloud.google.com/vertex-ai/docs/general/resource-naming?hl=zh-cn) \u3002\n- `` \uff1a [\u904b\u884c\u7684\u8a66\u9a57\u6578\u4e0a\u9650](#understanding-trials) \u3002\n- `` \uff1a [\u4e26\u884c\u904b\u884c\u7684\u8a66\u9a57\u6578\u4e0a\u9650](#parallel-trials) \u3002\u901a\u904e\u4ee5\u4e0b\u4ee3\u78bc\u793a\u4f8b\u4f7f\u7528 [hyperparameterTuningJob \u8cc7\u6e90\u7684 create \u65b9\u6cd5](https://cloud.google.com/vertex-ai/docs/reference/rest/v1/projects.locations.hyperparameterTuningJobs/create?hl=zh-cn) \u5275\u5efa\u8d85\u53c3\u6578\u8abf\u7bc0\u4f5c\u696d\u3002\n\u5728\u4f7f\u7528\u4efb\u4f55\u8acb\u6c42\u6578\u64da\u4e4b\u524d\uff0c\u8acb\u5148\u9032\u884c\u4ee5\u4e0b\u66ff\u63db\uff1a- ``\uff1a\u8981\u5728\u5176\u4e2d\u5275\u5efa`HyperparameterTuningJob`\u7684\u5340\u57df\u3002\u4f7f\u7528 [\u652f\u6301\u81ea\u5b9a\u7fa9\u8a13\u7df4\u7684\u5340\u57df](https://cloud.google.com/vertex-ai/docs/general/locations?hl=zh-cn#feature-availability) \u3002\n- \uff1a\u60a8\u7684 [\u9805\u76ee ID](https://cloud.google.com/resource-manager/docs/creating-managing-projects?hl=zh-cn#identifiers) \u3002\n- ``\uff1a\u60a8\u7232`HyperparameterTuningJob`\u9078\u64c7\u7684\u5bb9\u6613\u8a18\u4f4f\u7684\u986f\u793a\u540d\u3002\u77ad\u89e3 [\u8cc7\u6e90\u540d\u7a31\u8981\u6c42](https://cloud.google.com/vertex-ai/docs/general/resource-naming?hl=zh-cn) \u3002\n- \u6307\u5b9a\u6307\u6a19\uff1a\n- ``\uff1a\u8981\u512a\u5316\u7684 [\u8d85\u53c3\u6578\u6307\u6a19](https://cloud.google.com/vertex-ai/docs/training/hyperparameter-tuning-overview?hl=zh-cn#what_hyperparameter_tuning_optimizes) \u7684\u540d\u7a31\u3002\u60a8\u7684\u8a13\u7df4\u4ee3\u78bc\u5728\u904b\u884c\u6642\u5fc5\u9808 [\u5831\u544a\u6b64\u6307\u6a19](#report-metrics) \u3002\n- ``\uff1a\u8d85\u53c3\u6578\u6307\u6a19\u7684\u76ee\u6a19\uff0c\u5373`MAXIMIZE`\u6216`MINIMIZE`\u3002\n- \u6307\u5b9a\u8d85\u53c3\u6578\uff1a\n- ``\uff1a\u8981\u8abf\u7bc0\u7684\u8d85\u53c3\u6578\u7684\u540d\u7a31\u3002 \u60a8\u7684\u8a13\u7df4\u4ee3\u78bc\u5fc5\u9808 [\u4f7f\u7528\u6b64\u540d\u7a31\u89e3\u6790\u547d\u4ee4\u884c\u6a19\u8a8c](#command-line-arguments) \u3002\n- \uff1a\uff08\u53ef\u9078\uff09\u61c9\u5982\u4f55\u64f4\u7e2e\u53c3\u6578\u3002\u4e0d\u5c0d\u5206\u985e\u53c3\u6578\u9032\u884c\u8a2d\u7f6e\u3002\u53ef\u4ee5\u662f`UNIT_LINEAR_SCALE`\u3001`UNIT_LOG_SCALE`\u3001`UNIT_REVERSE_LOG_SCALE`\u6216`SCALE_TYPE_UNSPECIFIED`\u3002\n- \u5982\u679c\u6b64\u8d85\u53c3\u6578\u7684\u985e\u578b\u662f DOUBLE\uff0c\u8acb\u6307\u5b9a\u6b64\u8d85\u53c3\u6578\u7684\u6700\u5c0f\u503c () \u548c\u6700\u5927\u503c ()\u3002\n- \u5982\u679c\u6b64\u8d85\u53c3\u6578\u7684\u985e\u578b\u662f INTEGER\uff0c\u8acb\u6307\u5b9a\u6b64\u8d85\u53c3\u6578\u7684\u6700\u5c0f\u503c () \u548c\u6700\u5927\u503c ()\u3002\n- \u5982\u679c\u6b64\u8d85\u53c3\u6578\u7684\u985e\u578b\u662f CATEGORICAL\uff0c\u8acb\u6307\u5b9a\u53ef\u63a5\u53d7\u7684\u503c () \u4f5c\u7232\u5b57\u7b26\u4e32\u6578\u7d44\u3002\n- \u5982\u679c\u6b64\u8d85\u53c3\u6578\u7684\u985e\u578b\u662f DISCRETE\uff0c\u5247\u53ef\u63a5\u53d7\u7684\u503c () \u6307\u5b9a\u7232\u6578\u5b57\u6578\u7d44\u3002\n- \u6307\u5b9a\u689d\u4ef6\u8d85\u53c3\u6578\u3002\u7576\u7236\u8d85\u53c3\u6578\u7684\u503c\u8207\u60a8\u6307\u5b9a\u7684\u689d\u4ef6\u5339\u914d\u6642\uff0c\u689d\u4ef6\u8d85\u53c3\u6578\u6703\u6dfb\u52a0\u5230\u8a66\u9a57\u4e2d\u3002\u8a73\u7d30\u77ad\u89e3 [\u689d\u4ef6\u8d85\u53c3\u6578](https://cloud.google.com/vertex-ai/docs/training/hyperparameter-tuning-overview?hl=zh-cn#conditional_hyperparameters) \u3002- \uff1a\u689d\u4ef6\u53c3\u6578\u7684`ParameterSpec`\u3002\u6b64\u898f\u7bc4\u5305\u62ec\u53c3\u6578\u7684\u540d\u7a31\u3001\u5bb9\u91cf\u3001\u503c\u7bc4\u570d\u4ee5\u53ca\u4f9d\u8cf4\u65bc\u6b64\u8d85\u53c3\u6578\u7684\u4efb\u4f55\u689d\u4ef6\u53c3\u6578\u3002\n- \u5982\u679c\u7236\u7d1a\u8d85\u53c3\u6578\u7684\u985e\u578b\u7232 INTEGER\uff0c\u8acb\u5c07\u6574\u6578\u5217\u8868\u6307\u5b9a\u7232\u3002\u5982\u679c\u7236\u8d85\u53c3\u6578\u7684\u503c\u8207\u6307\u5b9a\u7684\u503c\u4e4b\u4e00\uff0c\u7cfb\u7d71\u6703\u5c07\u6b64\u689d\u4ef6\u53c3\u6578\u6dfb\u52a0\u5230\u8a66\u9a57\u4e2d\u3002\n- \u5982\u679c\u7236\u7d1a\u8d85\u53c3\u6578\u7684\u985e\u578b\u662f CATEGORICAL\uff0c\u8acb\u5c07\u985e\u5225\u5217\u8868\u6307\u5b9a\u7232\u3002\u5982\u679c\u7236\u8d85\u53c3\u6578\u7684\u503c\u8207\u6307\u5b9a\u7684\u503c\u4e4b\u4e00\uff0c\u7cfb\u7d71\u6703\u5c07\u6b64\u689d\u4ef6\u53c3\u6578\u6dfb\u52a0\u5230\u8a66\u9a57\u4e2d\u3002\n- \u5982\u679c\u7236\u7d1a\u8d85\u53c3\u6578\u7684\u985e\u578b\u7232 DISCRETE\uff0c\u8acb\u5c07\u6574\u6578\u5217\u8868\u6307\u5b9a\u7232\u3002\u5982\u679c\u7236\u8d85\u53c3\u6578\u7684\u503c\u8207\u6307\u5b9a\u7684\u503c\u4e4b\u4e00\uff0c\u7cfb\u7d71\u6703\u5c07\u6b64\u689d\u4ef6\u53c3\u6578\u6dfb\u52a0\u5230\u8a66\u9a57\u4e2d\u3002\n- \uff1a\uff08\u53ef\u9078\uff09\u5728\u6b64\u8d85\u53c3\u6578\u8abf\u7bc0\u4f5c\u696d\u4e2d\u4f7f\u7528\u7684\u641c\u7d22\u7b97\u6cd5\u3002\u53ef\u4ee5\u662f`ALGORITHM_UNSPECIFIED`\u3001`GRID_SEARCH`\u6216`RANDOM_SEARCH`\u3002\n- ``\uff1a [\u904b\u884c\u7684\u8a66\u9a57\u6578\u4e0a\u9650](#understanding-trials) \u3002\n- ``\uff1a [\u4e26\u884c\u904b\u884c\u7684\u8a66\u9a57\u6578\u4e0a\u9650](#parallel-trials) \u3002\n- \uff1a\u8d85\u53c3\u6578\u8abf\u7bc0\u4f5c\u696d\u5931\u6557\u524d\u53ef\u80fd\u6703\u5931\u6557\u7684\u4f5c\u696d\u6578\u91cf\u3002\n- \u5b9a\u7fa9\u8a66\u9a57\u81ea\u5b9a\u7fa9\u8a13\u7df4\u4f5c\u696d\uff1a\n- ``\uff1a\u7528\u65bc\u8a13\u7df4\u7684 [\u865b\u64ec\u6a5f\u985e\u578b](https://cloud.google.com/vertex-ai/docs/training/configure-compute?hl=zh-cn#machine-types) \u3002\n- \uff1a\uff08\u53ef\u9078\uff09\u8981\u9644\u52a0\u5230\u6bcf\u500b\u8a66\u9a57\u7684\u52a0\u901f\u5668\u985e\u578b\u3002\n- \uff1a\uff08\u53ef\u9078\uff09\u8981\u9644\u52a0\u5230\u6bcf\u500b\u8a66\u9a57\u7684\u52a0\u901f\u5668\u6578\u91cf\u3002\n- \uff1a\u6bcf\u6b21\u8a66\u9a57\u8981\u4f7f\u7528\u7684\u5de5\u4f5c\u5668\u526f\u672c\u6578\u3002\n- \u5982\u679c\u8a13\u7df4\u61c9\u7528\u5728\u81ea\u5b9a\u7fa9\u5bb9\u5668\u4e2d\u904b\u884c\uff0c\u8acb\u6307\u5b9a\u4ee5\u4e0b\u5167\u5bb9\uff1a\n- ``\uff1a\u5305\u542b\u8a13\u7df4\u4ee3\u78bc\u7684 Docker \u5bb9\u5668\u6620\u50cf\u7684 URI\u3002\u77ad\u89e3\u5982\u4f55 [\u5275\u5efa\u81ea\u5b9a\u7fa9\u5bb9\u5668\u6620\u50cf](https://cloud.google.com/vertex-ai/docs/training/create-custom-container?hl=zh-cn) \u3002\n- \uff1a\uff08\u53ef\u9078\uff09\u5553\u52d5\u5bb9\u5668\u6642\u8981\u8abf\u7528\u7684\u547d\u4ee4\u3002\u6b64\u547d\u4ee4\u6703\u66ff\u63db\u5bb9\u5668\u7684\u9ed8\u8a8d\u5165\u53e3\u9ede\u3002\n- \uff1a\uff08\u53ef\u9078\uff09\u5553\u52d5\u5bb9\u5668\u6642\u8981\u50b3\u905e\u7684\u53c3\u6578\u3002\n- \u5982\u679c\u8a13\u7df4\u61c9\u7528\u662f\u5728\u9810\u69cb\u5efa\u5bb9\u5668\u4e2d\u904b\u884c\u7684 Python \u8edf\u4ef6\u5305\uff0c\u8acb\u6307\u5b9a\u4ee5\u4e0b\u5167\u5bb9\uff1a\n- \uff1a\u904b\u884c\u63d0\u4f9b\u7684 Python \u8edf\u4ef6\u5305\u7684\u5bb9\u5668\u6620\u50cf\u7684 URI\u3002\u8a73\u7d30\u77ad\u89e3 [\u7528\u65bc\u8a13\u7df4\u7684\u9810\u69cb\u5efa\u5bb9\u5668](https://cloud.google.com/vertex-ai/docs/training/pre-built-containers?hl=zh-cn) \u3002\n- \uff1aPython \u8edf\u4ef6\u5305\u6587\u4ef6\u7684 Cloud Storage \u4f4d\u7f6e\uff0c\u9019\u4e9b\u6587\u4ef6\u662f\u8a13\u7df4\u7a0b\u5e8f\u53ca\u5176\u5f9e\u5c6c\u8edf\u4ef6\u5305\u3002\u8edf\u4ef6\u5305 URI \u7684\u6578\u91cf\u4e0a\u9650\u7232 100\u3002\n- \uff1a\u5b89\u88dd\u8edf\u4ef6\u5305\u5f8c\u8981\u904b\u884c\u7684 Python \u6a21\u584a\u540d\u7a31\u3002\n- \uff1a\uff08\u53ef\u9078\uff09\u8981\u50b3\u905e\u7d66 Python \u6a21\u584a\u7684\u547d\u4ee4\u884c\u53c3\u6578\u3002\n- \uff1a\uff08\u53ef\u9078\uff09Vertex AI \u5c07\u7528\u65bc\u904b\u884c\u60a8\u7684\u4ee3\u78bc\u7684\u670d\u52d9\u8cec\u865f\u3002\u8a73\u7d30\u77ad\u89e3\u5982\u4f55 [\u95dc\u806f\u81ea\u5b9a\u7fa9\u670d\u52d9\u8cec\u865f](https://cloud.google.com/vertex-ai/docs/general/custom-service-account?hl=zh-cn) \u3002\n- \uff1a\uff08\u53ef\u9078\uff09\u6bcf\u6b21\u8a66\u9a57\u7684\u6700\u9577\u904b\u884c\u6642\u9593\u3002\n- \u6307\u5b9a\u8981\u61c9\u7528\u65bc\u6b64\u8d85\u53c3\u6578\u8abf\u7bc0\u4f5c\u696d\u7684\u4efb\u4f55\u6a19\u7c64\u7684\u548c\u3002\nHTTP \u65b9\u6cd5\u548c\u7db2\u5740\uff1a\n```\nPOST https://LOCATION-aiplatform.googleapis.com/v1/projects/PROJECT/locations/LOCATION/hyperparameterTuningJobs\n```\n\u8acb\u6c42 JSON \u6b63\u6587\uff1a\n```\n{\n \"displayName\": DISPLAY_NAME,\n \"studySpec\": {\n \"metrics\": [  {\n  \"metricId\": METRIC_ID,\n  \"goal\": METRIC_GOAL\n  }\n ],\n \"parameters\": [  {\n  \"parameterId\": PARAMETER_ID,\n  \"scaleType\": PARAMETER_SCALE,\n  // Union field parameter_value_spec can be only one of the following:\n  \"doubleValueSpec\": {\n   \"minValue\": DOUBLE_MIN_VALUE,\n   \"maxValue\": DOUBLE_MAX_VALUE\n  },\n  \"integerValueSpec\": {\n   \"minValue\": INTEGER_MIN_VALUE,\n   \"maxValue\": INTEGER_MAX_VALUE\n  },\n  \"categoricalValueSpec\": {\n   \"values\": [    CATEGORICAL_VALUES\n   ]\n  },\n  \"discreteValueSpec\": {\n   \"values\": [    DISCRETE_VALUES\n   ]\n  }\n  // End of list of possible types for union field parameter_value_spec.\n  \"conditionalParameterSpecs\": [   \"parameterSpec\": {\n    CONDITIONAL_PARAMETER\n   }\n   // Union field parent_value_condition can be only one of the following:\n   \"parentIntValues\": {\n    \"values\": [INTEGERS_TO_MATCH]\n   }\n   \"parentCategoricalValues\": {\n    \"values\": [CATEGORIES_TO_MATCH]\n   }\n   \"parentDiscreteValues\": {\n    \"values\": [DISCRETE_VALUES_TO_MATCH]\n   }\n   // End of list of possible types for union field parent_value_condition.\n  ]\n  }\n ],\n \"ALGORITHM\": ALGORITHM\n },\n \"maxTrialCount\": MAX_TRIAL_COUNT,\n \"parallelTrialCount\": PARALLEL_TRIAL_COUNT,\n \"maxFailedTrialCount\": MAX_FAILED_TRIAL_COUNT,\n \"trialJobSpec\": {\n  \"workerPoolSpecs\": [  {\n   \"machineSpec\": {\n   \"machineType\": MACHINE_TYPE,\n   \"acceleratorType\": ACCELERATOR_TYPE,\n   \"acceleratorCount\": ACCELERATOR_COUNT\n   },\n   \"replicaCount\": REPLICA_COUNT,\n   // Union field task can be only one of the following:\n   \"containerSpec\": {\n   \"imageUri\": CUSTOM_CONTAINER_IMAGE_URI,\n   \"command\": [    CUSTOM_CONTAINER_COMMAND\n   ],\n   \"args\": [    CUSTOM_CONTAINER_ARGS\n   ]\n   },\n   \"pythonPackageSpec\": {\n   \"executorImageUri\": PYTHON_PACKAGE_EXECUTOR_IMAGE_URI,\n   \"packageUris\": [    PYTHON_PACKAGE_URIS\n   ],\n   \"pythonModule\": PYTHON_MODULE,\n   \"args\": [    PYTHON_PACKAGE_ARGS\n   ]\n   }\n   // End of list of possible types for union field task.\n  }\n  ],\n  \"scheduling\": {\n  \"TIMEOUT\": TIMEOUT\n  },\n  \"serviceAccount\": SERVICE_ACCOUNT\n },\n \"labels\": {\n LABEL_NAME_1\": LABEL_VALUE_1,\n LABEL_NAME_2\": LABEL_VALUE_2\n }\n}\n```\n\u5982\u9700\u767c\u9001\u60a8\u7684\u8acb\u6c42\uff0c\u8acb\u5c55\u958b\u4ee5\u4e0b\u9078\u9805\u4e4b\u4e00\uff1a\u60a8\u61c9\u8a72\u6536\u5230\u985e\u4f3c\u4ee5\u4e0b\u5167\u5bb9\u7684 JSON \u97ff\u61c9\uff1a\n```\n{\n \"name\": \"projects/12345/locations/us-central1/hyperparameterTuningJobs/6789\",\n \"displayName\": \"myHyperparameterTuningJob\",\n \"studySpec\": {\n \"metrics\": [  {\n  \"metricId\": \"myMetric\",\n  \"goal\": \"MINIMIZE\"\n  }\n ],\n \"parameters\": [  {\n  \"parameterId\": \"myParameter1\",\n  \"integerValueSpec\": {\n   \"minValue\": \"1\",\n   \"maxValue\": \"128\"\n  },\n  \"scaleType\": \"UNIT_LINEAR_SCALE\"\n  },\n  {\n  \"parameterId\": \"myParameter2\",\n  \"doubleValueSpec\": {\n   \"minValue\": 1e-07,\n   \"maxValue\": 1\n  },\n  \"scaleType\": \"UNIT_LINEAR_SCALE\"\n  }\n ],\n \"ALGORITHM\": \"RANDOM_SEARCH\"\n },\n \"maxTrialCount\": 20,\n \"parallelTrialCount\": 1,\n \"trialJobSpec\": {\n \"workerPoolSpecs\": [  {\n  \"machineSpec\": {\n   \"machineType\": \"n1-standard-4\"\n  },\n  \"replicaCount\": \"1\",\n  \"pythonPackageSpec\": {\n   \"executorImageUri\": \"us-docker.pkg.dev/vertex-ai/training/training-tf-cpu.2-1:latest\",\n   \"packageUris\": [   \"gs://my-bucket/my-training-application/trainer.tar.bz2\"\n   ],\n   \"pythonModule\": \"my-trainer.trainer\"\n  }\n  }\n ]\n }\n}\n```\n\u5728\u5617\u8a66\u6b64\u793a\u4f8b\u4e4b\u524d\uff0c\u8acb\u6309\u7167 [\u300aVertex AI \u5feb\u901f\u5165\u9580\uff1a\u4f7f\u7528\u5ba2\u6236\u7aef\u5eab\u300b](https://cloud.google.com/vertex-ai/docs/start/client-libraries?hl=zh-cn) \u4e2d\u7684 Java \u8a2d\u7f6e\u8aaa\u660e\u57f7\u884c\u64cd\u4f5c\u3002\u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1 [Vertex AI Java API \u53c3\u8003\u6587\u6a94](https://cloud.google.com/java/docs/reference/google-cloud-aiplatform/latest/com.google.cloud.aiplatform.v1?hl=zh-cn) \u3002\n\u5982\u9700\u5411 Vertex AI \u9032\u884c\u8eab\u4efd\u9a57\u8b49\uff0c\u8acb\u8a2d\u7f6e\u61c9\u7528\u9ed8\u8a8d\u6191\u64da\u3002  \u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1 [\u7232\u672c\u5730\u958b\u767c\u74b0\u5883\u8a2d\u7f6e\u8eab\u4efd\u9a57\u8b49](https://cloud.google.com/docs/authentication/provide-credentials-adc?hl=zh-cn#local-dev) \u3002\n [\u5728 GitHub \u4e0a\u67e5\u770b](https://github.com/GoogleCloudPlatform/java-docs-samples/blob/HEAD/aiplatform/src/main/java/aiplatform/CreateHyperparameterTuningJobPythonPackageSample.java) \n```\nimport com.google.cloud.aiplatform.v1.AcceleratorType;import com.google.cloud.aiplatform.v1.CustomJobSpec;import com.google.cloud.aiplatform.v1.HyperparameterTuningJob;import com.google.cloud.aiplatform.v1.JobServiceClient;import com.google.cloud.aiplatform.v1.JobServiceSettings;import com.google.cloud.aiplatform.v1.LocationName;import com.google.cloud.aiplatform.v1.MachineSpec;import com.google.cloud.aiplatform.v1.PythonPackageSpec;import com.google.cloud.aiplatform.v1.StudySpec;import com.google.cloud.aiplatform.v1.StudySpec.MetricSpec;import com.google.cloud.aiplatform.v1.StudySpec.MetricSpec.GoalType;import com.google.cloud.aiplatform.v1.StudySpec.ParameterSpec;import com.google.cloud.aiplatform.v1.StudySpec.ParameterSpec.ConditionalParameterSpec;import com.google.cloud.aiplatform.v1.StudySpec.ParameterSpec.ConditionalParameterSpec.DiscreteValueCondition;import com.google.cloud.aiplatform.v1.StudySpec.ParameterSpec.DiscreteValueSpec;import com.google.cloud.aiplatform.v1.StudySpec.ParameterSpec.DoubleValueSpec;import com.google.cloud.aiplatform.v1.StudySpec.ParameterSpec.ScaleType;import com.google.cloud.aiplatform.v1.WorkerPoolSpec;import java.io.IOException;import java.util.Arrays;public class CreateHyperparameterTuningJobPythonPackageSample {\u00a0 public static void main(String[] args) throws IOException {\u00a0 \u00a0 // TODO(developer): Replace these variables before running the sample.\u00a0 \u00a0 String project = \"PROJECT\";\u00a0 \u00a0 String displayName = \"DISPLAY_NAME\";\u00a0 \u00a0 String executorImageUri = \"EXECUTOR_IMAGE_URI\";\u00a0 \u00a0 String packageUri = \"PACKAGE_URI\";\u00a0 \u00a0 String pythonModule = \"PYTHON_MODULE\";\u00a0 \u00a0 createHyperparameterTuningJobPythonPackageSample(\u00a0 \u00a0 \u00a0 \u00a0 project, displayName, executorImageUri, packageUri, pythonModule);\u00a0 }\u00a0 static void createHyperparameterTuningJobPythonPackageSample(\u00a0 \u00a0 \u00a0 String project,\u00a0 \u00a0 \u00a0 String displayName,\u00a0 \u00a0 \u00a0 String executorImageUri,\u00a0 \u00a0 \u00a0 String packageUri,\u00a0 \u00a0 \u00a0 String pythonModule)\u00a0 \u00a0 \u00a0 throws IOException {\u00a0 \u00a0 JobServiceSettings settings =\u00a0 \u00a0 \u00a0 \u00a0 JobServiceSettings.newBuilder()\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .setEndpoint(\"us-central1-aiplatform.googleapis.com:443\")\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .build();\u00a0 \u00a0 String location = \"us-central1\";\u00a0 \u00a0 // Initialize client that will be used to send requests. This client only needs to be created\u00a0 \u00a0 // once, and can be reused for multiple requests. After completing all of your requests, call\u00a0 \u00a0 // the \"close\" method on the client to safely clean up any remaining background resources.\u00a0 \u00a0 try (JobServiceClient client = JobServiceClient.create(settings)) {\u00a0 \u00a0 \u00a0 // study spec\u00a0 \u00a0 \u00a0 MetricSpec metric =\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 MetricSpec.newBuilder().setMetricId(\"val_rmse\").setGoal(GoalType.MINIMIZE).build();\u00a0 \u00a0 \u00a0 // decay\u00a0 \u00a0 \u00a0 DoubleValueSpec doubleValueSpec =\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 DoubleValueSpec.newBuilder().setMinValue(1e-07).setMaxValue(1).build();\u00a0 \u00a0 \u00a0 ParameterSpec parameterDecaySpec =\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 ParameterSpec.newBuilder()\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .setParameterId(\"decay\")\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .setDoubleValueSpec(doubleValueSpec)\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .setScaleType(ScaleType.UNIT_LINEAR_SCALE)\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .build();\u00a0 \u00a0 \u00a0 Double[] decayValues = {32.0, 64.0};\u00a0 \u00a0 \u00a0 DiscreteValueCondition discreteValueDecay =\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 DiscreteValueCondition.newBuilder().addAllValues(Arrays.asList(decayValues)).build();\u00a0 \u00a0 \u00a0 ConditionalParameterSpec conditionalParameterDecay =\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 ConditionalParameterSpec.newBuilder()\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .setParameterSpec(parameterDecaySpec)\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .setParentDiscreteValues(discreteValueDecay)\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .build();\u00a0 \u00a0 \u00a0 // learning rate\u00a0 \u00a0 \u00a0 ParameterSpec parameterLearningSpec =\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 ParameterSpec.newBuilder()\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .setParameterId(\"learning_rate\")\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .setDoubleValueSpec(doubleValueSpec) // Use the same min/max as for decay\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .setScaleType(ScaleType.UNIT_LINEAR_SCALE)\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .build();\u00a0 \u00a0 \u00a0 Double[] learningRateValues = {4.0, 8.0, 16.0};\u00a0 \u00a0 \u00a0 DiscreteValueCondition discreteValueLearning =\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 DiscreteValueCondition.newBuilder()\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .addAllValues(Arrays.asList(learningRateValues))\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .build();\u00a0 \u00a0 \u00a0 ConditionalParameterSpec conditionalParameterLearning =\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 ConditionalParameterSpec.newBuilder()\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .setParameterSpec(parameterLearningSpec)\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .setParentDiscreteValues(discreteValueLearning)\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .build();\u00a0 \u00a0 \u00a0 // batch size\u00a0 \u00a0 \u00a0 Double[] batchSizeValues = {4.0, 8.0, 16.0, 32.0, 64.0, 128.0};\u00a0 \u00a0 \u00a0 DiscreteValueSpec discreteValueSpec =\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 DiscreteValueSpec.newBuilder().addAllValues(Arrays.asList(batchSizeValues)).build();\u00a0 \u00a0 \u00a0 ParameterSpec parameter =\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 ParameterSpec.newBuilder()\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .setParameterId(\"batch_size\")\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .setDiscreteValueSpec(discreteValueSpec)\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .setScaleType(ScaleType.UNIT_LINEAR_SCALE)\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .addConditionalParameterSpecs(conditionalParameterDecay)\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .addConditionalParameterSpecs(conditionalParameterLearning)\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .build();\u00a0 \u00a0 \u00a0 // trial_job_spec\u00a0 \u00a0 \u00a0 MachineSpec machineSpec =\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 MachineSpec.newBuilder()\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .setMachineType(\"n1-standard-4\")\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .setAcceleratorType(AcceleratorType.NVIDIA_TESLA_K80)\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .setAcceleratorCount(1)\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .build();\u00a0 \u00a0 \u00a0 PythonPackageSpec pythonPackageSpec =\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 PythonPackageSpec.newBuilder()\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .setExecutorImageUri(executorImageUri)\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .addPackageUris(packageUri)\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .setPythonModule(pythonModule)\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .build();\u00a0 \u00a0 \u00a0 WorkerPoolSpec workerPoolSpec =\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 WorkerPoolSpec.newBuilder()\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .setMachineSpec(machineSpec)\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .setReplicaCount(1)\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .setPythonPackageSpec(pythonPackageSpec)\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .build();\u00a0 \u00a0 \u00a0 StudySpec studySpec =\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 StudySpec.newBuilder()\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .addMetrics(metric)\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .addParameters(parameter)\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .setAlgorithm(StudySpec.Algorithm.RANDOM_SEARCH)\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .build();\u00a0 \u00a0 \u00a0 CustomJobSpec trialJobSpec =\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 CustomJobSpec.newBuilder().addWorkerPoolSpecs(workerPoolSpec).build();\u00a0 \u00a0 \u00a0 // hyperparameter_tuning_job\u00a0 \u00a0 \u00a0 HyperparameterTuningJob hyperparameterTuningJob =\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 HyperparameterTuningJob.newBuilder()\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .setDisplayName(displayName)\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .setMaxTrialCount(4)\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .setParallelTrialCount(2)\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .setStudySpec(studySpec)\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .setTrialJobSpec(trialJobSpec)\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .build();\u00a0 \u00a0 \u00a0 LocationName parent = LocationName.of(project, location);\u00a0 \u00a0 \u00a0 HyperparameterTuningJob response =\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 client.createHyperparameterTuningJob(parent, hyperparameterTuningJob);\u00a0 \u00a0 \u00a0 System.out.format(\"response: %s\\n\", response);\u00a0 \u00a0 \u00a0 System.out.format(\"Name: %s\\n\", response.getName());\u00a0 \u00a0 }\u00a0 }}\n```\u5982\u9700\u77ad\u89e3\u5982\u4f55\u5b89\u88dd\u6216\u66f4\u65b0 Python\uff0c\u8acb\u53c3\u95b1 [\u5b89\u88dd Python \u7248 Vertex AI SDK](https://cloud.google.com/vertex-ai/docs/start/use-vertex-ai-python-sdk?hl=zh-cn) \u3002  \u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1 [   Python API \u53c3\u8003\u6587\u6a94](https://cloud.google.com/python/docs/reference/aiplatform/latest?hl=zh-cn) \u3002\n [\u5728 GitHub \u4e0a\u67e5\u770b](https://github.com/googleapis/python-aiplatform/blob/HEAD/samples/model-builder/create_hyperparameter_tuning_job_sample.py) \n```\nfrom google.cloud import aiplatformfrom google.cloud.aiplatform import hyperparameter_tuning as hptdef create_hyperparameter_tuning_job_sample(\u00a0 \u00a0 project: str,\u00a0 \u00a0 location: str,\u00a0 \u00a0 staging_bucket: str,\u00a0 \u00a0 display_name: str,\u00a0 \u00a0 container_uri: str,):\u00a0 \u00a0 aiplatform.init(project=project, location=location, staging_bucket=staging_bucket)\u00a0 \u00a0 worker_pool_specs = [\u00a0 \u00a0 \u00a0 \u00a0 {\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \"machine_spec\": {\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \"machine_type\": \"n1-standard-4\",\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \"accelerator_type\": \"NVIDIA_TESLA_K80\",\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \"accelerator_count\": 1,\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 },\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \"replica_count\": 1,\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \"container_spec\": {\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \"image_uri\": container_uri,\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \"command\": [],\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \"args\": [],\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 },\u00a0 \u00a0 \u00a0 \u00a0 }\u00a0 \u00a0 ]\u00a0 \u00a0 custom_job = aiplatform.CustomJob(\u00a0 \u00a0 \u00a0 \u00a0 display_name='custom_job',\u00a0 \u00a0 \u00a0 \u00a0 worker_pool_specs=worker_pool_specs,\u00a0 \u00a0 )\u00a0 \u00a0 hpt_job = aiplatform.HyperparameterTuningJob(\u00a0 \u00a0 \u00a0 \u00a0 display_name=display_name,\u00a0 \u00a0 \u00a0 \u00a0 custom_job=custom_job,\u00a0 \u00a0 \u00a0 \u00a0 metric_spec={\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 'loss': 'minimize',\u00a0 \u00a0 \u00a0 \u00a0 },\u00a0 \u00a0 \u00a0 \u00a0 parameter_spec={\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 'lr': hpt.DoubleParameterSpec(min=0.001, max=0.1, scale='log'),\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 'units': hpt.IntegerParameterSpec(min=4, max=128, scale='linear'),\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 'activation': hpt.CategoricalParameterSpec(values=['relu', 'selu']),\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 'batch_size': hpt.DiscreteParameterSpec(values=[128, 256], scale='linear')\u00a0 \u00a0 \u00a0 \u00a0 },\u00a0 \u00a0 \u00a0 \u00a0 max_trial_count=128,\u00a0 \u00a0 \u00a0 \u00a0 parallel_trial_count=8,\u00a0 \u00a0 \u00a0 \u00a0 labels={'my_key': 'my_value'},\u00a0 \u00a0 )\u00a0 \u00a0 hpt_job.run()\u00a0 \u00a0 print(hpt_job.resource_name)\u00a0 \u00a0 return hpt_job\n```\n## \u8d85\u53c3\u6578\u8a13\u7df4\u4f5c\u696d\u914d\u7f6e\n\u8d85\u53c3\u6578\u8abf\u7bc0\u4f5c\u696d\u6703\u641c\u7d22\u8d85\u53c3\u6578\u7684\u6700\u4f73\u7d44\u5408\u4ee5\u512a\u5316\u60a8\u7684\u6307\u6a19\u3002\u8d85\u53c3\u6578\u8abf\u7bc0\u901a\u904e\u4f7f\u7528\u4e0d\u540c\u7684\u8d85\u53c3\u6578\u96c6\u904b\u884c\u8a13\u7df4\u61c9\u7528\u7684\u591a\u6b21\u8a66\u9a57\u4f86\u5be6\u73fe\u6b64\u76ee\u7684\u3002\n\u914d\u7f6e\u8d85\u53c3\u6578\u8abf\u7bc0\u4f5c\u696d\u6642\uff0c\u60a8\u5fc5\u9808\u6307\u5b9a\u4ee5\u4e0b\u8a73\u7d30\u4fe1\u606f\uff1a\n- \u60a8\u8981\u8abf\u7bc0\u7684\u8d85\u53c3\u6578\u4ee5\u53ca\u7528\u65bc\u8a55\u4f30\u8a66\u9a57\u7684\u6307\u6a19\u3002 [\u8a73\u7d30\u77ad\u89e3\u5982\u4f55\u9078\u64c7\u8d85\u53c3\u6578\u548c\u6307\u6a19](https://cloud.google.com/vertex-ai/docs/training/hyperparameter-tuning-overview?hl=zh-cn) \u3002\n- \u4f5c\u7232\u9019\u9805\u8abf\u6574\u4f5c\u696d\u7684\u4e00\u90e8\u5206\u904b\u884c\u7684\u8a66\u9a57\u8a73\u60c5\uff0c\u5982\u4e0b\u6240\u793a\uff1a- [\u904b\u884c\u7684\u8a66\u9a57\u6578\u4e0a\u9650](#understanding-trials) \u3002\n- [\u53ef\u4e26\u884c\u904b\u884c\u7684\u8a66\u9a57\u6b21\u6578](#parallel-trials) \u3002\n- [\u5728\u4f5c\u696d\u505c\u6b62\u4e4b\u524d\u5931\u6557\u7684\u8a66\u9a57\u6578\u4e0a\u9650](#failed-trials) \u3002\n- \u6bcf\u6b21\u8a66\u9a57\u904b\u884c\u7684\u81ea\u5b9a\u7fa9\u8a13\u7df4\u4f5c\u696d\u7684\u8a73\u7d30\u4fe1\u606f\uff0c\u5982\u4e0b\u6240\u793a\uff1a- \u8a66\u9a57\u4f5c\u696d\u904b\u884c\u7684 [\u6a5f\u5668\u985e\u578b](https://cloud.google.com/vertex-ai/docs/training/configure-compute?hl=zh-cn) \u4ee5\u53ca\u4f5c\u696d\u4f7f\u7528\u7684\u52a0\u901f\u5668\u3002 **\u6ce8\u610f** \uff1a\u76ee\u524d\uff0cVertex AI \u4e0d\u652f\u6301\u9700\u8981 TPU \u7684\u8d85\u53c3\u6578\u8abf\u7bc0\u4f5c\u696d\u3002\n- \u81ea\u5b9a\u7fa9\u5bb9\u5668\u6216 Python \u8edf\u4ef6\u5305\u4f5c\u696d\u7684\u8a73\u7d30\u4fe1\u606f\u3002 [\u8a73\u7d30\u77ad\u89e3\u8a13\u7df4\u4ee3\u78bc\u8981\u6c42](https://cloud.google.com/vertex-ai/docs/training/code-requirements?hl=zh-cn) \u3002\n### \u9650\u5236\u8a66\u9a57\u6b21\u6578\n\u78ba\u5b9a\u60a8\u5e0c\u671b\u670d\u52d9\u904b\u884c\u7684\u8a66\u9a57\u6b21\u6578\uff0c\u4e26\u5728 [HyperparameterTuningJob](https://cloud.google.com/vertex-ai/docs/reference/rest/v1/projects.locations.hyperparameterTuningJobs?hl=zh-cn#resource:-hyperparametertuningjob) \u5c0d\u8c61\u4e2d\u8a2d\u7f6e `maxTrialCount` \u503c\u3002\n\u5728\u6c7a\u5b9a\u5141\u8a31\u7684\u8a66\u9a57\u6b21\u6578\u6642\uff0c\u9700\u8981\u4f5c\u51fa\u4ee5\u4e0b\u6b0a\u8861\uff1a\n- \u6642\u9593\uff08\u4ee5\u53ca\u76f8\u61c9\u7684\u8cbb\u7528\uff09\n- \u6e96\u78ba\u6027\n\u589e\u52a0\u8a66\u9a57\u6b21\u6578\u901a\u5e38\u6703\u7522\u751f\u66f4\u597d\u7684\u7d50\u679c\uff0c\u4f46\u4e5f\u6709\u4f8b\u5916\u60c5\u6cc1\u3002\u901a\u5e38\u60c5\u6cc1\u4e0b\uff0c\u6703\u6709\u4e00\u500b\u56de\u5831\u905e\u6e1b\u9ede\uff0c\u5728\u6b64\u4e4b\u5f8c\u9032\u884c\u7684\u8a66\u9a57\u5e7e\u4e4e\u4e0d\u6703\u518d\u63d0\u9ad8\u6e96\u78ba\u6027\u3002\u5728\u958b\u59cb\u9032\u884c\u5927\u91cf\u8a66\u9a57\u7684\u4f5c\u696d\u4e4b\u524d\uff0c\u60a8\u53ef\u80fd\u9700\u8981\u5f9e\u5c11\u91cf\u8a66\u9a57\u958b\u59cb\uff0c\u4ee5\u8861\u91cf\u6240\u9078\u8d85\u53c3\u6578\u5c0d\u6a21\u578b\u6e96\u78ba\u7387\u7684\u5f71\u97ff\u3002\n\u8981\u5145\u5206\u5229\u7528\u8d85\u53c3\u6578\u8abf\u7bc0\uff0c\u5207\u52ff\u5c07\u6700\u5927\u503c\u8a2d\u7f6e\u7232\u4f4e\u65bc\u60a8\u4f7f\u7528\u7684\u8d85\u53c3\u6578\u6578\u91cf\u7684\u5341\u500d\u3002\n### \u4e26\u884c\u8a66\u9a57\n\u901a\u904e\u5728 [HyperparameterTuningJob](https://cloud.google.com/vertex-ai/docs/reference/rest/v1/projects.locations.hyperparameterTuningJobs?hl=zh-cn#resource:-hyperparametertuningjob) \u4e2d\u8a2d\u7f6e `parallelTrialCount` \uff0c\u60a8\u53ef\u4ee5\u6307\u5b9a\u53ef\u4e26\u884c\u904b\u884c\u7684\u6b21\u6578\u3002\n\u904b\u884c\u4e26\u884c\u8a66\u9a57\u6709\u5229\u65bc\u6e1b\u5c11\u8a13\u7df4\u4f5c\u696d\u6240\u9700\u7684\u6642\u9593\uff08\u5be6\u6642 - \u9700\u8981\u7684\u7e3d\u8655\u7406\u6642\u9593\u901a\u5e38\u4e0d\u6703\u6539\u8b8a\uff09\u3002\u4f46\u662f\uff0c\u4e26\u884c\u904b\u884c\u8a66\u9a57\u6703\u964d\u4f4e\u8abf\u7bc0\u4f5c\u696d\u7684\u6574\u9ad4\u6548\u7387\u3002\u9019\u662f\u56e0\u7232\u8d85\u53c3\u6578\u8abf\u7bc0\u4f7f\u7528\u5148\u524d\u8a66\u9a57\u7684\u7d50\u679c\u4f86\u7372\u53d6\u61c9\u5206\u914d\u7d66\u5f8c\u7e8c\u8a66\u9a57\u7684\u8d85\u53c3\u6578\u7684\u503c\u3002\u5982\u679c\u4e26\u884c\u904b\u884c\u8a66\u9a57\uff0c\u5247\u4e00\u4e9b\u8a66\u9a57\u6703\u5728\u672a\u77e5\u66c9\u4ecd\u5728\u904b\u884c\u8a66\u9a57\u7684\u7d50\u679c\u7684\u60c5\u6cc1\u4e0b\u958b\u59cb\u904b\u884c\u3002\n\u5982\u679c\u60a8\u4f7f\u7528\u4e26\u884c\u8a66\u9a57\uff0c\u8d85\u53c3\u6578\u8abf\u7bc0\u670d\u52d9\u9810\u914d\u591a\u500b\u8a13\u7df4\u8655\u7406\u96c6\u7fa3\uff08\u5982\u679c\u662f\u55ae\u4e00\u6d41\u7a0b\u57f9\u8a13\u7a0b\u5e8f\uff0c\u5247\u63d0\u4f9b\u591a\u500b\u55ae\u7368\u7684\u6a5f\u5668\uff09\u3002\u9019\u4e9b\u8a13\u7df4\u5747\u6703\u4f7f\u7528\u60a8\u7232\uff08\u7528\u65bc\u6bcf\u4e00\u7368\u7acb\u8a13\u7df4\u96c6\u7fa3\uff09\u4f5c\u696d\u8a2d\u7f6e\u7684\u5de5\u4f5c\u6c60\u898f\u7bc4\u3002\n### \u8655\u7406\u5931\u6557\u7684\u8a66\u9a57\n\u5982\u679c\u60a8\u7684\u8d85\u53c3\u6578\u8abf\u7bc0\u8a66\u9a57\u7531\u65bc\u51fa\u73fe\u932f\u8aa4\u800c\u9000\u51fa\uff0c\u60a8\u53ef\u80fd\u5e0c\u671b\u5118\u65e9\u7d50\u675f\u8a13\u7df4\u4f5c\u696d\u3002\u8acb\u5c07 [HyperparameterTuningJob](https://cloud.google.com/vertex-ai/docs/reference/rest/v1/projects.locations.hyperparameterTuningJobs?hl=zh-cn#resource:-hyperparametertuningjob) \u4e2d\u7684 `maxFailedTrialCount` \u5b57\u6bb5\u8a2d\u7f6e\u7232\u60a8\u8981\u5141\u8a31\u7684\u5931\u6557\u8a66\u9a57\u6b21\u6578\u3002\u8a66\u9a57\u5931\u6557\u7684\u6b21\u6578\u9054\u5230\u6b64\u503c\u5f8c\uff0cVertex AI \u4fbf\u6703\u7d50\u675f\u8a13\u7df4\u4f5c\u696d\u3002 `maxFailedTrialCount` \u503c\u5fc5\u9808\u5c0f\u65bc\u6216\u7b49\u65bc `maxTrialCount` \u3002\n\u5982\u679c\u60a8\u672a\u8a2d\u7f6e `maxFailedTrialCount` \uff0c\u6216\u5c07\u5176\u8a2d\u7f6e\u7232 `0` \uff0c\u5247 Vertex AI \u6703\u4f7f\u7528\u4ee5\u4e0b\u898f\u5247\u8655\u7406\u5931\u6557\u7684\u8a66\u9a57\uff1a\n- \u5982\u679c\u4f5c\u696d\u7684\u7b2c\u4e00\u6b21\u8a66\u9a57\u5931\u6557\uff0cVertex AI \u6703\u7acb\u5373\u7d50\u675f\u4f5c\u696d\u3002\u7b2c\u4e00\u6b21\u8a66\u9a57\u5931\u6557\u8868\u660e\u8a13\u7df4\u4ee3\u78bc\u5b58\u5728\u554f\u984c\uff0c\u56e0\u6b64\u5f8c\u7e8c\u8a66\u9a57\u4e5f\u53ef\u80fd\u6703\u5931\u6557\u3002\u7d50\u675f\u4f5c\u696d\u8b93\u60a8\u53ef\u4ee5\u8a3a\u65b7\u554f\u984c\uff0c\u800c\u7121\u9700\u7b49\u5f85\u66f4\u591a\u7684\u8a66\u9a57\uff0c\u4e26\u4e14\u4e0d\u6703\u7522\u751f\u66f4\u9ad8\u7684\u8cbb\u7528\u3002\n- \u5982\u679c\u7b2c\u4e00\u6b21\u8a66\u9a57\u6210\u529f\uff0cVertex AI \u53ef\u80fd\u6703\u6839\u64da\u4ee5\u4e0b\u6a19\u6e96\u4e4b\u4e00\u5728\u5f8c\u7e8c\u8a66\u9a57\u5931\u6557\u5f8c\u7d50\u675f\u4f5c\u696d\uff1a\n- \u5931\u6557\u7684\u8a66\u9a57\u6b21\u6578\u904e\u591a\u3002\n- \u5931\u6557\u7684\u8a66\u9a57\u6b21\u6578\u8207\u6210\u529f\u7684\u8a66\u9a57\u6b21\u6578\u4e4b\u6bd4\u904e\u9ad8\u3002\u9019\u4e9b\u898f\u5247\u96a8\u6642\u53ef\u80fd\u66f4\u6539\u3002\u7232\u78ba\u4fdd\u7279\u5b9a\u7684\u884c\u7232\uff0c\u8acb\u8a2d\u7f6e `maxFailedTrialCount` \u5b57\u6bb5\u3002\n## \u7ba1\u7406\u8d85\u53c3\u6578\u8abf\u7bc0\u4f5c\u696d\n\u4ee5\u4e0b\u90e8\u5206\u4ecb\u7d39\u5982\u4f55\u7ba1\u7406\u8d85\u53c3\u6578\u8abf\u7bc0\u4f5c\u696d\u3002\n### \u6aa2\u7d22\u8d85\u53c3\u6578\u8abf\u7bc0\u4f5c\u696d\u7684\u76f8\u95dc\u4fe1\u606f\n\u4ee5\u4e0b\u4ee3\u78bc\u793a\u4f8b\u6f14\u793a\u77ad\u5982\u4f55\u6aa2\u7d22\u8d85\u53c3\u6578\u8abf\u7bc0\u4f5c\u696d\u3002\n\u4f7f\u7528 [gcloud ai hp-tuning-jobs describe \u547d\u4ee4](https://cloud.google.com/sdk/gcloud/reference/ai/hp-tuning-jobs/describe?hl=zh-cn) \uff1a\n```\ngcloud ai hp-tuning-jobs describe ID_OR_NAME \\\u00a0 \u00a0 --region=LOCATION\n```\n\u66ff\u63db\u4ee5\u4e0b\u5167\u5bb9\uff1a- `` \uff1a [\u540d\u7a31](https://cloud.google.com/vertex-ai/docs/reference/rest/v1/projects.locations.hyperparameterTuningJobs/get?hl=zh-cn) \u6216 `HyperparameterTuningJob` \u7684\u6578\u5b57 ID\u3002\uff08\u6b64 ID \u662f\u540d\u7a31\u7684\u6700\u5f8c\u4e00\u90e8\u5206\u3002\uff09\u60a8\u5728\u5275\u5efa `HyperparameterTuningJob` \u6642\u53ef\u80fd\u5df2\u770b\u5230 ID \u6216\u540d\u7a31\u3002\u5982\u679c\u60a8\u4e0d\u77e5\u9053 ID \u6216\u540d\u7a31\uff0c\u5247\u53ef\u4ee5\u904b\u884c [gcloud ai hp-tuning-jobs list \u547d\u4ee4](https://cloud.google.com/sdk/gcloud/reference/ai/hp-tuning-jobs/list?hl=zh-cn) \u4e26\u67e5\u627e\u76f8\u61c9\u7684\u8cc7\u6e90\u3002\n- `` \uff1a `HyperparameterTuningJob` \u7684\u5275\u5efa\u5340\u57df\u3002\n\u901a\u904e\u4ee5\u4e0b\u4ee3\u78bc\u793a\u4f8b\u4f7f\u7528 [hyperparameterTuningJob \u8cc7\u6e90\u7684 get \u65b9\u6cd5](https://cloud.google.com/vertex-ai/docs/reference/rest/v1/projects.locations.hyperparameterTuningJobs/get?hl=zh-cn) \u6aa2\u7d22\u8d85\u53c3\u6578\u8abf\u7bc0\u4f5c\u696d\u3002\n\u5728\u4f7f\u7528\u4efb\u4f55\u8acb\u6c42\u6578\u64da\u4e4b\u524d\uff0c\u8acb\u5148\u9032\u884c\u4ee5\u4e0b\u66ff\u63db\uff1a- ``\uff1a`HyperparameterTuningJob`\u7684\u5275\u5efa\u5340\u57df\u3002\n- \uff1a\u8d85\u53c3\u6578\u8abf\u7bc0\u4f5c\u696d\u7684\u540d\u7a31\u3002\u4f5c\u696d\u540d\u7a31\u4f7f\u7528\u4ee5\u4e0b\u683c\u5f0f`projects/{project}/LOCATIONS/{LOCATION}/hyperparameterTuningJobs/{hyperparameterTuningJob}`\u3002\nHTTP \u65b9\u6cd5\u548c\u7db2\u5740\uff1a\n```\nGET https://LOCATION-aiplatform.googleapis.com/v1/NAME\n```\n\u5982\u9700\u767c\u9001\u60a8\u7684\u8acb\u6c42\uff0c\u8acb\u5c55\u958b\u4ee5\u4e0b\u9078\u9805\u4e4b\u4e00\uff1a\u60a8\u61c9\u8a72\u6536\u5230\u985e\u4f3c\u4ee5\u4e0b\u5167\u5bb9\u7684 JSON \u97ff\u61c9\uff1a\n```\n{\n \"name\": \"projects/12345/LOCATIONs/us-central1/hyperparameterTuningJobs/6789\",\n \"displayName\": \"my-hyperparameter-tuning-job\",\n \"studySpec\": {\n \"metrics\": [  {\n  \"metricId\": \"my_metric\",\n  \"goal\": \"MINIMIZE\"\n  }\n ],\n \"parameters\": [  {\n  \"parameterId\": \"my_parameter\",\n  \"doubleValueSpec\": {\n   \"minValue\": 1e-05,\n   \"maxValue\": 1\n  }\n  }\n ]\n },\n \"maxTrialCount\": 3,\n \"parallelTrialCount\": 1,\n \"trialJobSpec\": {\n \"workerPoolSpecs\": [  {\n  \"machineSpec\": {\n   \"machineType\": \"n1-standard-4\"\n  },\n  \"replicaCount\": \"1\",\n  \"pythonPackageSpec\": {\n   \"executorImageUri\": \"us-docker.pkg.dev/vertex-ai/training/training-tf-cpu.2-1:latest\",\n   \"packageUris\": [   \"gs://my-bucket/my-training-application/trainer.tar.bz2\"\n   ],\n   \"pythonModule\": \"my-trainer.trainer\"\n  }\n  }\n ]\n },\n \"trials\": [ {\n  \"id\": \"2\",\n  \"state\": \"SUCCEEDED\",\n  \"parameters\": [  {\n   \"parameterId\": \"my_parameter\",\n   \"value\": 0.71426874725564571\n  }\n  ],\n  \"finalMeasurement\": {\n  \"stepCount\": \"2\",\n  \"metrics\": [   {\n   \"metricId\": \"my_metric\",\n   \"value\": 0.30007445812225342\n   }\n  ]\n  },\n  \"startTime\": \"2020-09-09T23:39:15.549112551Z\",\n  \"endTime\": \"2020-09-09T23:47:08Z\"\n },\n {\n  \"id\": \"3\",\n  \"state\": \"SUCCEEDED\",\n  \"parameters\": [  {\n   \"parameterId\": \"my_parameter\",\n   \"value\": 0.3078893356622992\n  }\n  ],\n  \"finalMeasurement\": {\n  \"stepCount\": \"2\",\n  \"metrics\": [   {\n   \"metricId\": \"my_metric\",\n   \"value\": 0.30000102519989014\n   }\n  ]\n  },\n  \"startTime\": \"2020-09-09T23:49:22.451699360Z\",\n  \"endTime\": \"2020-09-09T23:57:15Z\"\n },\n {\n  \"id\": \"1\",\n  \"state\": \"SUCCEEDED\",\n  \"parameters\": [  {\n   \"parameterId\": \"my_parameter\",\n   \"value\": 0.500005\n  }\n  ],\n  \"finalMeasurement\": {\n  \"stepCount\": \"2\",\n  \"metrics\": [   {\n   \"metricId\": \"my_metric\",\n   \"value\": 0.30005377531051636\n   }\n  ]\n  },\n  \"startTime\": \"2020-09-09T23:23:12.283374629Z\",\n  \"endTime\": \"2020-09-09T23:36:56Z\"\n }\n ],\n \"state\": \"JOB_STATE_SUCCEEDED\",\n \"createTime\": \"2020-09-09T23:22:31.777386Z\",\n \"startTime\": \"2020-09-09T23:22:34Z\",\n \"endTime\": \"2020-09-10T01:31:24.271307Z\",\n \"updateTime\": \"2020-09-10T01:31:24.271307Z\"\n}\n```\n\u5728\u5617\u8a66\u6b64\u793a\u4f8b\u4e4b\u524d\uff0c\u8acb\u6309\u7167 [\u300aVertex AI \u5feb\u901f\u5165\u9580\uff1a\u4f7f\u7528\u5ba2\u6236\u7aef\u5eab\u300b](https://cloud.google.com/vertex-ai/docs/start/client-libraries?hl=zh-cn) \u4e2d\u7684 Java \u8a2d\u7f6e\u8aaa\u660e\u57f7\u884c\u64cd\u4f5c\u3002\u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1 [Vertex AI Java API \u53c3\u8003\u6587\u6a94](https://cloud.google.com/java/docs/reference/google-cloud-aiplatform/latest/com.google.cloud.aiplatform.v1?hl=zh-cn) \u3002\n\u5982\u9700\u5411 Vertex AI \u9032\u884c\u8eab\u4efd\u9a57\u8b49\uff0c\u8acb\u8a2d\u7f6e\u61c9\u7528\u9ed8\u8a8d\u6191\u64da\u3002  \u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1 [\u7232\u672c\u5730\u958b\u767c\u74b0\u5883\u8a2d\u7f6e\u8eab\u4efd\u9a57\u8b49](https://cloud.google.com/docs/authentication/provide-credentials-adc?hl=zh-cn#local-dev) \u3002\n [\u5728 GitHub \u4e0a\u67e5\u770b](https://github.com/GoogleCloudPlatform/java-docs-samples/blob/HEAD/aiplatform/src/main/java/aiplatform/GetHyperparameterTuningJobSample.java) \n```\nimport com.google.cloud.aiplatform.v1.HyperparameterTuningJob;import com.google.cloud.aiplatform.v1.HyperparameterTuningJobName;import com.google.cloud.aiplatform.v1.JobServiceClient;import com.google.cloud.aiplatform.v1.JobServiceSettings;import java.io.IOException;public class GetHyperparameterTuningJobSample {\u00a0 public static void main(String[] args) throws IOException {\u00a0 \u00a0 // TODO(developer): Replace these variables before running the sample.\u00a0 \u00a0 String project = \"PROJECT\";\u00a0 \u00a0 String hyperparameterTuningJobId = \"HYPERPARAMETER_TUNING_JOB_ID\";\u00a0 \u00a0 getHyperparameterTuningJobSample(project, hyperparameterTuningJobId);\u00a0 }\u00a0 static void getHyperparameterTuningJobSample(String project, String hyperparameterTuningJobId)\u00a0 \u00a0 \u00a0 throws IOException {\u00a0 \u00a0 JobServiceSettings settings =\u00a0 \u00a0 \u00a0 \u00a0 JobServiceSettings.newBuilder()\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .setEndpoint(\"us-central1-aiplatform.googleapis.com:443\")\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 .build();\u00a0 \u00a0 String location = \"us-central1\";\u00a0 \u00a0 // Initialize client that will be used to send requests. This client only needs to be created\u00a0 \u00a0 // once, and can be reused for multiple requests. After completing all of your requests, call\u00a0 \u00a0 // the \"close\" method on the client to safely clean up any remaining background resources.\u00a0 \u00a0 try (JobServiceClient client = JobServiceClient.create(settings)) {\u00a0 \u00a0 \u00a0 HyperparameterTuningJobName name =\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 HyperparameterTuningJobName.of(project, location, hyperparameterTuningJobId);\u00a0 \u00a0 \u00a0 HyperparameterTuningJob response = client.getHyperparameterTuningJob(name);\u00a0 \u00a0 \u00a0 System.out.format(\"response: %s\\n\", response);\u00a0 \u00a0 }\u00a0 }}\n```\u5982\u9700\u77ad\u89e3\u5982\u4f55\u5b89\u88dd\u6216\u66f4\u65b0 Python\uff0c\u8acb\u53c3\u95b1 [\u5b89\u88dd Python \u7248 Vertex AI SDK](https://cloud.google.com/vertex-ai/docs/start/use-vertex-ai-python-sdk?hl=zh-cn) \u3002  \u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1 [   Python API \u53c3\u8003\u6587\u6a94](https://cloud.google.com/python/docs/reference/aiplatform/latest?hl=zh-cn) \u3002\n [\u5728 GitHub \u4e0a\u67e5\u770b](https://github.com/googleapis/python-aiplatform/blob/HEAD/samples/model-builder/get_hyperparameter_tuning_job_sample.py) \n```\n# Copyright 2022 Google LLC\n## Licensed under the Apache License, Version 2.0 (the \"License\");# you may not use this file except in compliance with the License.# You may obtain a copy of the License at\n## \u00a0 \u00a0 https://www.apache.org/licenses/LICENSE-2.0\n## Unless required by applicable law or agreed to in writing, software# distributed under the License is distributed on an \"AS IS\" BASIS,# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.# See the License for the specific language governing permissions and# limitations under the License.from google.cloud import aiplatformdef get_hyperparameter_tuning_job_sample(\u00a0 \u00a0 project: str,\u00a0 \u00a0 hyperparameter_tuning_job_id: str,\u00a0 \u00a0 location: str = \"us-central1\",):\u00a0 \u00a0 aiplatform.init(project=project, location=location)\u00a0 \u00a0 hpt_job = aiplatform.HyperparameterTuningJob.get(\u00a0 \u00a0 \u00a0 \u00a0 resource_name=hyperparameter_tuning_job_id,\u00a0 \u00a0 )\u00a0 \u00a0 return hpt_job\n```\n### \u53d6\u6d88\u8d85\u53c3\u6578\u8abf\u7bc0\u4f5c\u696d\n\u4ee5\u4e0b\u4ee3\u78bc\u793a\u4f8b\u6f14\u793a\u77ad\u5982\u4f55\u53d6\u6d88\u8d85\u53c3\u6578\u8abf\u7bc0\u4f5c\u696d\u3002\n\u4f7f\u7528 [gcloud ai hp-tuning-jobs cancel \u547d\u4ee4](https://cloud.google.com/sdk/gcloud/reference/ai/hp-tuning-jobs/cancel?hl=zh-cn) \uff1a\n```\ngcloud ai hp-tuning-jobs cancel ID_OR_NAME \\\u00a0 \u00a0 --region=LOCATION\n```\n\u66ff\u63db\u4ee5\u4e0b\u5167\u5bb9\uff1a- `` \uff1a [\u540d\u7a31](https://cloud.google.com/vertex-ai/docs/reference/rest/v1/projects.locations.hyperparameterTuningJobs/cancel?hl=zh-cn) \u6216 `HyperparameterTuningJob` \u7684\u6578\u5b57 ID\u3002\uff08\u6b64 ID \u662f\u540d\u7a31\u7684\u6700\u5f8c\u4e00\u90e8\u5206\u3002\uff09\u60a8\u5728\u5275\u5efa `HyperparameterTuningJob` \u6642\u53ef\u80fd\u5df2\u770b\u5230 ID \u6216\u540d\u7a31\u3002\u5982\u679c\u60a8\u4e0d\u77e5\u9053 ID \u6216\u540d\u7a31\uff0c\u5247\u53ef\u4ee5\u904b\u884c [gcloud ai hp-tuning-jobs list \u547d\u4ee4](https://cloud.google.com/sdk/gcloud/reference/ai/hp-tuning-jobs/list?hl=zh-cn) \u4e26\u67e5\u627e\u76f8\u61c9\u7684\u8cc7\u6e90\u3002\n- `` \uff1a `HyperparameterTuningJob` \u7684\u5275\u5efa\u5340\u57df\u3002\n\u901a\u904e\u4ee5\u4e0b\u4ee3\u78bc\u793a\u4f8b\u4f7f\u7528 [hyperparameterTuningJob \u8cc7\u6e90\u7684 cancel \u65b9\u6cd5](https://cloud.google.com/vertex-ai/docs/reference/rest/v1/projects.locations.hyperparameterTuningJobs/cancel?hl=zh-cn) \u53d6\u6d88\u8d85\u53c3\u6578\u8abf\u7bc0\u4f5c\u696d\u3002\n\u5728\u4f7f\u7528\u4efb\u4f55\u8acb\u6c42\u6578\u64da\u4e4b\u524d\uff0c\u8acb\u5148\u9032\u884c\u4ee5\u4e0b\u66ff\u63db\uff1a- ``\uff1a`HyperparameterTuningJob`\u7684\u5275\u5efa\u5340\u57df\u3002\n- \uff1a\u8d85\u53c3\u6578\u8abf\u7bc0\u4f5c\u696d\u7684\u540d\u7a31\u3002\u4f5c\u696d\u540d\u7a31\u4f7f\u7528\u4ee5\u4e0b\u683c\u5f0f`projects/{project}/locations/{location}/hyperparameterTuningJobs/{hyperparameterTuningJob}`\u3002\nHTTP \u65b9\u6cd5\u548c\u7db2\u5740\uff1a\n```\nPOST https://LOCATION-aiplatform.googleapis.com/v1/NAME:cancel\n```\n\u5982\u9700\u767c\u9001\u60a8\u7684\u8acb\u6c42\uff0c\u8acb\u5c55\u958b\u4ee5\u4e0b\u9078\u9805\u4e4b\u4e00\uff1a\u60a8\u61c9\u8a72\u6703\u6536\u5230\u4e00\u500b\u6210\u529f\u7684\u72c0\u614b\u4ee3\u78bc (2xx) \u548c\u4e00\u500b\u7a7a\u97ff\u61c9\u3002\u5982\u9700\u77ad\u89e3\u5982\u4f55\u5b89\u88dd\u6216\u66f4\u65b0 Python\uff0c\u8acb\u53c3\u95b1 [\u5b89\u88dd Python \u7248 Vertex AI SDK](https://cloud.google.com/vertex-ai/docs/start/use-vertex-ai-python-sdk?hl=zh-cn) \u3002  \u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1 [   Python API \u53c3\u8003\u6587\u6a94](https://cloud.google.com/python/docs/reference/aiplatform/latest?hl=zh-cn) \u3002\n [\u5728 GitHub \u4e0a\u67e5\u770b](https://github.com/googleapis/python-aiplatform/blob/HEAD/samples/model-builder/cancel_hyperparameter_tuning_job_sample.py) \n```\nfrom google.cloud import aiplatformdef cancel_hyperparameter_tuning_job_sample(\u00a0 \u00a0 project: str,\u00a0 \u00a0 hyperparameter_tuning_job_id: str,\u00a0 \u00a0 location: str = \"us-central1\",):\u00a0 \u00a0 aiplatform.init(project=project, location=location)\u00a0 \u00a0 hpt_job = aiplatform.HyperparameterTuningJob.get(\u00a0 \u00a0 \u00a0 \u00a0 resource_name=hyperparameter_tuning_job_id,\u00a0 \u00a0 )\u00a0 \u00a0 hpt_job.cancel()\n```\n### \u522a\u9664\u8d85\u53c3\u6578\u8abf\u7bc0\u4f5c\u696d\n\u4ee5\u4e0b\u4ee3\u78bc\u793a\u4f8b\u6f14\u793a\u77ad\u5982\u4f55\u4f7f\u7528 Python \u7248 Vertex AI SDK \u548c REST API \u522a\u9664\u8d85\u53c3\u6578\u8abf\u7bc0\u4f5c\u696d\u3002\n\u901a\u904e\u4ee5\u4e0b\u4ee3\u78bc\u793a\u4f8b\u4f7f\u7528 [hyperparameterTuningJob \u8cc7\u6e90\u7684 delete \u65b9\u6cd5](https://cloud.google.com/vertex-ai/docs/reference/rest/v1/projects.locations.hyperparameterTuningJobs/delete?hl=zh-cn) \u522a\u9664\u8d85\u53c3\u6578\u8abf\u7bc0\u4f5c\u696d\u3002\n\u5728\u4f7f\u7528\u4efb\u4f55\u8acb\u6c42\u6578\u64da\u4e4b\u524d\uff0c\u8acb\u5148\u9032\u884c\u4ee5\u4e0b\u66ff\u63db\uff1a- \uff1a\u60a8\u7684\u5340\u57df\u3002\n- \uff1a\u8d85\u53c3\u6578\u8abf\u7bc0\u4f5c\u696d\u7684\u540d\u7a31\u3002\u4f5c\u696d\u540d\u7a31\u4f7f\u7528\u4ee5\u4e0b\u683c\u5f0f`projects/{project}/LOCATIONs/{LOCATION}/hyperparameterTuningJobs/{hyperparameterTuningJob}`\u3002\nHTTP \u65b9\u6cd5\u548c\u7db2\u5740\uff1a\n```\nDELETE https://LOCATION-aiplatform.googleapis.com/v1/NAME\n```\n\u5982\u9700\u767c\u9001\u60a8\u7684\u8acb\u6c42\uff0c\u8acb\u5c55\u958b\u4ee5\u4e0b\u9078\u9805\u4e4b\u4e00\uff1a\u60a8\u61c9\u8a72\u6703\u6536\u5230\u4e00\u500b\u6210\u529f\u7684\u72c0\u614b\u4ee3\u78bc (2xx) \u548c\u4e00\u500b\u7a7a\u97ff\u61c9\u3002\u5982\u9700\u77ad\u89e3\u5982\u4f55\u5b89\u88dd\u6216\u66f4\u65b0 Python\uff0c\u8acb\u53c3\u95b1 [\u5b89\u88dd Python \u7248 Vertex AI SDK](https://cloud.google.com/vertex-ai/docs/start/use-vertex-ai-python-sdk?hl=zh-cn) \u3002  \u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1 [   Python API \u53c3\u8003\u6587\u6a94](https://cloud.google.com/python/docs/reference/aiplatform/latest?hl=zh-cn) \u3002\n [\u5728 GitHub \u4e0a\u67e5\u770b](https://github.com/googleapis/python-aiplatform/blob/HEAD/samples/model-builder/delete_hyperparameter_tuning_job_sample.py) \n```\nfrom google.cloud import aiplatformdef delete_hyperparameter_tuning_job_sample(\u00a0 \u00a0 project: str,\u00a0 \u00a0 hyperparameter_tuning_job_id: str,\u00a0 \u00a0 location: str = \"us-central1\",):\u00a0 \u00a0 aiplatform.init(project=project, location=location)\u00a0 \u00a0 hpt_job = aiplatform.HyperparameterTuningJob.get(\u00a0 \u00a0 \u00a0 \u00a0 resource_name=hyperparameter_tuning_job_id,\u00a0 \u00a0 )\u00a0 \u00a0 hpt_job.delete()\n```\n## \u5f8c\u7e8c\u6b65\u9a5f\n- \u8a73\u7d30\u77ad\u89e3 [\u8d85\u53c3\u6578\u8abf\u7bc0\u4e2d\u6d89\u53ca\u7684\u6982\u5ff5](https://cloud.google.com/vertex-ai/docs/training/hyperparameter-tuning-overview?hl=zh-cn) \u3002", "guide": "Vertex AI"}