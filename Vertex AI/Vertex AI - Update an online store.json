{"title": "Vertex AI - Update an online store", "url": "https://cloud.google.com/vertex-ai/docs/start/introduction-unified-platform", "abstract": "# Vertex AI - Update an online store\nYou can update the online serving configuration for an online store created for Bigtable online serving. For example, you can update the maximum and minimum numbers of serving nodes.\nWhile creating or updating an online store, you have the option to add user-defined metadata in the form of labels to the online store. For more information about how to update user-defined labels for an online store, see [Update labels for an online store](/vertex-ai/docs/featurestore/latest/feature-labels#online_store) .\nUse the following sample to update the scaling options in an online store instance created for Bigtable online serving.\nTo update a [FeatureOnlineStore](/vertex-ai/docs/reference/rest/v1/projects.locations.featureOnlineStores#resource:-featureOnlineStore) resource, send a `PATCH` request by using the [featureOnlineStores.patch](/vertex-ai/docs/reference/rest/v1/projects.locations.featureOnlineStores/patch) method.\nBefore using any of the request data, make the following replacements:- : Region where the online store is located, such as`us-central1`.\n- : Your project ID.\n- : The name of the online store that you want to update.\nHTTP method and URL:\n```\nPATCH https://LOCATION_ID-aiplatform.googleapis.com/v1/projects/PROJECT_ID/locations/LOCATION_ID/featureOnlineStores?feature_online_store_id=FEATUREONLINESTORE_NAME\n```\nRequest JSON body:\n```\n{\n \"bigtable\": {\n \"auto_scaling\": {\n  \"min_node_count\": 1,\n  \"max_node_count\": 3,\n  \"cpu_utilization_target\": 50\n }\n }\n}\n```\nTo send your request, choose one of these options:\n **Note:** The following command assumes that you have logged in to  the`gcloud`CLI with your user account by running [gcloud init](/sdk/gcloud/reference/init) or [gcloud auth login](/sdk/gcloud/reference/auth/login) ,  or by using [Cloud Shell](/shell/docs) ,  which automatically logs you into the`gcloud`CLI.  You can check the currently active account by running [gcloud auth list](/sdk/gcloud/reference/auth/list) .\nSave the request body in a file named `request.json` ,  and execute the following command:\n```\ncurl -X PATCH \\ -H \"Authorization: Bearer $(gcloud auth print-access-token)\" \\ -H \"Content-Type: application/json; charset=utf-8\" \\ -d @request.json \\ \"https://LOCATION_ID-aiplatform.googleapis.com/v1/projects/PROJECT_ID/locations/LOCATION_ID/featureOnlineStores?feature_online_store_id=FEATUREONLINESTORE_NAME\"\n``` **Note:** The following command assumes that you have logged in to  the`gcloud`CLI with your user account by running [gcloud init](/sdk/gcloud/reference/init) or [gcloud auth login](/sdk/gcloud/reference/auth/login) ,  or by using [Cloud Shell](/shell/docs) ,  which automatically logs you into the`gcloud`CLI.  You can check the currently active account by running [gcloud auth list](/sdk/gcloud/reference/auth/list) .\nSave the request body in a file named `request.json` ,  and execute the following command:\n```\n$cred = gcloud auth print-access-token$headers = @{ \"Authorization\" = \"Bearer $cred\" }Invoke-WebRequest ` -Method PATCH ` -Headers $headers ` -ContentType: \"application/json; charset=utf-8\" ` -InFile request.json ` -Uri \"https://LOCATION_ID-aiplatform.googleapis.com/v1/projects/PROJECT_ID/locations/LOCATION_ID/featureOnlineStores?feature_online_store_id=FEATUREONLINESTORE_NAME\" | Select-Object -Expand Content\n```\nYou should receive a JSON response similar to the following:\n```\n{\n \"name\": \"projects/PROJECT_NUMBER/locations/LOCATION_ID/featureOnlineStores/FEATUREONLINESTORE_NAME/operations/OPERATION_ID\",\n \"metadata\": {\n \"@type\": \"type.googleapis.com/google.cloud.aiplatform.v1.UpdateFeatureOnlineStoreOperationMetadata\",\n \"genericMetadata\": {\n  \"createTime\": \"2023-09-18T17:49:23.847496Z\",\n  \"updateTime\": \"2023-09-18T17:49:23.847496Z\"\n }\n },\n \"done\": true,\n \"response\": {\n \"@type\": \"type.googleapis.com/google.cloud.aiplatform.v1.FeatureView\",\n \"name\": \"projects/PROJECT_NUMBER/locations/LOCATION_ID/featureOnlineStores/FEATUREONLINESTORE_NAME\"\n }\n}\n```\n", "content": "## What's next\n- Learn how to [delete an online store](/vertex-ai/docs/featurestore/latest/delete-onlinestore) .\n- Learn how to [create a feature view](/vertex-ai/docs/featurestore/latest/create-featureview) .\n- [Start online serving](/vertex-ai/docs/featurestore/latest/serve-feature-values) feature data.", "guide": "Vertex AI"}