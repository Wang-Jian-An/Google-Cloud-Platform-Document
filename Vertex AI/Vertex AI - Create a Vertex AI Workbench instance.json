{"title": "Vertex AI - Create a Vertex AI Workbench instance", "url": "https://cloud.google.com/vertex-ai/docs/workbench/instances/create", "abstract": "# Vertex AI - Create a Vertex AI Workbench instance\n# Create a Vertex AI Workbench instance\nThis page shows you how to create a Vertex AI Workbench instance by using the Google Cloud console or the Google Cloud CLI. While creating your instance, you can configure your instance's hardware, encryption type, network, and other details.\n", "content": "## Before you begin\n## Create an instance\nYou can create a Vertex AI Workbench instance by using the Google Cloud console, the gcloud CLI, or Terraform:\n- In the Google Cloud console, go to the **Instances** page. [Go to Instances](https://console.cloud.google.com/vertex-ai/workbench/instances) \n- Click add_box **Create new** .\n- In the **New instance** dialog, click **Advanced options** .\n- In the **Create instance** dialog, in the **Details** section, provide the following information for your new instance:- **Name** : Provide a name for your new instance. The name must start with a letter followed by up to 62 lowercase letters, numbers, or hyphens (-), and cannot end with a hyphen.\n- **Region** and **Zone** : Select a region and zone for the new instance. For best network performance, select the region that is geographically closest to you. See the available [Vertex AI Workbenchlocations](/vertex-ai/docs/general/locations#instances) .\n- **Labels** : Optional. Provide custom key-value labels for the instance.\n- **Tags** : Optional. Provide [tags](/resource-manager/docs/tags/tags-overview) for the instance.\n- In the **Environment** section, provide the following:- **Version** : Use the latest version or a previous version of Vertex AI Workbench instances.\n- **Post-startup script** : Optional. Click **Browse** to select a script to run one time, after the instance is created. The path must be a URL or Cloud Storage path, for example:`gs://` `` `/` ``.\n- **Metadata** : Optional. Provide custom metadata keys for the instance.\n- In the **Machine type** section, provide the following:- **Machine type** : Select the number of CPUs and amount of RAM for your new instance. Vertex AI Workbench provides monthly cost estimates for each machine type that you select.\n- **GPU** : Optional. If you want GPUs, select the **GPU type** and **Number of GPUs** for your new instance. The accelerator type that you want must be available in your instance's zone. To learn about accelerator availability by zone, see [GPU regions and zonesavailability](/compute/docs/gpus/gpu-regions-zones) . For information about the different GPUs, see [GPUs on Compute Engine](/compute/docs/gpus) .Select **Install NVIDIA GPU driver automatically for me** . **Note:** You can modify the machine type and GPU configuration for your instance after it is created. For more information, see [Change machine type and configure GPUs ofa Vertex AI Workbench instance](/vertex-ai/docs/workbench/instances/change-machine-type) .\n- **Shielded VM** : Optional. Select or clear the following checkboxes:- **Secure Boot** \n- **Virtual Trusted Platform Module (vTPM)** \n- **Integrity monitoring** \n- **Idle shutdown** : Optional.- To change the number of minutes before shutdown, in the **Time of inactivity before shutdown (Minutes)** field, change the value to an integer from 10 through 1440.\n- To turn off idle shutdown, clear **Enable Idle Shutdown** .\n- In the **Disks** section, provide the following:- **Disks** : Optional. To change the default data disk settings, select a **Data disk type** and **Data disk size in GB** . For more information about disk types, see [Storage options](/compute/docs/disks#introduction) .\n- **Delete to trash** : Optional. Select this checkbox to use the operating system's default trash behavior, If you use the default trash behavior, files deleted by using the JupyterLab user interface are recoverable but these deleted files do use disk space.\n- **Encryption** : Select **Google-managed encryption key** or **Customer-managed encryption key (CMEK)** . To use CMEK, see [Customer-managed encryption keys](/vertex-ai/docs/workbench/instances/cmek) .\n- In the **Networking** section, provide the following:- **Networking** : Adjust the network options to use a network in your current project or a [Shared VPC network](/vpc/docs/shared-vpc) from a host project, if one is configured. If you are using a [Shared VPC](/vpc/docs/shared-vpc) in the host project, you must also grant the [Compute Network User role](/compute/docs/access/iam#compute.networkUser) ( `roles/compute.networkUser` ) to the [Notebooks ServiceAgent](/iam/docs/service-agents#cloud-ai-platform-notebooks-service-account) from the service project.- In the **Network** field, select the network that you want. You can select a VPC network, as long as the network has [Private Google Access](/vpc/docs/private-google-access) enabled or can access the internet. For more information, see [network configuration options](#network-options) .\n- In the **Subnetwork** field, select the subnetwork that you want.\n- To turn off the external IP address, clear the **Assign external IP address** checkbox.\n- To turn off proxy access, clear the **Allow proxy access** checkbox. **Note:** If you turn off proxy access, you must [use SSH to connectto your instance's JupyterLab interface](/vertex-ai/docs/workbench/instances/ssh-access) .\n- In the **IAM and security** section, provide the following:- **IAM and security** : To grant access to the instance's JupyterLab interface, complete one of the following steps:- To grant access to JupyterLab through a service account, select **Service account** .- To use the default Compute Engine service account, select **Use default Compute Engine service account** .\n- To use a custom service account, clear **Usedefault Compute Engine service account** , and then, in the **Service account email** field, enter your custom service account email address.\n- To grant a single user access to the JupyterLab interface, do the following:- Select **Single user** , and then, in the **User email** field, enter the user account that you want to grant access. If the specified user is not the creator of the instance, you must grant the specified user the [Service Account Userrole](/iam/docs/service-account-permissions#user-role) ( `roles/iam.serviceAccountUser` ) on the instance's service account.\n- Your instance uses a service account to interact with Google Cloud services and APIs.- To use the default Compute Engine service account, select **Use default Compute Engine service account** .\n- To use a custom service account, clear **Usedefault Compute Engine service account** , and then, in the **Service account email** field, enter your custom service account email address.\n **Note:** To grant access to the instance through the service account  or single user option, you must use an individual's  user account email address. Group access is not supported.To learn more about granting access, see [Manage access](/vertex-ai/docs/workbench/instances/manage-access) .\n- **Security options** : Select or clear the following checkboxes:- **Root access to the instance** \n- **nbconvert** \n- **File downloading** \n- **Terminal access** \n- In the **System health** section, provide the following:- [](None) **Environment upgrade and system health** : To automatically upgrade to newly released environment versions, select **Environment auto-upgrade** and complete the **Upgrade schedule** .\n- In **Reporting** , select or clear the following checkboxes:- **Report system health** \n- **Report custom metrics to Cloud Monitoring** \n- **Install Cloud Monitoring** \n- **Report DNS status for required Google domains** \n- Click **Create** .Vertex AI Workbench creates an instance and automatically starts it. When the instance is ready to use, Vertex AI Workbench activates an **Open JupyterLab** link.Before using any of the command data below, make the following replacements:- ``: the name of your Vertex AI Workbench instance;  must start with a letter followed by up to 62 lowercase letters,  numbers, or hyphens (-), and cannot end with a hyphen\n- ``: your project ID\n- ``: the zone where you want your instance to be located\n- ``: the ID of the Google Cloud project that  VM image belongs to, in the format:`projects/` ``\n- ``: the full image name; to find the image name of a  specific version, see [Find the specific version](/vertex-ai/docs/workbench/instances/create-specific-version#find_the_specific_version_that_you_want) \n- ``: the [machine type](/compute/docs/machine-types) of your instance's VM\n- ``: custom metadata to apply to this instance;  for example, to specify a post-startup-script,  you can use the`post-startup-script`metadata tag, in the format:`\"--metadata=post-startup-script=gs://` `` `/hello.sh\"`\nExecute the  following  command:For more information about the command for creating an instance from the command line, see the [gcloud CLIdocumentation](/sdk/gcloud/reference/workbench/instances/create) .\nVertex AI Workbench creates an instance and automatically starts it. When the instance is ready to use, Vertex AI Workbench activates an **Open JupyterLab** link in the Google Cloud console.\nThe following sample uses the [google_workbench_instance](https://registry.terraform.io/providers/hashicorp/google/latest/docs/resources/workbench_instance) Terraform resource to create a Vertex AI Workbench instance named `workbench-instance-example` .\nTo learn how to apply or remove a Terraform configuration, see [Basic Terraform commands](/docs/terraform/basic-commands) .\n [View on GitHub](https://github.com/terraform-google-modules/terraform-docs-samples/blob/HEAD/vertex_ai/workbench/main.tf) \n```\nresource \"google_workbench_instance\" \"default\" {\n name  = \"workbench-instance-example\"\n location = \"us-central1-a\"\n gce_setup {\n machine_type = \"n1-standard-1\"\n accelerator_configs {\n  type  = \"NVIDIA_TESLA_T4\"\n  core_count = 1\n }\n vm_image {\n  project = \"deeplearning-platform-release\"\n  family = \"tf-latest-gpu\"\n }\n }\n}\n```\n## Network configuration options\nA Vertex AI Workbench instance must access service endpoints that are outside your VPC network.\nYou can provide this access in one of the following ways:\n- Assign an external IP address to the instance. This is done by default when you create a new instance. Make sure your environment meets the [requirements for accessing Google APIs andservices](/vpc/docs/access-apis-external-ip#requirements) .\n- Connect the instance to a subnet where [Private Google Access](/vpc/docs/configure-private-google-access) is enabled. Make sure your environment meets the [requirements forPrivate Google Access](/vpc/docs/configure-private-google-access#requirements) .\nIf you use the `private.googleapis.com` or `restricted.googleapis.com` VIP to provide access to the service endpoints, [add DNS entries for each of the required serviceendpoints](/vpc/docs/configure-private-google-access#config-domain) :\n- `notebooks.googleapis.com`\n- `*.notebooks.cloud.google.com`\n- `*.notebooks.googleusercontent.com`## Network tags\nYour new Vertex AI Workbench instance automatically has the `deeplearning-vm` and `notebook-instance` network tags assigned.\nThese tags let you manage network access to and from your Vertex AI Workbench instance by referencing the tags in your VPC networking firewall rules. For more information about network tags, see [Add network tags](/vpc/docs/add-remove-network-tags) .\nTo view the network tags for a Vertex AI Workbench instance, do the following:\n- In the Google Cloud console, go to the **VM instances** page. [Go to VM instances](https://console.cloud.google.com/compute/instances) \n- Click the name of the instance.\n- In the **Networking** section, find **Network tags** .## Troubleshooting\nIf you encounter a problem when you create an instance, see [TroubleshootingVertex AI Workbench](/vertex-ai/docs/general/troubleshooting-workbench#instances) for help with common issues.", "guide": "Vertex AI"}