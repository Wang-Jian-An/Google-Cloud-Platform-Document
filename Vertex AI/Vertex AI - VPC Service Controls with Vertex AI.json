{"title": "Vertex AI - VPC Service Controls with Vertex AI", "url": "https://cloud.google.com/vertex-ai/docs/general/vpc-service-controls", "abstract": "# Vertex AI - VPC Service Controls with Vertex AI\n[VPC Service Controls](/vpc-service-controls/docs/overview) can help you mitigate the risk of data exfiltration from Vertex AI. Use VPC Service Controls to create a that protects the resources and data that you specify. For example, when you use VPC Service Controls to protect Vertex AI, the following artifacts can't leave your service perimeter:\n- Training data for an AutoML model or custom model\n- Models that you created\n- Models that you searched by using Neural Architecture Search\n- Requests for online predictions\n- Results from a batch prediction request", "content": "## Service perimeter creation\nWhen you create a service perimeter, include Vertex AI ( `aiplatform.googleapis.com` ) and Vertex AI Workbench ( `notebooks.googleapis.com` ) as protected services. You aren't required to include any additional services for Vertex AI to function. However, Vertex AI won't be able to reach resources outside the perimeter, such as files in a Cloud Storage bucket that is outside the perimeter.\nFor more information about creating a service perimeter, see [Creating a serviceperimeter](/vpc-service-controls/docs/create-service-perimeters) in the VPC Service Controls documentation.\nEnable [VPC Service Controls for peerings](/sdk/gcloud/reference/services/vpc-peerings/enable-vpc-service-controls) to configure the `servicenetworking` VPC network without a default route. The name is a bit misleading, because it's not explicitly a VPC-SC configuration; rather, it's commonly used when using VPC-SC. Without the default route, from the perspective of the `servicenetworking` VPC network.\n- Packets to`199.36.153.4/30`(restricted.googleapis.com) are sent to the default internet gateway of the`servicenetworking`VPC network. This is because the command creates a custom route for this destination.\n- The default route (or broader routes) in the customer's VPC network can be used to route traffic from the `servicenetworking` VPC network into the customer's VPC network or into an on-premises network connected to the customer's VPC network. For this to work, the following conditions must be met.- The routes in the customer's VPC network must use next hopsthe default internet gateway next hop. (Routes using the default internet gateway next hop areexchanged in a VPC network peering relationship.)\n- The customer's VPC network must be configured to export custom routes in the peering to the`servicenetworking`VPC network. (The`servicenetworking`network is already configured to import custom routes in the peering relationship.)For further discussion on this, see [set up connectivity from Vertex AI to other networks](/vertex-ai/docs/general/hybrid-connectivity) .\n## VPC Service Controls support for Generative AI tuning pipelines\nVPC Service Controls support is provided in the tuning pipeline of the following models:\n- `text-bison for PaLM 2`\n- `BERT`\n- `T5`## Limitations\nThe following limitations apply when you use VPC Service Controls:\n- For data labeling, you must add labelers' IP addresses to an [access level](/vpc-service-controls/docs/use-access-levels) .\n- For Google Cloud Pipeline Components, the components launch containers that check their base image for all requirements. If requirements are missing, download them from the [Python Package Index (PyPI)](https://pypi.org/) . The KFP package, as well as any packages listed in the`packages_to_install`argument are the requirements for a container. If a requirement is specified that is not present in the base image (either provided or custom), the component will fail if it isn't able to download the requirement.\n- When using VPC Service Controls with custom kernels in Vertex AI Workbench, you must instead configure DNS peering to send requests for`*.notebooks.googleusercontent.com`to the subnet 199.36.153.8/30 (`private.googleapis.com`) instead of 199.36.153.4/30 (`restricted.googleapis.com`).## What's next\n- Learn more about [VPC Service Controls](/vpc-service-controls/docs/overview) .\n- Learn about [troubleshooting VPC Service Controls issues](/vpc-service-controls/docs/troubleshooting) .", "guide": "Vertex AI"}