{"title": "Vertex AI - Run custom training jobs on a persistent resource", "url": "https://cloud.google.com/vertex-ai/docs/start/introduction-unified-platform", "abstract": "# Vertex AI - Run custom training jobs on a persistent resource\n**    Preview     ** This product or feature is subject to the \"Pre-GA Offerings Terms\" in the General Service Terms section   of the [Service Specific Terms](/terms/service-terms#1) .     Pre-GA products and features are available \"as is\" and might have limited support.    For more information, see the [launch stage descriptions](/products#product-launch-stages) .\nThis page shows you how to run a custom training job on a persistent resource by using the Vertex AI API or the Google Cloud CLI.\nNormally, when you [create a custom training job](/vertex-ai/docs/training/create-custom-job) , you need to specify compute resources that the job creates and runs on. After you create a persistent resource, you can instead configure the custom training job to run on one or more resource pools of that persistent resource. Running a custom training job on a persistent resource significantly reduces the job startup time that's otherwise needed for compute resource creation.\n", "content": "## Required roles\nTo get the permission that you need to run custom training jobs on a persistent resource,   ask your administrator to grant you the [Vertex AI User ](https://cloud.google.com/iam/docs/understanding-roles#aiplatform.user) ( `roles/aiplatform.user` ) IAM role on your project.    For more information about granting roles, see [Manage access](/iam/docs/granting-changing-revoking-access) .\nThis predefined role contains the `aiplatform.customJobs.create` permission, which is   required to run custom training jobs on a persistent resource.\nYou might also be able to get   this permission  with [custom roles](/iam/docs/creating-custom-roles) or  other [predefined roles](/iam/docs/understanding-roles) .\n## Create a training job that runs on a persistent resource\nTo create a custom training jobs that runs on a persistent resource, make the following modifications to the standard instructions for [creating a custom training job](/vertex-ai/docs/training/create-custom-job) :\n- Specify the`--persistent-resource-id`flag and set the value  to the ID of the persistent resource ()  that you want to use.\n- Specify the`--worker-pool-spec`flag such that the values for`machine-type`and`disk-type`matches exactly with a  corresponding resource pool from the persistent resource. Specify one`--worker-pool-spec`for single node training and multiple for  distributed training.\n- Specify a`replica-count`less than or equal to the`replica-count`or`max-replica-count`of the  corresponding resource pool.\n- Specify the`persistent_resource_id`parameter and set the  value to the ID of the persistent resource  () that you want to use.\n- Specify the`worker_pool_specs`parameter such that the values  of`machine_spec`and`disk_spec`for each resource  pool matches exactly with a corresponding resource pool from the persistent  resource. Specify one`machine_spec`for single node training and  multiple for distributed training.\n- Specify a`replica_count`less than or equal to the`replica_count`or`max_replica_count`of the  corresponding resource pool, excluding the replica count of any other jobs  running on that resource pool.## What's next\n- [Learn about persistent resource](/vertex-ai/docs/training/persistent-resource-overview) .\n- [Create and use a persistent resource](/vertex-ai/docs/training/persistent-resource-create) .\n- [Get information about a persistent resource](/vertex-ai/docs/training/persistent-resource-get) .\n- [Delete a persistent resource](/vertex-ai/docs/training/persistent-resource-delete) .", "guide": "Vertex AI"}