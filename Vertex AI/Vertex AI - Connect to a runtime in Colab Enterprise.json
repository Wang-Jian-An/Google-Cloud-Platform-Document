{"title": "Vertex AI - Connect to a runtime in Colab Enterprise", "url": "https://cloud.google.com/vertex-ai/docs/start/introduction-unified-platform", "abstract": "# Vertex AI - Connect to a runtime in Colab Enterprise\nThis page shows you how to connect to a runtime in Colab Enterprise.\nTo run code in your notebook, you must connect to a runtime. A is a compute resource that runs your code.\n", "content": "## Before you begin## Connect by using different methods\nThis page shows you how to connect to a runtime by using the following methods:\n- [Use the default runtime](#default) \n- [Connect to an existing runtime](#existing) \n- [Create a runtime](#create) ## Use the default runtime\nThis section describes how to connect to the default runtime.\n### Required roles\nTo ensure that your user account has the necessary  permissions to connect to the default runtime in a Colab Enterprise notebook,   ask your administrator to grant your user account the   Colab Enterprise User ( [roles/aiplatform.colabEnterpriseUser](/vertex-ai/docs/general/access-control#aiplatform.colabEnterpriseUser) ) IAM role on the project.    For more information about granting roles, see [Manage access](/iam/docs/granting-changing-revoking-access) .\nYour administrator might also be able to give your user account  the required permissions through [custom  roles](/iam/docs/creating-custom-roles) or other [predefined  roles](/iam/docs/understanding-roles) .\nUsers assigned the Code Creator role in a project can list the names of code assets in that project by using the Dataform API or the Dataform command-line interface (CLI). In preview, non-administrators using BigQuery Studio can only see code assets that they created or that were shared with them.### Connect to the default runtime\nWhen you run code in a notebook for the first time, Colab Enterprise automatically connects to the default runtime unless you [specify a different one](#connect-existing) .\nTo connect to the default runtime without running code, do the following:\n- In the Google Cloud console, go to  the Colab Enterprise **Notebooks** page. [Go to Notebooks](https://console.cloud.google.com/vertex-ai/colab/notebooks) \n- In the **Region** menu, select the region that contains your notebook.\n- On the **My notebooks** tab, click the notebook  that you want to open. If you haven't created a notebook yet, [create a notebook](/colab/docs/create-console-quickstart#create) .\n- In your notebook, click **Connect** . \n- If this is your first time connecting to a runtime with  end-user credentials enabled, a **Sign in** dialog appears.The default runtime has end-user credentials enabled by default. To  use a runtime that doesn't have access to your user credentials, [create a runtime template](/colab/docs/create-runtime-template) without end-user credentials enabled.To grant Colab Enterprise access to your user credentials, complete the following steps:- In the **Sign in** dialog, click your user account.\n- Select **See, edit, configure, and delete your  Google Cloud data...** to grant Colab Enterprise  access to your user credentials.\n- Click **Continue** .Colab Enterprise connects to the default runtime. If the default runtime isn't running, Colab Enterprise starts the default runtime, and then connects to it.\n## Connect to an existing runtime\nThis section describes how to connect to an existing runtime by using the **Connect to Vertex AI runtime** dialog.\n### Required roles\nTo ensure that your user account has the necessary  permissions to connect to an existing runtime in a Colab Enterprise notebook,   ask your administrator to grant your user account the   Colab Enterprise User ( [roles/aiplatform.colabEnterpriseUser](/vertex-ai/docs/general/access-control#aiplatform.colabEnterpriseUser) ) IAM role on the project.    For more information about granting roles, see [Manage access](/iam/docs/granting-changing-revoking-access) .\nYour administrator might also be able to give your user account  the required permissions through [custom  roles](/iam/docs/creating-custom-roles) or other [predefined  roles](/iam/docs/understanding-roles) .\nUsers assigned the Code Creator role in a project can list the names of code assets in that project by using the Dataform API or the Dataform command-line interface (CLI). In preview, non-administrators using BigQuery Studio can only see code assets that they created or that were shared with them.### Connect to the existing runtime\n- In the Google Cloud console, go to  the Colab Enterprise **Notebooks** page. [Go to Notebooks](https://console.cloud.google.com/vertex-ai/colab/notebooks) \n- In the **Region** menu, select the region that contains your notebook.\n- On the **My notebooks** tab, click the notebook  that you want to open. If you haven't created a notebook yet, [create a notebook](/colab/docs/create-console-quickstart#create) .\n- In your notebook, click the **Additional connection options** expander arrow,  and then select **Connect to a runtime** . The **Connect to Vertex AI runtime** dialog opens.\n- For **Select a runtime** ,  select **Connect to an existing runtime** .\n- For **Select an existing runtime option** ,  select the runtime that you want to connect to. If there aren't  any runtimes in the list, [create a runtime](#create) or [connect to the default runtime](#default) .\n- Click **Connect** .\n- If your runtime has end-user credentials enabled, and this is your  first time connecting to a runtime with  end-user credentials enabled, a **Sign in** dialog appears.To use a runtime that doesn't have access to your user credentials, [create a runtime template](/colab/docs/create-runtime-template) without end-user credentials enabled.To grant Colab Enterprise access to your user credentials, complete the following steps:- In the **Sign in** dialog, click your user account.\n- Select **See, edit, configure, and delete your  Google Cloud data...** to grant Colab Enterprise  access to your user credentials.\n- Click **Continue** .Colab Enterprise connects to the runtime. If the runtime isn't running, Colab Enterprise starts the runtime, and then connects to it.\n## Create a runtime\nThis section describes how to create a runtime and connect to it by using the **Connect to Vertex AI runtime** dialog. Alternatively, you can [createa runtime from the Runtimes tab](/vertex-ai/docs/colab/create-runtime) .\n### Required roles\nTo ensure that your user account has the necessary  permissions to create a runtime in Colab Enterprise,   ask your administrator to grant your user account the   Colab Enterprise Admin ( [roles/aiplatform.colabEnterpriseAdmin](/vertex-ai/docs/general/access-control#aiplatform.colabEnterpriseAdmin) ) IAM role on the project.    For more information about granting roles, see [Manage access](/iam/docs/granting-changing-revoking-access) .\nYour administrator might also be able to give your user account  the required permissions through [custom  roles](/iam/docs/creating-custom-roles) or other [predefined  roles](/iam/docs/understanding-roles) .\nUsers assigned the Code Creator role in a project can list the names of code assets in that project by using the Dataform API or the Dataform command-line interface (CLI). In preview, non-administrators using BigQuery Studio can only see code assets that they created or that were shared with them.### Create a runtime and connect to it\n**Connect to Vertex AI runtime**\n- In the Google Cloud console, go to  the Colab Enterprise **Notebooks** page. [Go to Notebooks](https://console.cloud.google.com/vertex-ai/colab/notebooks) \n- In the **Region** menu, select the region that contains your notebook.\n- On the **My notebooks** tab, click the notebook  that you want to open. If you haven't created a notebook yet, [create a notebook](/colab/docs/create-console-quickstart#create) .\n- In your notebook, click the **Additional connection options** expander arrow,  and then select **Connect to a runtime** . The **Connect to Vertex AI runtime** dialog opens.\n- For **Select a runtime** ,  select **Create new runtime** .\n- In the **Runtime template** menu,  select a runtime template. If there aren't any runtime templates listed, [create a runtime template](/colab/docs/create-runtime-template) .\n- In the **Runtime name** field, enter a name for your runtime.\n- Click **Connect** .\n- If the runtime template that you selected has end-user credentials enabled,  and this is your first time connecting to a runtime with  end-user credentials enabled, a **Sign in** dialog appears.To use a runtime that doesn't have access to your user credentials, [create a runtime template](/colab/docs/create-runtime-template) without end-user credentials enabled.To grant Colab Enterprise access to your user credentials, complete the following steps:- In the **Sign in** dialog, click your user account.\n- Select **See, edit, configure, and delete your  Google Cloud data...** to grant Colab Enterprise  access to your user credentials.\n- Click **Continue** .Colab Enterprise starts the default runtime, and then connects to it.\n## Troubleshoot\nThis section shows you how to resolve issues with connecting to runtimes in Colab Enterprise.\n### Unable to connect to a runtime\nThis issue occurs due to several reasons. The most common causes are:\nThe browser that you are using is blocking a third party cookie that Colab Enterprise uses to establish an HTTPS connection with the runtime.\nTo resolve this issue, configure your browser's settings to allow the `DATALAB_TUNNEL_TOKEN` third party cookie from the domain `*.aiplatform-notebook.googleusercontent.com` .Your network's firewall rules block outbound traffic to `*.aiplatform-notebook.cloud.google.com` or `*aiplatform.googleapis.com` .\nTo resolve this issue, configure your network's firewall rules to allow outbound traffic to `*.aiplatform-notebook.cloud.google.com` and `*aiplatform.googleapis.com` .\n## What's next\n- Learn more about [runtimes and runtime templates](/colab/docs/runtimes) .\n- [Create a runtime template](/colab/docs/create-runtime-template) .", "guide": "Vertex AI"}