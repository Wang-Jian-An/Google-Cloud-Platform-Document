{"title": "Vertex AI - \u7232 Vertex AI \u6a21\u578b\u76e3\u63a7\u63d0\u4f9b\u67b6\u69cb", "url": "https://cloud.google.com/vertex-ai/docs/model-monitoring/schemas?hl=zh-cn", "abstract": "# Vertex AI - \u7232 Vertex AI \u6a21\u578b\u76e3\u63a7\u63d0\u4f9b\u67b6\u69cb\n\u7232\u4e86\u5553\u52d5\u76e3\u63a7\u4f5c\u696d\uff0c\u6a21\u578b\u76e3\u63a7\u9700\u8981\u77e5\u9053\u8868\u683c\u6578\u64da\u96c6\u7684\u67b6\u69cb\uff0c\u624d\u80fd\u6b63\u78ba\u89e3\u6790\u8f38\u5165\u8f09\u8377\u3002\n- \u5c0d\u65bc AutoML \u6a21\u578b\uff0c\u6a21\u578b\u76e3\u63a7\u6703\u81ea\u52d5\u89e3\u6790\u67b6\u69cb\uff0c\u56e0\u7232 Vertex AI \u6709\u6b0a\u8a2a\u554f\u60a8\u7684\u8a13\u7df4\u6578\u64da\u3002\n- \u5c0d\u65bc\u81ea\u5b9a\u7fa9\u8a13\u7df4\u6a21\u578b\uff1a- \u6a21\u578b\u76e3\u63a7\u53ef\u4ee5\u81ea\u52d5\u89e3\u6790\u4f7f\u7528\u6a19\u6e96\u9375\u503c\u5c0d\u8f38\u5165\u683c\u5f0f\u7684\u6a21\u578b\u7684\u67b6\u69cb\u3002\n- \u5c0d\u65bc\u4e0d\u4f7f\u7528\u9375\u503c\u5c0d\u8f38\u5165\u683c\u5f0f\u7684\u81ea\u5b9a\u7fa9\u8a13\u7df4\u6a21\u578b\uff0c\u60a8\u53ef\u80fd\u9700\u8981\u5728 [\u5275\u5efa\u76e3\u63a7\u4f5c\u696d](https://cloud.google.com/vertex-ai/docs/model-monitoring/using-model-monitoring?hl=zh-cn) \u6642\u63d0\u4f9b\u67b6\u69cb\u3002\n\u67b6\u69cb\u751f\u6210\u53d6\u6c7a\u65bc\u60a8\u662f\u7232\u5728\u7dda\u9810\u6e2c\u7aef\u9ede\u9084\u662f\u7232\u6279\u91cf\u9810\u6e2c\u5553\u7528\u6a21\u578b\u76e3\u63a7\u3002", "content": "## \u5728\u7dda\u9810\u6e2c\u7aef\u9ede\u7684\u67b6\u69cb\u89e3\u6790\n\u5c0d\u65bc\u5728\u7dda\u9810\u6e2c\u7aef\u9ede\uff0c\u60a8\u53ef\u4ee5\u8b93\u6a21\u578b\u76e3\u63a7\u5728\u60a8\u5275\u5efa\u76e3\u63a7\u4f5c\u696d\u6642\u81ea\u52d5\u89e3\u6790\u67b6\u69cb\u6216\u4e0a\u50b3\u67b6\u69cb\u3002\n### \u81ea\u52d5\u67b6\u69cb\u89e3\u6790\n\u7232\u5728\u7dda\u7aef\u9ede\u5553\u7528\u504f\u5dee\u6216\u504f\u79fb\u6aa2\u6e2c\u5f8c\uff0c\u6a21\u578b\u76e3\u63a7\u901a\u5e38\u53ef\u4ee5\u81ea\u52d5\u89e3\u6790\u8f38\u5165\u67b6\u69cb\u3002\u5c0d\u65bc\u81ea\u52d5\u67b6\u69cb\u89e3\u6790\uff0c\u6a21\u578b\u76e3\u63a7\u6703\u5206\u6790\u524d 1,000 \u500b\u8f38\u5165\u8acb\u6c42\u4ee5\u78ba\u5b9a\u67b6\u69cb\u3002\n\u5982\u679c\u8f38\u5165\u8acb\u6c42\u63a1\u7528\u9375\u503c\u5c0d\u683c\u5f0f\uff0c\u5176\u4e2d `\"` `` `\"` \u662f\u7279\u5fb5\u7684\u540d\u7a31\uff0c `\"` `` `\"` \u662f\u7279\u5fb5\u7684\u503c\uff0c\u5247\u81ea\u52d5\u67b6\u69cb\u89e3\u6790\u6548\u679c\u6700\u4f73\u3002\u4f8b\u5982\uff1a\n```\n\"key\":\"value\"\n```\n```\n{\"TenYearCHD\":\"0\", \"glucose\":\"5.4\", \"heartRate\":\"1\", \"age\":\"30\",\n\"prevalentStroke\":\"0\", \"gender\":\"f\", \"ethnicity\":\"latin american\"}\n```\n\u5982\u679c\u8f38\u5165\u4e26\u975e\u63a1\u7528 `\"` `` `\":\"` `` `\"` \u683c\u5f0f\uff0c\u5247\u6a21\u578b\u76e3\u63a7\u6703\u5617\u8a66\u8b58\u5225\u6bcf\u500b\u7279\u5fb5\u7684\u6578\u64da\u985e\u578b\uff0c\u4e26\u81ea\u52d5\u7232\u6bcf\u500b\u8f38\u5165\u5206\u914d\u9ed8\u8a8d\u7279\u5fb5\u540d\u7a31\u3002\n### \u81ea\u5b9a\u7fa9\u5be6\u4f8b\u67b6\u69cb\n\u60a8\u53ef\u4ee5\u5728 [\u5275\u5efa\u6a21\u578b\u76e3\u63a7\u4f5c\u696d](https://cloud.google.com/vertex-ai/docs/model-monitoring/using-model-monitoring?hl=zh-cn) \u6642\u63d0\u4f9b\u81ea\u5df1\u7684\u8f38\u5165\u67b6\u69cb\uff0c\u4ee5\u78ba\u4fdd\u6a21\u578b\u76e3\u63a7\u6b63\u78ba\u89e3\u6790\u6a21\u578b\u7684\u8f38\u5165\u3002\n\u6b64\u67b6\u69cb\u7a31\u7232\u5206\u6790\u5be6\u4f8b\u67b6\u69cb \u3002\u67b6\u69cb\u6587\u4ef6\u6307\u5b9a\u8f38\u5165\u8f09\u8377\u7684\u683c\u5f0f\u3001\u6bcf\u500b\u7279\u5fb5\u7684\u540d\u7a31\u4ee5\u53ca\u6bcf\u500b\u7279\u5fb5\u7684\u985e\u578b\u3002\n\u67b6\u69cb\u5fc5\u9808\u7de8\u5beb\u7232\u63a1\u7528 [Open API](https://swagger.io/specification/#schema) \u683c\u5f0f\u7684 YAML \u6587\u4ef6\u3002\u4ee5\u4e0b\u793a\u4f8b\u9069\u7528\u65bc\u63a1\u7528 `object` \u683c\u5f0f\u7684\u9810\u6e2c\u8acb\u6c42\uff1a\n```\ntype: objectproperties:\u00a0 age:\u00a0 \u00a0 type: string\u00a0 BMI:\u00a0 \u00a0 type: number\u00a0 TenYearCHD:\u00a0 \u00a0 type: string\u00a0 cigsPerDay:\u00a0 \u00a0 type: array\u00a0 \u00a0 items:\u00a0 \u00a0 \u00a0 type: string\u00a0 BPMeds:\u00a0 \u00a0 type: stringrequired:- age- BMI- TenYearCHD- cigsPerDay- BPMeds\n```\n- `type` \u6307\u793a\u60a8\u7684\u9810\u6e2c\u8acb\u6c42\u662f\u5426\u7232\u4ee5\u4e0b\u683c\u5f0f\u4e4b\u4e00\uff1a- `object`\uff1a\u9375\u503c\u5c0d\n- `array`\uff1a\u985e\u4f3c\u6578\u7d44\n- `string`\uff1acsv \u5b57\u7b26\u4e32\n- `properties` \u6307\u793a\u5404\u500b\u7279\u5fb5\u7684\u985e\u578b\u3002\n- \u5982\u679c\u8acb\u6c42\u63a1\u7528\u6578\u7d44\u6216 csv \u5b57\u7b26\u4e32\u683c\u5f0f\uff0c\u8acb\u5728 `required` \u5b57\u6bb5\u4e0b\u6307\u5b9a\u6bcf\u500b\u8acb\u6c42\u4e2d\u7279\u5fb5\u7684\u5217\u51fa\u9806\u5e8f\u3002\n\u5982\u679c\u60a8\u7684\u9810\u6e2c\u8acb\u6c42\u63a1\u7528\u6578\u7d44\u6216 csv \u5b57\u7b26\u4e32\u683c\u5f0f\uff0c\u5247\u61c9\u5c07\u6240\u6709\u7f3a\u5931\u7684\u7279\u5fb5\u8868\u793a\u7232 null \u503c\u3002\u4f8b\u5982\uff0c\u5047\u8a2d\u67d0\u500b\u9810\u6e2c\u8acb\u6c42\u5177\u6709\u4e94\u500b\u7279\u5fb5\uff1a\n`[feature_a, feature_b, feature_c, feature_d, feature_e]`\n\u5982\u679c `feature_c` \u5141\u8a31\u7f3a\u5931\u503c\uff0c\u5247\u7f3a\u5931 `feature_c` \u7684\u793a\u4f8b\u8acb\u6c42\u5982\u4e0b\u6240\u793a\uff1a `{[1, 2, , 4, 6]}` \u3002\u5217\u8868\u9577\u5ea6\u4ecd\u7136\u662f 5\uff0c\u4e2d\u9593\u6709\u4e00\u500b null \u503c\u3002\n## \u7528\u65bc\u6279\u91cf\u9810\u6e2c\u7684\u67b6\u69cb\u89e3\u6790\n\u5c0d\u65bc\u6279\u91cf\u9810\u6e2c\uff0c\u60a8\u53ef\u4ee5\u8b93\u6a21\u578b\u76e3\u63a7\u5728\u60a8\u5275\u5efa\u76e3\u63a7\u4f5c\u696d\u6642\u81ea\u52d5\u89e3\u6790\u67b6\u69cb\u6216\u4e0a\u50b3\u67b6\u69cb\u3002\n### \u81ea\u52d5\u67b6\u69cb\u89e3\u6790\n\u5982\u679c\u60a8\u5728\u5275\u5efa\u76e3\u63a7\u4f5c\u696d\u671f\u9593\u672a\u63d0\u4f9b\u67b6\u69cb\uff0c\u5247\u6a21\u578b\u76e3\u63a7\u6703\u63a8\u65b7\u7279\u5fb5\u7684\u6578\u64da\u985e\u578b\uff0c\u4e26\u6839\u64da\u8a13\u7df4\u6578\u64da\u751f\u6210\u67b6\u69cb\u3002\n\u6a21\u578b\u76e3\u63a7\u9084\u9700\u8981\u77e5\u9053\u54ea\u500b\u7279\u5fb5\u662f\u76ee\u6a19\u5217\uff0c\u5373\u8981\u9810\u6e2c\u7684\u7279\u5fb5\u3002\u76ee\u6a19\u5217\u5df2\u5f9e\u67b6\u69cb\u548c\u7279\u5fb5\u504f\u5dee\u6307\u6a19\u4e2d\u6392\u9664\u3002\u60a8\u53ef\u4ee5\u5728\u5275\u5efa\u76e3\u63a7\u4f5c\u696d\u6642\u6307\u5b9a\u76ee\u6a19\u5217\u3002\n\u5982\u679c\u60a8\u5728\u5275\u5efa\u76e3\u63a7\u4f5c\u696d\u6642\u672a\u6307\u5b9a\u76ee\u6a19\u5217\uff0c\u5247\u6a21\u578b\u76e3\u63a7\u6703\u5c07\u8a13\u7df4\u6578\u64da\u4e2d\u7684\u6700\u5f8c\u4e00\u500b\u7279\u5fb5\u540d\u7a31\u6a19\u8a18\u7232\u76ee\u6a19\u5217\u3002\n\u4f8b\u5982\uff0c\u6a21\u578b\u76e3\u63a7\u6703\u5c07\u6b64 CSV \u8a13\u7df4\u6578\u64da\u4e2d\u7684 `column_c` \u6a19\u8a18\u7232\u76ee\u6a19\u5217\uff0c\u56e0\u7232 `column_c` \u4f4d\u65bc\u7b2c\u4e00\u884c\u7684\u672b\u5c3e\uff1a\n```\ncolumn_a, column_b, column_d, column_c1,\"a\", 2, \"c\"2,\"b\", 342, \"d\"\n```\n\u540c\u6a23\uff0c\u6a21\u578b\u76e3\u63a7\u6703\u5c07\u6b64 JSONL \u6587\u4ef6\u4e2d\u7684 `column_c` \u6a19\u8a18\u7232\u76ee\u6a19\u5217\uff0c\u56e0\u7232 `column_c` \u4f4d\u65bc\u7b2c\u4e00\u884c\u7684\u672b\u5c3e\uff1a\n```\n{\"column_a\": 1, \"column_b\": \"a\", \"column_d\": 2, \"column_c\": \"c\" }{\"column_a\": 2, \"column_b\": \"b\", \"column_c\": \"d\", \u00a0\"column_d\": 342}\n```\n\u5728\u9019\u5169\u500b\u793a\u4f8b\u4e2d\uff0c\u6700\u7d42\u67b6\u69cb\u50c5\u5305\u542b `column_a` \u3001 `column_b` \u548c `column_d` \u3002\n### \u81ea\u5b9a\u7fa9\u67b6\u69cb\n\u60a8\u7684\u81ea\u5b9a\u7fa9\u67b6\u69cb\u6307\u5b9a\u4e86\u8f38\u5165\u8f09\u8377\u7684\u683c\u5f0f\u3001\u6bcf\u500b\u7279\u5fb5\u7684\u540d\u7a31\u4ee5\u53ca\u6bcf\u500b\u7279\u5fb5\u7684\u985e\u578b\u3002\n\u67b6\u69cb\u5fc5\u9808\u7de8\u5beb\u7232\u63a1\u7528 [Open API](https://swagger.io/docs/specification/data-models/data-types/#object) \u8a9e\u6cd5\u7684 YAML \u6587\u4ef6\u3002\u4ee5\u4e0b\u793a\u4f8b\u9069\u7528\u65bc\u63a1\u7528 `object` \u683c\u5f0f\u7684\u9810\u6e2c\u8acb\u6c42\uff1a\n```\ntype: objectproperties:\u00a0 age:\u00a0 \u00a0 type: string\u00a0 BMI:\u00a0 \u00a0 type: number\u00a0 TenYearCHD:\u00a0 \u00a0 type: string\u00a0 cigsPerDay:\u00a0 \u00a0 type: array\u00a0 \u00a0 items:\u00a0 \u00a0 \u00a0 type: string\u00a0 BPMeds:\u00a0 \u00a0 type: stringrequired:- age- BMI- TenYearCHD- cigsPerDay- BPMeds\n```\n\u6a21\u578b\u76e3\u63a7\u6839\u64da JSON \u884c [\u6279\u91cf\u9810\u6e2c\u8f38\u51fa](https://cloud.google.com/vertex-ai/docs/predictions/get-batch-predictions?hl=zh-cn#input_data_requirements) \u8a08\u7b97\u7279\u5fb5\u504f\u5dee\u3002\u5982\u679c\u60a8\u7684\u6578\u64da\u985e\u578b\u5305\u542b\u6578\u7d44\uff0c\u5247\u8f38\u5165\u6578\u64da\u4e2d\u6578\u7d44\u7684\u9577\u5ea6\u5fc5\u9808\u7b49\u65bc yaml \u6587\u4ef6\u4e2d\u6307\u5b9a\u7684\u7279\u5fb5\u6578\u91cf\u3002\u5426\u5247\uff0c\u6a21\u578b\u76e3\u63a7\u6703\u5f9e\u7279\u5fb5\u504f\u5dee\u8a08\u7b97\u4e2d\u6392\u9664\u6578\u7d44\u9577\u5ea6\u4e0d\u6b63\u78ba\u7684\u9810\u6e2c\u5be6\u4f8b\u3002\n\u4f8b\u5982\uff0c\u4ee5\u4e0b\u6578\u64da\u985e\u578b\u7684\u6578\u7d44\u5305\u542b\u5169\u500b\u7279\u5fb5\uff1a\n- \u6578\u7d44\uff1a `{[[1, 2]]}`\n- \u201c\u9375\u201d/\u201c\u503c\u201d\uff1a `{\"key\": 0, \"values\": [[1, 2]]}`\n\u76f8\u61c9\u7684\u67b6\u69cb\u9084\u5fc5\u9808\u6307\u5b9a\u5169\u500b\u529f\u80fd\uff1a\n```\ntype: objectproperties:\u00a0 name:\u00a0 \u00a0 type: string\u00a0 age:\u00a0 \u00a0 type: numberrequired:- name- age\n```\n## \u5f8c\u7e8c\u6b65\u9a5f\n- \u7232\u6a21\u578b [\u5553\u7528\u504f\u5dee\u548c\u504f\u79fb\u6aa2\u6e2c](https://cloud.google.com/vertex-ai/docs/model-monitoring/using-model-monitoring?hl=zh-cn) \u3002\n- [\u5728 Colab \u4e2d](https://colab.research.google.com/github/GoogleCloudPlatform/vertex-ai-samples/blob/main/notebooks/official/model_monitoring/model_monitoring.ipynb?hl=zh-cn) \u8a66\u7528\u793a\u4f8b\u7b46\u8a18\u672c\u6216 [\u5728 GitHub \u4e0a\u67e5\u770b\u793a\u4f8b\u7b46\u8a18\u672c](https://www.github.com/GoogleCloudPlatform/vertex-ai-samples/blob/main/notebooks/official/model_monitoring/model_monitoring.ipynb) \u3002", "guide": "Vertex AI"}