{"title": "Vertex AI - Schedule a managed notebooks run", "url": "https://cloud.google.com/vertex-ai/docs/start/introduction-unified-platform", "abstract": "# Vertex AI - Schedule a managed notebooks run\n# Schedule a managed notebooks run\nVertex AI Workbench managed notebooks is [deprecated](/vertex-ai/docs/deprecations) . On January 30, 2025, support for  managed notebooks will end and the ability to create managed notebooks instances  will be removed. Existing instances will continue to function  but patches, updates, and upgrades won't be available. To continue using  Vertex AI Workbench, we recommend that you [migrate your managed notebooks instances to Vertex AI Workbench instances](/vertex-ai/docs/workbench/managed/migrate-to-instances) .This page shows you how to use the Vertex AI Workbench managed notebooks executor to run a Python notebook file on an hourly schedule.", "content": "## Before you begin\n### Required rolesTo ensure that your instance's service account has the necessary  permissions to interact with the Vertex AI Workbench executor,   ask your administrator to grant your instance's service account the  following IAM roles on the project:- Notebooks Viewer ( [roles/notebooks.viewer](/vertex-ai/docs/workbench/instances/iam#notebooks.viewer) )\n- Vertex AI User ( [roles/aiplatform.user](/vertex-ai/docs/general/access-control#aiplatform.user) )\n- Storage Admin ( [roles/storage.admin](/storage/docs/access-control/iam-roles#standard-roles) )\nFor more information about granting roles, see [Manage access](/iam/docs/granting-changing-revoking-access) .\nYour administrator might also be able to give your instance's service account  the required permissions through [custom  roles](/iam/docs/creating-custom-roles) or other [predefined  roles](/iam/docs/understanding-roles) .## Create a managed notebooks instance and example notebook file\n- [Create a managed notebooksinstance](/vertex-ai/docs/workbench/managed/create-managed-notebooks-instance-console-quickstart#create-instance) .\n- [Open JupyterLab](/vertex-ai/docs/workbench/managed/create-managed-notebooks-instance-console-quickstart#open-jupyterlab) .\n- [Open a new notebook file](/vertex-ai/docs/workbench/managed/create-managed-notebooks-instance-console-quickstart#open-a-new-notebook-file) .\n- In the first cell of the notebook file, enter the following:```\n# Import datetime\nimport datetime\n# Get the time and print it\ndatetime.datetime.now()\nprint(datetime.datetime.now())\n```\n- To make sure your notebook file is saved, select **File\u00a0> Save Notebook** .\n## Schedule a run\n- In the Google Cloud console, go to the **Managed notebooks** page. [Go to Managed notebooks](https://console.cloud.google.com/vertex-ai/workbench/managed) \n- Next to the managed notebooks instance that you want to use, click **Open JupyterLab** .Your managed notebooks instance opens JupyterLab.\n- In the folder **File Browser** , double-click the example notebook file to open it.\n- Click the **Execute** button.\n- In the **Submit notebooks to Executor** dialog, in the **Type** field, select **Schedule-based recurring executions** .By default, the executor runs your notebook file every hour at the `00` minute of the hour.\n- In **Advanced options** , select the **Region** where you want to run your notebook.\n- In the **Cloud Storage bucket** field, enter a name for your bucket, and then click **Create and select** . The executor stores your notebook output in the Cloud Storage bucket.\n- Click **Submit** .Your notebook file runs automatically on the schedule that you set.\n **Note:** If your managed notebooks instance is shut down, the executor still runs your notebook file on schedule.\nWhen you finish the tasks that are described in this document, you can avoid continued billing by deleting the resources that you created. For more information, see [Clean up](#clean-up) .## View, share, and import an executed notebook fileBy using your managed notebooks instance's JupyterLab interface, you can view your notebook output, share the results with others, and import the executed notebook file into JupyterLab.\n **Note:** To use the Google Cloud console to view and share execution results, on the [Executions](https://console.cloud.google.com/vertex-ai/workbench/executions) page, click **Executions** .\n### View the execution results\n- In JupyterLab's navigation menu, click the **Notebook Executor** button.\n- Click the **Executions** tab.\n- Under the execution that you want to view, click **View result** .Executor opens your result in a new browser tab.\n### Share the execution results\n- In your managed notebooks instance's JupyterLab user interface, in the navigation menu, click the **Notebook Executor** button.\n- Click the **Executions** tab.\n- Next to the execution that you want to share, click the more_vert options menu, and select **Share execution result** .\n- Follow the directions in the dialog to grant users access to the execution result.\n### Import the executed notebook into JupyterLab\n- In your managed notebooks instance's JupyterLab user interface, in the navigation menu, click the **Notebook Executor** button.\n- Click the **Executions** tab.\n- Next to the execution that you want to import, click the more_vert options menu, and select **Import executed notebook** .\n- If the **Select Kernel** dialog appears, select the kernel that you want to open the notebook.The executor opens the executed notebook file in JupyterLab, and stores this notebook file in the JupyterLab File Browser in a folder named **imported_notebook_jobs** .\n## View or delete a scheduleYou can view and delete schedules by using either the Google Cloud console or your managed notebooks instance's JupyterLab user interface.\n### View a scheduleView a schedule to see the frequency settings of the schedule or to view the five most recent results of the notebook file execution.\n- In the Google Cloud console, go to the **Schedules** page. [Go to Schedules](https://console.cloud.google.com/vertex-ai/workbench/schedules) \n- Select the **Region** where you want to see schedules.\n- For the **Schedule details** page that you want to open, click its schedule name.On the **Schedule details** page, you can view the schedule's last five executions.\n- Next to an execution name, click **View result** to open the executed notebook file.Executor opens your result in a new browser tab.\n- In your managed notebooks instance's JupyterLab user interface, in the navigation menu, click the **Notebook Executor** button.\n- Click the **Schedules** tab.\n- Under the execution that you want to view, click **View latest execution result** .Executor opens your result in a new browser tab.### Delete a scheduleDeleting a schedule doesn't delete the executions that were generated from that schedule.\n- In the Google Cloud console, go to the **Schedules** page. [Go to Schedules](https://console.cloud.google.com/vertex-ai/workbench/schedules) \n- Select the **Region** that contains the schedule that you want to delete.\n- Select the schedule that you want to delete.\n- Click delete **Delete** .\n- In your managed notebooks instance's JupyterLab user interface, in the navigation menu, click the **Notebook Executor** button.\n- Click the **Schedules** tab.\n- At the end of the schedule name, click the open_in_new Open in new icon. The **Schedule details** page for that schedule opens in the Google Cloud console.\n- Click delete **Delete** .\n## Clean upTo avoid incurring charges to your Google Cloud account for   the resources used on this page, follow these steps.\n### Delete the instance\n- In the Google Cloud console, go to the **Managed notebooks** page. [Go to Managed notebooks](https://console.cloud.google.com/vertex-ai/workbench/managed) \n- Select the **Region** that contains your instance.\n- Select the managed notebooks instance that you want to delete.\n- Click delete **Delete** .\n### Delete the projectIf you used resources outside of your managed notebooks instance, such as the Cloud Storage bucket required for creating a schedule, you might want to delete your project to avoid incurring additional charges.- **Caution** : Deleting a project has the following effects:- **Everything in the project is deleted.** If you used an existing project for  the tasks in this document, when you delete it, you also delete any other work you've  done in the project.\n- **Custom project IDs are lost.** When you created this project, you might have created a custom project ID that you want to use in  the future. To preserve the URLs that use the project ID, such as an`appspot.com`URL, delete selected resources inside the project instead of deleting the whole project.\nIf you plan to explore multiple architectures, tutorials, or quickstarts, reusing projects  can help you avoid exceeding project quota limits.\n- In the Google Cloud console, go to the **Manage resources** page. [Go to Manage resources](https://console.cloud.google.com/iam-admin/projects) \n- In the project list, select the project that you  want to delete, and then click **Delete** .\n- In the dialog, type the project ID, and then click **Shut down** to delete the project.\n## What's next\n- Learn more about [creating a managed notebooksinstance](/vertex-ai/docs/workbench/managed/create-instance) .\nTo see an example of how to schedule a notebooks run as part of a more comprehensive workflow,  run the \"Train a multi-class classification model for ads-targeting\" Jupyter notebook in one of the following  environments: [Openin Colab](https://colab.research.google.com/github/GoogleCloudPlatform/vertex-ai-samples/blob/main/notebooks/official/workbench/ads_targetting/training-multi-class-classification-model-for-ads-targeting-usecase.ipynb) | [Openin Vertex AI Workbench user-managed notebooks](https://console.cloud.google.com/vertex-ai/workbench/deploy-notebook?download_url=https%3A%2F%2Fraw.githubusercontent.com%2FGoogleCloudPlatform%2Fvertex-ai-samples%2Fmain%2Fnotebooks%2Fofficial%2Fworkbench%2Fads_targetting%2Ftraining-multi-class-classification-model-for-ads-targeting-usecase.ipynb) | [View on GitHub](https://github.com/GoogleCloudPlatform/vertex-ai-samples/blob/main/notebooks/official/workbench/ads_targetting/training-multi-class-classification-model-for-ads-targeting-usecase.ipynb)", "guide": "Vertex AI"}