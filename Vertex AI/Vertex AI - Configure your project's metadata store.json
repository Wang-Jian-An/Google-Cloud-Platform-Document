{"title": "Vertex AI - Configure your project's metadata store", "url": "https://cloud.google.com/vertex-ai/docs/ml-metadata/configure", "abstract": "# Vertex AI - Configure your project's metadata store\nVertex ML Metadata lets you track and analyze the metadata produced by your machine learning (ML) workflows. The first time you run a PipelineJob or create an experiment in the Vertex SDK, Vertex AI creates your project's .\nIf you want your metadata encrypted using a [customer-managed encryption key(CMEK)](/vertex-ai/docs/general/cmek) , you must create your metadata store using a CMEK you use Vertex ML Metadata to track or analyze metadata.\nAfter the metadata store has been created, the CMEK key that the metadata store uses is independent of the CMEK key used by processes that log metadata, for example, a pipeline run.\n", "content": "## Create a metadata store that uses a CMEK\nUse the following instructions to create a CMEK and set up a Vertex ML Metadata metadata store that uses this CMEK.\n- [Use Cloud Key Management Service to configure a customer-managed encryptionkey.](/vertex-ai/docs/general/cmek#configure-cmek) \n- Use the following REST call to create your project's default metadata store using your CMEK.Before using any of the request data, make the following replacements:- : Your region.\n- : Your [project ID](/resource-manager/docs/creating-managing-projects#identifiers) .\n- : The name of the Cloud Key Management Service key ring that your encryption key is on.\n- : The name of the encryption key that you want to use for this metadata  store.\nHTTP method and URL:\n```\nPOST https://LOCATION_ID-aiplatform.googleapis.com/v1/projects/PROJECT_ID/locations/LOCATION_ID/metadataStores?metadata_store_id=default\n```\nRequest JSON body:\n```\n{\n \"encryption_spec\": {\n \"kms_key_name\": \"projects/PROJECT_ID/locations/LOCATION_ID/keyRings/KEY_RING/cryptoKeys/KEY_NAME\"\n },\n}\n```\nTo send your request, expand one of these options:You should receive a JSON response similar to the following:\n```\n{\n \"name\": \"projects/PROJECT_ID/locations/LOCATION_ID/operations/OPERATIONS_ID\",\n \"metadata\": {\n \"@type\": \"type.googleapis.com/google.cloud.aiplatform.v1.CreateMetadataStoreOperationMetadata\",\n \"genericMetadata\": {\n  \"createTime\": \"2021-05-18T18:47:14.494997Z\",\n  \"updateTime\": \"2021-05-18T18:47:14.494997Z\"\n }\n }\n}\n```", "guide": "Vertex AI"}