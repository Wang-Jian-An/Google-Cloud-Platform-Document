{"title": "Vertex AI - About accessing Vertex AI services through private services access", "url": "https://cloud.google.com/vertex-ai/docs/general/private-services-access", "abstract": "# Vertex AI - About accessing Vertex AI services through private services access\nVertex AI services that have a checkmark in the **Private services access** column of the [Private access options for Vertex AI](/vertex-ai/docs/general/netsec-overview#private_access_options_for) table require you to connect to their services through [private services access](/vpc/docs/configure-private-services-access) .\nThese Google-managed Vertex AI services support bidirectional communication with a service consumer's on-premises, multicloud, and VPC workloads.\nThis private communication happens exclusively by using internal IP addresses. VM instances don't need internet access or external IP addresses to reach services that are available through private services access.\nVertex AI provides services that are hosted in a Google-managed VPC network. Private services access lets you reach the internal IP addresses of these Vertex AI and third-party services through a VPC Network Peering connection.\nThe following diagram shows a [custom training](/vertex-ai/docs/training/overview) architecture in which Vertex AI APIs for training jobs and pipeline jobs are enabled and managed in a service project ( `serviceproject` ) as part of a [Shared VPC](/vpc/docs/shared-vpc) deployment. These components are deployed as a Google-managed Infrastructure-as-a-Service (IaaS) in the service producer's VPC network. The service consumer's VPC network ( `hostproject` ) accesses these services through a private services access connection.\n", "content": "## Private services access deployment options\nYou can create a new private connection or modify an existing one. Before you configure private services access, understand the [considerations](/vpc/docs/configure-private-services-access#considerations) for choosing a VPC network and IP address range.\nTo create a new private connection, you must first create an [allocated IP range](/vpc/docs/configure-private-services-access#procedure) and then create a [private connection](/vpc/docs/configure-private-services-access#creating-connection) between your VPC network and Google-managed Vertex AI services.\nAlternatively, you can modify an existing connection. For more information, see [Modify a private connection](/vpc/docs/configure-private-services-access#modifying-connection) .\n### Vertex AI subnet recommendations\nThe following table lists the recommended subnet ranges for Vertex AI services.\n| Vertex AI feature     | Recommended subnet range |\n|:------------------------------------|:---------------------------|\n| Managed notebook instances   | /29      |\n| Vertex AI Pipelines     | /21      |\n| Custom training jobs    | /19      |\n| Vector Search online queries  | /16      |\n| Online prediction private endpoints | /21      |\n## Deployment considerations\nFollowing are some important considerations that affect how you establish communication between your on-premises, multicloud, and VPC workloads and Google-managed Vertex AI services.\n### IP advertisement\nYou must advertise the private services access subnet range from the Cloud Router as a custom route advertisement. For more information, see [Advertise custom IP ranges](/network-connectivity/docs/router/how-to/advertising-custom-ip) .\n### VPC Network Peering\nThe service producer's network might not have the correct routes to direct traffic to your on-premises network. By default, the service producer's network only learns the subnet routes from your VPC network. Therefore, any request that's not from a subnet IP range is dropped by the service producer.\nFor this reason, in your VPC network, you must [update the peering connection](/vpc/docs/using-vpc-peering#update-peer-connection) to export custom routes to the service producer's network. Exporting routes sends all eligible static and dynamic routes that are in your VPC network, such as routes to your on-premises network, to the service producer's network. The service producer's network automatically imports them and then can send traffic back to your on-premises network through the VPC network.\n### Firewall rules\nYou must update the firewall rules for the VPC network that connects your on-premises and multicloud environments to Google Cloud to allow ingress traffic from and egress traffic to private services access subnets.", "guide": "Vertex AI"}