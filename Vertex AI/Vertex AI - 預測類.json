{"title": "Vertex AI - \u9810\u6e2c\u985e", "url": "https://cloud.google.com/vertex-ai/docs/python-sdk/prediction-classes?hl=zh-cn", "abstract": "# Vertex AI - \u9810\u6e2c\u985e\nVertex AI SDK \u5305\u542b\u4ee5\u4e0b\u9810\u6e2c\u985e\u3002\u4e00\u500b\u985e\u9069\u7528\u65bc\u6279\u91cf\u9810\u6e2c\u3002\u5176\u4ed6\u5247\u8207\u5728\u7dda\u9810\u6e2c\u6216 Vector Search \u9810\u6e2c\u76f8\u95dc\u3002\u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1 [\u6982\u89bd\uff1a\u5728 Vertex AI \u4e0a\u9032\u884c\u9810\u6e2c](https://cloud.google.com/vertex-ai/docs/predictions/overview?hl=zh-cn) \u3002\n", "content": "## \u6279\u91cf\u9810\u6e2c\u985e\n\u6279\u91cf\u9810\u6e2c\u662f\u4e00\u7d44\u7570\u6b65\u9810\u6e2c\u8acb\u6c42\u3002\u60a8\u53ef\u4ee5\u5f9e\u6a21\u578b\u8cc7\u6e90\u8acb\u6c42\u6279\u91cf\u9810\u6e2c\uff0c\u800c\u7121\u9700\u5c07\u6a21\u578b\u90e8\u7f72\u5230\u7aef\u9ede\u3002\u5982\u679c\u60a8\u4e0d\u9700\u8981\u7372\u5f97\u5373\u6642\u97ff\u61c9\u4e26\u4e14\u5e0c\u671b\u901a\u904e\u55ae\u500b\u8acb\u6c42\u8655\u7406\u6578\u64da\uff0c\u5247\u9069\u5408\u63a1\u7528\u6279\u91cf\u9810\u6e2c\u3002 [BatchPredictionJob](https://cloud.google.com/python/docs/reference/aiplatform/latest/google.cloud.aiplatform.BatchPredictionJob?hl=zh-cn) \u4fbf\u662f Vertex AI SDK \u4e2d\u4e00\u500b\u7279\u5b9a\u65bc\u6279\u91cf\u9810\u6e2c\u7684\u985e\u3002\n### BatchPredictionJob\n[BatchPredictionJob](https://cloud.google.com/python/docs/reference/aiplatform/latest/google.cloud.aiplatform.BatchPredictionJob?hl=zh-cn) \u985e\u8868\u793a\u4e00\u7d44\u7570\u6b65\u9810\u6e2c\u8acb\u6c42\u3002\u60a8\u53ef\u4ee5\u901a\u904e\u4ee5\u4e0b\u5169\u7a2e\u65b9\u5f0f\u5275\u5efa\u6279\u91cf\u9810\u6e2c\u4f5c\u696d\uff1a\n- \u5275\u5efa\u6279\u91cf\u9810\u6e2c\u4f5c\u696d\u7684\u9996\u9078\u65b9\u6cd5\u662f\u5c0d\u7d93\u904e\u8a13\u7df4\u7684 [Model](https://cloud.google.com/python/docs/reference/aiplatform/latest/google.cloud.aiplatform.Model?hl=zh-cn) \u4f7f\u7528 [batch_predict](https://cloud.google.com/python/docs/reference/aiplatform/latest/google.cloud.aiplatform.Model?hl=zh-cn#google_cloud_aiplatform_Model_batch_predict) \u65b9\u6cd5\u3002\u6b64\u65b9\u6cd5\u9700\u8981\u7528\u5230\u4ee5\u4e0b\u53c3\u6578\uff1a- `instances_format`\uff1a\u6279\u91cf\u9810\u6e2c\u8acb\u6c42\u6587\u4ef6\u7684\u683c\u5f0f\uff1a`jsonl`\u3001`csv`\u3001`bigquery`\u3001`tf-record`\u3001`tf-record-gzip`\u6216`file-list`\u3002\n- `prediction_format`\uff1a\u6279\u91cf\u9810\u6e2c\u97ff\u61c9\u6587\u4ef6\u7684\u683c\u5f0f\uff1a`jsonl`\u3001`csv`\u3001`bigquery`\u3001`tf-record`\u3001`tf-record-gzip`\u6216`file-list`\u3002\n- `gcs_source:`\uff1a\u6279\u91cf\u9810\u6e2c\u8acb\u6c42\u7684\u4e00\u500b\u6216\u591a\u500b Cloud Storage \u8def\u5f91\u7684\u5217\u8868\u3002\n- `gcs_destination_prefix`\uff1aVertex AI \u8981\u5c07\u9810\u6e2c\u5beb\u5165\u5230\u7684 Cloud Storage \u8def\u5f91\u3002\n\u4ee5\u4e0b\u4ee3\u78bc\u793a\u4f8b\u5c55\u793a\u77ad\u5982\u4f55\u8abf\u7528 [Model.batch_predict](https://cloud.google.com/python/docs/reference/aiplatform/latest/google.cloud.aiplatform.Model?hl=zh-cn#google_cloud_aiplatform_Model_batch_predict) \uff1a```\nbatch_prediction_job = model.batch_predict(\u00a0 \u00a0 instances_format=\"jsonl\",\u00a0 \u00a0 predictions_format=\"jsonl\",\u00a0 \u00a0 job_display_name=\"your_job_display_name_string\",\u00a0 \u00a0 gcs_source=['gs://path/to/my/dataset.csv'],\u00a0 \u00a0 gcs_destination_prefix='gs://path/to/my/destination',\u00a0 \u00a0 model_parameters=None,\u00a0 \u00a0 starting_replica_count=1,\u00a0 \u00a0 max_replica_count=5,\u00a0 \u00a0 machine_type=\"n1-standard-4\",\u00a0 \u00a0 sync=True)\n```\n- \u5275\u5efa\u6279\u91cf\u9810\u6e2c\u4f5c\u696d\u7684\u7b2c\u4e8c\u7a2e\u65b9\u6cd5\u662f\u8abf\u7528 [BatchPredictionJob.create](https://cloud.google.com/python/docs/reference/aiplatform/latest/google.cloud.aiplatform.BatchPredictionJob?hl=zh-cn#google_cloud_aiplatform_BatchPredictionJob_create) \u65b9\u6cd5\u3002 [BatchPredictionJob.create](https://cloud.google.com/python/docs/reference/aiplatform/latest/google.cloud.aiplatform.BatchPredictionJob?hl=zh-cn#google_cloud_aiplatform_BatchPredictionJob_create) \u65b9\u6cd5\u9700\u8981\u7528\u5230\u4e0b\u9762\u56db\u500b\u53c3\u6578\uff1a- `job_display_name`\uff1a\u60a8\u7232\u6279\u91cf\u9810\u6e2c\u6307\u5b9a\u7684\u540d\u7a31\u3002\u8acb\u6ce8\u610f\uff0c\u96d6\u7136`job_display_name`\u5c0d\u65bc [BatchPredictionJob.create](https://cloud.google.com/python/docs/reference/aiplatform/latest/google.cloud.aiplatform.BatchPredictionJob?hl=zh-cn#google_cloud_aiplatform_BatchPredictionJob_create) \u65b9\u6cd5\u800c\u8a00\u662f\u5fc5\u9700\u7684\u53c3\u6578\uff0c\u4f46\u5c0d [Model.batch_predict](https://cloud.google.com/python/docs/reference/aiplatform/latest/google.cloud.aiplatform.Model?hl=zh-cn#google_cloud_aiplatform_Model_batch_predict) \u65b9\u6cd5\u662f\u53ef\u9078\u53c3\u6578\u3002\n- `model_name`\uff1a\u8981\u901a\u904e\u5176\u4f86\u57f7\u884c\u6279\u91cf\u9810\u6e2c\u4f5c\u696d\u7684\u7d93\u904e\u8a13\u7df4\u7684 [Model](https://cloud.google.com/python/docs/reference/aiplatform/latest/google.cloud.aiplatform.Model?hl=zh-cn) \u7684\u5b8c\u5168\u9650\u5b9a\u540d\u7a31\u6216 ID\u3002\n- `instances_format`\uff1a\u6279\u91cf\u9810\u6e2c\u8acb\u6c42\u6587\u4ef6\u7684\u683c\u5f0f\uff1a`jsonl`\u3001`csv`\u3001`bigquery`\u3001`tf-record`\u3001`tf-record-gzip`\u6216`file-list`\u3002\n- `predictions_format`\uff1a\u6279\u91cf\u9810\u6e2c\u97ff\u61c9\u6587\u4ef6\u7684\u683c\u5f0f\uff1a`jsonl`\u3001`csv`\u3001`bigquery`\u3001`tf-record`\u3001`tf-record-gzip`\u6216`file-list`\u3002\n## \u5728\u7dda\u9810\u6e2c\u985e\n\u5728\u7dda\u9810\u6e2c\u662f\u5411\u6a21\u578b\u7aef\u9ede\u767c\u51fa\u7684\u540c\u6b65\u8acb\u6c42\u3002\u60a8\u5fc5\u9808\u5148\u5c07\u6a21\u578b\u90e8\u7f72\u5230\u7aef\u9ede\uff0c\u7136\u5f8c\u624d\u80fd\u767c\u51fa\u5728\u7dda\u9810\u6e2c\u8acb\u6c42\u3002\u5982\u679c\u60a8\u5e0c\u671b\u6839\u64da\u61c9\u7528\u8f38\u5165\u751f\u6210\u9810\u6e2c\u7d50\u679c\u6216\u662f\u9700\u8981\u5feb\u901f\u7372\u5f97\u9810\u6e2c\u97ff\u61c9\uff0c\u5247\u9069\u5408\u63a1\u7528\u5728\u7dda\u9810\u6e2c\u3002\n### Endpoint\n\u60a8\u5fc5\u9808\u5148\u5c07\u6a21\u578b\u90e8\u7f72\u5230\u7aef\u9ede\uff0c\u7136\u5f8c\u624d\u80fd\u901a\u904e\u8a72\u6a21\u578b\u9032\u884c\u5728\u7dda\u9810\u6e2c\u3002\u5c07\u6a21\u578b\u90e8\u7f72\u5230\u7aef\u9ede\uff0c\u5373\u6703\u5c07\u7269\u7406\u6a5f\u5668\u8cc7\u6e90\u8207\u8a72\u6a21\u578b\u76f8\u95dc\u806f\uff0c\u4ee5\u4fbf\u901a\u904e\u6a21\u578b\u9032\u884c\u5728\u7dda\u9810\u6e2c\u3002\n\u60a8\u53ef\u4ee5\u5c07\u591a\u500b\u6a21\u578b\u90e8\u7f72\u5230\u4e00\u500b\u7aef\u9ede\u3002\u60a8\u4e5f\u53ef\u4ee5\u5c07\u4e00\u500b\u6a21\u578b\u90e8\u7f72\u5230\u591a\u500b\u7aef\u9ede\u3002\u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1 [\u6a21\u578b\u90e8\u7f72\u6ce8\u610f\u4e8b\u9805](https://cloud.google.com/vertex-ai/docs/general/deployment?hl=zh-cn) \u3002\n\u5982\u9700\u5275\u5efa [Endpoint](https://cloud.google.com/python/docs/reference/aiplatform/latest/google.cloud.aiplatform.Endpoint?hl=zh-cn) \u8cc7\u6e90\uff0c\u90e8\u7f72\u6a21\u578b\u5373\u53ef\u3002\u7576\u60a8\u8abf\u7528 [Model.deploy](https://cloud.google.com/python/docs/reference/aiplatform/latest/google.cloud.aiplatform.ModelModel?hl=zh-cn#google_cloud_aiplatform_Model_deploy) \u65b9\u6cd5\u6642\uff0c\u5373\u6703\u5275\u5efa\u4e26\u8fd4\u56de\u4e00\u500b [Endpoint](https://cloud.google.com/python/docs/reference/aiplatform/latest/google.cloud.aiplatform.Endpoint?hl=zh-cn) \u3002\n\u4e0b\u9762\u7684\u793a\u4f8b\u4ee3\u78bc\u6bb5\u5c55\u793a\u77ad\u5982\u4f55\u5275\u5efa\u4e00\u500b\u81ea\u5b9a\u7fa9\u8a13\u7df4\u4f5c\u696d\uff0c\u5275\u5efa\u4e26\u8a13\u7df4\u4e00\u500b\u6a21\u578b\uff0c\u7136\u5f8c\u5c07\u8a72\u6a21\u578b\u90e8\u7f72\u5230\u4e00\u500b\u7aef\u9ede\u3002\n```\n# Create your custom training jobjob = aiplatform.CustomTrainingJob(\u00a0 \u00a0 display_name=\"my_custom_training_job\",\u00a0 \u00a0 script_path=\"task.py\",\u00a0 \u00a0 container_uri=\"us-docker.pkg.dev/vertex-ai/training/tf-cpu.2-8:latest\",\u00a0 \u00a0 requirements=[\"google-cloud-bigquery>=2.20.0\", \"db-dtypes\"],\u00a0 \u00a0 model_serving_container_image_uri=\"us-docker.pkg.dev/vertex-ai/prediction/tf2-cpu.2-8:latest\")# Start the training and create your modelmodel = job.run(\u00a0 \u00a0 dataset=dataset,\u00a0 \u00a0 model_display_name=\"my_model_name\",\u00a0 \u00a0 bigquery_destination=f\"bq://{project_id}\")# Create an endpoint and deploy your model to that endpointendpoint = model.deploy(deployed_model_display_name=\"my_deployed_model\")# Get predictions using test data in a DataFrame named 'df_my_test_data'predictions = endpoint.predict(instances=df_my_test_data)\n```\n### PrivateEndpoint\n\u5c08\u7528\u7aef\u9ede\u8207 [Endpoint](https://cloud.google.com/python/docs/reference/aiplatform/latest/google.cloud.aiplatform.Endpoint?hl=zh-cn) \u8cc7\u6e90\u985e\u4f3c\uff0c\u4e0d\u540c\u4e4b\u8655\u5728\u65bc\u9810\u6e2c\u6703\u901a\u904e\u5b89\u5168\u7db2\u7d61\u767c\u9001\u5230 Vertex AI \u5728\u7dda\u9810\u6e2c\u670d\u52d9\u3002\u5982\u679c\u60a8\u7684\u7d44\u7e54\u5e0c\u671b\u5c07\u6240\u6709\u6d41\u91cf\u4fdd\u6301\u7232\u4e0d\u516c\u958b\u72c0\u614b\uff0c\u8acb\u4f7f\u7528\u5c08\u7528\u7aef\u9ede\u3002\n\u5982\u9700\u4f7f\u7528\u5c08\u7528\u7aef\u9ede\uff0c\u60a8\u5fc5\u9808\u5c07 Vertex AI \u914d\u7f6e\u7232\u8207\u4e00\u500b\u865b\u64ec\u79c1\u6709\u4e91 (VPC) \u5efa\u7acb\u5c0d\u7b49\u4e92\u9023\u3002\u5c08\u7528\u9810\u6e2c\u7aef\u9ede\u5fc5\u9808\u901a\u904e VPC \u624d\u80fd\u8207 Vertex AI \u5efa\u7acb\u76f4\u63a5\u9023\u63a5\u3002\u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1 [\u8a2d\u7f6e VPC \u7db2\u7d61\u5c0d\u7b49\u4e92\u9023](https://cloud.google.com/vertex-ai/docs/general/vpc-peering?hl=zh-cn) \u548c [\u4f7f\u7528\u5c08\u7528\u7aef\u9ede\u9032\u884c\u5728\u7dda\u9810\u6e2c](https://cloud.google.com/vertex-ai/docs/predictions/using-private-endpoints?hl=zh-cn) \u3002\n### ModelDeploymentMonitoringJob\n\u4f7f\u7528 [ModelDeploymentMonitoringJob](https://cloud.google.com/python/docs/reference/aiplatform/latest/google.cloud.aiplatform.ModelDeploymentMonitoringJob?hl=zh-cn) \u8cc7\u6e90\u76e3\u63a7\u6a21\u578b\uff0c\u4e26\u5728\u6a21\u578b\u504f\u96e2\u65e2\u5b9a\u76ee\u6a19\u4e26\u6709\u53ef\u80fd\u5f71\u97ff\u6a21\u578b\u7684\u9810\u6e2c\u8cea\u91cf\u6642\u63a5\u6536\u63d0\u9192\u3002\n\u5982\u679c\u8f38\u5165\u6578\u64da\u8207\u7528\u65bc\u8a13\u7df4\u6a21\u578b\u7684\u6578\u64da\u5b58\u5728\u5dee\u7570\uff0c\u90a3\u9ebc\u5373\u4f7f\u6a21\u578b\u672c\u8eab\u672a\u767c\u751f\u8b8a\u5316\uff0c\u6a21\u578b\u7684\u8868\u73fe\u53ef\u80fd\u4e5f\u6703\u53d7\u5230\u5f71\u97ff\u3002\u6a21\u578b\u76e3\u63a7\u529f\u80fd\u6703\u5c0d\u8f38\u5165\u6578\u64da\u9032\u884c\u5206\u6790\uff0c\u4ee5\u767c\u73fe\u7279\u5fb5\u504f\u5dee\u548c\u504f\u79fb\u60c5\u6cc1\uff1a\n- \u5982\u679c\u751f\u7522\u7279\u5fb5\u6578\u64da\u5206\u4f48\u8207\u7528\u65bc\u8a13\u7df4\u6a21\u578b\u7684\u7279\u5fb5\u6578\u64da\u5b58\u5728\u5dee\u7570\uff0c\u4fbf\u6703\u767c\u751f\u201c\u504f\u5dee\u201d\u3002\n- \u5982\u679c\u751f\u7522\u7279\u5fb5\u6578\u64da\u6703\u96a8\u6642\u9593\u660e\u986f\u6ce2\u52d5\uff0c\u4fbf\u6703\u767c\u751f\u201c\u504f\u79fb\u201d\u3002\n\u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1 [Vertex AI \u6a21\u578b\u76e3\u63a7\u529f\u80fd\u7c21\u4ecb](https://cloud.google.com/vertex-ai/docs/model-monitoring/overview?hl=zh-cn) \u3002\u5982\u9700\u67e5\u770b\u5982\u4f55\u4f7f\u7528 Vertex AI SDK \u5be6\u73fe Vertex AI \u76e3\u63a7\u529f\u80fd\u7684\u793a\u4f8b\uff0c\u8acb\u53c3\u95b1 GitHub \u4e0a\u7684 [\u5c07 Vertex AI \u6a21\u578b\u76e3\u63a7\u529f\u80fd\u8207 Explainable AI \u7279\u5fb5\u6b78\u56e0\u642d\u914d\u4f7f\u7528](https://github.com/GoogleCloudPlatform/vertex-ai-samples/blob/main/notebooks/official/model_monitoring/model_monitoring.ipynb) \u7b46\u8a18\u672c\u3002\n## Vector Search \u9810\u6e2c\u985e\nVector Search \u662f\u4e00\u9805\u4ee3\u7ba1\u5f0f\u670d\u52d9\uff0c\u7528\u65bc\u69cb\u5efa\u76f8\u4f3c\u5ea6\u7d22\u5f15\u6216\u5411\u91cf\u4f86\u57f7\u884c\u76f8\u4f3c\u5ea6\u5339\u914d\u3002\u57f7\u884c\u76f8\u4f3c\u5ea6\u5339\u914d\u5927\u81f4\u6709\u4e0b\u9762\u5169\u500b\u6b65\u9a5f\uff1a\n- \u5275\u5efa\u6578\u64da\u7684\u77e2\u91cf\u8868\u793a\u3002\u6578\u64da\u53ef\u4ee5\u662f\u6587\u672c\u3001\u5716\u7247\u3001\u8996\u983b\u3001\u97f3\u983b\u6216\u8868\u683c\u6578\u64da\u3002\n- Vector Search \u4f7f\u7528\u6240\u5275\u5efa\u5411\u91cf\u7684\u7aef\u9ede\u5c0d\u985e\u4f3c\u5411\u91cf\u57f7\u884c\u5927\u898f\u6a21\u3001\u4f4e\u5ef6\u9072\u7684\u641c\u7d22\u3002\n\u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1 GitHub \u4e0a\u7684 [Vector Search \u6982\u89bd](https://cloud.google.com/vertex-ai/docs/vector-search/overview?hl=zh-cn) \u548c [\u5275\u5efa Vector Search \u7d22\u5f15](https://github.com/GoogleCloudPlatform/vertex-ai-samples/blob/main/notebooks/official/matching_engine/sdk_matching_engine_for_indexing.ipynb) \u7b46\u8a18\u672c\u3002\n### MatchingEngineIndex\n[MatchingEngineIndex](https://cloud.google.com/python/docs/reference/aiplatform/latest/google.cloud.aiplatform.MatchingEngineIndex?hl=zh-cn) \u985e\u8868\u793a\u60a8\u5275\u5efa\u7684\u7d22\u5f15\u6216\u5411\u91cf\uff0cVector Search \u4f7f\u7528\u5b83\u5011\u4f86\u57f7\u884c\u76f8\u4f3c\u5ea6\u641c\u7d22\u3002\n\u53ef\u4ee5\u5728\u7d22\u5f15\u4e2d\u4f7f\u7528\u4e0b\u9762\u5169\u7a2e\u641c\u7d22\u7b97\u6cd5\uff1a\n- `TreeAhConfig`\u4f7f\u7528\u6dfa\u6a39 AH \u7b97\u6cd5\uff08\u5373\u4f7f\u7528\u975e\u5c0d\u7a31\u54c8\u5e0c\u7684\u6dfa\u6a39\uff09\u3002\u4f7f\u7528 [MatchingEngineIndex.create_tree_ah_index](https://cloud.google.com/python/docs/reference/aiplatform/latest/google.cloud.aiplatform.MatchingEngineIndex?hl=zh-cn#google_cloud_aiplatform_MatchingEngineIndex_create_tree_ah_index) \u53ef\u5275\u5efa\u4f7f\u7528\u6a39 AH \u7b97\u6cd5\u7684\u7d22\u5f15\u3002\n- `BruteForceConfig`\u4f7f\u7528\u6a19\u6e96\u7dda\u6027\u641c\u7d22\u3002\u4f7f\u7528 [MatchingEngineIndex.create_brute_force_index](https://cloud.google.com/python/docs/reference/aiplatform/latest/google.cloud.aiplatform.MatchingEngineIndex?hl=zh-cn#google_cloud_aiplatform_MatchingEngineIndex_create_brute_force_index) \u53ef\u5275\u5efa\u4f7f\u7528\u6a19\u6e96\u7dda\u6027\u641c\u7d22\u7684\u7d22\u5f15\u3002\n\u5982\u9700\u8a73\u7d30\u77ad\u89e3\u5982\u4f55\u914d\u7f6e\u7d22\u5f15\uff0c\u8acb\u53c3\u95b1 [\u914d\u7f6e\u7d22\u5f15](https://cloud.google.com/vertex-ai/docs/vector-search/configuring-indexes?hl=zh-cn) \u3002\n\u4e0b\u9762\u7684\u4ee3\u78bc\u793a\u4f8b\u6f14\u793a\u77ad\u5982\u4f55\u5275\u5efa\u4f7f\u7528\u6a39 AH \u7b97\u6cd5\u7684\u7d22\u5f15\uff1a\n```\nmy_tree_ah_index = aiplatform.Index.create_tree_ah_index(\u00a0 \u00a0 display_name=\"my_display_name\",\u00a0 \u00a0 contents_delta_uri=\"gs://my_bucket/embeddings\",\u00a0 \u00a0 dimensions=1,\u00a0 \u00a0 approximate_neighbors_count=150,\u00a0 \u00a0 distance_measure_type=\"SQUARED_L2_DISTANCE\",\u00a0 \u00a0 leaf_node_embedding_count=100,\u00a0 \u00a0 leaf_nodes_to_search_percent=50,\u00a0 \u00a0 description=\"my description\",\u00a0 \u00a0 labels={ \"label_name\": \"label_value\" })\n```\n\u4e0b\u9762\u7684\u4ee3\u78bc\u793a\u4f8b\u6f14\u793a\u77ad\u5982\u4f55\u5275\u5efa\u4f7f\u7528\u66b4\u529b\u7b97\u6cd5\u7684\u7d22\u5f15\uff1a\n```\nmy_brute_force_index = aiplatform.Index.create_brute_force_index(\u00a0 \u00a0 display_name=\"my_display_name\",\u00a0 \u00a0 contents_delta_uri=\"gs://my_bucket/embeddings\",\u00a0 \u00a0 dimensions=1,\u00a0 \u00a0 approximate_neighbors_count=150,\u00a0 \u00a0 distance_measure_type=\"SQUARED_L2_DISTANCE\",\u00a0 \u00a0 description=\"my description\",\u00a0 \u00a0 labels={ \"label_name\": \"label_value\" })\n```\n### MatchingEngineIndexEndpoint\n\u4f7f\u7528 [MatchingEngineIndexEndpoint](https://cloud.google.com/python/docs/reference/aiplatform/latest/google.cloud.aiplatform.MatchingEngineIndexEndpoint?hl=zh-cn) \u985e\u53ef\u5275\u5efa\u548c\u6aa2\u7d22\u7aef\u9ede\u3002\u5c07\u6a21\u578b\u90e8\u7f72\u5230\u7aef\u9ede\u5f8c\uff0c\u60a8\u6703\u7372\u5f97\u4e00\u500b IP \u5730\u5740\uff0c\u7528\u4ee5\u904b\u884c\u67e5\u8a62\u3002\n\u4e0b\u9762\u7684\u4ee3\u78bc\u793a\u4f8b\u6f14\u793a\u77ad\u5982\u4f55\u5275\u5efa\u4e00\u500b\u5339\u914d\u5f15\u64ce\u7d22\u5f15\u7aef\u9ede\uff0c\u7136\u5f8c\u5411\u8a72\u7aef\u9ede\u90e8\u7f72\u4e00\u500b\u5339\u914d\u5f15\u64ce\u7d22\u5f15\uff1a\n```\nmy_index_endpoint = aiplatform.MatchingEngineIndexEndpoint.create(\u00a0 \u00a0 display_name=\"sample_index_endpoint\",\u00a0 \u00a0 description=\"index endpoint description\",\u00a0 \u00a0 network=\"projects/123456789123/global/networks/my_vpc\")my_index_endpoint = my_index_endpoint.deploy_index(\u00a0 \u00a0 index=my_tree_ah_index, deployed_index_id=\"my_matching_engine_index_id\")\n```\n## \u5f8c\u7e8c\u6b65\u9a5f\n- \u77ad\u89e3 [Vertex AI SDK](https://cloud.google.com/vertex-ai/docs/python-sdk/use-vertex-ai-python-sdk?hl=zh-cn) \u3002", "guide": "Vertex AI"}