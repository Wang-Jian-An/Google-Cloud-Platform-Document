{"title": "Vertex AI - Service accounts for Tabular Workflows", "url": "https://cloud.google.com/vertex-ai/docs/tabular-data/tabular-workflows/service-accounts", "abstract": "# Vertex AI - Service accounts for Tabular Workflows\nThis page explains the service accounts for the following Tabular Workflows:\n- [Tabular Workflow for End-to-End AutoML](#e2e-automl) \n- [Tabular Workflow for Forecasting](#forecasting) \n- [Tabular Workflow for TabNet](#fte-workflow) \n- [Tabular Workflow for Wide & Deep](#fte-workflow) \n- [Prophet](#fte-workflow) \n- [ARIMA+](#arima) ", "content": "## Service accounts for Tabular Workflow for End-to-End AutoML\nThis workflow uses the following service accounts:\n| Service account       | Description           | Default principal            | Default name       | Can be overridden |\n|:----------------------------------------|:-------------------------------------------------------|:-----------------------------------------------------------------|:---------------------------------------|:--------------------|\n| Service account for Vertex AI Pipelines | The service account that runs the pipeline    | PROJECT_NUMBER-compute@developer.gserviceaccount.com    | Compute Engine default service account | Yes     |\n| Service account for Dataflow worker  | The service account that runs the Dataflow workers  | PROJECT_NUMBER-compute@developer.gserviceaccount.com    | Compute Engine default service account | Yes     |\n| AI Platform Service Agent    | The service account that runs the training containers. | service-PROJECT_NUMBER@gcp-sa-aiplatform.iam.gserviceaccount.com | AI Platform Service Agent    | No     |\nSome of the service accounts can be changed to an account of your choice. See [Train a model with End-to-End AutoML](/vertex-ai/docs/tabular-data/tabular-workflows/e2e-automl-train) for instructions specific to Google Cloud console or the API.\n### Service account for Vertex AI Pipelines\nYou must grant the following roles to the service account for Vertex AI Pipelines in the pipeline project:\n| Role     | Permissions                                                                   |\n|:---------------------|:-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| Vertex AI User  | aiplatform.metadataStores.get allows the service account to create a pipeline job. aiplatform.models.upload allows the service account to upload the model.                               |\n| Storage Object Admin | The storage.objects.get and storage.objects.create permissions of Storage Object Admin allow the service account to access the bucket for the root directory of the pipeline job. The service account needs these permissions even if you are not using a Cloud Storage data source. |\n| Dataflow Developer | dataflow.jobs.create allow the service account to create Dataflow jobs during evaluation.                                               |\n| Service Account User | iam.serviceAccounts.actAs allows the Vertex AI Pipelines service account to act as the Dataflow worker service account during evaluation.                                   |\n### Service account for Dataflow worker\nYou must grant the following roles to the service account for Dataflow worker in the pipeline project:\n| Role     | Permissions                                                             |\n|:---------------------|:--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| Dataflow Worker  | This role allows the service account to access the resources needed to run Dataflow jobs.                                          |\n| Storage Object Admin | This role allows the service account to access Cloud Storage buckets. The service account needs these permissions even if you are not using a Cloud Storage data source. This role includes all of the permissions granted by the Storage Object Viewer role. |\nYou must additionally grant the following roles to the Dataflow worker service account based on your data source type:\n| Data source                  | Role     | Where to grant the role     |\n|:--------------------------------------------------------------------------------|:----------------------|:-------------------------------------------|\n| Standard BigQuery table               | BigQuery Data Editor | Project that runs the pipeline    |\n| Standard BigQuery table               | BigQuery Job User  | Project that runs the pipeline    |\n| Standard BigQuery table               | BigQuery Data Viewer | Project that the table belongs to   |\n| BigQuery view of a standard BigQuery table          | BigQuery Data Editor | Project that runs the pipeline    |\n| BigQuery view of a standard BigQuery table          | BigQuery Job User  | Project that runs the pipeline    |\n| BigQuery view of a standard BigQuery table          | BigQuery Data Viewer | Project that the view belongs to   |\n| BigQuery view of a standard BigQuery table          | BigQuery Data Viewer | Project that the table belongs to   |\n| BigQuery external table that has a source Cloud Storage file     | BigQuery Data Editor | Project that runs the pipeline    |\n| BigQuery external table that has a source Cloud Storage file     | BigQuery Job User  | Project that runs the pipeline    |\n| BigQuery external table that has a source Cloud Storage file     | BigQuery Data Viewer | Project that the external table belongs to |\n| BigQuery external table that has a source Cloud Storage file     | Storage Object Viewer | Project that the source file belongs to |\n| BigQuery view of a BigQuery external table that has a source Cloud Storage file | BigQuery Data Editor | Project that runs the pipeline    |\n| BigQuery view of a BigQuery external table that has a source Cloud Storage file | BigQuery Job User  | Project that runs the pipeline    |\n| BigQuery view of a BigQuery external table that has a source Cloud Storage file | BigQuery Data Viewer | Project that the view belongs to   |\n| BigQuery view of a BigQuery external table that has a source Cloud Storage file | BigQuery Data Viewer | Project that the external table belongs to |\n| BigQuery view of a BigQuery external table that has a source Cloud Storage file | Storage Object Viewer | Project that the source file belongs to |\n| Cloud Storage file                | Storage Object Viewer | Project that the file belongs to   |\nThe following table provides an explanation of these roles:\n| Role     | Permissions                                                                               |\n|:----------------------|:------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| BigQuery Data Editor | The bigquery.jobs.get and bigquery.jobs.create permissions allow the service account to use BigQuery datasets. bigquery.jobs.create allows the service account to create temporary BigQuery datasets during statistics and example generation. This role includes all of the permissions granted by the BigQuery Data Viewer role. |\n| BigQuery Job User  | bigquery.jobs.create allows the service account to use a BigQuery dataset.                                                               |\n| BigQuery Data Viewer | This role provides the service account with access to the BigQuery dataset.                                                               |\n| Storage Object Viewer | storage.objects.get allows the service account to access a Cloud Storage file.                                                              |\n### AI Platform Service Agent\nYou must ensure that the following role is granted to the AI Platform Service Agent in the pipeline project:\n| Role     | Permissions                                            |\n|:------------------------|:----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| Vertex AI Service Agent | This role grants permissions for service agents. These permissions include the storage.object.get permission and access rights to container images in the Artifact Registry repository. |\nIf your data source is a BigQuery dataset from another project, you must grant the following roles to the AI Platform Service Agent in the dataset project:\n| Role     | Permissions                            |\n|:---------------------|:---------------------------------------------------------------------------------------------------------------------------|\n| BigQuery Data Viewer | bigquery.tables.get allows the service account to get information on the BigQuery dataset before launching a Dataflow job. |\nIf your data source is a Cloud Storage file from another project, you must grant the following roles to the AI Platform Service Agent in the file project:\n| 0      | 1                                |\n|:----------------------|:------------------------------------------------------------------------------------------------------------------------------|\n| Storage Object Viewer | storage.objects.list allows the service account to get information on the Cloud Storage file before launching a Dataflow job. |\n## Service accounts for Tabular Workflow for Forecasting\nThis workflow uses the following service accounts:\n| Service account       | Description           | Default principal            | Default name       | Can be overridden |\n|:----------------------------------------|:-------------------------------------------------------|:-----------------------------------------------------------------|:---------------------------------------|:--------------------|\n| Service account for Vertex AI Pipelines | The service account that runs the pipeline    | PROJECT_NUMBER-compute@developer.gserviceaccount.com    | Compute Engine default service account | Yes     |\n| Service account for Dataflow worker  | The service account that runs the Dataflow workers  | PROJECT_NUMBER-compute@developer.gserviceaccount.com    | Compute Engine default service account | Yes     |\n| AI Platform Service Agent    | The service account that runs the training containers. | service-PROJECT_NUMBER@gcp-sa-aiplatform.iam.gserviceaccount.com | AI Platform Service Agent    | No     |\nSome of the service accounts can be changed to an account of your choice. To learn more, see [Train a model with Tabular Workflow for Forecasting](/vertex-ai/docs/tabular-data/tabular-workflows/forecasting-train) .\n### Service account for Vertex AI Pipelines\nYou must grant the following roles to the service account for Vertex AI Pipelines in the pipeline project:\n| Role     | Permissions                                                                             |\n|:---------------------|:-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| Vertex AI User  | aiplatform.metadataStores.get allows the service account to create a pipeline job. aiplatform.models.upload allows the service account to upload the model.                                         |\n| BigQuery Data Editor | bigquery.tables.create allows the service account to create temporary tables for Feature Transform Engine prior to launching a Dataflow job. The service account needs this permission even if your data source is not a BigQuery dataset. This role includes all of the permissions granted by the BigQuery Data Viewer role. |\n| BigQuery Job User | bigquery.jobs.create allows the service account to run BigQuery jobs for Feature Transform Engine prior to launching a Dataflow job. The service account needs this permission even if your data source is not a BigQuery dataset.                        |\n| Service Account User | iam.serviceAccounts.actAs allows the Vertex AI Pipelines service account to act as the Dataflow worker service account during evaluation.                                              |\n| Dataflow Developer | This role provides access to resources needed to run Dataflow jobs.                                                               |\nYou must additionally grant the following roles to the Vertex AI Pipelines service account based on your data source type:\n| Data source                  | Role     | Where to grant the role     | Unnamed: 3 |\n|:--------------------------------------------------------------------------------|:----------------------|:-------------------------------------------|-------------:|\n| Cloud Storage file                | Storage Admin   | Project that the file belongs to   |   nan |\n| Standard BigQuery table               | Storage Object Admin | Project that runs the pipeline    |   nan |\n| Standard BigQuery table               | BigQuery Data Viewer | Project that the table belongs to   |   nan |\n| BigQuery view of a standard BigQuery table          | Storage Object Admin | Project that runs the pipeline    |   nan |\n| BigQuery view of a standard BigQuery table          | BigQuery Data Viewer | Project that the view belongs to   |   nan |\n| BigQuery view of a standard BigQuery table          | BigQuery Data Viewer | Project that the table belongs to   |   nan |\n| BigQuery external table that has a source Cloud Storage file     | Storage Object Admin | Project that runs the pipeline    |   nan |\n| BigQuery external table that has a source Cloud Storage file     | BigQuery Data Viewer | Project that the external table belongs to |   nan |\n| BigQuery external table that has a source Cloud Storage file     | Storage Object Viewer | Project that the source file belongs to |   nan |\n| BigQuery view of a BigQuery external table that has a source Cloud Storage file | Storage Object Admin | Project that runs the pipeline    |   nan |\n| BigQuery view of a BigQuery external table that has a source Cloud Storage file | BigQuery Data Viewer | Project that the view belongs to   |   nan |\n| BigQuery view of a BigQuery external table that has a source Cloud Storage file | BigQuery Data Viewer | Project that the external table belongs to |   nan |\n| BigQuery view of a BigQuery external table that has a source Cloud Storage file | Storage Object Viewer | Project that the source file belongs to |   nan |\nThe following table provides an explanation of these roles:\n| 0      | 1                                                                                          |\n|:----------------------|:-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| BigQuery Data Viewer | bigquery.tables.get provides the service account with access to the dataset. The service account needs this access prior to launching the Dataflow job in the Feature Transform Engine step of the pipeline.                                        |\n| Storage Object Viewer | storage.objects.get allows the service account to access the source Cloud Storage file.                                                                     |\n| Storage Object Admin | The storage.objects.get and storage.objects.create permissions allow the service account to access the bucket for the root directory of the pipeline job. The service account needs these permissions in the pipeline project even if your data source is not a Cloud Storage file. This role includes all of the permissions granted by the Storage Object Viewer role. |\n| Storage Admin   | storage.buckets.* permissions allow the service account to validate the Cloud Storage bucket in the Feature Transform Engine step of the pipeline. This role includes all of the permissions granted by the Storage Object Admin role.                                 |\nIf you are performing model evaluation, you must provide a BigQuery dataset to serve as a destination for the predicted examples. In the project that contains this dataset, you must grant the following roles to the Vertex AI Pipelines service account:\n| Role     | Permissions               |\n|:---------------------|:--------------------------------------------------------------------|\n| BigQuery Data Viewer | This role lets the service account view BigQuery data.    |\n| BigQuery Job User | bigquery.jobs.create lets the service account create BigQuery jobs. |\n### Service account for Dataflow worker\nYou must grant the following roles to the service account for Dataflow worker in the pipeline project:\n| Role     | Permissions                                                 |\n|:---------------------|:------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| Storage Object Admin | This role allows the service account to access Cloud Storage buckets. The service account needs these permissions even if your data source is not a Cloud Storage file.          |\n| BigQuery Job User | bigquery.jobs.create allows the service account to perform the Feature Transform Engine step of the pipeline. The service account needs this permission even if your data source is not a BigQuery dataset. |\n| Dataflow Worker  | The service account needs all of the permissions granted by this role.                                  |\nYou must additionally grant the following roles to the Dataflow worker service account based on your data source type:\n| Data source                  | Role     | Where to grant the role     |\n|:--------------------------------------------------------------------------------|:----------------------|:-------------------------------------------|\n| Standard BigQuery table               | BigQuery Data Editor | Project that runs the pipeline    |\n| Standard BigQuery table               | BigQuery Data Viewer | Project that the table belongs to   |\n| BigQuery view of a standard BigQuery table          | BigQuery Data Editor | Project that runs the pipeline    |\n| BigQuery view of a standard BigQuery table          | BigQuery Data Viewer | Project that the view belongs to   |\n| BigQuery view of a standard BigQuery table          | BigQuery Data Viewer | Project that the table belongs to   |\n| BigQuery external table that has a source Cloud Storage file     | BigQuery Data Editor | Project that runs the pipeline    |\n| BigQuery external table that has a source Cloud Storage file     | BigQuery Data Viewer | Project that the external table belongs to |\n| BigQuery external table that has a source Cloud Storage file     | Storage Object Viewer | Project that the source file belongs to |\n| BigQuery view of a BigQuery external table that has a source Cloud Storage file | BigQuery Data Editor | Project that runs the pipeline    |\n| BigQuery view of a BigQuery external table that has a source Cloud Storage file | BigQuery Data Viewer | Project that the view belongs to   |\n| BigQuery view of a BigQuery external table that has a source Cloud Storage file | BigQuery Data Viewer | Project that the external table belongs to |\n| BigQuery view of a BigQuery external table that has a source Cloud Storage file | Storage Object Viewer | Project that the source file belongs to |\n| Cloud Storage file                | BigQuery Data Viewer | Project that runs the pipeline    |\nThe following table provides an explanation of these roles:\n| Role     | Permissions                                                     |\n|:----------------------|:-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| BigQuery Data Viewer | bigquery.tables.get provides access to the dataset in the Feature Transform Engine step of the pipeline. The service account needs this permission even if your data source is not a BigQuery dataset.      |\n| BigQuery Data Editor | This role lets the service account query the table and create temporary tables during the Feature Transform Engine step of the pipeline. This role includes all of the permissions granted by the BigQuery Data Viewer role. |\n| Storage Object Viewer | storage.objects.get lets the service account access a Cloud Storage file.                                     |### AI Platform Service Agent\nYou must ensure that the following role is granted to the AI Platform Service Agent in the pipeline project:\n| Role     | Permissions                                            |\n|:------------------------|:----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| Vertex AI Service Agent | This role grants permissions for service agents. These permissions include the storage.object.get permission and access rights to container images in the Artifact Registry repository. |\nIf you are performing model evaluation, you must provide a BigQuery dataset to serve as a destination for the predicted examples. In the project that contains this dataset, you must grant the following roles to the Vertex AI Pipelines service account:\n| Role     | Permissions               |\n|:---------------------|:--------------------------------------------------------------------|\n| BigQuery Data Editor | This role lets the service account edit BigQuery data.    |\n| BigQuery Job User | bigquery.jobs.create lets the service account create BigQuery jobs. |\n## Service accounts for Tabular Workflow for TabNet, and Tabular Workflow for Wide & Deep, and Prophet\nThese workflows use the following service accounts:\n| Service account       | Description           | Default principal            | Default name       | Can be overridden |\n|:----------------------------------------|:-------------------------------------------------------|:-----------------------------------------------------------------|:---------------------------------------|:--------------------|\n| Service account for Vertex AI Pipelines | The service account that runs the pipeline    | PROJECT_NUMBER-compute@developer.gserviceaccount.com    | Compute Engine default service account | Yes     |\n| Service account for Dataflow worker  | The service account that runs the Dataflow workers  | PROJECT_NUMBER-compute@developer.gserviceaccount.com    | Compute Engine default service account | Yes     |\n| AI Platform Service Agent    | The service account that runs the training containers. | service-PROJECT_NUMBER@gcp-sa-aiplatform.iam.gserviceaccount.com | AI Platform Service Agent    | No     |\nSome of the service accounts can be changed to an account of your choice. For Tabular Workflow for TabNet instructions, see [Train a model with TabNet](/vertex-ai/docs/tabular-data/tabular-workflows/tabnet-train) . For Tabular Workflow for Wide & Deep instructions, see [Train a model with Wide & Deep](/vertex-ai/docs/tabular-data/tabular-workflows/wide-and-deep-train) . For Prophet instructions, see [Forecasting with Prophet](/vertex-ai/docs/tabular-data/forecasting-prophet) .\n### Service account for Vertex AI Pipelines\nYou must grant the following roles to the service account for Vertex AI Pipelines in the pipeline project:\n| Role     | Permissions                                                                             |\n|:---------------------|:-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| Vertex AI User  | aiplatform.metadataStores.get allows the service account to create a pipeline job. aiplatform.models.upload allows the service account to upload the model.                                         |\n| BigQuery Data Editor | bigquery.tables.create allows the service account to create temporary tables for Feature Transform Engine prior to launching a Dataflow job. The service account needs this permission even if your data source is not a BigQuery dataset. This role includes all of the permissions granted by the BigQuery Data Viewer role. |\n| BigQuery Job User | bigquery.jobs.create allows the service account to run BigQuery jobs for Feature Transform Engine prior to launching a Dataflow job. The service account needs this permission even if your data source is not a BigQuery dataset.                        |\n| Service Account User | iam.serviceAccounts.actAs allows the Vertex AI Pipelines service account to act as the Dataflow worker service account during evaluation.                                              |\n| Dataflow Developer | This role provides access to resources needed to run Dataflow jobs.                                                               |\nYou must additionally grant the following roles to the Vertex AI Pipelines service account based on your data source type:\n| Data source                  | Role     | Where to grant the role     | Unnamed: 3 |\n|:--------------------------------------------------------------------------------|:----------------------|:-------------------------------------------|-------------:|\n| Cloud Storage file                | Storage Admin   | Project that the file belongs to   |   nan |\n| Standard BigQuery table               | Storage Object Admin | Project that runs the pipeline    |   nan |\n| Standard BigQuery table               | BigQuery Data Viewer | Project that the table belongs to   |   nan |\n| BigQuery view of a standard BigQuery table          | Storage Object Admin | Project that runs the pipeline    |   nan |\n| BigQuery view of a standard BigQuery table          | BigQuery Data Viewer | Project that the view belongs to   |   nan |\n| BigQuery view of a standard BigQuery table          | BigQuery Data Viewer | Project that the table belongs to   |   nan |\n| BigQuery external table that has a source Cloud Storage file     | Storage Object Admin | Project that runs the pipeline    |   nan |\n| BigQuery external table that has a source Cloud Storage file     | BigQuery Data Viewer | Project that the external table belongs to |   nan |\n| BigQuery external table that has a source Cloud Storage file     | Storage Object Viewer | Project that the source file belongs to |   nan |\n| BigQuery view of a BigQuery external table that has a source Cloud Storage file | Storage Object Admin | Project that runs the pipeline    |   nan |\n| BigQuery view of a BigQuery external table that has a source Cloud Storage file | BigQuery Data Viewer | Project that the view belongs to   |   nan |\n| BigQuery view of a BigQuery external table that has a source Cloud Storage file | BigQuery Data Viewer | Project that the external table belongs to |   nan |\n| BigQuery view of a BigQuery external table that has a source Cloud Storage file | Storage Object Viewer | Project that the source file belongs to |   nan |\nThe following table provides an explanation of these roles:\n| 0      | 1                                                                                          |\n|:----------------------|:-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| BigQuery Data Viewer | bigquery.tables.get provides the service account with access to the dataset. The service account needs this access prior to launching the Dataflow job in the Feature Transform Engine step of the pipeline.                                        |\n| Storage Object Viewer | storage.objects.get allows the service account to access the source Cloud Storage file.                                                                     |\n| Storage Object Admin | The storage.objects.get and storage.objects.create permissions allow the service account to access the bucket for the root directory of the pipeline job. The service account needs these permissions in the pipeline project even if your data source is not a Cloud Storage file. This role includes all of the permissions granted by the Storage Object Viewer role. |\n| Storage Admin   | storage.buckets.* permissions allow the service account to validate the Cloud Storage bucket in the Feature Transform Engine step of the pipeline. This role includes all of the permissions granted by the Storage Object Admin role.                                 |### Service account for Dataflow worker\nYou must grant the following roles to the service account for Dataflow worker in the pipeline project:\n| Role     | Permissions                                                 |\n|:---------------------|:------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| Storage Object Admin | This role allows the service account to access Cloud Storage buckets. The service account needs these permissions even if your data source is not a Cloud Storage file.          |\n| BigQuery Job User | bigquery.jobs.create allows the service account to perform the Feature Transform Engine step of the pipeline. The service account needs this permission even if your data source is not a BigQuery dataset. |\n| Dataflow Worker  | The service account needs all of the permissions granted by this role.                                  |\nYou must additionally grant the following roles to the Dataflow worker service account based on your data source type:\n| Data source                  | Role     | Where to grant the role     |\n|:--------------------------------------------------------------------------------|:----------------------|:-------------------------------------------|\n| Standard BigQuery table               | BigQuery Data Editor | Project that runs the pipeline    |\n| Standard BigQuery table               | BigQuery Data Viewer | Project that the table belongs to   |\n| BigQuery view of a standard BigQuery table          | BigQuery Data Editor | Project that runs the pipeline    |\n| BigQuery view of a standard BigQuery table          | BigQuery Data Viewer | Project that the view belongs to   |\n| BigQuery view of a standard BigQuery table          | BigQuery Data Viewer | Project that the table belongs to   |\n| BigQuery external table that has a source Cloud Storage file     | BigQuery Data Editor | Project that runs the pipeline    |\n| BigQuery external table that has a source Cloud Storage file     | BigQuery Data Viewer | Project that the external table belongs to |\n| BigQuery external table that has a source Cloud Storage file     | Storage Object Viewer | Project that the source file belongs to |\n| BigQuery view of a BigQuery external table that has a source Cloud Storage file | BigQuery Data Editor | Project that runs the pipeline    |\n| BigQuery view of a BigQuery external table that has a source Cloud Storage file | BigQuery Data Viewer | Project that the view belongs to   |\n| BigQuery view of a BigQuery external table that has a source Cloud Storage file | BigQuery Data Viewer | Project that the external table belongs to |\n| BigQuery view of a BigQuery external table that has a source Cloud Storage file | Storage Object Viewer | Project that the source file belongs to |\n| Cloud Storage file                | BigQuery Data Viewer | Project that runs the pipeline    |\nThe following table provides an explanation of these roles:\n| Role     | Permissions                                                     |\n|:----------------------|:-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| BigQuery Data Viewer | bigquery.tables.get provides access to the dataset in the Feature Transform Engine step of the pipeline. The service account needs this permission even if your data source is not a BigQuery dataset.      |\n| BigQuery Data Editor | This role lets the service account query the table and create temporary tables during the Feature Transform Engine step of the pipeline. This role includes all of the permissions granted by the BigQuery Data Viewer role. |\n| Storage Object Viewer | storage.objects.get lets the service account access a Cloud Storage file.                                     |### AI Platform Service Agent\nYou must ensure that the following role is granted to the AI Platform Service Agent in the pipeline project:\n| Role     | Permissions                                            |\n|:------------------------|:----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| Vertex AI Service Agent | This role grants permissions for service agents. These permissions include the storage.object.get permission and access rights to container images in the Artifact Registry repository. |\n## Service accounts for ARIMA+\nThis workflow uses the following service accounts:\n| Service account       | Description           | Default principal            | Default name       | Can be overridden |\n|:----------------------------------------|:-------------------------------------------------------|:-----------------------------------------------------------------|:---------------------------------------|:--------------------|\n| Service account for Vertex AI Pipelines | The service account that runs the pipeline    | PROJECT_NUMBER-compute@developer.gserviceaccount.com    | Compute Engine default service account | Yes     |\n| AI Platform Service Agent    | The service account that runs the training containers. | service-PROJECT_NUMBER@gcp-sa-aiplatform.iam.gserviceaccount.com | AI Platform Service Agent    | No     |\nThe Vertex AI Pipelines service account can be changed to an account of your choice. See [Forecasting with ARIMA+](/vertex-ai/docs/tabular-data/forecasting-arima/overview) for more information.\n### Service account for Vertex AI Pipelines\nYou must grant the following roles to the service account for Vertex AI Pipelines in the pipeline project:\n| Role     | Permissions                                                                             |\n|:---------------------|:-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| Vertex AI User  | aiplatform.metadataStores.get allows the service account to create a pipeline job. aiplatform.models.upload allows the service account to upload the model.                                         |\n| BigQuery Data Editor | bigquery.tables.create allows the service account to create temporary tables for Feature Transform Engine prior to launching a Dataflow job. The service account needs this permission even if your data source is not a BigQuery dataset. This role includes all of the permissions granted by the BigQuery Data Viewer role. |\n| BigQuery Job User | bigquery.jobs.create allows the service account to run BigQuery jobs for Feature Transform Engine prior to launching a Dataflow job. The service account needs this permission even if your data source is not a BigQuery dataset.                        |\n| Service Account User | iam.serviceAccounts.actAs allows the Vertex AI Pipelines service account to act as the Dataflow worker service account during evaluation.                                              |\n| Dataflow Developer | This role provides access to resources needed to run Dataflow jobs.                                                               |\nYou must additionally grant the following roles to the Vertex AI Pipelines service account based on your data source type:\n| Data source                  | Role     | Where to grant the role     | Unnamed: 3 |\n|:--------------------------------------------------------------------------------|:----------------------|:-------------------------------------------|-------------:|\n| Cloud Storage file                | Storage Admin   | Project that the file belongs to   |   nan |\n| Standard BigQuery table               | Storage Object Admin | Project that runs the pipeline    |   nan |\n| Standard BigQuery table               | BigQuery Data Viewer | Project that the table belongs to   |   nan |\n| BigQuery view of a standard BigQuery table          | Storage Object Admin | Project that runs the pipeline    |   nan |\n| BigQuery view of a standard BigQuery table          | BigQuery Data Viewer | Project that the view belongs to   |   nan |\n| BigQuery view of a standard BigQuery table          | BigQuery Data Viewer | Project that the table belongs to   |   nan |\n| BigQuery external table that has a source Cloud Storage file     | Storage Object Admin | Project that runs the pipeline    |   nan |\n| BigQuery external table that has a source Cloud Storage file     | BigQuery Data Viewer | Project that the external table belongs to |   nan |\n| BigQuery external table that has a source Cloud Storage file     | Storage Object Viewer | Project that the source file belongs to |   nan |\n| BigQuery view of a BigQuery external table that has a source Cloud Storage file | Storage Object Admin | Project that runs the pipeline    |   nan |\n| BigQuery view of a BigQuery external table that has a source Cloud Storage file | BigQuery Data Viewer | Project that the view belongs to   |   nan |\n| BigQuery view of a BigQuery external table that has a source Cloud Storage file | BigQuery Data Viewer | Project that the external table belongs to |   nan |\n| BigQuery view of a BigQuery external table that has a source Cloud Storage file | Storage Object Viewer | Project that the source file belongs to |   nan |\nThe following table provides an explanation of these roles:\n| 0      | 1                                                                                          |\n|:----------------------|:-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| BigQuery Data Viewer | bigquery.tables.get provides the service account with access to the dataset. The service account needs this access prior to launching the Dataflow job in the Feature Transform Engine step of the pipeline.                                        |\n| Storage Object Viewer | storage.objects.get allows the service account to access the source Cloud Storage file.                                                                     |\n| Storage Object Admin | The storage.objects.get and storage.objects.create permissions allow the service account to access the bucket for the root directory of the pipeline job. The service account needs these permissions in the pipeline project even if your data source is not a Cloud Storage file. This role includes all of the permissions granted by the Storage Object Viewer role. |\n| Storage Admin   | storage.buckets.* permissions allow the service account to validate the Cloud Storage bucket in the Feature Transform Engine step of the pipeline. This role includes all of the permissions granted by the Storage Object Admin role.                                 |### AI Platform Service Agent\nYou must ensure that the following role is granted to the AI Platform Service Agent in the pipeline project:\n| Role     | Permissions                                            |\n|:------------------------|:----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| Vertex AI Service Agent | This role grants permissions for service agents. These permissions include the storage.object.get permission and access rights to container images in the Artifact Registry repository. |", "guide": "Vertex AI"}