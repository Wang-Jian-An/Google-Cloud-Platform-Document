{"title": "Vertex AI - \u5f9e Kubeflow \u6d41\u6c34\u7dda\u9077\u79fb\u5230 Vertex AI Pipelines", "url": "https://cloud.google.com/vertex-ai/docs/pipelines/migrate-kfp?hl=zh-cn", "abstract": "# Vertex AI - \u5f9e Kubeflow \u6d41\u6c34\u7dda\u9077\u79fb\u5230 Vertex AI Pipelines\n\u5c0d\u65bc\u64c1\u6709\u69cb\u5efa Kubeflow \u6d41\u6c34\u7dda\u7d93\u9a57\u7684\u958b\u767c\u8005\u4f86\u8aaa\uff0c\u4e00\u5b9a\u8981\u4e86\u89e3 Vertex AI Pipelines \u8207 Kubeflow Pipelines \u7684\u4ee5\u4e0b\u4e0d\u540c\u4e4b\u8655\u3002\n#", "content": "## \u6578\u64da\u50b3\u905e\uff08\u8f38\u5165/\u8f38\u51fa\uff09\n- \u901a\u904e\u8f38\u5165\u548c\u8f38\u51fa\u50b3\u905e\u7684\u6578\u64da\u8207 Kubeflow Pipelines SDK v1 \u5230 Kubeflow Pipelines SDK v2 \u4e0d\u540c\u3002Kubeflow Pipelines SDK v2 \u5206\u96e2\u4e86\u53c3\u6578\u548c\u5de5\u4ef6\uff0c\u4e26\u4e14\u5b83\u5011\u4e0d\u80fd\u76f8\u4e92\u50b3\u905e\u3002\u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1 [Kubeflow Pipelines \u6d41\u6c34\u7dda\u57fa\u790e\u77e5\u8b58](https://www.kubeflow.org/docs/components/pipelines/v2/pipelines/pipeline-basics/) \u548c [Kubeflow Pipelines \u6578\u64da\u985e\u578b](https://www.kubeflow.org/docs/components/pipelines/v2/data-types/) \u3002\n### \u7279\u5b9a\u9818\u57df\u7684\u8a9e\u8a00 (DSL) \u7248\u672c\u7528\u6cd5\n- Vertex AI Pipelines \u53ef\u4ee5\u904b\u884c\u4f7f\u7528 TFX v0.30.0 \u6216\u66f4\u9ad8\u7248\u672c \u6216 Kubeflow Pipelines SDK v2 \u7db2\u57df\u7279\u5b9a\u8a9e\u8a00 (DSL) \u69cb\u5efa\u7684\u6d41\u6c34\u7dda\u3002Kubeflow Pipelines SDK v2 DSL \u5728 Kubeflow Pipelines SDK v1.6 \u6216\u66f4\u9ad8\u7248\u672c\u4e2d\u63d0\u4f9b\u3002Kubeflow Pipelines \u53ef\u4ee5\u904b\u884c\u4f7f\u7528 Kubeflow Pipelines SDK \u69cb\u5efa\u7684\u6d41\u6c34\u7dda\u3002Kubeflow Pipelines v1.6 \u6216\u66f4\u9ad8\u7248\u672c\u4e5f\u53ef\u4ee5\u904b\u884c\u4f7f\u7528 Kubeflow Pipelines SDK v2 DSL \u69cb\u5efa\u7684\u6d41\u6c34\u7dda\u3002\n### \u5b58\u5132\u7a7a\u9593\n- Kubeflow \u6d41\u6c34\u7dda\u548c Vertex AI Pipelines \u4ee5\u4e0d\u540c\u65b9\u5f0f\u8655\u7406\u5b58\u5132\u3002\u5728 Kubeflow \u6d41\u6c34\u7dda\u4e2d\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528 Kubernetes \u8cc7\u6e90\uff08\u5982\u6c38\u4e45\u6027\u5377\u8072\u660e\uff09\u3002\u5728 Vertex AI Pipelines \u4e2d\uff0c\u60a8\u7684\u6578\u64da\u5b58\u5132\u5728 Cloud Storage \u4e0a\uff0c\u4e26\u4f7f\u7528 [Cloud Storage FUSE](https://cloud.google.com/storage/docs/gcs-fuse?hl=zh-cn) \u88dd\u8f09\u5230\u7d44\u4ef6\u4e2d\u3002\u5728 Vertex AI Pipelines \u4e2d\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528 Google Cloud \u670d\u52d9\u63d0\u4f9b\u8cc7\u6e90 - \u4f8b\u5982\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528 Cloud Storage FUSE \u5728\u6d41\u6c34\u7dda\u6b65\u9a5f\u4e2d\u5c07 Cloud Storage \u5b58\u5132\u6876\u4f5c\u7232\u88dd\u8f09\u6372\u9032\u884c\u8a2a\u554f\u3002\u5982\u679c\u60a8\u7684 Cloud Storage URI \u7232 `gs://example-bucket/example-pipeline` \uff0c\u5247\u6d41\u6c34\u7dda\u7d44\u4ef6\u7684\u5bb9\u5668\u53ef\u4ee5\u4f7f\u7528 Cloud Storage FUSE \u6309\u4f7f\u7528\u4ee5\u4e0b\u8def\u5f91\u8a2a\u554f\u8a72 URI\uff1a `/gcs/example-bucket/example-pipeline` \u3002 **\u91cd\u8981\u63d0\u793a** \uff1a\u6700\u4f73\u505a\u6cd5\u662f\u907f\u514d\u5c07\u5916\u90e8\u8cc7\u6e90\u7684\u8def\u5f91\u786c\u7de8\u78bc\u5230\u6d41\u6c34\u7dda\u4e2d\u3002\u61c9\u6539\u7232\u5c07\u5916\u90e8\u8cc7\u6e90\u7684\u8def\u5f91\u4f5c\u7232\u53c3\u6578\u50b3\u905e\u5230\u60a8\u7684\u6d41\u6c34\u7dda\u4e2d\u3002\u9019\u6a23\uff0c\u60a8\u5c31\u53ef\u4ee5\u66f4\u8f15\u9b06\u5730\u5728\u4e0d\u540c\u74b0\u5883\u4e2d\u904b\u884c\u6d41\u6c34\u7dda\uff0c\u4ee5\u53ca\u66f4\u6539\u5728\u6d41\u6c34\u7dda\u904b\u884c\u4e2d\u4f7f\u7528\u7684\u8cc7\u6e90\u7684\u4f4d\u7f6e\u3002\n- \u4f7f\u7528 Vertex AI Pipelines \u904b\u884c\u6d41\u6c34\u7dda\u6642\uff0c\u5fc5\u9808\u5728 `@pipeline` \u8a3b\u91cb\u4e2d\u6216\u5728\u5275\u5efa\u6d41\u6c34\u7dda\u904b\u884c\u6642\u6307\u5b9a\u6d41\u6c34\u7dda\u6839\u76ee\u9304\u3002\u5728 Kubeflow Pipelines \u4e2d\uff0c\u6307\u5b9a\u6d41\u6c34\u7dda\u6839\u76ee\u9304\u662f\u53ef\u9078\u7684\u3002\u9ed8\u8a8d\u60c5\u6cc1\u4e0b\uff0c\u4f7f\u7528 [MinIO](https://min.io/) \u5b58\u5132\u6d41\u6c34\u7dda\u904b\u884c\u7684\u5de5\u4ef6\u3002\n### Vertex AI Pipelines \u4e0d\u652f\u6301\u7684\u529f\u80fd\n- Vertex AI Pipelines \u76ee\u524d\u4e0d\u652f\u6301\u4ee5\u4e0b Kubeflow Pipelines \u529f\u80fd\u3002- **\u7de9\u5b58\u5230\u671f** \uff1a\u5728 Kubeflow Pipelines \u4e2d\uff0c\u901a\u904e\u4f7f\u7528 Kubeflow Pipelines SDK v1 DSL\uff0c\u60a8\u53ef\u4ee5\u6307\u5b9a\u7de9\u5b58\u7d44\u4ef6\u7684\u57f7\u884c\u4f5c\u696d\u6703\u5728\u6307\u5b9a\u6642\u9593\u5f8c\u904e\u671f\u3002\u76ee\u524d\uff0c\u60a8\u7121\u6cd5\u4f7f\u7528 Kubeflow Pipelines SDK v2 DSL \u4f86\u6307\u5b9a\u7d44\u4ef6\u57f7\u884c\u904e\u671f\u4e4b\u524d\u7684\u7d93\u904e\u6642\u9593\u91cf\u3002\u5728 Vertex AI Pipelines \u4e2d\uff0c\u7576\u60a8\u4f7f\u7528 `create_run_from_job_spec` \u904b\u884c\u6d41\u6c34\u7dda\u6642\uff0c\u53ef\u4ee5\u4f7f\u7528 `enable_caching` \u53c3\u6578\u6307\u5b9a\u6b64\u6d41\u6c34\u7dda\u904b\u884c\u4e0d\u4f7f\u7528\u7de9\u5b58\u3002\n- **Recursion** \uff1a\u5728 Kubeflow Pipelines \u4e2d\uff0c\u60a8\u53ef\u4ee5\u6307\u5b9a\u905e\u6b78\u8abf\u7528\u7684\u6d41\u6c34\u7dda\u7d44\u4ef6\u3002\u76ee\u524d\uff0cVertex AI Pipelines \u4e0d\u652f\u6301\u4ee5\u905e\u6b78\u65b9\u5f0f\u8abf\u7528\u7684\u6d41\u6c34\u7dda\u7d44\u4ef6\u3002", "guide": "Vertex AI"}