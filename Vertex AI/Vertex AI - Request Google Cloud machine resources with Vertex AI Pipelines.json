{"title": "Vertex AI - Request Google Cloud machine resources with Vertex AI Pipelines", "url": "https://cloud.google.com/vertex-ai/docs/pipelines/request-gcp-machine-resources", "abstract": "# Vertex AI - Request Google Cloud machine resources with Vertex AI Pipelines\nYou can run your Python component on Vertex AI Pipelines by using Google Cloud-specific machine resources offered by Vertex AI custom training.\nYou can use the [create_custom_training_job_from_component](https://google-cloud-pipeline-components.readthedocs.io/en/google-cloud-pipeline-components-2.8.0/api/v1/custom_job.html#v1.custom_job.create_custom_training_job_from_component) method from the [Google Cloud Pipeline Components](/vertex-ai/docs/pipelines/gcpc-list) to transform a Python component into a Vertex AI custom training job. [Learn how to create a custom job](/vertex-ai/docs/training/create-custom-job) .\n", "content": "## Create a custom training job from a component using Vertex AI Pipelines\nThe following sample shows how to use the [create_custom_training_job_from_component](https://google-cloud-pipeline-components.readthedocs.io/en/google-cloud-pipeline-components-2.8.0/api/v1/custom_job.html#v1.custom_job.create_custom_training_job_from_component) method to transform a Python component into a custom training job with user-defined Google Cloud machine resources, and then run the compiled pipeline on Vertex AI Pipelines:\n```\nimport kfpfrom kfp import dslfrom google_cloud_pipeline_components.v1.custom_job import create_custom_training_job_from_component# Create a Python component@dsl.componentdef my_python_component():\u00a0 import time\u00a0 time.sleep(1)# Convert the above component into a custom training jobcustom_training_job = create_custom_training_job_from_component(\u00a0 \u00a0 my_python_component,\u00a0 \u00a0 display_name = 'DISPLAY_NAME',\u00a0 \u00a0 machine_type = 'MACHINE_TYPE',\u00a0 \u00a0 accelerator_type='ACCELERATOR_TYPE',\u00a0 \u00a0 accelerator_count='ACCELERATOR_COUNT')# Define a pipeline that runs the custom training job@dsl.pipeline(\u00a0 name=\"resource-spec-request\",\u00a0 description=\"A simple pipeline that requests a Google Cloud machine resource\",\u00a0 pipeline_root='PIPELINE_ROOT',)def pipeline():\u00a0 training_job_task = custom_training_job(\u00a0 \u00a0 \u00a0 project='PROJECT_ID',\u00a0 \u00a0 \u00a0 location='LOCATION',\u00a0 ).set_display_name('training-job-task')\n```\nReplace the following:\n- : The name of the custom job.\n- : The type of the machine for running the custom job\u2014for example, `e2-standard-4` . For more information about machine types, see [Machine types](/vertex-ai/docs/training/configure-compute#machine-types) . If you specified a TPU as the `accelerator_type` , set this to `cloud-tpu` .\n- : The type of accelerator attached to the machine. For more information about the available GPUs and how to configure them, see [GPUs](/vertex-ai/docs/training/configure-compute#specifying_gpus) . For more information about the available TPU types and how to configure them, see [TPUs](/vertex-ai/docs/training/configure-compute#tpu) .\n- : The number of accelerators attached to the machine running the custom job.\n- : Specify a Cloud Storage URI that your pipelines service account can access. The artifacts of your pipeline runs are stored within the pipeline root.\n- : The Google Cloud project that this pipeline runs in.\n- : The location or region that this pipeline runs in.## API Reference\nFor a complete list of arguments supported by the [create_custom_training_job_from_component](https://google-cloud-pipeline-components.readthedocs.io/en/google-cloud-pipeline-components-2.8.0/api/v1/custom_job.html#v1.custom_job.create_custom_training_job_from_component) method, see the [Google Cloud Pipeline Components SDK Reference](https://google-cloud-pipeline-components.readthedocs.io/en/google-cloud-pipeline-components-2.8.0/api/v1/index.html) .", "guide": "Vertex AI"}