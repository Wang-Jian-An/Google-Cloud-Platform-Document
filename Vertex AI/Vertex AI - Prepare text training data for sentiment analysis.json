{"title": "Vertex AI - Prepare text training data for sentiment analysis", "url": "https://cloud.google.com/vertex-ai/docs/text-data/sentiment-analysis/prepare-data", "abstract": "# Vertex AI - Prepare text training data for sentiment analysis\nSentiment analysis training data consists of documents that are associated with a sentiment value that indicates the sentiment of the content. For example, you might have tweets about a particular domain such as air travel. Each tweet is associated with sentiment value that indicates if the tweet is positive, negative, or neutral.\n", "content": "## Data requirements\n- You must supply at least 10, but no more than 100,000, total training documents.\n- A sentiment value must be an integer from 0 to 10. The maximum sentiment value is your choice. For example, if you want to identify whether the sentiment is negative, positive, or neutral, you can label the training data with sentiment scores of 0 (negative), 1 (neutral), and 2 (positive). The maximum sentiment score for this dataset is 2. If you want to capture more granularity, such as five levels of sentiment, you can label documents from 0 (most negative) to 4 (most positive).\n- You must apply each sentiment value to at least 10 documents.\n- Sentiment score values must be consecutive integers starting from zero. If you have gaps in scores or don't start from zero, remap your scores to be consecutive integers starting from zero.\n- You can include documents inline or reference TXT files that are in Cloud Storage buckets.## Best practices for text data used to train AutoML models\nThe following recommendations apply to datasets used to train AutoML models.\n- Provide at least 100 documents per sentiment value.\n- Use a balanced number of documents for each sentiment score. Having more examples for particular sentiment scores can introduce bias into the model.## Input files\nInput file types for sentiment analysis can be JSON Lines or CSV.\nThe format, field names, value types for JSON Lines files are determined  by a schema file, which are publicly accessible YAML files.\nYou can download the schema file for sentiment analysis from the following Cloud Storage location:  [gs://google-cloud-aiplatform/schema/dataset/ioformat/text_sentiment_io_format_1.0.0.yaml](https://storage.cloud.google.com/google-cloud-aiplatform/schema/dataset/ioformat/text_sentiment_io_format_1.0.0.yaml) \n **JSON Lines example** \nThe following example shows how you might use the schema to create your own JSON Lines file. The example includes line breaks for readability. In your JSON Lines files, include line breaks only after each document. The `dataItemResourceLabels` field specifies, for example, ` [ml_use](/vertex-ai/docs/general/ml-use) ` and is optional.\n```\n{\n \"sentimentAnnotation\": {\n \"sentiment\": number,\n \"sentimentMax\": number\n },\n \"textContent\": \"inline_text\",\n \"dataItemResourceLabels\": {\n \"aiplatform.googleapis.com/ml_use\": \"training|test|validation\"\n }\n}\n{\n \"sentimentAnnotation\": {\n \"sentiment\": number,\n \"sentimentMax\": number\n },\n \"textGcsUri\": \"gcs_uri_to_file\",\n \"dataItemResourceLabels\": {\n \"aiplatform.googleapis.com/ml_use\": \"training|test|validation\"\n }\n}\n```Each line in a CSV file refers to a single document. The following example shows the general format of a valid CSV file. The ` [ml_use](/vertex-ai/docs/general/ml-use) ` column is optional.\n```\n [ml_use],gcs_file_uri|\"inline_text\",sentiment,sentimentMax\n \n```\nThe following snippet is an example of an input CSV file.\n```\n test,gs://path_to_file,sentiment_value,sentiment_max_value\n test,\"inline_text\",sentiment_value,sentiment_max_value\n training,gs://path_to_file,sentiment_value,sentiment_max_value\n validation,gs://path_to_file,sentiment_value,sentiment_max_value\n \n```", "guide": "Vertex AI"}