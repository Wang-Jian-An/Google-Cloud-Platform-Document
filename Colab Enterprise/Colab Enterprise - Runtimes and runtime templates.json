{"title": "Colab Enterprise - Runtimes and runtime templates", "url": "https://cloud.google.com/colab/docs/runtimes?hl=zh-cn", "abstract": "# Colab Enterprise - Runtimes and runtime templates\n# Runtimes and runtime templates\nThis page describes runtimes and runtime templates for Colab Enterprise.\nA is a Google-provisioned virtual machine (VM) that can run the code in your notebook (IPYNB file).\nA is a VM configuration that specifies a machine type and other characteristics of the VM, as well as common settings such as the network and whether public internet access is enabled. When you create a runtime, its VM is created according to the specifications of a runtime template.\n", "content": "## Workflow\nYou can create a Colab Enterprise notebook and run code in it without needing to understand runtimes. When you run your code for the first time, Colab Enterprise provisions a default runtime and runs your code on it. Colab Enterprise continues to use the default runtime until you connect to a different runtime.\nTo configure a runtime for specific needs, you must:\n- Create a runtime template with the configuration that you need.\n- Create a runtime based on that template.\n- Connect to the runtime from your notebook and run your code.## Runtimes\nThis section describes the characteristics of runtimes.\n### Default runtime\nIf you don't create a runtime, a runtime is created for you the first time that you run code or connect to the default runtime.\nWhen Colab Enterprise creates your default runtime, it also creates a default runtime template. Both the runtime and runtime template appear in the Google Cloud console, where you can get information about them.\n**Note:** The Colab Enterprise User role  ( [roles/aiplatform.colabEnterpriseUser](/vertex-ai/docs/general/access-control#aiplatform.colabEnterpriseUser) )  doesn't include a required permission for creating a default runtime  template ( `aiplatform.notebookRuntimeTemplates.create` ).  This means that to create a default runtime, if there is no existing  default runtime template, users with the Colab Enterprise User role  must also have a role that includes the `aiplatform.notebookRuntimeTemplates.create` permission.\nThere is one default runtime and one default runtime template per project, per region.\nThe default runtime includes the following specifications:\n- **Machine type** :`e2-standard-4`\n- **Accelerators** : None\n- **Idle shutdown** (Experimental): Enabled\n- **Network** : Your project's default Virtual Private Cloud network\n- **Public internet access** : Enabled\n- **End user credential authentication** : Enabled\n- **Auto deletion** : Automatic deletion 18 hours after creation\n### Runtimes are regional\nRuntimes are regional, and must be located in the same region as your notebook.\n### Runtimes are exclusive to a user\nRuntimes are exclusive to a user. You can't share your runtimes with others and you can't use their runtimes. Even if you share a notebook with someone, they don't have access to your runtime and must run the notebook on their own runtime.\nHowever, users can create their own runtimes based on the same runtime template. See [Runtime templates can be shared with users](#share) .\n### Runtimes can be shared by notebooks\nYou can connect more than one notebook to the same runtime but this isn't recommended. Multiple notebooks sharing the same runtime can cause problems, including:\n- The notebooks may run slowly because they are sharing the runtime's compute resources.\n- The code in one notebook can affect the state of the runtime's VM for the other notebook. For example, if you install version 1.3 of a package in one notebook, but your other notebook requires version 1.2, you might have a version incompatibility when you run the second notebook.\nInstead of running code from multiple notebooks on the same runtime, you can create a runtime for each notebook based on the same runtime template. See [You can create multiple runtimes fromthe same runtime template](#multiple-runtimes) .\n### Runtime charges\nYou are charged for runtime processing based on the machine type and accelerators that you use. See [Colab Enterprise pricing](/colab/pricing) .\n### You can create multiple runtimes from the same runtime template\nYou can create multiple runtimes from a single non-default runtime template. This way, you can run multiple notebooks on VMs with the same configuration without sharing the resources of that VM.\n## Runtime templates\nThis section describes the characteristics of runtime templates.\n### Runtime templates are regional\nRuntime templates are regional. When you create a runtime, it is in the same region as the runtime template, and the runtime can only be used with notebooks in that region.\n### Runtime templates can be shared with users\nYou can share a runtime template with other users. This way, each user can create their own runtime based on the same runtime template, and therefore multiple users can run the same notebook on the same VM configuration.\nTo learn more, see [Manage access toa runtime template](/colab/docs/manage-access-runtime-template) .\n### Configuration\nRuntime templates determine the configuration of your runtime's VM. You can specify any of the following:\nChoose the region where your notebook is. Runtimes created from runtime templates are in the same region as the runtime template. For the notebook to run code in the runtime, the notebook and runtime must be in the same region.\nFor information on machine types, see the [Machine families resource andcomparison guide](/compute/docs/machine-resource) .\nYou can add accelerators to your runtime template configuration. Accelerator availability is based on the machine type and region.\nSpecify your network or use the project's default Virtual Private Cloud network.\n**    Experimental     ** This feature is subject to the \"Pre-GA Offerings Terms\" in the General Service Terms section   of the [Service Specific Terms](/terms/service-terms#1) .     Pre-GA features are available \"as is\" and might have limited support.    For more information, see the [launch stage descriptions](/products#product-launch-stages) .\nColab Enterprise enables idle shutdown by default. This setting shuts down your instance after 180 minutes of inactivity. You can change the number of minutes of inactivity before shutdown, or you can disable idle shutdown.\nTo get more control over the security of your notebook and other resources, you can turn off public internet access. If you configure your runtime template this way, notebooks that use runtimes created from the runtime template will not have access to the public internet.\nBy default runtime templates use end-user credential authentication to give your notebook access to Application Default Credentials (ADC). You can use this access to ADC to run code in your notebook that interacts with Vertex AI and other Google Cloud services. When end-user credentials are enabled, your notebook uses the credentials of whoever runs the notebook to determine access to Google Cloud resources.\nIf end-user credentials aren't enabled, you can get access to ADC by authenticating the user through your notebook's code. To learn more, see the \"User credentials\" section of [How to provide credentialsto ADC](/docs/authentication/provide-credentials-adc#local-dev) .\n### Runtime templates are not editable\nAfter you create a runtime template, you can't change it. To use a runtime template with a different configuration, you must create a new runtime template.\n### Runtime template charges\nThere are no charges for creating or storing runtime templates. See also [Runtime charges](#runtime-charges) .\n## What's next\n- [Create a runtime](/colab/docs/create-runtime) based on a runtime template.\n- [Connect to a runtime](/colab/docs/connect-to-runtime) .\n- [Create a runtime template](/colab/docs/create-runtime-template) .", "guide": "Colab Enterprise"}