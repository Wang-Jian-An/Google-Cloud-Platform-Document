{"title": "Documentation - Key Management Service API overview", "url": "https://cloud.google.com/distributed-cloud/hosted/docs/latest/gdch/overview", "abstract": "# Documentation - Key Management Service API overview\nThe Key Management Service (KMS) API uses Kubernetes custom resources to manage the lifecycle of the crypto keys.\nTo use the KMS API, use the GDCH console. If your application uses your own libraries to call the API, adopt the example service endpoint in the following section, and the full API definition to build your requests. View the full API definition in the page [Key Management Service KRM API](/distributed-cloud/hosted/docs/latest/gdch/apis/service/kms/v1/kms-v1) .\n", "content": "## Service endpoint and discovery document\nThe API endpoint for the KMS API is: `https://` `` `/apis/kms.gdc.goog/v1` where `` is the endpoint of the GDCH API server.\nUsing the `kubectl proxy` command, access the URL in your browser to obtain the discovery document for the KMS API. The `kubectl proxy` command opens up a proxy on `127.0.0.1:8001` to the Kubernetes API server on your local machine. Once that command is running, access the document at the following URL: `http://127.0.0.1:8001/apis/kms.gdc.goog/v1`\n## Example resources\nThe following are sample resources. The namespace is a project namespace. View the [Create a key](/distributed-cloud/hosted/docs/latest/gdch/application/ao-user/kms/create-delete-keys#create) section in the page for more information on creating keys.\n### AEADKey resource\n```\napiVersion: \"kms.gdc.goog/v1\"kind: AEADKeymetadata:\u00a0 name: my-test-key\u00a0 namespace: user-kms-projectspec:\u00a0 algorithm: AES_256_GCMEOF\n```\n### SigningKey resource\n```\napiVersion: \"kms.gdc.goog/v1\"kind: SigningKeymetadata:\u00a0 name: my-test-key\u00a0 namespace: user-kms-projectspec:\u00a0 algorithm: EC_SIGN_P384_SHA384EOF\n```\n### KeyImport resource\n```\napiVersion: \"kms.gdc.goog/v1\"kind: KeyImportmetadata:\u00a0 name: my-test-key-import\u00a0 namespace: user-kms-projectspec:\u00a0 context:\u00a0 \u00a0 mechanism: ECDH_P521_AES256EOF\n```\n### KeyExport resource\n```\napiVersion: \"kms.gdc.goog/v1\"kind: KeyExportmetadata:\u00a0 name: my-test-key-export\u00a0 namespace: user-kms-projectspec:\u00a0 context:\u00a0 \u00a0 mechanism: ECDH_P521_AES256\u00a0 \u00a0 publicKey: pub_key_from_import\u00a0 keyToExport:\u00a0 \u00a0 kind: AEADKey\u00a0 \u00a0 name: key_name_to_exportEOF\n```\n### RotationJob resource\n```\napiVersion: \"kms.gdc.goog/v1\"kind: RotationJobmetadata:\u00a0 name: my-test-rotate-jobspec:\u00a0 rootKeyResourceName: namespaces/kms-system/secrets/kms-key-ctm-rootEOF\n```", "guide": "Documentation"}