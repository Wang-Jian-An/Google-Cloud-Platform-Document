{"title": "Document AI - Request Human Review of a document", "url": "https://cloud.google.com/document-ai/docs/samples/documentai-review-document?hl=zh-cn", "abstract": "# Document AI - Request Human Review of a document\nSends a request for ad-hoc human review of a processed document.", "content": "## Explore furtherFor detailed documentation that includes this code sample, see the following:- [Request Human Review of a Document](/document-ai/docs/hitl/request-review) \n## Code sampleFor more information, see the [Document AI Python API reference documentation](/python/docs/reference/documentai/latest) .\nTo authenticate to Document AI, set up Application Default Credentials.  For more information, see [Set up authentication for a local development environment](/docs/authentication/provide-credentials-adc#local-dev) .\n [View on GitHub](https://github.com/GoogleCloudPlatform/python-docs-samples/blob/HEAD/documentai/snippets/review_document_sample.py) \n```\nfrom google.api_core.client_options import ClientOptionsfrom google.cloud import documentai \u00a0# type: ignore# TODO(developer): Uncomment these variables before running the sample.# project_id = 'YOUR_PROJECT_ID'# location = 'YOUR_PROCESSOR_LOCATION' # Format is 'us' or 'eu'# processor_id = 'YOUR_PROCESSOR_ID' # Create processor before running sample# file_path = '/path/to/local/pdf'# mime_type = 'application/pdf' \u00a0# https://cloud.google.com/document-ai/docs/file-typesdef review_document_sample(\u00a0 \u00a0 project_id: str, location: str, processor_id: str, file_path: str, mime_type: str) -> None:\u00a0 \u00a0 # You must set the api_endpoint if you use a location other than 'us'.\u00a0 \u00a0 opts = ClientOptions(api_endpoint=f\"{location}-documentai.googleapis.com\")\u00a0 \u00a0 # Create a client\u00a0 \u00a0 client = documentai.DocumentProcessorServiceClient(client_options=opts)\u00a0 \u00a0 # Make Processing Request\u00a0 \u00a0 inline_document = process_document(\u00a0 \u00a0 \u00a0 \u00a0 project_id, location, processor_id, file_path, mime_type\u00a0 \u00a0 )\u00a0 \u00a0 # Get the full resource name of the human review config, e.g.:\u00a0 \u00a0 # projects/project_id/locations/location/processor/processor_id/humanReviewConfig\u00a0 \u00a0 human_review_config = client.human_review_config_path(\u00a0 \u00a0 \u00a0 \u00a0 project_id, location, processor_id\u00a0 \u00a0 )\u00a0 \u00a0 # Options are DEFAULT, URGENT\u00a0 \u00a0 priority = documentai.ReviewDocumentRequest.Priority.DEFAULT\u00a0 \u00a0 # Configure the human review request\u00a0 \u00a0 request = documentai.ReviewDocumentRequest(\u00a0 \u00a0 \u00a0 \u00a0 inline_document=inline_document,\u00a0 \u00a0 \u00a0 \u00a0 human_review_config=human_review_config,\u00a0 \u00a0 \u00a0 \u00a0 enable_schema_validation=False,\u00a0 \u00a0 \u00a0 \u00a0 priority=priority,\u00a0 \u00a0 )\u00a0 \u00a0 # Make a request for human review of the processed document\u00a0 \u00a0 operation = client.review_document(request=request)\u00a0 \u00a0 # Print operation name, can be used to check status of the request\u00a0 \u00a0 print(operation.operation.name)def process_document(\u00a0 \u00a0 project_id: str, location: str, processor_id: str, file_path: str, mime_type: str) -> documentai.Document:\u00a0 \u00a0 # You must set the api_endpoint if you use a location other than 'us'.\u00a0 \u00a0 opts = ClientOptions(api_endpoint=f\"{location}-documentai.googleapis.com\")\u00a0 \u00a0 client = documentai.DocumentProcessorServiceClient(client_options=opts)\u00a0 \u00a0 # The full resource name of the processor, e.g.:\u00a0 \u00a0 # projects/project_id/locations/location/processor/processor_id\u00a0 \u00a0 name = client.processor_path(project_id, location, processor_id)\u00a0 \u00a0 # Read the file into memory\u00a0 \u00a0 with open(file_path, \"rb\") as image:\u00a0 \u00a0 \u00a0 \u00a0 image_content = image.read()\u00a0 \u00a0 # Load Binary Data into Document AI RawDocument Object\u00a0 \u00a0 raw_document = documentai.RawDocument(content=image_content, mime_type=mime_type)\u00a0 \u00a0 # Configure the process request\u00a0 \u00a0 request = documentai.ProcessRequest(name=name, raw_document=raw_document)\u00a0 \u00a0 result = client.process_document(request=request)\u00a0 \u00a0 return result.document\n```\n## What's nextTo search and filter code samples for other Google Cloud products, see the [Google Cloud sample browser](/docs/samples?product=documentai) .", "guide": "Document AI"}