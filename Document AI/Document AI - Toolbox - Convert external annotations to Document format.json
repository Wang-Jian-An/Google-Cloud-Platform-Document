{"title": "Document AI - Toolbox - Convert external annotations to Document format", "url": "https://cloud.google.com/document-ai/docs/samples/documentai-toolbox-convert-external-annotations?hl=zh-cn", "abstract": "# Document AI - Toolbox - Convert external annotations to Document format\nConvert external annotations to the [Document](/document-ai/docs/reference/rest/v1/Document) format used by Document AI Workbench for training.", "content": "## Explore furtherFor detailed documentation that includes this code sample, see the following:- [Document AI Toolbox client libraries](/document-ai/docs/toolbox) \n- [Handle processing response](/document-ai/docs/handle-response) \n## Code sampleFor more information, see the [Document AI Python API reference documentation](/python/docs/reference/documentai/latest) .\nTo authenticate to Document AI, set up Application Default Credentials.  For more information, see [Set up authentication for a local development environment](/docs/authentication/provide-credentials-adc#local-dev) .\n [View on GitHub](https://github.com/googleapis/python-documentai-toolbox/blob/HEAD/samples/snippets/convert_external_annotations_sample.py) \n```\nfrom google.cloud.documentai_toolbox import converter# TODO(developer): Uncomment these variables before running the sample.# This sample will convert external annotations to the Document.json format used by Document AI Workbench for training.# To process this the external annotation must have these type of objects:# \u00a0 \u00a0 \u00a0 1) Type# \u00a0 \u00a0 \u00a0 2) Text# \u00a0 \u00a0 \u00a0 3) Bounding Box (bounding boxes must be 1 of the 3 optional types)\n## This is the bare minimum requirement to convert the annotations but for better accuracy you will need to also have:# \u00a0 \u00a0 \u00a0 1) Document width & height\n## Bounding Box Types:# \u00a0 Type 1:# \u00a0 \u00a0 \u00a0 bounding_box:[{\"x\":1,\"y\":2},{\"x\":2,\"y\":2},{\"x\":2,\"y\":3},{\"x\":1,\"y\":3}]# \u00a0 Type 2:# \u00a0 \u00a0 \u00a0 bounding_box:{ \"Width\": 1, \"Height\": 1, \"Left\": 1, \"Top\": 1}# \u00a0 Type 3:# \u00a0 \u00a0 \u00a0 bounding_box: [1,2,2,2,2,3,1,3]\n## \u00a0 Note: If these types are not sufficient you can propose a feature request or contribute the new type and conversion functionality.\n## Given a folders in gcs_input_path with the following structure :\n## gs://path/to/input/folder# \u00a0 \u251c\u2500\u2500test_annotations.json# \u00a0 \u251c\u2500\u2500test_config.json# \u00a0 \u2514\u2500\u2500test.pdf\n## An example of the config is in sample-converter-configs/Azure/form-config.json\n## location = \"us\",# processor_id = \"my_processor_id\"# gcs_input_path = \"gs://path/to/input/folder\"# gcs_output_path = \"gs://path/to/input/folder\"def convert_external_annotations_sample(\u00a0 \u00a0 location: str,\u00a0 \u00a0 processor_id: str,\u00a0 \u00a0 project_id: str,\u00a0 \u00a0 gcs_input_path: str,\u00a0 \u00a0 gcs_output_path: str,) -> None:\u00a0 \u00a0 converter.convert_from_config(\u00a0 \u00a0 \u00a0 \u00a0 project_id=project_id,\u00a0 \u00a0 \u00a0 \u00a0 location=location,\u00a0 \u00a0 \u00a0 \u00a0 processor_id=processor_id,\u00a0 \u00a0 \u00a0 \u00a0 gcs_input_path=gcs_input_path,\u00a0 \u00a0 \u00a0 \u00a0 gcs_output_path=gcs_output_path,\u00a0 \u00a0 )\n```\n## What's nextTo search and filter code samples for other Google Cloud products, see the [Google Cloud sample browser](/docs/samples?product=documentai) .", "guide": "Document AI"}