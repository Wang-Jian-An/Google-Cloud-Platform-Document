{"title": "Document AI - Toolbox - Create document batches", "url": "https://cloud.google.com/document-ai/docs/samples/documentai-toolbox-create-batches?hl=zh-cn", "abstract": "# Document AI - Toolbox - Create document batches\nCreate batches of documents for processing with `batch_process_documents()` .", "content": "## Explore furtherFor detailed documentation that includes this code sample, see the following:- [Document AI Toolbox client libraries](/document-ai/docs/toolbox) \n- [Handling the processing response](/document-ai/docs/handle-response) \n- [Send a processing request](/document-ai/docs/send-request) \n## Code sampleFor more information, see the [Document AI Python API reference documentation](/python/docs/reference/documentai/latest) .\nTo authenticate to Document AI, set up Application Default Credentials.  For more information, see [Set up authentication for a local development environment](/docs/authentication/provide-credentials-adc#local-dev) .\n [View on GitHub](https://github.com/googleapis/python-documentai-toolbox/blob/HEAD/samples/snippets/create_batches_sample.py) \n```\nfrom google.cloud import documentaifrom google.cloud.documentai_toolbox import gcs_utilities# TODO(developer): Uncomment these variables before running the sample.# Given unprocessed documents in path gs://bucket/path/to/folder# gcs_bucket_name = \"bucket\"# gcs_prefix = \"path/to/folder\"# batch_size = 50def create_batches_sample(\u00a0 \u00a0 gcs_bucket_name: str,\u00a0 \u00a0 gcs_prefix: str,\u00a0 \u00a0 batch_size: int = 50,) -> None:\u00a0 \u00a0 # Creating batches of documents for processing\u00a0 \u00a0 batches = gcs_utilities.create_batches(\u00a0 \u00a0 \u00a0 \u00a0 gcs_bucket_name=gcs_bucket_name, gcs_prefix=gcs_prefix, batch_size=batch_size\u00a0 \u00a0 )\u00a0 \u00a0 print(f\"{len(batches)} batch(es) created.\")\u00a0 \u00a0 for batch in batches:\u00a0 \u00a0 \u00a0 \u00a0 print(f\"{len(batch.gcs_documents.documents)} files in batch.\")\u00a0 \u00a0 \u00a0 \u00a0 print(batch.gcs_documents.documents)\u00a0 \u00a0 \u00a0 \u00a0 # Use as input for batch_process_documents()\u00a0 \u00a0 \u00a0 \u00a0 # Refer to https://cloud.google.com/document-ai/docs/send-request\u00a0 \u00a0 \u00a0 \u00a0 # for how to send a batch processing request\u00a0 \u00a0 \u00a0 \u00a0 request = documentai.BatchProcessRequest(\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 name=\"processor_name\", input_documents=batch\u00a0 \u00a0 \u00a0 \u00a0 )\n```\n## What's nextTo search and filter code samples for other Google Cloud products, see the [Google Cloud sample browser](/docs/samples?product=documentai) .", "guide": "Document AI"}