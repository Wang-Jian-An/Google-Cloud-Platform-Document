{"title": "Compute Engine - Create a reservation for a single project", "url": "https://cloud.google.com/compute/docs/instances", "abstract": "# Compute Engine - Create a reservation for a single project\nThis document explains how to create a single-project reservation, which can be consumed only by virtual machine (VM) instances in the same project. To learn more about reservations, see [Reservations of Compute Engine zonal resources](/compute/docs/instances/reservations-overview) .\nFor other methods of creating reservations, see instead the following pages:\n- If you have any 1-year or 3-years commitments in the current project, then your reserved resources automatically receive any applicable committed use discounts. You can also create and attach a reservation to a commitment when you purchase the commitment. To learn more, see [Attach reservations to commitments](/compute/docs/instances/reservations-with-commitments) .\n- To create a reservation that can be used by multiple projects, see [Create a shared reservation](/compute/docs/instances/reservations-shared) .\n**Note:** After you create a reservation, you are charged for the reserved resources, even if they are not used, until you delete the reservation. If you delete a reservation but don't delete the VMs that were using the reserved resources, the resources still incur charges. For more information, see [Billing](/compute/docs/instances/reservations-overview#reservation-billing) .\n", "content": "## Before you begin\n- Review the [requirements](/compute/docs/instances/reservations-overview#requirements) and [restrictions](/compute/docs/instances/reservations-overview#restrictions) for reservations.\n- If you haven't already, set up authentication. [Authentication](/compute/docs/authentication) is the process by which your identity is verified for access to Google Cloud services and APIs. To run code or samples from a local development environment, you can authenticate to Compute Engine as follows.Select the tab for how you plan to use the samples on this page:\nWhen you use the Google Cloud console to access Google Cloud services and   APIs, you don't need to set up authentication.- [Install](/sdk/docs/install) the Google Cloud CLI, then [initialize](/sdk/docs/initializing) it by running the following command:```\ngcloud init\n``` **Note:** If you installed the gcloud CLI  previously, make sure you have the latest version by running`gcloud components  update`.\n- [ Set a default region and zone](/compute/docs/gcloud-compute#set_default_zone_and_region_in_your_local_client) .\nTo use the Terraform samples on this page from a local development environment, install and initialize the gcloud CLI, and then set up Application Default Credentials with your user credentials.- [Install](/sdk/docs/install) the Google Cloud CLI.\n- To [initialize](/sdk/docs/initializing) the gcloud CLI, run the following command:```\ngcloud init\n```\n- Create local authentication credentials for your Google Account:```\ngcloud auth application-default login\n```\nFor more information, see [   Set up authentication for a local development environment](/compute/docs/authentication#local-development) .To use the REST API samples on this page in a local development environment, you use the credentials you provide to the gcloud CLI.- [Install](/sdk/docs/install) the Google Cloud CLI, then [initialize](/sdk/docs/initializing) it by running the following command:\n- ```\ngcloud init\n```\n### Required roles\nTo get the permissions that you need to create single-project reservations,   ask your administrator to grant you the [Compute Admin ](https://cloud.google.com/iam/docs/understanding-roles#compute.admin) ( `roles/compute.admin` ) IAM role on the project.    For more information about granting roles, see [Manage access](/iam/docs/granting-changing-revoking-access) .\nThis predefined role contains     the permissions required to create single-project reservations. To see the exact permissions that are   required, expand the **Required permissions** section:\nYou might also be able to get   these permissions  with [custom roles](/iam/docs/creating-custom-roles) or  other [predefined roles](/iam/docs/understanding-roles) .\n## Create a single-project reservation\nThis section explains how to create single-project reservations.\nTo consume a reservation, a VM must have [properties that exactly match](/compute/docs/instances/reservations-overview#requirements) that reservation. To specify the properties of the VMs that you want to reserve, select one of the following sections in this document:\n- Recommended: [Specify an instance template](#specify-instance-template) This section explains how to use an [instance template](/compute/docs/instance-templates) to define the properties of a reservation. By using an instance template, you can define the properties of a reservation and the VMs that can consume the reservation in the same place.\n- [Specify properties directly](#specify-vm-properties) This section explains how to directly define the properties of a reservation. This method requires you to manually ensure that the properties of your VMs and reservations match \u2014any [mismatched properties prevent consumption](/compute/docs/troubleshooting/troubleshooting-reservation-consumption#mismatched-vm-properties) .\nBy default, a reservation can be automatically consumed by any VMs with properties that match it. If you want to control reservation consumption, do one or more of the following:\n- Create a reservation that can only be consumed by VMs that specifically target it, as explained in the following sections in this document. Then, [configure VMs to consume that specific reservation](/compute/docs/instances/reservations-consume#consuming_instances_from_a_specific_reservation) .\n- Configure [VMs that can't consume any reservations](/compute/docs/instances/reservations-consume#creating_instances_without_consuming_reservations) .\nAdditionally, you can specify a [compact placement policy](/compute/docs/instances/use-compact-placement-policies) when creating a single-project reservation. A compact placement policy specifies that VMs are to be located as close to each other as possible to reduce network latency.\n### Specify an instance template\nTo create a single-project reservation by specifying an instance template, use the Google Cloud console, gcloud CLI, or REST.\n**Caution:** Make sure of the following:- Create your reservation in the same region and zone as the resources within the instance template. Any [ regional](/compute/docs/regions-zones/global-regional-zonal-resources#regionalresources) or [ zonal resources](/compute/docs/regions-zones/global-regional-zonal-resources#zoneresource) that are specified in an instance template\u2014such as a machine type or a disk\u2014restrict the use of the template to the locations where those resources exist. For example, if your instance template specifies an existing disk in the`us-central1-a`zone, then you must create your reservation in the same zone. Otherwise, creating the reservation or the VMs that can consume the reservation fails.To check if an existing template specifies any resources that bind the template to a specific region or zone, [ describe the instance template](/compute/docs/instance-templates/get-list-delete-instance-templates#get_information_about_an_instance_template) and look for references to regional or zonal resources inside of it.\n- If the instance template specifies a compact placement policy, make sure that the template also specifies a [ supported machine type](/compute/docs/instances/use-compact-placement-policies#restrictions) for compact placement policies. Attempting to create a reservation by specifying an instance template with an unsupported machine type causes [ errors](/compute/docs/troubleshooting/troubleshooting-reservation-creation#unsupported-machine-type) .\nTo create a single-project reservation by specifying an instance template, do the following:- In the Google Cloud console, go to the **Reservations** page. [Go to Reservations](https://console.cloud.google.com/compute/reservations) \n- Click add_box **Create reservation** .The **Create a reservation** page opens.\n- In the **Name** field, enter a name for your reservation.\n- Select the **Region** and **Zone** where you want to reserve resources.\n- In the **Share type** section, click **Local** (default).\n- In the **Use with VM instance** section, select one of the following options:- To allow matching VMs to automatically consume this reservation, click **Use reservation automatically** (default).\n- To consume this reservation's resources only when creating matching VMs that specifically target this reservation by name, click **Select specific reservation** .\n- In the **Number of VM instances** field, enter the number of VMs that you want to reserve.\n- In the **Machine configuration** section, do the following:- To specify the properties of your VMs from an existing [instance template](/compute/docs/instance-templates) , select **Use instance template** .\n- In the **Instance template** field, select the instance template of your choice. If you select a regional instance template, you can only reserve resources within the region of the instance template.\n- In the **Auto-delete** section, you can enable the auto-delete option to let Compute Engine automatically delete the reservation at a specific date and time. Automatically deleting reservations can be useful to avoid unnecessary charges when you stop consuming the reservation.\n- To create the reservation, click **Create** .The **Reservations** page opens. Creating the single-project reservation might take up to a minute to complete.\nTo create a single-project reservation by specifying an instance template, use the [gcloud compute reservations create command](/sdk/gcloud/reference/compute/reservations/create) .\nTo create a single-project reservation by specifying an instance template without any optional flags, run the following command:\n```\ngcloud compute reservations create RESERVATION_NAME \\\n --project=PROJECT_ID \\\n --source-instance-template=projects/PROJECT_ID/LOCATION/instanceTemplates/INSTANCE_TEMPLATE_NAME \\\n --vm-count=NUMBER_OF_VMS \\\n --zone=ZONE\n```\nReplace the following:- `` : the name of the reservation to create.\n- `` : the ID of the project where you want to reserve resources and where the instance template exists.\n- `` : the location of the instance template. Specify one of the following values:- For a global instance template: `global` .\n- For a regional instance template: `regions/` `` . Replace `` with the region where the instance template is located. If you specify a regional instance template, you can only reserve VMs within the region of the instance template.\n- `` : the name of an existing instance template. If you specify an instance template that includes a [compact placement policy](/compute/docs/instances/use-compact-placement-policies) , you must specify the `--require-specific-reservation` flag. This indicates that only VMs that [specifically target this reservation](/compute/docs/instances/reservations-consume#consuming_instances_from_a_specific_reservation) can consume it.\n- `` : the number of VMs to reserve.\n- `` : the zone in which to reserve resources.\nFor example, to create a reservation for ten VMs in zone `us-central1-a` by specifying a global instance template, run the following command:\n```\ngcloud compute reservations create my-reservation \\\n --project=example-project \\\n --source-instance-template=projects/example-project/global/example-instance-template \\\n --vm-count=10 \\\n --zone=us-central1-a\n```\nOptionally, you can do one or more of the following:- To specify that only VMs that specifically target this reservation can consume it, include the `--require-specific-reservation` flag.```\ngcloud compute reservations create example-reservation \\\n --require-specific-reservation \\\n ...\n```\n- To enable Compute Engine to [automatically delete the reservation](/compute/docs/instances/reservations-overview#auto-delete) , select one of the following methods: **    Preview     ** This product or feature is subject to the \"Pre-GA Offerings Terms\" in the General Service Terms section   of the [Service Specific Terms](/terms/service-terms#1) .     Pre-GA products and features are available \"as is\" and might have limited support.    For more information, see the [launch stage descriptions](/products#product-launch-stages) .- To delete the reservation at a specific date and time, use the [gcloud beta compute reservations create command](/sdk/gcloud/reference/beta/compute/reservations/create) and include the `--delete-at-time` flag.```\ngcloud beta compute reservations create reservation-example \\\n --delete-at-time=DELETE_AT_TIME \\\n ...\n```Replace `` with a date and time formatted as an [RFC 3339 timestamp](https://tools.ietf.org/html/rfc3339) , which must be as follows:```\nYYYY-MM-DDTHH:MM:SSOFFSET\n```Replace the following:- `` : a date formatted as a 4-digit year, 2-digit month, and a 2-digit day of the month, separated by hyphens ( `-` ).\n- `` : a time formatted as a 2-digit hour using a 24-hour time, 2-digit minutes, and 2-digit seconds, separated by colons ( `:` ).\n- `` : the time zone formatted as an offset of [Coordinated Universal Time (UTC)](https://en.wikipedia.org/wiki/Coordinated_Universal_Time) . For example, to use the Pacific Standard Time (PST), specify `-08:00` . Alternatively, to use no offset, specify `Z` .\n- To delete the reservation after a specific duration, use the [gcloud beta compute reservations create command](/sdk/gcloud/reference/beta/compute/reservations/create) and include the `--delete-after-duration` flag.```\ngcloud beta compute reservations create reservation-example \\\n --delete-after-duration=DELETE_AFTER_DURATION \\\n ...\n```Replace `` with a duration in days, hours, minutes, or seconds. For example, specify `30m` for 30 minutes, or `1d2h3m4s` for 1 day, 2 hours, 3 minutes, and 4 seconds.\nTo create a single-project reservation by specifying an instance template, make a `POST` request to the [reservations.insert method](/compute/docs/reference/rest/v1/reservations/insert) .\nTo create a single-project reservation by specifying an instance template without any optional flags, make the following `POST` request:\n```\nPOST https://compute.googleapis.com/compute/v1/projects/PROJECT_ID/zones/ZONE/reservations{\u00a0 \"name\": \"RESERVATION_NAME\",\u00a0 \"specificReservation\": {\u00a0 \u00a0 \"count\": \"NUMBER_OF_VMS\",\u00a0 \u00a0 \"sourceInstanceTemplate\": \"projects/PROJECT_ID/LOCATION/instanceTemplates/INSTANCE_TEMPLATE_NAME\"\u00a0 }}\n```\nReplace the following:- `` : the ID of the project where you want to reserve resources and where the instance template exists.\n- `` : the zone in which to reserve resources.\n- `` : the name of the reservation to create.\n- `` : the number of VMs to reserve.\n- `` : the location of the instance template. Specify one of the following values:- For a global instance template: `global` .\n- For a regional instance template: `regions/` `` . Replace `` with the region where the instance template is located. If you specify a regional instance template, you can only reserve VMs within the region of the instance template.\n- `` : the name of an existing instance template. If you specify an instance template that includes a [compact placement policy](/compute/docs/instances/use-compact-placement-policies) , you must specify the `specificReservationRequired` field in the request body and set it to `true` . This indicates that only VMs that [specifically target this reservation](/compute/docs/instances/reservations-consume#consuming_instances_from_a_specific_reservation) can consume it.\nFor example, to create a reservation for ten VMs in zone `us-central1-a` by specifying a global instance template, make the following `POST` request:\n```\nPOST https://compute.googleapis.com/compute/v1/projects/example-project/zones/us-central1-a/reservations{\u00a0 \"name\": \"my-reservation\",\u00a0 \"specificReservation\": {\u00a0 \u00a0 \"count\": \"10\",\u00a0 \u00a0 \"sourceInstanceTemplate\": \"projects/example-project/global/instanceTemplates/example-instance-template\"\u00a0 }}\n```\nOptionally, you can do one or more of the following:- To specify that only VMs that specifically target this reservation can consume it, include the `specificReservationRequired` field in the request body and set it to `true` .```\nPOST https://compute.googleapis.com/compute/v1/projects/example-project/zones/us-central1-a/reservations\n{\n \"name\": \"example-reservation\",\n \"specificReservationRequired\": true,\n ...\n}\n```\n- To enable Compute Engine to [automatically delete the reservation](/compute/docs/instances/reservations-overview#auto-delete) , select one of the following methods: **    Preview     ** This product or feature is subject to the \"Pre-GA Offerings Terms\" in the General Service Terms section   of the [Service Specific Terms](/terms/service-terms#1) .     Pre-GA products and features are available \"as is\" and might have limited support.    For more information, see the [launch stage descriptions](/products#product-launch-stages) .- To delete the reservation at a specific date and time, make a `POST` request to the [beta.reservations.insert method](/compute/docs/reference/rest/beta/reservations/insert) . In the request body, include the `deleteAtTime` field.```\nPOST https://compute.googleapis.com/compute/beta/projects/example-project/zones/us-central1-a/reservations{\u00a0 \"name\": \"example-reservation\",\u00a0 \"deleteAtTime\": \"DELETE_AT_TIME\",\u00a0 ...}\n```Replace `` with a date and time formatted as an [RFC 3339 timestamp](https://tools.ietf.org/html/rfc3339) , which must be as follows:```\nYYYY-MM-DDTHH:MM:SSOFFSET\n```Replace the following:- `` : a date formatted as a 4-digit year, 2-digit month, and a 2-digit day of the month, separated by hyphens ( `-` ).\n- `` : a time formatted as a 2-digit hour using a 24-hour time, 2-digit minutes, and 2-digit seconds, separated by colons ( `:` ).\n- `` : the time zone formatted as an offset of [Coordinated Universal Time (UTC)](https://en.wikipedia.org/wiki/Coordinated_Universal_Time) . For example, to use the Pacific Standard Time (PST), specify `-08:00` . Alternatively, to use no offset, specify `Z` .\n- To delete the reservation after a specific duration, make a `POST` request to the [beta.reservations.insert method](/compute/docs/reference/rest/beta/reservations/insert) . In the request body, include the `deleteAfterDuration` field.```\nPOST https://compute.googleapis.com/compute/beta/projects/example-project/zones/us-central1-a/reservations{\u00a0 \"name\": \"example-reservation\",\u00a0 \"deleteAfterDuration\": {\u00a0 \u00a0 \"seconds\": \"DELETE_AFTER_DURATION\"\u00a0 },\u00a0 ...}\n```Replace `` with a duration in seconds. For example, specify `86400` for 86,400 seconds (1 day).\n### Specify properties directly\nTo create a single-project reservation by specifying properties directly, use the Google Cloud console, gcloud CLI, Terraform, or REST.\nTo create a single-project reservation, do the following:- In the Google Cloud console, go to the **Reservations** page. [Go to Reservations](https://console.cloud.google.com/compute/reservations) \n- Click add_box **Create reservation** .The **Create a reservation** page opens.\n- In the **Name** field, enter a name for your reservation.\n- Select the **Region** and **Zone** where you want to reserve resources.\n- In the **Share type** section, click **Local** (default).\n- In the **Use with VM instance** section, select one of the following options:- To allow matching VMs to automatically consume this reservation, click **Use reservation automatically** (default).\n- To consume this reservation's resources only when creating matching VMs that specifically target this reservation by name, click **Select specific reservation** .\n- In the **Number of VM instances** field, enter the number of VMs that that you want to reserve.\n- In the **Machine configuration** section, select **Specify machine type** , and then specify the following:- In the **Machine family** , **Series** , and **Machine type** fields, select a machine family, series, and machine type.\n- Optional: To specify a minimum CPU platform and/or GPUs, do the following:- To expand the **CPU Platform and GPU** section, click the expand_more expander arrow.\n- Optional: To specify a minimum CPU platform, in the **CPU Platform** list, select an option.\n- Optional: To add GPUs, click add **Add GPU** . Then, in the **GPU type** and **Number of GPUs** fields, select the type and number of GPUs for each VM.\n- Optional: To add Local SSDs, do the following:- In the **Number of disks** field, select the number of Local SSDs for each VM.\n- In the **Interface type** field, select the interface for the Local SSDs.\n- Optional: To specify a compact placement policy for a reservation that meets the [requirements](/compute/docs/instances/reservations-overview#requirements-reservations-placement-policies) , click the **Select or create a group placement policy** list, and then do one of the following:- To create a compact placement policy to specify in this reservation, follow these steps: **Important:** By using this method, you can only create a compact placement policy with an unspecified `max-distance` . If you want to specify a new compact placement policy with a `max-distance` value of `3` or `2` , you must [create a compact placement policy](/compute/docs/instances/use-compact-placement-policies#create-compact-policy) separately and select the existing compact placement policy instead.- Click **Create group placement policy** .The **Create a group placement policy** pane appears.\n- In the **Policy name** field, enter a name for your policy.\n- Click **Create** .Creating the compact placement policy might take a few seconds to complete.\n- Otherwise, select an existing compact placement policy.\n- In the **Auto-delete** section, you can enable the auto-delete option to let Compute Engine automatically delete the reservation at a specific date and time. Automatically deleting reservations can be useful to avoid unnecessary charges when you stop consuming the reservation.\n- To create the reservation, click **Create** .Creating the single-project reservation might take some time to complete. This action redirects you to the **Reservations** page.\nTo create a single-project reservation, use the [gcloud compute reservations create command](/sdk/gcloud/reference/compute/reservations/create) .\nTo create a single-project reservation without any optional flags, run the following command:\n```\ngcloud compute reservations create RESERVATION_NAME \\\n --machine-type=MACHINE_TYPE \\\n --project=PROJECT_ID \\\n --vm-count=NUMBER_OF_VMS \\\n --zone=ZONE\n```\nReplace the following:- `` : the name of the reservation to create.\n- `` : a [machine type](/compute/docs/machine-resource) to use for each VM. Specify one of the following values:- For a predefined machine type: `` `-standard-` `` .\n- For a custom machine type: `` `-custom-` `` `-` `` . Before specifying a custom machine type, review the [limitations](/compute/docs/instances/creating-instance-with-custom-machine-type#limitations) for VMs with custom machine types.\nReplace the following:- `` : the machine family.\n- `` : the number of vCPUs.\n- `` : the total memory for a reserved VM. Memory must be a multiple of 256\u00a0MB and must be supplied in MB.\nFor example, to specify an N2 custom machine type with 4\u00a0vCPUs and 5\u00a0GB of memory, which is 5,120\u00a0MB, specify `n2-custom-4-5120` .\n- `` : the ID of the project where you want to reserve resources.\n- `` : the number of VMs to reserve.\n- `` : the zone in which to reserve resources.\nFor example, to create a reservation in zone `us-central1-a` for ten VMs that each use an N2 predefined machine type with 4\u00a0vCPUs, run the following command:\n```\ngcloud compute reservations create my-reservation \\\n --machine-type=n2-standard-4 \\\n --project=example-project \\\n --vm-count=10 \\\n --zone=us-central1-a\n```\nOptionally, you can do one or more of the following:- To add [graphics processing units (GPUs)](/compute/docs/gpus) to each reserved VM, include the `--accelerator` flag.```\ngcloud compute reservations create my-reservation \\\n --accelerator=count=NUMBER_OF_ACCELERATORS,type=ACCELERATOR_TYPE\n ...\n```Replace the following:- `` : the number of GPUs to add per reserved VM.\n- `` : the type of GPU to add to the reserved VMs.\nMake sure that the machine type you specify in the reservation supports the types of GPUs you specify and that [the GPU is available in the zone](/compute/docs/gpus/gpu-regions-zones) where you want to reserve resources. Otherwise, creating the reservation fails.\n- To add one or more [Local SSDs](/compute/docs/disks#localssds) to each reserved VM, include one or more `--local-ssd` flags. You can specify up to 24 Local SSDs. Each Local SSD is 375\u00a0GB.For example, to specify two Local SSDs when creating a reservation, include two `--local-ssd` flags.```\ngcloud compute reservations create my-reservation \\\n --local-ssd=size=375,interface=INTERFACE_1 \\\n --local-ssd=size=375,interface=INTERFACE_2 \\\n ...\n```Replace `` and `` with the type of interface you want the Local SSD to use. Specify one of the following values:- For NVME disk interfaces: `nvme` .\n- For SCSI disk interfaces: `scsi` .\nMake sure that the machine type you specify for the reserved VMs supports the chosen disk interfaces. Otherwise, creating the reservation fails. For more information, see how to [choose a disk interface](/compute/docs/disks/local-ssd#choose_an_interface) .\n- To have the reserved VMs use a specific [minimum CPU platform](/compute/docs/instances/specify-min-cpu-platform) instead of the zone's default CPU platform, include the `--min-cpu-platform` flag.```\ngcloud compute reservations create my-reservation \\\n --min-cpu-platform=\"MIN_CPU_PLATFORM\" \\\n ...\n```Replace `` with a minimum CPU platform. To make sure that a CPU platform is available in the zone where you're reserving resources, [view the available CPU platforms by zone](/compute/docs/instances/specify-min-cpu-platform#cpusbyzone) .\n- To specify that only VMs that [specifically target this reservation](/compute/docs/instances/reservations-consume#consuming_instances_from_a_specific_reservation) can consume it, include the `--require-specific-reservation` flag.```\ngcloud compute reservations create example-reservation \\\n --require-specific-reservation \\\n ...\n```\n- To specify a [compact placement policy](/compute/docs/instances/use-compact-placement-policies) for lower network latency among VMs, include the `--resource-policies=policy` flag.```\ngcloud compute reservations create example-reservation \\\n --resource-policies=policy=COMPACT_PLACEMENT_POLICY_NAME \\\n --require-specific-reservation \\\n ...\n```Replace with the name of an existing compact placement policy. Additionally, to avoid errors when creating a single-project reservation that specifies a compact placement policy, make sure to specify the following:- A [supported machine type](/compute/docs/instances/use-compact-placement-policies#restrictions) for compact placement policies.\n- A zone within the region where the compact placement policy is located.\n- The `--require-specific-reservation` flag. This indicates that only VMs that specifically target the reservation can consume it.\n- To enable Compute Engine to [automatically delete the reservation](/compute/docs/instances/reservations-overview#auto-delete) , select one of the following methods: **    Preview     ** This product or feature is subject to the \"Pre-GA Offerings Terms\" in the General Service Terms section   of the [Service Specific Terms](/terms/service-terms#1) .     Pre-GA products and features are available \"as is\" and might have limited support.    For more information, see the [launch stage descriptions](/products#product-launch-stages) .- To delete the reservation at a specific date and time, use the [gcloud beta compute reservations create command](/sdk/gcloud/reference/beta/compute/reservations/create) and include the `--delete-at-time` flag.```\ngcloud beta compute reservations create reservation-example \\\n --delete-at-time=DELETE_AT_TIME \\\n ...\n```Replace `` with a date and time formatted as an [RFC 3339 timestamp](https://tools.ietf.org/html/rfc3339) , which must be as follows:```\nYYYY-MM-DDTHH:MM:SSOFFSET\n```Replace the following:- `` : a date formatted as a 4-digit year, 2-digit month, and a 2-digit day of the month, separated by hyphens ( `-` ).\n- `` : a time formatted as a 2-digit hour using a 24-hour time, 2-digit minutes, and 2-digit seconds, separated by colons ( `:` ).\n- `` : the time zone formatted as an offset of [Coordinated Universal Time (UTC)](https://en.wikipedia.org/wiki/Coordinated_Universal_Time) . For example, to use the Pacific Standard Time (PST), specify `-08:00` . Alternatively, to use no offset, specify `Z` .\n- To delete the reservation after a specific duration, use the [gcloud beta compute reservations create command](/sdk/gcloud/reference/beta/compute/reservations/create) and include the `--delete-after-duration` flag.```\ngcloud beta compute reservations create reservation-example \\\n --delete-after-duration=DELETE_AFTER_DURATION \\\n ...\n```Replace `` with a duration in days, hours, minutes, or seconds. For example, specify `30m` for 30 minutes, or `1d2h3m4s` for 1 day, 2 hours, 3 minutes, and 4 seconds.\nTo create a single-project reservation, use the [google_compute_reservation Terraform resource](https://registry.terraform.io/providers/hashicorp/google/latest/docs/resources/compute_reservation) .\n [  compute/reservation/create_local/main.tf ](https://github.com/terraform-google-modules/terraform-docs-samples/blob/main/compute/reservation/create_local/main.tf) [View on GitHub](https://github.com/terraform-google-modules/terraform-docs-samples/blob/main/compute/reservation/create_local/main.tf) \n```\nresource \"google_compute_reservation\" \"default\" {\n name = \"gce-reservation-local\"\n zone = \"us-central1-a\"\n /**\n * To specify a single-project reservation, omit the share_settings block\n * (default) or set the share_type field to LOCAL.\n */\n share_settings {\n share_type = \"LOCAL\"\n }\n specific_reservation {\n count = 1\n instance_properties {\n  machine_type = \"n2-standard-2\"\n }\n }\n /**\n * To let VMs with affinity for any reservation consume this reservation, omit\n * the specific_reservation_required field (default) or set it to false.\n */\n specific_reservation_required = false\n}\n```\nFor more information about how to use Terraform, see [Using Terraform with Google Cloud](/docs/terraform) .\nTo create a single-project reservation, make a `POST` request to the [reservations.insert method](/compute/docs/reference/rest/v1/reservations/insert) .\nTo create a single-project reservation without any optional fields, make the following `POST` request:\n```\nPOST https://compute.googleapis.com/compute/v1/projects/PROJECT_ID/zones/ZONE/reservations{\u00a0 \"name\": \"RESERVATION_NAME\",\u00a0 \"specificReservation\": {\u00a0 \u00a0 \"count\": \"NUMBER_OF_VMS\",\u00a0 \u00a0 \"instanceProperties\": {\u00a0 \u00a0 \u00a0 \"machineType\": \"MACHINE_TYPE\",\u00a0 \u00a0 }\u00a0 }}\n```\nReplace the following:- `` : the ID of the project where you want to reserve resources.\n- `` : the zone in which to reserve resources.\n- `` : the name of the reservation to create.\n- `` : the number of VMs to reserve.\n- `` : a [machine type](/compute/docs/machine-resource) to use for each VM. Specify one of the following values:- For a predefined machine type: `` `-standard-` `` .\n- For a custom machine type: `` `-custom-` `` `-` `` . Before specifying a custom machine type, review the [limitations](/compute/docs/instances/creating-instance-with-custom-machine-type#limitations) for VMs with custom machine types.\nReplace the following:- `` : the machine family.\n- `` : the number of vCPUs.\n- `` : the total memory for a reserved VM. Memory must be a multiple of 256\u00a0MB and must be supplied in MB.\nFor example, to specify an N2 custom machine type with 4\u00a0vCPUs and 5\u00a0GB of memory, which is 5,120\u00a0MB, specify `n2-custom-4-5120` .\nFor example, to create a reservation in zone `us-central1-a` for ten VMs that each use an N2 predefined machine type with 4\u00a0vCPUs, make the following `POST` request:\n```\nPOST https://compute.googleapis.com/compute/v1/projects/example-project/zones/us-central1-a/reservations{\u00a0 \"name\": \"my-reservation\",\u00a0 \"specificReservation\": {\u00a0 \u00a0 \"count\": \"10\",\u00a0 \u00a0 \"instanceProperties\": {\u00a0 \u00a0 \u00a0 \"machineType\": \"n2-standard-4\",\u00a0 \u00a0 }\u00a0 }}\n```\nOptionally, you can do one or more of the following:- To add [graphics processing units (GPUs)](/compute/docs/gpus) to each reserved VM, include the `guestAccelerators` field in the request body.```\nPOST https://compute.googleapis.com/compute/v1/projects/example-project/zones/us-central1-a/reservations{\u00a0 \"name\": \"example-reservation\",\u00a0 \"specificReservation\": {\u00a0 \u00a0 \"instanceProperties\": {\u00a0 \u00a0 \u00a0 \"guestAccelerators\": [\u00a0 \u00a0 \u00a0 \u00a0 {\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \"acceleratorCount\": NUMBER_OF_ACCELERATORS,\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \"acceleratorType\": \"ACCELERATOR_TYPE\"\u00a0 \u00a0 \u00a0 \u00a0 }\u00a0 \u00a0 \u00a0 ],\u00a0 \u00a0 \u00a0 ...\u00a0 \u00a0 },\u00a0 \u00a0 ...\u00a0 }}\n```Replace the following:- `` : the number of GPUs to add per reserved VM.\n- `` : the type of GPU to add to the reserved VMs.\nMake sure that the machine type you specify in the reservation supports the types of GPUs you specify and that [the GPU is available in the zone](/compute/docs/gpus/gpu-regions-zones) where you want to reserve resources. Otherwise, creating the reservation fails.\n- To add one or more [Local SSDs](/compute/docs/disks#localssds) to each reserved VM, include the `localSsds` field in the request body. You can specify up to 24 Local SSDs. Each Local SSD is 375\u00a0GB.For example, to specify two Local SSDs when creating a reservation, specify the following:```\nPOST https://compute.googleapis.com/compute/v1/projects/example-project/zones/us-central1-a/reservations{\u00a0 \"name\": \"example-reservation\",\u00a0 \"specificReservation\": {\u00a0 \u00a0 \"instanceProperties\": {\u00a0 \u00a0 \u00a0 \"localSsds\": [\u00a0 \u00a0 \u00a0 \u00a0 {\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \"diskSizeGb\": \"375\",\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \"interface\": \"INTERFACE_1\"\u00a0 \u00a0 \u00a0 \u00a0 },\u00a0 \u00a0 \u00a0 \u00a0 {\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \"diskSizeGb\": \"375\",\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \"interface\": \"INTERFACE_2\"\u00a0 \u00a0 \u00a0 \u00a0 }\u00a0 \u00a0 \u00a0 ],\u00a0 \u00a0 \u00a0 ...\u00a0 \u00a0 },\u00a0 \u00a0 ...\u00a0 }}\n```Replace `` and `` with the type of interface you want each Local SSD to use. Specify one of the following values:- For NVME disk interfaces: `NVME` .\n- For SCSI disk interfaces: `SCSI` .\nMake sure that the machine type you specify for the reserved VMs supports the chosen disk interfaces. Otherwise, creating the reservation fails. For more information, see how to [choose a disk interface](/compute/docs/disks/local-ssd#choose_an_interface) .\n- To have the reserved VMs use a specific [minimum CPU platform](/compute/docs/instances/specify-min-cpu-platform) instead of the zone's default CPU platform, include the `minCpuPlatform` field in the request body.```\nPOST https://compute.googleapis.com/compute/v1/projects/example-project/zones/us-central1-a/reservations{\u00a0 \"name\": \"example-reservation\",\u00a0 \"specificReservation\": {\u00a0 \u00a0 \"instanceProperties\": {\u00a0 \u00a0 \u00a0 \"minCpuPlatform\": \"MIN_CPU_PLATFORM\",\u00a0 \u00a0 \u00a0 ...\u00a0 \u00a0 },\u00a0 \u00a0 ...\u00a0 }}\n```Replace `` with a minimum CPU platform. To make sure that a CPU platform is available in the zone where you're reserving resources, [view the available CPU platforms by zone](/compute/docs/instances/specify-min-cpu-platform#cpusbyzone) .\n- To specify a [compact placement policy](/compute/docs/instances/use-compact-placement-policies) , to reduce network latency among your reserved VMs, include the `resourcePolicies` field in the request body.```\nPOST https://compute.googleapis.com/compute/v1/projects/example-project/zones/us-central1-a/reservations{\u00a0 \"name\": \"example-reservation\",\u00a0 \"resourcePolicies\": {\u00a0 \u00a0 \"policy\" : \"projects/example-project/regions/REGION/resourcePolicies/COMPACT_PLACEMENT_POLICY_NAME\"\u00a0 },\u00a0 \"specificReservationRequired\": true,\u00a0 ...}\n```Replace the following:- `` : the region where the compact placement policy is located. You must reserve resources within the same region of the placement policy. Otherwise, creating the reservation fails.\n- `` : the name of an existing compact placement policy.\nAdditionally, to avoid errors when creating a single-project reservation that specifies a compact placement policy, make sure to specify the following:- A [supported machine type](/compute/docs/instances/use-compact-placement-policies#restrictions) for compact placement policies.\n- The `specificReservationRequired` field set to `true` . This indicates that only VMs that [specifically target this reservation](/compute/docs/instances/reservations-consume#consuming_instances_from_a_specific_reservation) can consume it.\n- To specify that only VMs that specifically target this reservation can consume it, include the `specificReservationRequired` field in the request body and set it to `true` .```\nPOST https://compute.googleapis.com/compute/v1/projects/example-project/zones/us-central1-a/reservations{\u00a0 \"name\": \"example-reservation\",\u00a0 \"specificReservationRequired\": true,\u00a0 ...}\n```\n- To enable Compute Engine to [automatically delete the reservation](/compute/docs/instances/reservations-overview#auto-delete) , select one of the following methods: **    Preview     ** This product or feature is subject to the \"Pre-GA Offerings Terms\" in the General Service Terms section   of the [Service Specific Terms](/terms/service-terms#1) .     Pre-GA products and features are available \"as is\" and might have limited support.    For more information, see the [launch stage descriptions](/products#product-launch-stages) .- To delete the reservation at a specific date and time, make a `POST` request to the [beta.reservations.insert method](/compute/docs/reference/rest/beta/reservations/insert) . In the request body, include the `deleteAtTime` field.```\nPOST https://compute.googleapis.com/compute/beta/projects/example-project/zones/us-central1-a/reservations{\u00a0 \"name\": \"example-reservation\",\u00a0 \"deleteAtTime\": \"DELETE_AT_TIME\",\u00a0 ...}\n```Replace `` with a date and time formatted as an [RFC 3339 timestamp](https://tools.ietf.org/html/rfc3339) , which must be as follows:```\nYYYY-MM-DDTHH:MM:SSOFFSET\n```Replace the following:- `` : a date formatted as a 4-digit year, 2-digit month, and a 2-digit day of the month, separated by hyphens ( `-` ).\n- `` : a time formatted as a 2-digit hour using a 24-hour time, 2-digit minutes, and 2-digit seconds, separated by colons ( `:` ).\n- `` : the time zone formatted as an offset of [Coordinated Universal Time (UTC)](https://en.wikipedia.org/wiki/Coordinated_Universal_Time) . For example, to use the Pacific Standard Time (PST), specify `-08:00` . Alternatively, to use no offset, specify `Z` .\n- To delete the reservation after a specific duration, make a `POST` request to the [beta.reservations.insert method](/compute/docs/reference/rest/beta/reservations/insert) . In the request body, include the `deleteAfterDuration` field.```\nPOST https://compute.googleapis.com/compute/beta/projects/example-project/zones/us-central1-a/reservations{\u00a0 \"name\": \"example-reservation\",\u00a0 \"deleteAfterDuration\": {\u00a0 \u00a0 \"seconds\": \"DELETE_AFTER_DURATION\"\u00a0 },\u00a0 ...}\n```Replace `` with a duration in seconds. For example, specify `86400` for 86,400 seconds (1 day).\n## Troubleshooting\nLearn how to [troubleshoot reservation creation](/compute/docs/troubleshooting/troubleshooting-reservation-creation) .\n## What's next\n- Learn how to [view your reservations](/compute/docs/instances/reservations-view) .\n- Learn how to [attach reservations to commitments](/compute/docs/instances/reservations-with-commitments) .\n- Learn how to [consume reservations](/compute/docs/instances/reservations-consume) .\n- Learn how to [monitor reservations consumption](/compute/docs/instances/reservations-monitor) .", "guide": "Compute Engine"}