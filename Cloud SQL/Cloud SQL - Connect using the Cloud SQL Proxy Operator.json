{"title": "Cloud SQL - Connect using the Cloud SQL Proxy Operator", "url": "https://cloud.google.com/sql/docs/postgres/connect-proxy-operator", "abstract": "# Cloud SQL - Connect using the Cloud SQL Proxy Operator\nThis page describes how to connect to your Cloud SQL instance using the Cloud SQL Proxy Operator. For more information about how the Cloud SQL Proxy Operator works, see [About the Cloud SQL Proxy Operator](/sql/docs/postgres/sql-proxy#proxy-operator) .\n", "content": "## Overview\nThe Cloud SQL Proxy Operator configures applications deployed on Google Kubernetes Engine (GKE) to connect to Cloud SQL database instances using the Cloud SQL Auth Proxy. Using the [Cloud SQL Auth Proxy](/sql/docs/postgres/sql-proxy) is the recommended method for connecting to a Cloud SQL instance. To learn more about the Cloud SQL Auth Proxy, see [About the Cloud SQL Auth Proxy](/sql/docs/postgres/sql-proxy) .\nApplications running in [GKE](/sql/docs/postgres/connect-kubernetes-engine#proxy) can connect using the Cloud SQL Auth Proxy.\n## Before you begin\nBefore you can connect to a Cloud SQL instance, do the following:\n- For a user or service account, make sure the account has the   Cloud SQL Client role. This role contains the `cloudsql.instances.connect` permission,   which authorizes a principal to connect to all Cloud SQL instances   in a project. [   Go to the IAM page](https://console.cloud.google.com/iam-admin/iam) You can optionally include an [IAM condition](/sql/docs/mysql/project-access-control#allow_users_to_connect_to_specific_instances) in the IAM policy binding that grants the account permission   to connect only to one specific Cloud SQL instance.\n- Enable the Cloud SQL Admin API. [Enable the API](https://console.cloud.google.com/flows/enableapi?apiid=sqladmin) \n- Install and initialize the [gcloud CLI](/sdk/docs/install) .## Install the Cloud SQL Proxy Operator\nUse the following steps to install the Cloud SQL Proxy Operator.\n- Confirm that`kubectl`can connect to your GKE cluster.```\nkubectl cluster-info\n```For more information about connecting Google Kubernetes Engine to Cloud SQL, see [Connect from Google Kubernetes Engine](/sql/docs/postgres/connect-kubernetes-engine) .\n- Install`cert-manager`using helm. You will need to use the version and cli arguments specified here to use`cert-manager`on your GKE cluster.```\n\u00a0 \u00a0 \u00a0 helm repo add jetstack https://charts.jetstack.io\u00a0 \u00a0 \u00a0 helm repo update\u00a0 \u00a0 \u00a0 helm install \\\u00a0 \u00a0 \u00a0 \u00a0 cert-manager jetstack/cert-manager \\\u00a0 \u00a0 \u00a0 \u00a0 --namespace cert-manager \\\u00a0 \u00a0 \u00a0 \u00a0 --version \"v1.9.1\" \\\u00a0 \u00a0 \u00a0 \u00a0 --create-namespace \\\u00a0 \u00a0 \u00a0 \u00a0 --set global.leaderElection.namespace=cert-manager \\\u00a0 \u00a0 \u00a0 \u00a0 --set installCRDs=true\u00a0 \u00a0 \n```\n- Install the Cloud SQL Proxy Operator to your kubernetes cluster:```\nkubectl apply -f https://storage.googleapis.com/cloud-sql-connectors/cloud-sql-proxy-operator/v1.4.3/cloud-sql-proxy-operator.yaml\u00a0 \u00a0 \n```\n- Wait for the Cloud SQL Proxy Operator to start.```\nkubectl rollout status deployment -n cloud-sql-proxy-operator-system cloud-sql-proxy-operator-controller-manager --timeout=90s\u00a0 \u00a0 \n```\n- Confirm that the Cloud SQL Proxy Operator is installed and running:```\nkubectl get pods -n cloud-sql-proxy-operator-system\u00a0 \n```## What's next- Learn more about the [Cloud SQL Auth Proxy](/sql/docs/postgres/sql-proxy) .\n- Learn more about [Identity and Access Management (IAM)](/iam/docs/overview) .\n- Learn more about [Service Accounts](/iam/docs/understanding-service-accounts) .\n- Learn about the [two levels of access control](/sql/docs/postgres/instance-access-control) for Cloud SQL instances.\n- Create [users](/sql/docs/postgres/create-manage-users) and [databases](/sql/docs/postgres/create-manage-databases) .\n- Learn about [ connecting to your instance from your application](/sql/docs/postgres/instance-access-control#instanceaccess) .\n- Learn about [the psql Client](https://www.postgresql.org/docs/current/static/app-psql.html) .\n- Learn about [options for support](/sql/docs/support) .", "guide": "Cloud SQL"}