{"title": "Cloud SQL - Connect using a SQL Server client", "url": "https://cloud.google.com/sql/docs/sqlserver/connect-admin-ip", "abstract": "# Cloud SQL - Connect using a SQL Server client\nYou can use the SQL Server command-line client to connect to Cloud SQL. This page describes how to connect a SQL Server client, whether running locally on your client machine or on a Compute Engine VM, to your Cloud SQL instance.\n**Note:** For information about connecting a client to a Cloud SQL instance using the Cloud SQL Auth Proxy, see [Connect using the Cloud SQL Auth Proxy](/sql/docs/sqlserver/connect-auth-proxy) . For information about connecting using private IP, see [Configure private IP](/sql/docs/sqlserver/configure-private-ip) .\n", "content": "## Before you begin\nBefore you can use a `sqlcmd` client to connect to your Cloud SQL instance, do the following:\n- Create a Cloud SQL instance, including configuring the default  user.See [  Create instances](/sql/docs/sqlserver/create-instance) and [Set the  password for the default user account](/sql/docs/sqlserver/create-manage-users#user-root) .\n- Optionally, create a Compute Engine VM instance and then  connected to the instance using SSH.See [Create and  start a VM instance](/compute/docs/instances/create-start-instance) , [About SSH connections](/compute/docs/instances/ssh) ,   or [Connect to  Windows VMs using RDP](/compute/docs/instances/connecting-to-windows) .\n- Determine how you'll connect to your instance.For the connection options and how to choose from among them, see [About connection options](/sql/docs/sqlserver/connect-overview) .\n- Install the [SQL Server command-line tools](https://docs.microsoft.com/en-us/sql/linux/sql-server-linux-setup-tools?view=sql-server-2017) .\n## Use a SQL Server client on a local machine or a Compute Engine\n VM\nUsing a `sqlcmd` client to connect to your Cloud SQL instance involves three high-level tasks:\n- [Install the client](#install-mysql-client) .\n- [Configure access to your Cloud SQL instance](#configure-instance-mysql) .\n- [Connect to your Cloud SQL instance](#connect) .\n### Install the client\nTo install the `sqlcmd` client, do the following:\nFor Debian/Ubuntu, [ install the applicable SQL Server command-line tools](https://docs.microsoft.com/en-us/sql/linux/sql-server-linux-setup-tools?view=sql-server-2017#ubuntu) .For CentOS/RHEL, [ install the applicable SQL Server command-line tools](https://docs.microsoft.com/en-us/sql/linux/sql-server-linux-setup-tools?view=sql-server-2017#install-tools-on-rhel-7) .For openSUSE, [ install the applicable SQL Server command-line tools](https://docs.microsoft.com/en-us/sql/linux/quickstart-install-connect-suse?view=sql-server-2017#tools) .See the [ landing page](https://docs.microsoft.com/en-us/sql/database-engine/install-windows/install-sql-server-database-engine?view=sql-server-2017) for installing SQL Server, as well as the [ SQL Server downloads page](https://www.microsoft.com/en-us/sql-server/sql-server-downloads) .\n### Configure access to your Cloud SQL\ninstance\nTo configure access to your instance, do the following:\n- From the client machine or Compute Engine VM instance, use [What's my IP](http://ipv4.whatismyv6.com) to see the IP address of the client machine.\n- Copy that IP address.\n- In the Google Cloud console, go to the **Cloud SQL Instances** page. [Go to Cloud SQL Instances](https://console.cloud.google.com/sql) \n- To open the **Overview** page of an instance, click the instance name.\n- Select **Connections** from the SQL navigation menu.\n- Select the **Networking** tab.\n- In the **Authorized networks** section, click **Add network** and enter the IP address of the machine where the client is installed. **Note:** The IP addresses must be IPv4. That  is, the IP addresses of the instance, and of the client machine  that you authorize, both must be IPv4.\n- Click **Done** . Then click **Save** at the bottom of the page to save your changes.\n- [Connect](#connect) to your instance.\n### Connect to your Cloud SQL instance\nTo let you connect without encryption, the instance must have `requireSsl` set to **false** . In the Google Cloud console, the **Allow only SSL connections** checkbox must be cleared.\nFor more information about the SSL/TLS configuration of your instance, see [Configure SSL/TLS certificates](/sql/docs/sqlserver/configure-ssl-instance) .\nTo connect to your instance, do the following:\n- Confirm that you have [installed the client](#install-mysql-client) and [configured access to your instance](#configure-instance-mysql) .\n- Use the`sqlcmd`command to connect, by following steps similar to those in the examples on the [ SQL Server quickstart](https://docs.microsoft.com/en-us/sql/linux/quickstart-install-connect-ubuntu?view=sql-server-2017#connect-locally) and [Use the utility](https://docs.microsoft.com/en-us/sql/ssms/scripting/sqlcmd-use-the-utility?view=sql-server-2017) pages.\n### Connect to your Cloud SQL instance using SSL/TLS\nUse the instructions in the [Client Initiated Encryption](https://docs.microsoft.com/en-us/sql/linux/sql-server-linux-encrypted-connections?view=sql-server-2017#client-initiated-encryption) section, and related sections, of the [Encrypting Connections to SQL Server on Linux](https://docs.microsoft.com/en-us/sql/linux/sql-server-linux-encrypted-connections?view=sql-server-2017) page.\n## What's next- Learn about [ configuring an instance with a private IP address](/sql/docs/sqlserver/configure-private-ip) .\n- Learn [more about SQL Server](https://docs.microsoft.com/sql/sql-server/sql-server-technical-documentation) .", "guide": "Cloud SQL"}