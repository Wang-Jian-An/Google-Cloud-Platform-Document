{"title": "Cloud SQL - About MySQL users", "url": "https://cloud.google.com/sql/docs/mysql/users", "abstract": "# Cloud SQL - About MySQL users\nThis page describes how Cloud SQL works with MySQL users. MySQL user accounts provide security by controlling access to MySQL databases.\nFor complete documentation about MySQL users, see [the MySQL documentation](https://dev.mysql.com/doc/refman/5.7/en/access-control.html) . For information about creating and managing Cloud SQL users, see [Creating and Managing Users](/sql/docs/mysql/create-manage-users) .\n", "content": "## Why you need MySQL user accounts\nMySQL user accounts enable you to log in to and administer your Cloud SQL instance. User accounts are also required for applications to access your instance.\n## Superuser restrictions\nIn Cloud SQL, customers cannot create or access users with superuser attributes.\nBecause Cloud SQL for MySQL is a managed service, it restricts access to certain system procedures and tables.\nData Manipulation Language (DML) and Data Definition Language (DDL) privileges are restricted on some schema tables.\nHere's the list of MySQL 5.6 system tables in the schema that require write permissions: `audit_log_rules_expanded` , `audit_log_supported_ops` , `audit_log_rules` , `cloudsql_replica_index` , `db` , `event` , `func` , `heartbeat` , `plugin` , `proc` , `user` , and `tables_priv` .\nFor MySQL 5.7, here's the list: `audit_log_rules_expanded` , `audit_log_supported_ops` , `audit_log_rules` , `cloudsql_replica_index` , `db` , `event` , `func` , `gtid_executed` , `heartbeat` , `plugin` , `proc` , `user` , and `tables_priv` .\nFor related information about MySQL 8.0, see [MySQL 8.0 user privileges (cloudsqlsuperuser)](#cloudsqlsuperuser) .\n## MySQL user account format\nMySQL user accounts have two components: a user name and a host name. The user name identifies the user, and the host name specifies what hosts that user can connect from. The user name and host name are combined to create a user account:\n```\n'<user_name>'@'<host_name>'\n```\nYou can specify a specific IP address or address range for host name, or use the percent character (\"%\") to leave the host name unrestricted. Note that if you connect to your instance using IP addresses, you must add your client IP address as an [Authorized Address](/sql/docs/mysql/configure-ip) , even if your user's host name is unrestricted.\nUser accounts are defined by the user name and the host name. For example, `'user'@'%'` is a different user account than `'user'@'localhost'` .\n## Default MySQL user\nUpon creation, MySQL instances have one default user account: `'root'@'%'` . You use this account to connect to and manage the database instance for the first time. The default user has all database privileges except for [SUPER](https://dev.mysql.com/doc/refman/5.7/en/privileges-provided.html#priv_super) and [FILE](https://dev.mysql.com/doc/refman/5.7/en/privileges-provided.html#priv_file) . In Cloud SQL, you can't rename `'root'@'%'` .\nThe default for `root'@'%` is no password, and MySQL does not require you to use a password for `root'@'%` . However, because `root'@'%` exists on most MySQL installations, the `root'@'%` user is a common target for unauthorized access. Any person or program that gains access to your instance has almost unlimited access to, and control over, your instance and data. For this reason, we recommend you configure your `root'@'%` user with a strong password or delete this user. For help with configuring the default user account, see [Configure the default user account](/sql/docs/mysql/create-manage-users#user-root) .\n## System users\nThere are seven system users:\n- `root@localhost` , `root@127.0.0.1` , `root@::1`Used to provide the managed database service.\n- `cloudsqlreplica@%`Used as a replication user for replicas.\n- `cloudsqlimport@localhost`Used for data imports.\n- `cloudsqlexport@localhost`Used for data exports.\n- `cloudsqloneshot`Used for other database operations.\n- `cloudsqlapplier@localhost`Used for replication operations in external server replica or cross major version replication.\n- `cloudsqlobservabilityadmin`Used for database observability.\nYou cannot delete or modify these users.\n## Other MySQL user accounts\nYou can also create other MySQL user accounts. This is a good practice because it lets you use different MySQL user accounts for different purposes.\nYou can create a user account with [a restricted hostname](#root-user) , or use SQL commands to limit privileges on your user accounts.\nFor more information about user account names, see [the MySQL documentation](https://dev.mysql.com/doc/refman/5.7/en/account-names.html) . To create a new MySQL user, see [Create a user](/sql/docs/mysql/create-manage-users#creating) .\n### MySQL 5.6 and 5.7 user privileges\nMySQL provides fine-grained privileges you can grant or remove for a user. This enables you to control what a user can do on your instance.\nUsers created using Cloud SQL have the same privileges as the [default MySQL user](#root-user) . You can change their privileges by using the [GRANT](https://dev.mysql.com/doc/refman/5.7/en/grant.html) or [REVOKE](https://dev.mysql.com/doc/refman/5.7/en/revoke.html) statements.\nWhen you use the `mysql` client to create a user, you must explicitly grant that user privileges with the [GRANT](https://dev.mysql.com/doc/refman/5.7/en/grant.html) statement.\nFor more information about the privileges supported by MySQL, see [Privileges Provided by MySQL](https://dev.mysql.com/doc/refman/5.7/en/privileges-provided.html) .\n### MySQL 8.0 user privileges (cloudsqlsuperuser)\nIn MySQL 8.0 for Cloud SQL, when you create a new user, the user is automatically granted the `cloudsqlsuperuser` role. The `cloudsqlsuperuser` role is a Cloud SQL role that contains a number of MySQL privileges. This role gives the user all of the MySQL [static privileges](https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#privileges-provided-static) , except for [SUPER](https://dev.mysql.com/doc/refman/5.7/en/privileges-provided.html#priv_super) and [FILE](https://dev.mysql.com/doc/refman/5.7/en/privileges-provided.html#priv_file) .\nThe `cloudsqlsuperuser` role only supports the following [dynamic privileges](https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#privileges-provided-dynamic) based on MySQL 8.0 minor versions:\n- [APPLICATION_PASSWORD_ADMIN](https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_application-password-admin) \n- [CONNECTION_ADMIN](https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_connection-admin) \n- [ROLE_ADMIN](https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_role-admin) \n- [SET_USER_ID](https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_set-user-id) \n- [XA_RECOVER_ADMIN](https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_xa-recover-admin) \n- [CLOUDSQL_SPECIAL_VARIABLES_ADMIN](/sql/docs/mysql/flags#tips-option-set) \n- [APPLICATION_PASSWORD_ADMIN](https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_application-password-admin) \n- [CONNECTION_ADMIN](https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_connection-admin) \n- [ROLE_ADMIN](https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_role-admin) \n- [SET_USER_ID](https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_set-user-id) \n- [XA_RECOVER_ADMIN](https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_xa-recover-admin) \n- [CLOUDSQL_SPECIAL_VARIABLES_ADMIN](/sql/docs/mysql/flags#tips-option-set) \n- [FLUSH_OPTIMIZER_COSTS](https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_flush-optimizer-costs) \n- [FLUSH_STATUS](https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_flush-status) \n- [FLUSH_TABLES](https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_flush-tables) \n- [FLUSH_USER_RESOURCES](https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_flush-user-resources) \n- [INNODB_REDO_LOG_ENABLE](https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_innodb-redo-log-enable) \n- [SHOW_ROUTINE](https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_show-routine) \n- [APPLICATION_PASSWORD_ADMIN](https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_application-password-admin) \n- [CONNECTION_ADMIN](https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_connection-admin) \n- [ROLE_ADMIN](https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_role-admin) \n- [SET_USER_ID](https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_set-user-id) \n- [XA_RECOVER_ADMIN](https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_xa-recover-admin) \n- [CLOUDSQL_SPECIAL_VARIABLES_ADMIN](/sql/docs/mysql/flags#tips-option-set) \n- [FLUSH_OPTIMIZER_COSTS](https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_flush-optimizer-costs) \n- [FLUSH_STATUS](https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_flush-status) \n- [FLUSH_TABLES](https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_flush-tables) \n- [FLUSH_USER_RESOURCES](https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_flush-user-resources) \n- [INNODB_REDO_LOG_ENABLE](https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_innodb-redo-log-enable) \n- [SHOW_ROUTINE](https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_show-routine) \n- [AUTHENTICATION_POLICY_ADMIN](https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_authentication-policy-admin) \n- [GROUP_REPLICATION_STREAM](https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_group-replication-stream) \n- [PASSWORDLESS_USER_ADMIN](https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_passwordless-user-admin) \n- [APPLICATION_PASSWORD_ADMIN](https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_application-password-admin) \n- [CONNECTION_ADMIN](https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_connection-admin) \n- [ROLE_ADMIN](https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_role-admin) \n- [SET_USER_ID](https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_set-user-id) \n- [XA_RECOVER_ADMIN](https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_xa-recover-admin) \n- [CLOUDSQL_SPECIAL_VARIABLES_ADMIN](/sql/docs/mysql/flags#tips-option-set) \n- [FLUSH_OPTIMIZER_COSTS](https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_flush-optimizer-costs) \n- [FLUSH_STATUS](https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_flush-status) \n- [FLUSH_TABLES](https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_flush-tables) \n- [FLUSH_USER_RESOURCES](https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_flush-user-resources) \n- [INNODB_REDO_LOG_ENABLE](https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_innodb-redo-log-enable) \n- [SHOW_ROUTINE](https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_show-routine) \n- [AUTHENTICATION_POLICY_ADMIN](https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_authentication-policy-admin) \n- [GROUP_REPLICATION_STREAM](https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_group-replication-stream) \n- [PASSWORDLESS_USER_ADMIN](https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_passwordless-user-admin) \n- [AUDIT_ABORT_EXEMPT](https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_audit-abort-exempt) \n- [APPLICATION_PASSWORD_ADMIN](https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_application-password-admin) \n- [CONNECTION_ADMIN](https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_connection-admin) \n- [ROLE_ADMIN](https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_role-admin) \n- [SET_USER_ID](https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_set-user-id) \n- [XA_RECOVER_ADMIN](https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_xa-recover-admin) \n- [CLOUDSQL_SPECIAL_VARIABLES_ADMIN](/sql/docs/mysql/flags#tips-option-set) \n- [FLUSH_OPTIMIZER_COSTS](https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_flush-optimizer-costs) \n- [FLUSH_STATUS](https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_flush-status) \n- [FLUSH_TABLES](https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_flush-tables) \n- [FLUSH_USER_RESOURCES](https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_flush-user-resources) \n- [INNODB_REDO_LOG_ENABLE](https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_innodb-redo-log-enable) \n- [SHOW_ROUTINE](https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_show-routine) \n- [AUTHENTICATION_POLICY_ADMIN](https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_authentication-policy-admin) \n- [GROUP_REPLICATION_STREAM](https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_group-replication-stream) \n- [PASSWORDLESS_USER_ADMIN](https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_passwordless-user-admin) \n- [AUDIT_ABORT_EXEMPT](https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_audit-abort-exempt) \n- [SENSITIVE_VARIABLES_OBSERVER](https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_sensitive-variables-observer) \n- [APPLICATION_PASSWORD_ADMIN](https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_application-password-admin) \n- [CONNECTION_ADMIN](https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_connection-admin) \n- [ROLE_ADMIN](https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_role-admin) \n- [SET_USER_ID](https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_set-user-id) \n- [XA_RECOVER_ADMIN](https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_xa-recover-admin) \n- [CLOUDSQL_SPECIAL_VARIABLES_ADMIN](/sql/docs/mysql/flags#tips-option-set) \n- [FLUSH_OPTIMIZER_COSTS](https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_flush-optimizer-costs) \n- [FLUSH_STATUS](https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_flush-status) \n- [FLUSH_TABLES](https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_flush-tables) \n- [FLUSH_USER_RESOURCES](https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_flush-user-resources) \n- [INNODB_REDO_LOG_ENABLE](https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_innodb-redo-log-enable) \n- [SHOW_ROUTINE](https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_show-routine) \n- [AUTHENTICATION_POLICY_ADMIN](https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_authentication-policy-admin) \n- [GROUP_REPLICATION_STREAM](https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_group-replication-stream) \n- [PASSWORDLESS_USER_ADMIN](https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_passwordless-user-admin) \n- [AUDIT_ABORT_EXEMPT](https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_audit-abort-exempt) \n- [SENSITIVE_VARIABLES_OBSERVER](https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_sensitive-variables-observer) \n- [FIREWALL_EXEMPT](https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_firewall-exempt) \nThe `cloudsqlsuperuser` role doesn't support any Data Definition Language (DDL) operations on the `mysql` system database.\nTo see a complete list of privileges granted to the `cloudsqlsuperuser` role, execute the [SHOW GRANTS](https://dev.mysql.com/doc/refman/8.0/en/show-grants.html) statement in the `mysql` client:\n```\nSHOW GRANTS FOR 'cloudsqlsuperuser'\n```\n## What's next\n- [Configure the root user account](/sql/docs/mysql/create-manage-users#user-root) for your instance.\n- [Create and manage users](/sql/docs/mysql/create-manage-users) .\n- [Create and manage databases](/sql/docs/mysql/create-manage-databases) .\n- See the [MySQL documentation about MySQL users](https://dev.mysql.com/doc/refman/5.7/en/access-control.html) .\n- See the [MySQL documentation about privileges provided by MySQL](https://dev.mysql.com/doc/refman/5.7/en/privileges-provided.html) .\n- Learn about [options for connecting to your instance](/sql/docs/mysql/external-connection-methods) .", "guide": "Cloud SQL"}