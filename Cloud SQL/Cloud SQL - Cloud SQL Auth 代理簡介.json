{"title": "Cloud SQL - Cloud SQL Auth \u4ee3\u7406\u7c21\u4ecb", "url": "https://cloud.google.com/sql/docs/postgres/sql-proxy?hl=zh-cn", "abstract": "# Cloud SQL - Cloud SQL Auth \u4ee3\u7406\u7c21\u4ecb\n\u672c\u9801\u9762\u7e3d\u7d50\u4e86 Cloud SQL Auth \u4ee3\u7406\uff0c\u4e26\u4ecb\u7d39\u77ad\u5982\u4f55\u4f7f\u7528\u5b83\u4f86\u5efa\u7acb\u8207\u5be6\u4f8b\u7684\u6388\u6b0a\u3001\u52a0\u5bc6\u548c\u5b89\u5168\u9023\u63a5\u3002\n**\u5982\u9700\u77ad\u89e3 Cloud SQL Auth \u4ee3\u7406\u7684\u5206\u6b65\u4f7f\u7528\u8aaa\u660e** \uff0c\u8acb\u9ede\u64ca\u8207\u60a8\u7684\u74b0\u5883\u6240\u5c0d\u61c9\u7684\u93c8\u63a5\uff1a\n- [Cloud SQL Auth \u4ee3\u7406\u4f7f\u7528\u5feb\u901f\u5165\u9580](https://cloud.google.com/sql/docs/postgres/quickstart-proxy-test?hl=zh-cn) \n- [\u5982\u4f55\u4f7f\u7528 Cloud SQL Auth \u4ee3\u7406\u9032\u884c\u9023\u63a5](https://cloud.google.com/sql/docs/postgres/connect-auth-proxy?hl=zh-cn) \n- [\u5982\u4f55\u5728 GKE \u4e2d\u4f7f\u7528 Cloud SQL Auth \u4ee3\u7406\u9032\u884c\u9023\u63a5](https://cloud.google.com/sql/docs/postgres/connect-kubernetes-engine?hl=zh-cn) \n\u60a8\u7121\u9700\u4f7f\u7528 Cloud SQL Auth \u4ee3\u7406\uff0c\u4e5f\u7121\u9700\u5c07 SSL \u914d\u7f6e\u7232\u5f9e [App Engine \u6a19\u6e96\u74b0\u5883](https://cloud.google.com/sql/docs/postgres/connect-app-engine-standard?hl=zh-cn) \u6216 [App Engine \u67d4\u6027\u74b0\u5883](https://cloud.google.com/sql/docs/postgres/connect-app-engine-flexible?hl=zh-cn) \u9023\u63a5\u5230 Cloud SQL\u3002\n", "content": "## Cloud SQL Auth \u4ee3\u7406\u7684\u512a\u52e2\n**Cloud SQL Auth \u4ee3\u7406** \u662f\u4e00\u500b Cloud SQL \u9023\u63a5\u5668\uff0c\u53ef\u8b93\u60a8\u5b89\u5168\u5730\u8a2a\u554f\u60a8\u7684\u5be6\u4f8b\uff0c\u800c\u7121\u9700\u4f7f\u7528 [\u5df2\u7372\u6388\u6b0a\u7684\u7db2\u7d61](https://cloud.google.com/sql/docs/postgres/configure-ip?hl=zh-cn) \uff0c\u4e5f\u7121\u9700 [\u914d\u7f6e SSL](https://cloud.google.com/sql/docs/postgres/configure-ssl-instance?hl=zh-cn) \u3002\nCloud SQL Auth \u4ee3\u7406\u548c [\u5176\u4ed6 Cloud SQL \u9023\u63a5\u5668](https://cloud.google.com/sql/docs/postgres/connect-connectors?hl=zh-cn) \u5177\u6709\u4ee5\u4e0b\u512a\u52e2\uff1a\n- **\u5b89\u5168\u9023\u63a5** \uff1aCloud SQL Auth \u4ee3\u7406\u4f7f\u7528\u63a1\u7528 256 \u4f4d AES \u52a0\u5bc6\u7684 TLS 1.3 \u81ea\u52d5\u52a0\u5bc6\u9032\u51fa\u6578\u64da\u5eab\u7684\u6d41\u91cf\u3002SSL \u8b49\u66f8\u7528\u65bc\u9a57\u8b49\u5ba2\u6236\u7aef\u548c\u670d\u52d9\u5668\u8eab\u4efd\uff0c\u7368\u7acb\u65bc\u6578\u64da\u5eab\u5354\u8b70\uff1b\u60a8\u7121\u9700\u7ba1\u7406 SSL \u8b49\u66f8\u3002\n- **\u7c21\u5316\u9023\u63a5\u6388\u6b0a** \uff1aCloud SQL Auth \u4ee3\u7406\u4f7f\u7528 IAM \u6b0a\u9650\u4f86\u63a7\u5236\u8ab0\u80fd\u9023\u63a5\u5230 Cloud SQL \u5be6\u4f8b\u3002\u56e0\u6b64\uff0cCloud SQL Auth \u4ee3\u7406\u6703\u8655\u7406 Cloud SQL \u7684\u8eab\u4efd\u9a57\u8b49\uff0c\u8b93\u60a8\u7121\u9700\u518d\u63d0\u4f9b\u975c\u614b IP \u5730\u5740\u3002\n- **IAM \u6578\u64da\u5eab\u8eab\u4efd\u9a57\u8b49** \u3002\uff08\u53ef\u9078\uff09Cloud SQL Auth \u4ee3\u7406\u652f\u6301\u81ea\u52d5\u5237\u65b0 OAuth 2.0 \u8a2a\u554f\u4ee4\u724c\u3002\u5982\u9700\u77ad\u89e3\u6b64\u529f\u80fd\uff0c\u8acb\u53c3\u95b1 [Cloud SQL IAM \u6578\u64da\u5eab\u8eab\u4efd\u9a57\u8b49](https://cloud.google.com/sql/docs/postgres/authentication?hl=zh-cn) \u3002\nCloud SQL Auth \u4ee3\u7406\u4e0d\u63d0\u4f9b\u65b0\u7684\u9023\u63a5\u8def\u5f91\uff0c\u800c\u662f\u4f9d\u8cf4\u65bc\u73fe\u6709 IP \u9023\u63a5\u3002\u5982\u9700\u4f7f\u7528 [\u5c08\u7528 IP](https://cloud.google.com/sql/docs/postgres/private-ip?hl=zh-cn) \u9023\u63a5\u5230 Cloud SQL \u5be6\u4f8b\uff0cCloud SQL Auth \u4ee3\u7406\u5fc5\u9808\u4f4d\u65bc\u53ef\u4ee5\u8a2a\u554f\u5be6\u4f8b\u6240\u5728 VPC \u7db2\u7d61\u7684\u8cc7\u6e90\u4e2d\u3002\n\u5982\u679c\u60a8\u4f7f\u7528\u7684\u662f Java\u3001Python \u6216 Go \u8a9e\u8a00\uff0c\u5247 [\u4f7f\u7528\u76f8\u61c9\u7684\u9023\u63a5\u5668\u9032\u884c\u9023\u63a5](https://cloud.google.com/sql/docs/postgres/connect-connectors?hl=zh-cn) \u800c\u4e0d\u662f\u4f7f\u7528 Cloud SQL Auth proxy \u4ee3\u7406\u3002\n## Cloud SQL Auth \u4ee3\u7406\u7684\u5de5\u4f5c\u539f\u7406\nCloud SQL Auth \u4ee3\u7406\u7684\u5de5\u4f5c\u539f\u7406\u662f\u5728\u672c\u5730\u74b0\u5883\u4e2d\u904b\u884c\u672c\u5730\u5ba2\u6236\u7aef\u3002\u60a8\u7684\u61c9\u7528\u901a\u904e\u6578\u64da\u5eab\u4f7f\u7528\u7684\u6a19\u6e96\u6578\u64da\u5eab\u5354\u8b70\u8207 Cloud SQL Auth \u4ee3\u7406\u9032\u884c\u901a\u4fe1\u3002\n\u800c Cloud SQL Auth \u4ee3\u7406\u901a\u904e\u5b89\u5168\u96a7\u9053\u8207\u670d\u52d9\u5668\u4e0a\u904b\u884c\u7684\u4ee3\u7406\u914d\u5957\u9032\u7a0b\u9032\u884c\u901a\u4fe1\u3002\u901a\u904e Cloud SQL Auth \u4ee3\u7406\u5efa\u7acb\u7684\u6bcf\u500b\u9023\u63a5\u90fd\u6703\u5275\u5efa\u4e00\u500b\u8207 Cloud SQL \u5be6\u4f8b\u7684\u9023\u63a5\u3002\n\u61c9\u7528\u9023\u63a5\u5230 Cloud SQL Auth \u4ee3\u7406\u6642\uff0c\u5b83\u6703\u6aa2\u67e5\u5176\u8207\u76ee\u6a19 Cloud SQL \u5be6\u4f8b\u4e4b\u9593\u7684\u73fe\u6709\u9023\u63a5\u662f\u5426\u53ef\u7528\u3002\u5982\u679c\u9023\u63a5\u4e0d\u5b58\u5728\uff0c\u5247\u5b83\u6703\u8abf\u7528 Cloud SQL Admin API \u4f86\u7372\u53d6\u81e8\u6642 SSL \u8b49\u66f8\u4e26\u4f7f\u7528\u5b83\u4f86\u9023\u63a5\u5230 Cloud SQL\u3002\u81e8\u6642 SSL \u8b49\u66f8\u5927\u7d04\u5728\u4e00\u5c0f\u6642\u5f8c\u904e\u671f\u3002Cloud SQL Auth \u4ee3\u7406\u6703\u5728\u8b49\u66f8\u904e\u671f\u4e4b\u524d\u5237\u65b0\u9019\u4e9b\u8b49\u66f8\u3002\n\u96d6\u7136 Cloud SQL Auth \u4ee3\u7406\u53ef\u4ee5\u5075\u807d\u4efb\u4f55\u7aef\u53e3\uff0c\u4f46\u5b83\u53ea\u6703\u5728\u7aef\u53e3 3307 \u4e0a\u5275\u5efa\u5230 Cloud SQL \u5be6\u4f8b\u7684\u50b3\u51fa\u6216\u51fa\u7ad9\u6d41\u91cf\u9023\u63a5\u3002\u7531\u65bc Cloud SQL Auth \u4ee3\u7406\u901a\u904e\u57df\u540d `sqladmin.googleapis.com` \u8abf\u7528 API\uff0c\u800c\u8a72\u57df\u540d\u6c92\u6709\u56fa\u5b9a IP \u5730\u5740\uff0c\u56e0\u6b64\u5fc5\u9808\u5728\u7aef\u53e3 443 \u4e0a\u5141\u8a31\u6240\u6709\u51fa\u7ad9\u6d41\u91cf TCP \u9023\u63a5\u3002\u5982\u679c\u60a8\u7684\u5ba2\u6236\u7aef\u6a5f\u5668\u5177\u6709\u51fa\u7ad9\u9632\u706b\u7246\u653f\u7b56\uff0c\u8acb\u78ba\u4fdd\u5b83\u5141\u8a31\u8207 Cloud SQL \u5be6\u4f8b IP \u4e0a\u7684\u7aef\u53e3 3307 \u7684\u50b3\u51fa\u9023\u63a5\u3002\nCloud SQL Auth \u4ee3\u7406\u4e0d\u63d0\u4f9b [\u9023\u63a5\u6c60](https://cloud.google.com/sql/docs/postgres/manage-connections?hl=zh-cn#pools) \uff0c\u4f46\u53ef\u4ee5\u8207\u5176\u4ed6\u9023\u63a5\u6c60\u914d\u5c0d\u4ee5\u63d0\u9ad8\u6548\u7387\u3002\n**\u6ce8\u610f\uff1a** \u5ba2\u6236\u7aef\u61c9\u7528\u8207\u5ba2\u6236\u7aef\u6a5f\u5668\u4e0a\u7684 Cloud SQL Auth \u4ee3\u7406\u5ba2\u6236\u7aef\u4e4b\u9593\u7684\u9023\u63a5\u4e0d\u6703\u52a0\u5bc6\u3002\u6211\u5011\u5efa\u8b70\u60a8\u5728\u5305\u542b\u5de5\u4f5c\u8ca0\u8f09\u7684\u6a5f\u5668\u4e0a\u904b\u884c\u8a72\u4ee3\u7406\u3002\n\u4e0b\u5716\u5c55\u793a\u4e86 Cloud SQL Auth \u4ee3\u7406\u5982\u4f55\u9023\u63a5\u5230 Cloud SQL\uff1a\n## Cloud SQL Auth \u4ee3\u7406\u7684\u4f7f\u7528\u8981\u6c42\n\u5982\u9700\u4f7f\u7528 Cloud SQL Auth \u4ee3\u7406\uff0c\u5fc5\u9808\u6eff\u8db3\u4ee5\u4e0b\u8981\u6c42\uff1a\n- \u5fc5\u9808\u5553\u7528 Cloud SQL Admin API\u3002\n- \u5fc5\u9808\u5411 Cloud SQL Auth \u4ee3\u7406\u63d0\u4f9b [Google Cloud \u8eab\u4efd\u9a57\u8b49\u6191\u64da](https://cloud.google.com/sql/docs/postgres/connect-auth-proxy?hl=zh-cn#authentication-options) \u3002\n- \u5fc5\u9808\u5411 Cloud SQL Auth \u4ee3\u7406\u63d0\u4f9b\u6709\u6548\u7684\u6578\u64da\u5eab\u7528\u6236\u8cec\u865f\u548c\u5bc6\u78bc\u3002\n- \u5be6\u4f8b\u5fc5\u9808\u5177\u6709\u516c\u5171 IPv4 \u5730\u5740\uff0c\u6216\u8005\u914d\u7f6e\u7232\u4f7f\u7528 [\u5c08\u7528 IP](https://cloud.google.com/sql/docs/postgres/private-ip?hl=zh-cn) \u3002\u8a72\u516c\u5171 IP \u5730\u5740\u7121\u9700\u53ef\u4f9b\u4efb\u4f55\u5916\u90e8\u5730\u5740\u8a2a\u554f\uff08\u7121\u9700\u6dfb\u52a0\u7232\u5df2\u7372\u6388\u6b0a\u7684\u7db2\u7d61\u5730\u5740\uff09\u3002## \u4e0b\u8f09\u4e26\u5b89\u88dd Cloud SQL Auth \u4ee3\u7406\n- \u4e0b\u8f09 Cloud SQL Auth \u4ee3\u7406\uff1a```\ncurl -o cloud-sql-proxy https://storage.googleapis.com/cloud-sql-connectors/cloud-sql-proxy/v2.9.0/cloud-sql-proxy.linux.amd64\n```\n- \u4f7f Cloud SQL Auth \u4ee3\u7406\u53ef\u57f7\u884c\uff1a```\nchmod +x cloud-sql-proxy\n```\n- \u4e0b\u8f09 Cloud SQL Auth \u4ee3\u7406\uff1a```\ncurl -o cloud-sql-proxy https://storage.googleapis.com/cloud-sql-connectors/cloud-sql-proxy/v2.9.0/cloud-sql-proxy.linux.386\n```\n- \u5982\u679c\u627e\u4e0d\u5230`curl`\u547d\u4ee4\uff0c\u8acb\u904b\u884c`sudo apt install curl`\u4e26\u91cd\u5fa9\u57f7\u884c\u4e0b\u8f09\u547d\u4ee4\u3002\n- \u4f7f Cloud SQL Auth \u4ee3\u7406\u53ef\u57f7\u884c\uff1a```\nchmod +x cloud-sql-proxy\n```\n- \u4e0b\u8f09 Cloud SQL Auth \u4ee3\u7406\uff1a```\ncurl -o cloud-sql-proxy https://storage.googleapis.com/cloud-sql-connectors/cloud-sql-proxy/v2.9.0/cloud-sql-proxy.darwin.amd64\n```\n- \u4f7f Cloud SQL Auth \u4ee3\u7406\u53ef\u57f7\u884c\uff1a```\nchmod +x cloud-sql-proxy\n```\n- \u4e0b\u8f09 Cloud SQL Auth \u4ee3\u7406\uff1a```\n\u00a0 curl -o cloud-sql-proxy https://storage.googleapis.com/cloud-sql-connectors/cloud-sql-proxy/v2.9.0/cloud-sql-proxy.darwin.arm64\u00a0 \n```\n- \u4f7f Cloud SQL Auth \u4ee3\u7406\u53ef\u57f7\u884c\uff1a```\n\u00a0 chmod +x cloud-sql-proxy\u00a0 \n```\u53f3\u9375\u9ede\u64ca\n [https://storage.googleapis.com/cloud-sql-connectors/cloud-sql-proxy/v2.9.0/cloud-sql-proxy.x64.exe](https://storage.googleapis.com/cloud-sql-connectors/cloud-sql-proxy/v2.9.0/cloud-sql-proxy.x64.exe) \n\uff0c\u7136\u5f8c\u9078\u64c7\n **\u93c8\u63a5\u53e6\u5b58\u7232** \n\u4ee5\u4e0b\u8f09 Cloud SQL Auth \u4ee3\u7406\u3002\u5c07\u6587\u4ef6\u91cd\u547d\u540d\u7232\n`cloud-sql-proxy.exe`\n\u3002\n\u53f3\u9375\u9ede\u64ca\n [https://storage.googleapis.com/cloud-sql-connectors/cloud-sql-proxy/v2.9.0/cloud-sql-proxy.x86.exe](https://storage.googleapis.com/cloud-sql-connectors/cloud-sql-proxy/v2.9.0/cloud-sql-proxy.x86.exe) \n\uff0c\u7136\u5f8c\u9078\u64c7\n **\u93c8\u63a5\u53e6\u5b58\u7232** \n\u4ee5\u4e0b\u8f09 Cloud SQL Auth \u4ee3\u7406\u3002\u5c07\u6587\u4ef6\u91cd\u547d\u540d\u7232\n`cloud-sql-proxy.exe`\n\u3002\nCloud SQL Auth \u4ee3\u7406\u6709\u4e0d\u540c\u7684\u5bb9\u5668\u6620\u50cf\uff0c\u4f8b\u5982 `distroless` \u3001 `alpine` \u548c `buster` \u3002\u9ed8\u8a8d\u7684 Cloud SQL Auth \u4ee3\u7406\u5bb9\u5668\u6620\u50cf\u4f7f\u7528\u4e0d\u5305\u542b shell \u7684 [distroless](https://github.com/GoogleContainerTools/distroless) \u3002\u5982\u679c\u60a8\u9700\u8981 shell \u6216\u76f8\u95dc\u5de5\u5177\uff0c\u8acb\u4e0b\u8f09\u57fa\u65bc `alpine` \u6216 `buster` \u7684\u6620\u50cf\u3002\u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1 [Cloud SQL Auth \u4ee3\u7406\u5bb9\u5668\u6620\u50cf](https://github.com/GoogleCloudPlatform/cloudsql-proxy#container-images) \u3002\n\u60a8\u53ef\u4ee5\u901a\u904e Docker \u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u5c07\u6700\u65b0\u6620\u50cf\u62c9\u53d6\u5230\u672c\u5730\u6a5f\u5668\uff1a\n```\ndocker pull gcr.io/cloud-sql-connectors/cloud-sql-proxy:2.9.0\n```\n **\u6ce8\u610f** \uff1aCloud SQL Auth \u4ee3\u7406\u4f7f\u7528\u652f\u6301`gcr.io`\u7db2\u57df\u4f46\u5f9e Artifact Registry \u50b3\u9001\u6620\u50cf\u7684\u5009\u5eab\u3002\u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1 [\u5f9e Container Registry \u8f49\u63db](https://cloud.google.com/artifact-registry/docs/transition/transition-from-gcr?hl=zh-cn) \u3002\n\u5c0d\u65bc\u6b64\u8655\u672a\u5217\u51fa\u7684\u5176\u4ed6\u64cd\u4f5c\u7cfb\u7d71\uff0c\u60a8\u53ef\u4ee5\n [\u901a\u904e\u6e90\u4ee3\u78bc\u7de8\u8b6f Cloud SQL Auth \u4ee3\u7406](http://github.com/GoogleCloudPlatform/cloudsql-proxy) \n\u3002\n## Cloud SQL Auth \u4ee3\u7406\u5553\u52d5\u9078\u9805\n\u5553\u52d5 Cloud SQL Auth \u4ee3\u7406\u6642\uff0c\u60a8\u9700\u8981\u5411\u5176\u63d0\u4f9b\u4ee5\u4e0b\u4fe1\u606f\uff1a\n- \u8207\u54ea\u4e9b Cloud SQL \u5be6\u4f8b\u5efa\u7acb\u9023\u63a5\n- \u8a72\u4ee3\u7406\u5c07\u5728\u4f55\u8655\u5075\u807d\u8981\u5f9e\u60a8\u7684\u61c9\u7528\u767c\u9001\u5230 Cloud SQL \u7684\u6578\u64da\n- \u8a72\u4ee3\u7406\u5c07\u5728\u4f55\u8655\u67e5\u627e\u5411 Cloud SQL \u9a57\u8b49\u60a8\u7684\u61c9\u7528\u6642\u8981\u4f7f\u7528\u7684\u6191\u64da\n- \u8981\u4f7f\u7528\u54ea\u7a2e IP \u5730\u5740\u985e\u578b\uff08\u5982\u679c\u9700\u8981\uff09\u3002\n\u60a8\u63d0\u4f9b\u7684 Cloud SQL Auth \u4ee3\u7406\u5553\u52d5\u9078\u9805\u6c7a\u5b9a\u4e86\u5b83\u662f\u5075\u807d TCP \u7aef\u53e3\u9084\u662f\u5075\u807d Unix \u5957\u63a5\u5b57\u3002\u5982\u679c\u8a72\u4ee3\u7406\u8981\u5075\u807d Unix \u5957\u63a5\u5b57\uff0c\u5247\u6703\u5728\u60a8\u9078\u64c7\u7684\u4f4d\u7f6e\uff08\u901a\u5e38\u7232 /cloudsql/ \u76ee\u9304\uff09\u5275\u5efa\u5957\u63a5\u5b57\u3002 \u5c0d\u65bc TCP\uff0cCloud SQL Auth \u4ee3\u7406\u9ed8\u8a8d\u5075\u807d `localhost` \u3002\n\u904b\u884c\u5e36\u53c3\u6578 `--help` \u7684 `cloud-sql-proxy` \u53ef\u57f7\u884c\u6587\u4ef6\uff0c\u4ee5\u67e5\u770b\u5b8c\u6574\u7684\u5553\u52d5\u9078\u9805\u5217\u8868\u3002\n**\u6ce8\u610f** \uff1a\u5728 Windows \u4e0a\uff0cCloud SQL Auth \u4ee3\u7406\u4e0d\u652f\u6301 Unix \u5957\u63a5\u5b57\u3002\u5728\u57fa\u65bc Linux \u7684\u64cd\u4f5c\u7cfb\u7d71\u4e2d\uff0c\u5957\u63a5\u5b57\u8def\u5f91\u9577\u5ea6\u4e0a\u9650\u7232 108 \u500b\u5b57\u7b26\u3002\u5982\u679c\u8def\u5f91\u7684\u7e3d\u9577\u5ea6\u8d85\u904e\u6b64\u4e0a\u9650\uff0c\u60a8\u5c07\u7121\u6cd5\u9023\u63a5\u3002\n\u60a8\u53ef\u5728\u672c\u5730\u74b0\u5883\u4e2d\u7684\u4efb\u610f\u4f4d\u7f6e\u5b89\u88dd Cloud SQL Auth \u4ee3\u7406\u3002Cloud SQL Auth \u4ee3\u7406\u4e8c\u9032\u5236\u6587\u4ef6\u7684\u4f4d\u7f6e\u4e0d\u6703\u5f71\u97ff\u8a72\u4ee3\u7406\u5075\u807d\u61c9\u7528\u4e2d\u7684\u6578\u64da\u6240\u4f7f\u7528\u7684\u4f4d\u7f6e\u3002\n\u5982\u9700\u8a73\u7d30\u77ad\u89e3\u5982\u4f55\u5553\u52d5 Cloud SQL Auth \u4ee3\u7406\uff0c\u8acb\u53c3\u95b1 [\u5553\u52d5 Cloud SQL Auth \u4ee3\u7406](https://cloud.google.com/sql/docs/postgres/connect-auth-proxy?hl=zh-cn#start-proxy) \u3002\n## \u4f7f\u7528\u670d\u52d9\u8cec\u865f\u9032\u884c\u8eab\u4efd\u9a57\u8b49\nCloud SQL Auth \u4ee3\u7406\u9700\u8981\u4ee5 Cloud SQL IAM \u8eab\u4efd\u9032\u884c\u8eab\u4efd\u9a57\u8b49\uff0c\u4ee5\u6388\u6b0a\u60a8\u9023\u63a5\u5230 Cloud SQL \u5be6\u4f8b\u3002\n\u4f7f\u7528\u670d\u52d9\u8cec\u865f\u9032\u884c\u8eab\u4efd\u9a57\u8b49\u7684\u512a\u52e2\u5728\u65bc\uff0c\u60a8\u53ef\u4ee5\u5c08\u9580\u7232 Cloud SQL Auth \u4ee3\u7406\u5275\u5efa\u6191\u64da\u6587\u4ef6\uff1b\u53ea\u8981 Cloud SQL Auth \u4ee3\u7406\u8655\u65bc\u904b\u884c\u72c0\u614b\uff0c\u9019\u500b\u6587\u4ef6\u5c31\u6703\u660e\u78ba\u3001\u6c38\u4e45\u5730\u95dc\u806f\u5230 Cloud SQL Auth \u4ee3\u7406\u3002\u56e0\u6b64\uff0c\u5c0d\u65bc\u672a\u5728 Compute Engine \u5be6\u4f8b\u4e0a\u904b\u884c\u7684\u751f\u7522\u5be6\u4f8b\uff0c\u5efa\u8b70\u7684\u65b9\u6cd5\u662f\u4f7f\u7528\u670d\u52d9\u8cec\u865f\u3002\n\u5982\u679c\u9700\u8981\u5f9e\u591a\u81fa\u6a5f\u5668\u8abf\u7528 Cloud SQL Auth \u4ee3\u7406\uff0c\u60a8\u53ef\u5728\u7cfb\u7d71\u6620\u50cf\u4e2d\u8907\u88fd\u6191\u64da\u6587\u4ef6\u3002\n\u8981\u4f7f\u7528\u6b64\u65b9\u6cd5\uff0c\u5fc5\u9808\u5275\u5efa\u548c\u7ba1\u7406\u6191\u8b49\u6587\u4ef6\u3002\u53ea\u6709\u64c1\u6709 `resourcemanager.projects.setIamPolicy` \u6b0a\u9650\u7684\u7528\u6236\uff08\u5982\u9805\u76ee\u6240\u6709\u8005\uff09\u624d\u80fd\u5275\u5efa\u670d\u52d9\u8cec\u865f\u3002\u5982\u679c\u60a8\u7684 Google Cloud \u7528\u6236\u4e0d\u5177\u5099\u6b64\u6b0a\u9650\uff0c\u5247\u60a8\u5fc5\u9808\u8b93\u5176\u4ed6\u4eba\u4ee3\u7232\u5275\u5efa\u670d\u52d9\u8cec\u865f\uff0c\u6216\u4f7f\u7528\u5176\u4ed6\u65b9\u6cd5\u4f86\u9a57\u8b49 Cloud SQL Auth \u4ee3\u7406\u7684\u8eab\u4efd\u3002\n\u77ad\u89e3\u5982\u4f55 [\u5275\u5efa\u670d\u52d9\u8cec\u865f](https://cloud.google.com/sql/docs/postgres/connect-auth-proxy?hl=zh-cn#create-service-account) \u3002\n### \u670d\u52d9\u8cec\u865f\u6240\u9700\u7684\u6b0a\u9650\n\u5982\u679c\u4f7f\u7528\u670d\u52d9\u8cec\u865f\u7232 Cloud SQL Auth \u4ee3\u7406\u63d0\u4f9b\u6191\u64da\uff0c\u5247\u60a8\u5fc5\u9808\u5728\u5275\u5efa\u8a72\u670d\u52d9\u8cec\u865f\u6642\u7232\u5176\u5206\u914d\u8db3\u5920\u7684\u6b0a\u9650\u3002\u5982\u679c\u60a8\u8981\u4f7f\u7528\u66f4\u7cbe\u7d30\u7684 [Identity Access and Management](https://cloud.google.com/sql/docs/postgres/iam-roles?hl=zh-cn) (IAM) \u89d2\u8272\u4f86\u7ba1\u7406 Cloud SQL \u6b0a\u9650\uff0c\u5247\u5fc5\u9808\u5411\u670d\u52d9\u8cec\u865f\u5206\u914d\u4e00\u500b\u5177\u6709 `cloudsql.instances.connect` \u6b0a\u9650\u7684\u89d2\u8272\u3002\u4ee5\u4e0b\u9810\u5b9a\u7fa9 Cloud SQL \u89d2\u8272\u64c1\u6709\u9019\u9805\u6b0a\u9650\uff1a\n- Cloud SQL Client\n- Cloud SQL Editor\n- Cloud SQL Admin\n\u5982\u679c\u60a8\u8981\u4f7f\u7528\u50b3\u7d71\u9805\u76ee\u89d2\u8272\uff08\u67e5\u770b\u8005\u3001\u7de8\u8f2f\u8005\u3001\u6240\u6709\u8005\uff09\uff0c\u8a72\u670d\u52d9\u8cec\u865f\u5fc5\u9808\u81f3\u5c11\u5177\u6709\u7de8\u8f2f\u8005\u89d2\u8272\u3002\n## \u7528\u65bc\u6307\u5b9a Cloud SQL \u5be6\u4f8b\u7684\u9078\u9805\n\u60a8\u53ef\u4ee5\u901a\u904e\u591a\u7a2e\u65b9\u5f0f\u544a\u77e5 Cloud SQL Auth \u4ee3\u7406\u8981\u9023\u63a5\u5230\u54ea\u4e9b\u5be6\u4f8b\u3002\u4e00\u4e9b\u65b9\u5f0f\u662f\u986f\u5f0f\u7684\uff0c\u4e00\u4e9b\u65b9\u5f0f\u662f\u96b1\u5f0f\u7684\u3002\u5728\u67d0\u4e9b\u914d\u7f6e\u4e2d\uff0c\u60a8\u7121\u9700\u63d0\u524d\u544a\u77e5 Cloud SQL Auth \u4ee3\u7406\u60a8\u8981\u9023\u63a5\u5230\u54ea\u4e9b\u5be6\u4f8b\uff0c\u56e0\u7232 Cloud SQL Auth \u4ee3\u7406\u6703\u6839\u64da\u9023\u63a5\u8acb\u6c42\u9032\u884c\u9023\u63a5\u3002\n\u5be6\u4f8b\u6307\u5b9a\u9078\u9805\u7531\u60a8\u7684\u64cd\u4f5c\u7cfb\u7d71\u548c\u74b0\u5883\u800c\u5b9a\uff1a\n| \u9078\u9805         | \u512a\u52e2            | \u6ce8\u610f\u4e8b\u9805\u548c\u8981\u6c42                               | Linux/macOS \uff08Unix \u5957\u63a5\u5b57\uff09 | Java    | Windows    | \u5099\u8a3b              |\n|:---------------------------------------|:---------------------------------------------------|:------------------------------------------------------------------------------------------------------------------------------------------|:------------------------------|:--------------------|:--------------------|:---------------------------------------------------------|\n| \u81ea\u52d5\u5316\u5be6\u4f8b\u767c\u73fe       | \u7121\u9700\u6307\u5b9a\u5be6\u4f8b\uff1b\u5df2\u5728\u9ed8\u8a8d\u9805\u76ee\u4e2d\u7232\u6240\u6709\u5be6\u4f8b\u5275\u5efa\u5957\u63a5\u5b57\u3002 | Cloud SQL Auth Proxy API \u4f7f\u7528\u91cf\u6703\u589e\u52a0\u3002\u5fc5\u9808\u5b89\u88dd gcloud CLI \u4e26\u9032\u884c\u8eab\u4efd\u9a57\u8b49\uff0c\u7136\u5f8c\u8a2d\u7f6e\u9ed8\u8a8d\u9805\u76ee\u3002\u5fc5\u9808\u91cd\u5553 Cloud SQL Auth \u4ee3\u7406\u624d\u80fd\u6dfb\u52a0\u65b0\u5be6\u4f8b\u3002 | \u652f\u6301       | \u5426     | \u5426     | \u4e0d\u9069\u7528\u65bc\u751f\u7522\u5be6\u4f8b\u3002          |\n| \u5728 Cloud SQL Auth \u4ee3\u7406\u8abf\u7528\u4e2d\u6307\u5b9a\u7684\u5be6\u4f8b | \u5be6\u4f8b\u5217\u8868\u662f\u5df2\u77e5\u4e14\u975c\u614b\u7684\u3002       | \u5fc5\u9808\u91cd\u5553 Cloud SQL Auth \u4ee3\u7406\u624d\u80fd\u6dfb\u52a0\u65b0\u5be6\u4f8b\u3002                        | \u652f\u6301       | \u652f\u6301\u4f7f\u7528 TCP \u5957\u63a5\u5b57 | \u652f\u6301\u4f7f\u7528 TCP \u5957\u63a5\u5b57 | \u5c0d\u65bc\u591a\u500b\u5be6\u4f8b\uff0c\u8acb\u4f7f\u7528\u4e0d\u5e36\u7a7a\u683c\u7684\u9017\u865f\u5206\u9694\u5217\u8868\u3002 \u77ad\u89e3\u8a73\u60c5\u3002 |\n[\u8acb\u53c3\u95b1\u793a\u4f8b\u8abf\u7528\u548c\u9023\u63a5\u5b57\u7b26\u4e32](https://cloud.google.com/sql/docs/postgres/connect-auth-proxy?hl=zh-cn#invocations)\n### \u78ba\u4fdd Cloud SQL Auth \u4ee3\u7406\u7232\u6700\u65b0\u7248\u672c\nGoogle \u6703\u4e0d\u5b9a\u671f\u767c\u4f48\u65b0\u7248 Cloud SQL Auth \u4ee3\u7406\u3002\u60a8\u53ef\u4ee5\u901a\u904e\u67e5\u770b [Cloud SQL Auth \u4ee3\u7406 GitHub \u7248\u672c\u9801\u9762](https://github.com/GoogleCloudPlatform/cloudsql-proxy/releases) \uff0c\u77ad\u89e3\u7576\u524d\u7248\u672c\u3002 [Google Groups Cloud SQL \u516c\u544a](https://groups.google.com/forum/?hl=zh-cn#!forum/google-cloud-sql-announce) \u8ad6\u58c7\u4e5f\u6703\u516c\u4f48\u672a\u4f86\u7684\u4ee3\u7406\u7248\u672c\u3002\n**\u6ce8\u610f** \uff1a\u60a8\u5fc5\u9808\u904b\u884c 1.12 \u6216\u66f4\u9ad8\u7248\u672c\u624d\u80fd\u4f7f\u7528 [\u5c08\u7528 IP \u5730\u5740](https://cloud.google.com/sql/docs/postgres/private-ip?hl=zh-cn) \u9032\u884c\u9023\u63a5\u3002\n### API \u7528\u91cf\nCloud SQL Auth \u4ee3\u7406\u6703\u5411 Cloud SQL Admin API \u767c\u51fa\u8acb\u6c42\uff0c\u800c\u9019\u4e9b\u8acb\u6c42\u5c07\u8a08\u5165\u9805\u76ee\u7684 API \u914d\u984d\u3002\n\u7576\u60a8\u5553\u52d5 Cloud SQL Auth \u4ee3\u7406\u6642\uff0cAPI \u7528\u91cf\u6700\u9ad8\u3002Cloud SQL Auth \u4ee3\u7406\u904b\u884c\u6642\uff0c\u6bcf\u5c0f\u6642\u91dd\u5c0d\u6bcf\u500b\u9023\u63a5\u7684\u5be6\u4f8b\u767c\u51fa\u5169\u500b API \u8abf\u7528\u3002\n### Cloud SQL Auth \u4ee3\u7406\u53c3\u6578\u548c\u6a19\u8a8c\nCloud SQL Auth \u4ee3\u7406\u5728\u5553\u52d5\u6642\u6703\u63a5\u53d7\u591a\u500b\u6a19\u8a18\u548c\u53c3\u6578\u3002\u9019\u4e9b\u9078\u9805\u6c7a\u5b9a Cloud SQL Auth \u4ee3\u7406\u5728\u4f55\u8655\u4ee5\u53ca\u5982\u4f55\u5275\u5efa\u7528\u65bc\u8207 Cloud SQL \u901a\u4fe1\u7684\u5957\u63a5\u5b57\uff0c\u4ee5\u53ca\u5982\u4f55\u9032\u884c\u8eab\u4efd\u9a57\u8b49\u3002\n\u5982\u9700\u6709\u95dc Cloud SQL Auth \u4ee3\u7406\u9078\u9805\u7684\u5e6b\u52a9\uff0c\u8acb\u53c3\u95b1\u4ee5\u4e0b\u4fe1\u606f\uff1a\n- [\u7528\u65bc\u5c0d Cloud SQL Auth \u4ee3\u7406\u9032\u884c\u8eab\u4efd\u9a57\u8b49\u7684\u9078\u9805](https://cloud.google.com/sql/docs/postgres/connect-auth-proxy?hl=zh-cn#authentication-options) \n- [\u7528\u65bc\u6307\u5b9a Cloud SQL \u5be6\u4f8b\u7684\u9078\u9805](#instances-options) \n- [Cloud SQL Auth \u4ee3\u7406\u8abf\u7528\u793a\u4f8b](https://cloud.google.com/sql/docs/postgres/connect-auth-proxy?hl=zh-cn#invocations) \n- [Cloud SQL Auth \u4ee3\u7406 GitHub \u9801\u9762](https://github.com/GoogleCloudPlatform/cloudsql-proxy) \n- Cloud SQL Auth \u4ee3\u7406\u5e6b\u52a9\uff0c\u986f\u793a\u7232`./cloud-sql-proxy --help`## \u5728\u751f\u7522\u74b0\u5883\u4e2d\u4f7f\u7528 Cloud SQL Auth \u4ee3\u7406\n\u5728\u751f\u7522\u74b0\u5883\u4e2d\u4f7f\u7528 Cloud SQL Auth \u4ee3\u7406\u6642\uff0c\u53ef\u57f7\u884c\u4e00\u4e9b\u6b65\u9a5f\u78ba\u4fdd Cloud SQL Auth \u4ee3\u7406\u7232\u60a8\u7684\u61c9\u7528\u63d0\u4f9b\u6240\u9700\u7684\u53ef\u7528\u6027\u3002\n### \u78ba\u4fdd Cloud SQL Auth \u4ee3\u7406\u4f5c\u7232\u6c38\u4e45\u6027\u670d\u52d9\u904b\u884c\n\u5982\u679c Cloud SQL Auth \u4ee3\u7406\u9032\u7a0b\u505c\u6b62\uff0c\u5247\u901a\u904e Cloud SQL Auth \u4ee3\u7406\u7684\u6240\u6709\u73fe\u6709\u9023\u63a5\u90fd\u6703\u4e2d\u65b7\uff0c\u4e14\u60a8\u7684\u61c9\u7528\u7121\u6cd5\u518d\u4f7f\u7528 Cloud SQL Auth \u4ee3\u7406\u5275\u5efa\u8207 Cloud SQL \u5be6\u4f8b\u7684\u4efb\u4f55\u9023\u63a5\u3002\u5982\u9700\u907f\u514d\u51fa\u73fe\u9019\u7a2e\u60c5\u6cc1\uff0c\u8acb\u78ba\u4fdd Cloud SQL Auth \u4ee3\u7406\u4ee5\u6c38\u4e45\u6027\u670d\u52d9\u7684\u5f62\u5f0f\u904b\u884c\uff0c\u4f7f Cloud SQL Auth \u4ee3\u7406\u80fd\u5728\u56e0\u4efb\u4f55\u539f\u56e0\u9000\u51fa\u6642\u81ea\u52d5\u91cd\u5553\u3002\u9019\u53ef\u901a\u904e\u4f7f\u7528 `systemd` \u3001 `upstart` \u6216 `supervisor` \u4e4b\u985e\u7684\u670d\u52d9\u4f86\u5be6\u73fe\u3002\u5c0d\u65bc Windows \u64cd\u4f5c\u7cfb\u7d71\uff0c\u5c07 Cloud SQL Auth \u4ee3\u7406\u4f5c\u7232 Windows \u670d\u52d9\u904b\u884c\u3002\u901a\u5e38\uff0c\u8acb\u78ba\u4fdd Cloud SQL Auth \u4ee3\u7406\u7684\u6b63\u5e38\u904b\u884c\u6642\u9593\u8981\u6c42\u8207\u61c9\u7528\u9032\u7a0b\u76f8\u540c\u3002\n**\u6ce8\u610f** \uff1aCloud SQL Auth \u4ee3\u7406\u662f Windows \u53ef\u57f7\u884c\u6587\u4ef6\uff0c\u800c\u4e0d\u662f Windows \u670d\u52d9\u3002\u60a8\u53ef\u4ee5\u4f7f\u7528\u591a\u7a2e\u5de5\u5177\u4f86\u5c07\u5e38\u898f\u61c9\u7528\u4e8c\u9032\u5236\u6587\u4ef6\u5c01\u88dd\u7232\u670d\u52d9\u3002\n### \u60a8\u7684\u61c9\u7528\u9700\u8981\u591a\u5c11\u500b Cloud SQL Auth \u4ee3\u7406\u526f\u672c\n\u7121\u9700\u7232\u6bcf\u500b\u61c9\u7528\u9032\u7a0b\u5275\u5efa\u4ee3\u7406\u9032\u7a0b\uff1b\u591a\u500b\u61c9\u7528\u9032\u7a0b\u53ef\u5171\u4eab\u4e00\u500b Cloud SQL Auth \u4ee3\u7406\u9032\u7a0b\u3002\u91dd\u5c0d\u6bcf\u500b\u5de5\u4f5c\u7ad9\u6216\u865b\u64ec\u6a5f\u904b\u884c\u4e00\u500b Cloud SQL Auth \u4ee3\u7406\u5ba2\u6236\u7aef\u9032\u7a0b\u3002\n\u5982\u679c\u8981\u5c0d\u865b\u64ec\u6a5f\u4f7f\u7528\u81ea\u52d5\u64f4\u7e2e\u529f\u80fd\uff0c\u8acb\u78ba\u4fdd\u60a8\u7684\u865b\u64ec\u6a5f\u914d\u7f6e\u4e2d\u5305\u542b Cloud SQL Auth \u4ee3\u7406\uff0c\u9019\u6a23\u4e00\u4f86\uff0c\u6bcf\u6b21\u5553\u52d5\u65b0\u7684\u865b\u64ec\u6a5f\u6642\uff0c\u8a72\u865b\u64ec\u6a5f\u90fd\u6703\u6709\u5c08\u7528\u7684 Cloud SQL Auth \u4ee3\u7406\u9032\u7a0b\u3002\n\u60a8\u53ef\u4ee5\u901a\u904e\u9650\u5236\u6216\u6574\u5408\u9023\u63a5\u4f86\u7ba1\u7406\u61c9\u7528\u6240\u9700\u7684\u9023\u63a5\u6578\u3002Cloud SQL Auth \u4ee3\u7406\u4e0d\u5c0d\u65b0\u9023\u63a5\u901f\u7387\u6216\u6c38\u4e45\u9023\u63a5\u6578\u8a2d\u5b9a\u4efb\u4f55\u9650\u5236\u3002\n### \u6e1b\u5c11 Cloud SQL Auth \u4ee3\u7406\u8f38\u51fa\n\u5982\u679c\u9700\u8981\u6e1b\u5c0f Cloud SQL Auth \u4ee3\u7406\u65e5\u8a8c\u7684\u5927\u5c0f\uff0c\u53ef\u5728\u5553\u52d5 Cloud SQL Auth \u4ee3\u7406\u6642\u8a2d\u7f6e `--quiet` \u3002\u4f46\u8acb\u6ce8\u610f\uff0c\u9019\u6a23\u505a\u6703\u964d\u4f4e Cloud SQL Auth \u4ee3\u7406\u8f38\u51fa\u5728\u8a3a\u65b7\u9023\u63a5\u554f\u984c\u6642\u7684\u6709\u6548\u6027\u3002\n### \u6545\u969c\u5207\u63db\u5982\u4f55\u5f71\u97ff Cloud SQL Auth \u4ee3\u7406\n\u5982\u679c\u5728\u914d\u7f6e\u7232\u9ad8\u53ef\u7528\u6027\u7684\u5be6\u4f8b\u4e0a\u904b\u884c Cloud SQL Auth \u4ee3\u7406\uff0c\u4e26\u4e14\u767c\u751f\u4e86\u6545\u969c\u5207\u63db\uff0c\u5247\u901a\u904e Cloud SQL Auth \u4ee3\u7406\u9032\u884c\u7684\u9023\u63a5\u53d7\u5230\u7684\u5f71\u97ff\u8207\u901a\u904e IP \u9032\u884c\u7684\u9023\u63a5\u76f8\u540c\uff1a\u6240\u6709\u73fe\u6709\u9023\u63a5\u90fd\u5c07\u4e1f\u5931\uff0c\u4e26\u4e14\u61c9\u7528\u5fc5\u9808\u5efa\u7acb\u65b0\u9023\u63a5\u3002\u4f46\u662f\uff0c\u9019\u7121\u9700\u4eba\u5de5\u5e72\u9810\uff1b\u61c9\u7528\u53ef\u4ee5\u7e7c\u7e8c\u4f7f\u7528\u8207\u4e4b\u524d\u76f8\u540c\u7684\u9023\u63a5\u5b57\u7b26\u4e32\u3002\n### \u78ba\u4fdd Cloud SQL Auth \u4ee3\u7406 Docker \u6620\u50cf\u7232\u6700\u65b0\u7248\u672c\nCloud SQL Auth \u4ee3\u7406 Docker \u6620\u50cf\u57fa\u65bc\u7279\u5b9a\u7248\u672c\u7684 Cloud SQL Auth \u4ee3\u7406\u3002\u7576 Cloud SQL Auth \u4ee3\u7406\u63a8\u51fa\u65b0\u7248\u672c\u6642\uff0c\u8acb\u62c9\u53d6 Cloud SQL Auth \u4ee3\u7406 Docker \u6620\u50cf\u7684\u65b0\u7248\u672c\uff0c\u4ee5\u4f7f\u60a8\u7684\u74b0\u5883\u4fdd\u6301\u6700\u65b0\u72c0\u614b\u3002\u60a8\u53ef\u4ee5\u901a\u904e\u67e5\u770b [Cloud SQL Auth \u4ee3\u7406 GitHub \u7248\u672c\u9801\u9762](https://github.com/GoogleCloudPlatform/cloudsql-proxy/releases) \uff0c\u77ad\u89e3 Cloud SQL Auth \u4ee3\u7406\u7684\u7576\u524d\u7248\u672c\u3002\n### \u5982\u4f55\u5f37\u5236\u4f7f\u7528 Cloud SQL Auth \u4ee3\u7406\n\u60a8\u53ef\u4ee5\u4f7f\u7528 [ConnectorEnforcement](https://cloud.google.com/sql/docs/mysql/admin-api/rest/v1beta4/instances?hl=zh-cn#ConnectorEnforcement) \u5f37\u5236\u5728 Cloud SQL \u5be6\u4f8b\u9023\u63a5\u4e2d\u4f7f\u7528 Cloud SQL Auth \u4ee3\u7406\u3002\u5f37\u5236\u4f7f\u7528\u9023\u63a5\u5668\u5f8c\uff0c\u76f4\u63a5\u6578\u64da\u5eab\u9023\u63a5\u6703\u88ab\u62d2\u7d55\u3002\n\u5982\u9700\u5f37\u5236\u4f7f\u7528\u9023\u63a5\u5668\uff0c\u8acb\u4f7f\u7528 `instances` API \u4e2d\u7684 `ConnectorEnforcement` \u5b57\u6bb5\u3002\n\u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1 [\u4fee\u6539\u5be6\u4f8b](https://cloud.google.com/sql/docs/postgres/edit-instance?hl=zh-cn) \u3002\n## Cloud SQL \u4ee3\u7406 Operator \u7c21\u4ecb\nCloud SQL \u4ee3\u7406 Operator \u662f\u4e00\u500b\u958b\u6e90 Kubernetes Operator\uff0c\u53ef\u81ea\u52d5\u5c07 GKE \u96c6\u7fa3\u4e2d\u7684\u5de5\u4f5c\u8ca0\u8f09\u9023\u63a5\u5230 Cloud SQL \u6578\u64da\u5eab\u3002Cloud SQL Auth \u4ee3\u7406 Operator \u5229\u7528\u81ea\u5b9a\u7fa9\u8cc7\u6e90 AuthProxyWorkload\uff0c\u7528\u65bc\u6307\u5b9a\u7279\u5b9a\u5de5\u4f5c\u8ca0\u8f09\u7684 Cloud SQL Auth \u4ee3\u7406\u914d\u7f6e\u3002Cloud SQL Auth \u4ee3\u7406 Operator \u6703\u8b80\u53d6\u6b64\u8cc7\u6e90\uff0c\u4e26\u5c07\u5177\u6709\u6240\u9700\u914d\u7f6e\u7684 Cloud SQL Auth \u4ee3\u7406\u5bb9\u5668\u6dfb\u52a0\u5230\u76f8\u61c9\u7684\u5de5\u4f5c\u8ca0\u8f09\u3002\n\u5728 GKE \u96c6\u7fa3\u4e2d\u5b89\u88dd\u8a72 Operator \u4e26\u914d\u7f6e\u5de5\u4f5c\u8ca0\u8f09\u548c Cloud SQL \u5be6\u4f8b\u5f8c\uff0cCloud SQL Auth \u4ee3\u7406 Operator \u6703\u81ea\u52d5\u914d\u7f6e Cloud SQL Auth \u4ee3\u7406\u4e26\u5c07 GKE \u5de5\u4f5c\u8ca0\u8f09\u9023\u63a5\u5230 Cloud SQL \u5be6\u4f8b\u3002\nCloud SQL Auth \u4ee3\u7406 Operator \u9084\u6703\u6aa2\u67e5 Cloud SQL Auth \u4ee3\u7406\u7684\u72c0\u614b\u3002\u5982\u679c Cloud SQL Auth \u4ee3\u7406\u7121\u6cd5\u9023\u63a5\uff0cCloud SQL Auth \u4ee3\u7406 Operator \u6703\u8f38\u51fa\u8abf\u8a66\u4fe1\u606f\uff0c\u4f75\u7232\u60a8\u63d0\u4f9b\u6392\u67e5\u548c\u4fee\u5fa9\u5e38\u898b\u914d\u7f6e\u554f\u984c\u7684\u6307\u5c0e\u3002\n\u5982\u9700\u77ad\u89e3\u8a73\u60c5\uff0c\u8acb\u53c3\u95b1 [\u4f7f\u7528 Cloud SQL Proxy Operator \u9023\u63a5](https://cloud.google.com/sql/docs/postgres/connect-proxy-operator?hl=zh-cn) \u3002\n## \u5f8c\u7e8c\u6b65\u9a5f\n- [\u8a73\u7d30\u77ad\u89e3 Cloud SQL Auth \u4ee3\u7406](https://github.com/GoogleCloudPlatform/cloudsql-proxy) \u3002", "guide": "Cloud SQL"}