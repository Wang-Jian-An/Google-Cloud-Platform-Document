{"title": "Documentation - Create and delete keys", "url": "https://cloud.google.com/distributed-cloud/hosted/docs/latest/gdch/overview", "abstract": "# Documentation - Create and delete keys\nThe AO performs key management operations through the `kubectl` command to access the org admin cluster.\n", "content": "## Before you begin\nBefore performing KMS operations, configure the `kubectl` command to access the org admin cluster. To do this, [get a kubeconfig file](/distributed-cloud/hosted/docs/latest/gdch/resources/gdcloud-auth#get-kubeconfig) using the [gdcloud command-line interface (CLI)](/distributed-cloud/hosted/docs/latest/gdch/resources/gdcloud-overview) .\nTo get the permissions that you need to create keys, ask your Organization IAM Admin to grant you the KMS Creator ( `kms-creator` ) role in your project. If you need additional privileges, such as deleting keys, request the KMS Admin ( `kms-admin` ) role.\n## Create a key\nComplete the following steps:\n- Create a key in the project namespace. The following example creates the `AEAD` key:```\nkubectl --kubeconfig ORG_ADMIN_KUBECONFIGapply -f - << EOFapiVersion: \"kms.gdc.goog/v1\"kind: AEADKeymetadata:\u00a0 name: KEY_NAME\u00a0 namespace: PROJECTspec:\u00a0 algorithm: AES_256_GCMEOF\n```Replace the following variables:- : the`kubeconfig`file of the org admin cluster.\n- : a name for the key you want to create\u2014for example:`key-1`.\n- : the name of the project\u2014for example:`kms-test1`.\n- Verify the key creation:```\nkubectl --kubeconfig ORG_ADMIN_KUBECONFIG \\\u00a0 get aeadkey KEY_NAME \\\u00a0 --namespace=PROJECT -o yaml\n```If the key creation is successful, you see the value `True` in the `READY` column.## Delete a key\nComplete the following steps:\n- Delete the key in the project namespace:```\nkubectl --kubeconfig ORG_ADMIN_KUBECONFIG \\\u00a0 delete KEY_PRIMITIVE KEY_NAME \\\u00a0 --namespace=PROJECT\n```Replace the following variables:- : the`kubeconfig`file of the org admin cluster.\n- : the key you want to delete\u2014for example:`aeadkey`for the`AEAD`key.\n- : the name of the key you want to delete\u2014for example:`key-1`.\n- : the name of the project\u2014for example:`kms-test1`.\n- Verify the key deletion, and ensure you do not see the key in return:```\nkubectl --kubeconfig ORG_ADMIN_KUBECONFIG \\\u00a0 get KEY_PRIMITIVE \u00a0KEY_NAME \\\u00a0 --namespace=PROJECT\n```", "guide": "Documentation"}