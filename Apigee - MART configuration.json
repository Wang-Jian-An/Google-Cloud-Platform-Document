{"title": "Apigee - MART configuration", "url": "https://cloud.google.com/apigee/docs/api-platform/get-started/what-apigee", "abstract": "# Apigee - MART configuration\nYou are currently viewing version 1.1 of the Apigee hybrid documentation. **This version is end of life.** You should upgrade to a newer version. For more information, see [Supported versions](/apigee/docs/hybrid/supported-platforms#supported-versions) .\nThe Apigee Hybrid management plane must be able to reach the [MART service](/apigee/docs/hybrid/v1.1/what-is-hybrid#management-api-mart) in the runtime plane. For this reason, you must expose the MART endpoint to requests coming from outside of the cluster. The MART endpoint is a secure TLS connection. Hybrid uses an [Istio ingress gateway service](https://istio.io/docs/tasks/traffic-management/ingress/) to expose traffic to this endpoint.\nThe MART setup requires you to provide a trusted TLS key/certificate pair and a qualified domain name. Self-signed certificates are not permitted. For an example showing how to obtain a certificate signed by a CA, see [Obtain TLS credentials](/apigee/docs/hybrid/v1.1/lets-encrypt) .\nThis topic explains the steps to take to expose the MART endpoint.\n", "content": "## Adding the MART service account\nMART requires a GCP service account for authentication.\n- In the GCP setup step, [Add service accounts](/apigee/docs/hybrid/v1.1/precog-serviceaccounts) , you  created a service account with no role for MART.  Locate the key file you downloaded for that service account.  The file should have a`.json`extension.\n- Add the key file path to the`mart.serviceAccountPath`property:```\n...\nmart:\n sslCertPath:\n sslKeyPath:\n hostAlias:\n serviceAccountPath: \"path to a file\"\n...\n```For example:```\n...\nmart:\n sslCertPath:\n sslKeyPath:\n hostAlias:\n serviceAccountPath: \"your_keypath/mart-service-account.json\n...\n```## Adding TLS credentials and the host alias\n- Open your overrides file.\n- Add the`mart.sslCertPath`,`mart.sslKeyPath`, and`mart.hostAlias`properties. The following table describes these properties:| Property       | Value                                                                                                                                                           |\n|:---------------------------------|:-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| mart.sslCertPath mart.sslKeyPath | The MART certificate/key pair must be authorized by a certificate authority (CA). If you have not previously created an authorized cert/key pair, then you must do so now and enter the certificate and key filenames for the corresponding property values. If you need help generating the authorized cert/key pair, see Obtain TLS credentials: An example. NOTE: The Common Name (CN) in the cert must agree with the value specified in the mart.hostAlias property. If the CN is *.hybrid-domain.net and you've registered the host mart.hybrid-domain.net, then you would set mart.hostAlias to the value mart.hybrid-domain.net. |\n| mart.hostAlias.     | (Required) A qualified DNS name for the MART server endpoint. For example, foo-mart.mydomain.com.                                                                                                                                    |For example, where the host alias is a qualified domain name:```\n...\nmart:\n sslCertPath: path-to-file/mart-server.crt\n sslKeyPath: path-to-file/mart-server.key\n hostAlias: foo-mart.mydomain.com\n serviceAccountPath: \"your_keypath/mart-service-account.json\n...\n```\n- Save your changes.", "guide": "Apigee"}