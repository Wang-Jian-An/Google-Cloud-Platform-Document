{"title": "Documentation - Create storage WORM buckets for projects", "url": "https://cloud.google.com/distributed-cloud/hosted/docs/latest/gdch/overview", "abstract": "# Documentation - Create storage WORM buckets for projects\nThis page shows you how to create Google Distributed Cloud Hosted (GDCH) storage WORM buckets.\n", "content": "## Before you begin\nA project namespace manages bucket resources in the org admin cluster. You must have a [project](/distributed-cloud/hosted/docs/latest/gdch/platform/pa-user/project-management) to work with buckets and objects.\nYou must also have the appropriate bucket permissions to perform the following operation. See [Grant bucket access](/distributed-cloud/hosted/docs/latest/gdch/application/ao-user/grant-obtain-storage-access#grant_bucket_access) .\n## Create a WORM bucket\nA WORM bucket ensures that nothing else overwrites objects and it retains them for a minimum period of time. Audit logging is an example use case for a WORM bucket.\n**Note:** If you attempt to overwrite an object in a WORM bucket, you will add a new version of the object. Only after a WORM object's retention period, as dictated by the bucket locking policy, is over can you proceed with object, bucket, and project deletion.\nTake the following steps to create a WORM bucket:\n- Set a retention period when creating the bucket. For example, the following example bucket has a retention period of 365 days.```\napiVersion: object.gdc.goog/v1kind: Bucketmetadata:\u00a0 name: foo logging-bucket\u00a0 namespace: foo-servicespec:\u00a0 description: \"Audit logs for foo\"\u00a0 storageClass: Standard\u00a0 bucketPolicy :\u00a0 \u00a0 lockingPolicy :\u00a0 \u00a0 \u00a0 defaultObjectRetentionDays: 365\n```\n- Grant the `project-bucket-object-viewer` role to all users who need read-only access:```\napiVersion: rbac.authorization.k8s.io/v1kind: RoleBindingmetadata:\u00a0 namespace: foo-service\u00a0 name: object-readonly-accessroleRef:\u00a0 kind: Role\u00a0 name: project-bucket-object-viewer\u00a0 apiGroup: rbac.authorization.k8s.iosubjects:- kind: ServiceAccount\u00a0 namespace: foo-service\u00a0 name: foo-log-processor- kind: User\u00a0 name: bob@example.com\u00a0 apiGroup: rbac.authorization.k8s.io\n```\n- Grant the `project-bucket-object-admin` role to users who need to write content to the bucket:```\napiVersion: rbac.authorization.k8s.io/v1kind: RoleBindingmetadata:\u00a0 namespace: foo-service\u00a0 name: object-write-accessroleRef:\u00a0 kind: Role\u00a0 name: project-bucket-object-viewer\u00a0 apiGroup: rbac.authorization.k8s.iosubjects:- kind: ServiceAccount\u00a0 namespace: foo-service\u00a0 name: foo-service-account\n```", "guide": "Documentation"}