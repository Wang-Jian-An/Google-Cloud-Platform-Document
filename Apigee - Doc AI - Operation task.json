{"title": "Apigee - Doc AI - Operation task", "url": "https://cloud.google.com/apigee/docs/api-platform/get-started/what-apigee", "abstract": "# Apigee - Doc AI - Operation task\n**Announcement:** Application Integration is now available for your Google Cloud project. You can now use both Apigee Integration and Application Integration within the same Google Cloud project. [Learn more](/apigee/docs/api-platform/integration/using-application-integration)\nThe **Doc AI - Operation** task lets you check the [status](/document-ai/docs/long-running-operations#getting_details_about_a_long-running_operation) of a long-running operation (LRO) in the Document AI processor. The [Document AI processor](/document-ai/docs/overview#dai-processors) creates an LRO every time you send a **Batch Process** request.\n[Cloud Document AI](https://cloud.google.com/document-ai/docs) is a Google Cloud service that allows you to parse structured information from unstructured or semi-structured documents using state-of-the-art Google AI such as natural language, computer vision, translation, and AutoML.\n", "content": "## Before you begin\nEnsure that you perform the following tasks in your Google Cloud project before configuring the **Doc AI - Operation** task:\n- Enable the Cloud Document AI API (`documentai.googleapis.com`) in your Google Cloud project before configuring the **Doc AI - Operation** task. [     Enable the Cloud Document AI API    ](https://console.cloud.google.com/flows/enableapi?apiid=documentai.googleapis.com) \n- Create an [authentication profile](/apigee/docs/api-platform/integration/configuring-auth-profile#createAuthProfile) . Apigee Integration uses an authentication profile to connect to an authentication endpoint for the **Doc AI - Operation** task.For information about granting additional roles or permissions to a service account, see [Granting, changing, and revoking access](/iam/docs/granting-changing-revoking-access) .## Configure the Doc AI - Operation task\n- In the [Apigee UI](https://apigee.google.com) , select your.\n- Click **Develop > Integrations** .\n- Select an existing integration or create a new integration by clicking **Create Integration** .If you are creating a new integration:- Enter a name and description in the **Create Integration** dialog.\n- Select a **Region** for the integration from the list of supported regions.\n- Click **Create** .\nThis opens the integration in the .\n- In thenavigation bar, click **+Add a task/trigger > Tasks** to view the list of available tasks.\n- Click and place the **Doc AI - Operation** element in the integration designer.\n- Click the **Doc AI - Operation** element on the designer to view the **Doc AI - Operation** task configuration pane.\n- Go to **Authentication** , and select an existing authentication profile that you want to use.Optional. If you have not created an authentication profile prior to configuring the task, Click **+ New authentication profile** and follow the steps as mentioned in [Create a new authentication profile](/apigee/docs/api-platform/integration/configuring-auth-profile#createAuthProfile) .\n- Go to **Task Input** , and configure the displayed inputs fields using the following [Task input parameters](#params) table.Changes to the inputs fields are saved automatically.## Task input parameters\nThe following table describes the input parameters of the **Doc AI - Operation** task:\n| Property | Data type | Description                   |\n|:------------|:------------|:------------------------------------------------------------------------------------|\n| Region  | String  | Cloud Document AI location for the processor. For example: us - United States.  |\n| ProjectsId | String  | Your Google Cloud project ID.              |\n| OperationId | String  | The ID of your operation. The ID is the last element of the name of your operation. |\n## Task output\nThe **Doc AI - Operation** task returns the details of your long-running operation (LRO), similar to the following sample output:\n```\n{\n \"name\": \"projects/[PROJECT_ID]/locations/[LOCATION]/operations/[OPERATION_ID]\",\n \"metadata\": {\n  \"@type\": \"type.googleapis.com/google.cloud.documentai.v1.BatchProcessMetadata\",\n  \"state\": \"SUCCEEDED\",\n  \"stateMessage\": \"Processed 1 document(s) successfully\",\n  \"createTime\": \"TIMESTAMP\",\n  \"updateTime\": \"TIMESTAMP\",\n  \"individualProcessStatuses\": [  {\n   \"inputGcsSource\": \"[INPUT_BUCKET_FOLDER]/DOCUMENT1.ext\",\n   \"status\": {},\n   \"outputGcsDestination\": \"OUTPUT_BUCKET_FOLDER/[OPERATION_ID]/0\",\n   \"humanReviewStatus\": {\n   \"state\": \"ERROR\",\n   \"stateMessage\": \"Sharded document files are not supported for human review.\"\n   }\n  }\n  ]\n },\n \"done\": true,\n \"response\": {\n  \"@type\": \"type.googleapis.com/google.cloud.documentai.v1.BatchProcessResponse\"\n }\n}\n \n```\n## Error handling strategy\nAn error handling strategy for a task specifies the action to take if the task fails due to a [temporary error](/apigee/docs/api-platform/integration/error-handling) . For information about how to use an error handling strategy, and to know about the different types of error handling strategies, see [Error handling strategies](/apigee/docs/api-platform/integration/error-handling-strategy) .\n## What's next\n- Add [edges and edge conditions](/apigee/docs/api-platform/integration/edge-overview) .\n- [Test and publish](/apigee/docs/api-platform/integration/test-publish-integrations) your integration.\n- Configure a [trigger](/apigee/docs/api-platform/integration/how-to-guides#configure-triggers) .\n- Add a [Data Mapping task](/apigee/docs/api-platform/integration/data-mapping-task) .\n- See [all tasks for Google Cloud services](/apigee/docs/api-platform/integration/how-to#configure-tasks-for-google-cloud-services) .", "guide": "Apigee"}